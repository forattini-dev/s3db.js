import type { MemoryStorageConfig, MemoryStorageStats, StoragePutParams, StorageCopyParams, StorageListParams, StorageSnapshot, S3Object, PutObjectResponse, CopyObjectResponse, DeleteObjectResponse, DeleteObjectsResponse, ListObjectsResponse } from './types.js';
export declare class MemoryStorage {
    private objects;
    private bucket;
    private enforceLimits;
    private metadataLimit;
    private maxObjectSize;
    private persistPath?;
    private autoPersist;
    private logLevel;
    private maxMemoryMB;
    private maxMemoryBytes;
    private currentMemoryBytes;
    private evictionEnabled;
    private _stats;
    private logger;
    constructor(config?: MemoryStorageConfig);
    private _generateETag;
    private _toBuffer;
    private _formatEtag;
    private _normalizeEtagHeader;
    private _encodeContinuationToken;
    private _decodeContinuationToken;
    private _extractCommonPrefix;
    private _calculateMetadataSize;
    private _validateLimits;
    put(key: string, params: StoragePutParams): Promise<PutObjectResponse>;
    get(key: string): Promise<S3Object>;
    head(key: string): Promise<Omit<S3Object, 'Body'>>;
    copy(from: string, to: string, params: StorageCopyParams): Promise<CopyObjectResponse>;
    exists(key: string): boolean;
    delete(key: string): Promise<DeleteObjectResponse>;
    deleteMultiple(keys: string[]): Promise<DeleteObjectsResponse>;
    list(params: StorageListParams): Promise<ListObjectsResponse>;
    snapshot(): StorageSnapshot;
    restore(snapshot: StorageSnapshot): void;
    saveToDisk(customPath?: string): Promise<string>;
    loadFromDisk(customPath?: string): Promise<StorageSnapshot>;
    getStats(): MemoryStorageStats;
    getKeys(): string[];
    private _formatBytes;
    private _trackMemory;
    private _touchKey;
    private _evictIfNeeded;
    clear(): void;
    resetStats(): void;
}
export default MemoryStorage;
//# sourceMappingURL=memory-storage.class.d.ts.map