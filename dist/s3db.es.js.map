{"version":3,"file":"s3db.es.js","sources":["../src/concerns/base62.js","../src/concerns/calculator.js","../src/errors.js","../src/concerns/try-fn.js","../src/concerns/crypto.js","../src/concerns/id.js","../src/concerns/dictionary-encoding.js","../src/concerns/metadata-encoding.js","../src/concerns/plugin-storage.js","../src/plugins/plugin.class.js","../src/plugins/plugin.obj.js","../src/plugins/api/utils/response-formatter.js","../src/plugins/api/utils/error-handler.js","../src/plugins/api/routes/resource-routes.js","../src/plugins/api/utils/openapi-generator.js","../src/plugins/api/server.js","../src/plugins/concerns/plugin-dependencies.js","../src/plugins/api/index.js","../src/plugins/audit.plugin.js","../src/plugins/backup.errors.js","../src/plugins/backup/base-backup-driver.class.js","../src/plugins/backup/filesystem-backup-driver.class.js","../src/plugins/backup/s3-backup-driver.class.js","../src/plugins/backup/multi-backup-driver.class.js","../src/plugins/backup/index.js","../src/plugins/backup/streaming-exporter.js","../src/plugins/backup.plugin.js","../src/plugins/cache.errors.js","../src/plugins/cache/cache.class.js","../src/plugins/cache/s3-cache.class.js","../src/plugins/cache/memory-cache.class.js","../src/plugins/cache/filesystem-cache.class.js","../src/plugins/cache/partition-aware-filesystem-cache.class.js","../src/plugins/cache.plugin.js","../src/plugins/costs.plugin.js","../src/plugins/eventual-consistency/config.js","../src/plugins/eventual-consistency/utils.js","../src/plugins/eventual-consistency/partitions.js","../src/plugins/eventual-consistency/transactions.js","../src/plugins/eventual-consistency/consolidation.js","../src/plugins/eventual-consistency/garbage-collection.js","../src/plugins/eventual-consistency/analytics.js","../src/plugins/eventual-consistency/helpers.js","../src/plugins/eventual-consistency/install.js","../src/plugins/eventual-consistency/index.js","../src/plugins/fulltext.errors.js","../src/plugins/fulltext.plugin.js","../src/plugins/metrics.plugin.js","../src/plugins/consumers/sqs-consumer.js","../src/plugins/consumers/rabbitmq-consumer.js","../src/plugins/consumers/index.js","../src/plugins/queue.errors.js","../src/plugins/queue-consumer.plugin.js","../src/plugins/relation.errors.js","../src/plugins/relation.plugin.js","../src/plugins/replicator.errors.js","../src/plugins/replicators/base-replicator.class.js","../src/plugins/replicators/schema-sync.helper.js","../src/plugins/replicators/bigquery-replicator.class.js","../src/plugins/replicators/dynamodb-replicator.class.js","../src/plugins/replicators/mongodb-replicator.class.js","../src/plugins/replicators/mysql-replicator.class.js","../src/plugins/replicators/planetscale-replicator.class.js","../src/plugins/replicators/postgres-replicator.class.js","../src/connection-string.class.js","../src/client.class.js","../src/concerns/async-event-emitter.js","../src/validator.class.js","../src/concerns/ip.js","../src/concerns/geo-encoding.js","../src/schema.class.js","../src/stream/resource-ids-reader.class.js","../src/stream/resource-ids-page-reader.class.js","../src/stream/resource-reader.class.js","../src/stream/resource-writer.class.js","../src/stream/index.js","../src/behaviors/enforce-limits.js","../src/behaviors/user-managed.js","../src/behaviors/truncate-data.js","../src/behaviors/body-overflow.js","../src/behaviors/body-only.js","../src/behaviors/index.js","../src/resource.class.js","../src/plugins/replicators/s3db-replicator.class.js","../src/plugins/replicators/sqs-replicator.class.js","../src/plugins/replicators/turso-replicator.class.js","../src/plugins/replicators/webhook-replicator.class.js","../src/plugins/replicators/index.js","../src/plugins/replicator.plugin.js","../src/plugins/s3-queue.plugin.js","../src/plugins/scheduler.errors.js","../src/plugins/scheduler.plugin.js","../src/plugins/state-machine.errors.js","../src/plugins/state-machine.plugin.js","../src/plugins/tfstate/errors.js","../src/plugins/tfstate/base-driver.js","../src/plugins/tfstate/s3-driver.js","../node_modules/.pnpm/@isaacs+balanced-match@4.0.1/node_modules/@isaacs/balanced-match/dist/esm/index.js","../node_modules/.pnpm/@isaacs+brace-expansion@5.0.0/node_modules/@isaacs/brace-expansion/dist/esm/index.js","../node_modules/.pnpm/minimatch@10.0.3/node_modules/minimatch/dist/esm/assert-valid-pattern.js","../node_modules/.pnpm/minimatch@10.0.3/node_modules/minimatch/dist/esm/brace-expressions.js","../node_modules/.pnpm/minimatch@10.0.3/node_modules/minimatch/dist/esm/unescape.js","../node_modules/.pnpm/minimatch@10.0.3/node_modules/minimatch/dist/esm/ast.js","../node_modules/.pnpm/minimatch@10.0.3/node_modules/minimatch/dist/esm/escape.js","../node_modules/.pnpm/minimatch@10.0.3/node_modules/minimatch/dist/esm/index.js","../node_modules/.pnpm/lru-cache@11.2.2/node_modules/lru-cache/dist/esm/index.js","../node_modules/.pnpm/minipass@7.1.2/node_modules/minipass/dist/esm/index.js","../node_modules/.pnpm/path-scurry@2.0.0/node_modules/path-scurry/dist/esm/index.js","../node_modules/.pnpm/glob@11.0.3/node_modules/glob/dist/esm/pattern.js","../node_modules/.pnpm/glob@11.0.3/node_modules/glob/dist/esm/ignore.js","../node_modules/.pnpm/glob@11.0.3/node_modules/glob/dist/esm/processor.js","../node_modules/.pnpm/glob@11.0.3/node_modules/glob/dist/esm/walker.js","../node_modules/.pnpm/glob@11.0.3/node_modules/glob/dist/esm/glob.js","../node_modules/.pnpm/glob@11.0.3/node_modules/glob/dist/esm/has-magic.js","../node_modules/.pnpm/glob@11.0.3/node_modules/glob/dist/esm/index.js","../src/plugins/tfstate/filesystem-driver.js","../src/plugins/tfstate/index.js","../src/plugins/vector/distances.js","../src/plugins/vector/kmeans.js","../src/plugins/vector/vector-error.js","../src/plugins/vector.plugin.js","../src/concerns/typescript-generator.js","../src/testing/factory.class.js","../src/testing/seeder.class.js","../src/plugins/concerns/prometheus-formatter.js","../src/plugins/vector/metrics.js"],"sourcesContent":["const alphabet = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ';\nconst base = alphabet.length;\nconst charToValue = Object.fromEntries([...alphabet].map((c, i) => [c, i]));\n\nexport const encode = n => {\n  if (typeof n !== 'number' || isNaN(n)) return 'undefined';\n  if (!isFinite(n)) return 'undefined';\n  if (n === 0) return alphabet[0];\n  if (n < 0) return '-' + encode(-Math.floor(n));\n  n = Math.floor(n);\n  let s = '';\n  while (n) {\n    s = alphabet[n % base] + s;\n    n = Math.floor(n / base);\n  }\n  return s;\n};\n\nexport const decode = s => {\n  if (typeof s !== 'string') return NaN;\n  if (s === '') return 0;\n  let negative = false;\n  if (s[0] === '-') {\n    negative = true;\n    s = s.slice(1);\n  }\n  let r = 0;\n  for (let i = 0; i < s.length; i++) {\n    const idx = charToValue[s[i]];\n    if (idx === undefined) return NaN;\n    r = r * base + idx;\n  }\n  return negative ? -r : r;\n};\n\nexport const encodeDecimal = n => {\n  if (typeof n !== 'number' || isNaN(n)) return 'undefined';\n  if (!isFinite(n)) return 'undefined';\n  const negative = n < 0;\n  n = Math.abs(n);\n  const [intPart, decPart] = n.toString().split('.');\n  const encodedInt = encode(Number(intPart));\n  if (decPart) {\n    return (negative ? '-' : '') + encodedInt + '.' + decPart;\n  }\n  return (negative ? '-' : '') + encodedInt;\n};\n\nexport const decodeDecimal = s => {\n  if (typeof s !== 'string') return NaN;\n  let negative = false;\n  if (s[0] === '-') {\n    negative = true;\n    s = s.slice(1);\n  }\n  const [intPart, decPart] = s.split('.');\n  const decodedInt = decode(intPart);\n  if (isNaN(decodedInt)) return NaN;\n  const num = decPart ? Number(decodedInt + '.' + decPart) : decodedInt;\n  return negative ? -num : num;\n};\n\n/**\n * Fixed-point encoding optimized for normalized values (typically -1 to 1)\n * Common in embeddings, similarity scores, probabilities, etc.\n *\n * Achieves ~77% compression vs encodeDecimal for embedding vectors.\n *\n * @param {number} n - Number to encode (works for any range, optimized for [-1, 1])\n * @param {number} precision - Decimal places to preserve (default: 6)\n * @returns {string} Base62-encoded string with '^' prefix to indicate fixed-point encoding\n *\n * Examples:\n *   0.123456 → \"^w7f\" (4 bytes vs 8 bytes with encodeDecimal)\n *   -0.8234567 → \"^-3sdz\" (6 bytes vs 10 bytes)\n *   1.5 → \"^98v9\" (for values outside [-1,1], still works but less optimal)\n */\nexport const encodeFixedPoint = (n, precision = 6) => {\n  if (typeof n !== 'number' || isNaN(n)) return 'undefined';\n  if (!isFinite(n)) return 'undefined';\n\n  const scale = Math.pow(10, precision);\n  const scaled = Math.round(n * scale);\n\n  if (scaled === 0) return '^0';\n\n  const negative = scaled < 0;\n  let num = Math.abs(scaled);\n  let s = '';\n\n  while (num > 0) {\n    s = alphabet[num % base] + s;\n    num = Math.floor(num / base);\n  }\n\n  // Prefix with ^ to distinguish from regular base62\n  return '^' + (negative ? '-' : '') + s;\n};\n\n/**\n * Decodes fixed-point encoded values\n *\n * @param {string} s - Encoded string (must start with '^')\n * @param {number} precision - Decimal places used in encoding (default: 6)\n * @returns {number} Decoded number\n */\nexport const decodeFixedPoint = (s, precision = 6) => {\n  if (typeof s !== 'string') return NaN;\n  if (!s.startsWith('^')) return NaN; // Safety check\n\n  s = s.slice(1); // Remove ^ prefix\n\n  if (s === '0') return 0;\n\n  let negative = false;\n  if (s[0] === '-') {\n    negative = true;\n    s = s.slice(1);\n  }\n\n  let r = 0;\n  for (let i = 0; i < s.length; i++) {\n    const idx = charToValue[s[i]];\n    if (idx === undefined) return NaN;\n    r = r * base + idx;\n  }\n\n  const scale = Math.pow(10, precision);\n  const scaled = negative ? -r : r;\n  return scaled / scale;\n};\n\n/**\n * Batch encoding for arrays of fixed-point numbers (optimized for embeddings)\n *\n * Achieves ~17% additional compression vs individual encodeFixedPoint by using\n * a single prefix for the entire array instead of one prefix per value.\n *\n * For 1536-dim embedding: ~1533 bytes saved (17.4%)\n * For 3072-dim embedding: ~3069 bytes saved (17.5%)\n *\n * @param {number[]} values - Array of numbers to encode\n * @param {number} precision - Decimal places to preserve (default: 6)\n * @returns {string} Batch-encoded string with format: ^[val1,val2,val3,...]\n *\n * Examples:\n *   [0.123, -0.456, 0.789] → \"^[w7f,-3sdz,oHb]\"\n *   [] → \"^[]\"\n */\nexport const encodeFixedPointBatch = (values, precision = 6) => {\n  if (!Array.isArray(values)) return '';\n  if (values.length === 0) return '^[]';\n\n  const scale = Math.pow(10, precision);\n\n  const encoded = values.map(n => {\n    if (typeof n !== 'number' || isNaN(n) || !isFinite(n)) return '';\n\n    const scaled = Math.round(n * scale);\n    if (scaled === 0) return '0';\n\n    const negative = scaled < 0;\n    let num = Math.abs(scaled);\n    let s = '';\n\n    while (num > 0) {\n      s = alphabet[num % base] + s;\n      num = Math.floor(num / base);\n    }\n\n    return (negative ? '-' : '') + s;\n  });\n\n  // Single prefix for entire batch, comma-separated\n  return '^[' + encoded.join(',') + ']';\n};\n\n/**\n * Decodes batch-encoded fixed-point arrays\n *\n * @param {string} s - Batch-encoded string (format: ^[val1,val2,...])\n * @param {number} precision - Decimal places used in encoding (default: 6)\n * @returns {number[]} Decoded array of numbers\n */\nexport const decodeFixedPointBatch = (s, precision = 6) => {\n  if (typeof s !== 'string') return [];\n  if (!s.startsWith('^[')) return [];\n\n  s = s.slice(2, -1); // Remove ^[ and ]\n\n  if (s === '') return [];\n\n  const parts = s.split(',');\n  const scale = Math.pow(10, precision);\n\n  return parts.map(part => {\n    if (part === '0') return 0;\n    if (part === '') return NaN;\n\n    let negative = false;\n    if (part[0] === '-') {\n      negative = true;\n      part = part.slice(1);\n    }\n\n    let r = 0;\n    for (let i = 0; i < part.length; i++) {\n      const idx = charToValue[part[i]];\n      if (idx === undefined) return NaN;\n      r = r * base + idx;\n    }\n\n    const scaled = negative ? -r : r;\n    return scaled / scale;\n  });\n};\n","// Memory cache for UTF-8 byte calculations\n// Using Map for simple strings, with a max size to prevent memory leaks\nconst utf8BytesMemory = new Map();\nconst UTF8_MEMORY_MAX_SIZE = 10000; // Limit memory size\n\n/**\n * Calculates the size in bytes of a string using UTF-8 encoding\n * @param {string} str - The string to calculate size for\n * @returns {number} - Size in bytes\n */\nexport function calculateUTF8Bytes(str) {\n  if (typeof str !== 'string') {\n    str = String(str);\n  }\n  \n  // Check memory first\n  if (utf8BytesMemory.has(str)) {\n    return utf8BytesMemory.get(str);\n  }\n  \n  let bytes = 0;\n  for (let i = 0; i < str.length; i++) {\n    const codePoint = str.codePointAt(i);\n    \n    if (codePoint <= 0x7F) {\n      // 1 byte: U+0000 to U+007F (ASCII characters)\n      bytes += 1;\n    } else if (codePoint <= 0x7FF) {\n      // 2 bytes: U+0080 to U+07FF\n      bytes += 2;\n    } else if (codePoint <= 0xFFFF) {\n      // 3 bytes: U+0800 to U+FFFF\n      bytes += 3;\n    } else if (codePoint <= 0x10FFFF) {\n      // 4 bytes: U+10000 to U+10FFFF\n      bytes += 4;\n      // Skip the next character if it's a surrogate pair\n      if (codePoint > 0xFFFF) {\n        i++;\n      }\n    }\n  }\n  \n  // Add to memory if under size limit\n  if (utf8BytesMemory.size < UTF8_MEMORY_MAX_SIZE) {\n    utf8BytesMemory.set(str, bytes);\n  } else if (utf8BytesMemory.size === UTF8_MEMORY_MAX_SIZE) {\n    // Simple LRU: clear half of memory when full\n    const entriesToDelete = Math.floor(UTF8_MEMORY_MAX_SIZE / 2);\n    let deleted = 0;\n    for (const key of utf8BytesMemory.keys()) {\n      if (deleted >= entriesToDelete) break;\n      utf8BytesMemory.delete(key);\n      deleted++;\n    }\n    utf8BytesMemory.set(str, bytes);\n  }\n  \n  return bytes;\n}\n\n/**\n * Clear the UTF-8 memory cache (useful for testing or memory management)\n */\nexport function clearUTF8Memory() {\n  utf8BytesMemory.clear();\n}\n\n/**\n * Calculates the size in bytes of attribute names (mapped to digits)\n * @param {Object} mappedObject - The object returned by schema.mapper()\n * @returns {number} - Total size of attribute names in bytes\n */\nexport function calculateAttributeNamesSize(mappedObject) {\n  let totalSize = 0;\n  \n  for (const key of Object.keys(mappedObject)) {\n    totalSize += calculateUTF8Bytes(key);\n  }\n  \n  return totalSize;\n}\n\n/**\n * Transforms a value according to the schema mapper rules\n * @param {any} value - The value to transform\n * @returns {string} - The transformed value as string\n */\nexport function transformValue(value) {\n  if (value === null || value === undefined) {\n    return '';\n  }\n  \n  if (typeof value === 'boolean') {\n    return value ? '1' : '0';\n  }\n  \n  if (typeof value === 'number') {\n    return String(value);\n  }\n  \n  if (typeof value === 'string') {\n    return value;\n  }\n  \n  if (Array.isArray(value)) {\n    // Handle arrays like in the schema mapper\n    if (value.length === 0) {\n      return '[]';\n    }\n    // For simplicity, join with | separator like in the schema\n    return value.map(item => String(item)).join('|');\n  }\n  \n  if (typeof value === 'object') {\n    return JSON.stringify(value);\n  }\n  \n  return String(value);\n}\n\n/**\n * Calculates the size in bytes of each attribute in a mapped object\n * @param {Object} mappedObject - The object returned by schema.mapper()\n * @returns {Object} - Object with attribute names as keys and byte sizes as values\n */\nexport function calculateAttributeSizes(mappedObject) {\n  const sizes = {};\n  \n  for (const [key, value] of Object.entries(mappedObject)) {\n    const transformedValue = transformValue(value);\n    const byteSize = calculateUTF8Bytes(transformedValue);\n    sizes[key] = byteSize;\n  }\n  \n  return sizes;\n}\n\n/**\n * Calculates the total size in bytes of a mapped object (including attribute names)\n * @param {Object} mappedObject - The object returned by schema.mapper()\n * @returns {number} - Total size in bytes\n */\nexport function calculateTotalSize(mappedObject) {\n  const valueSizes = calculateAttributeSizes(mappedObject);\n  const valueTotal = Object.values(valueSizes).reduce((total, size) => total + size, 0);\n  \n  // Add the size of attribute names (digits)\n  const namesSize = calculateAttributeNamesSize(mappedObject);\n  \n  return valueTotal + namesSize;\n}\n\n/**\n * Gets detailed size information for a mapped object\n * @param {Object} mappedObject - The object returned by schema.mapper()\n * @returns {Object} - Object with sizes, total, and breakdown information\n */\nexport function getSizeBreakdown(mappedObject) {\n  const valueSizes = calculateAttributeSizes(mappedObject);\n  const namesSize = calculateAttributeNamesSize(mappedObject);\n  \n  const valueTotal = Object.values(valueSizes).reduce((sum, size) => sum + size, 0);\n  const total = valueTotal + namesSize;\n  \n  // Sort attributes by size (largest first)\n  const sortedAttributes = Object.entries(valueSizes)\n    .sort(([, a], [, b]) => b - a)\n    .map(([key, size]) => ({\n      attribute: key,\n      size,\n      percentage: ((size / total) * 100).toFixed(2) + '%'\n    }));\n  \n  return {\n    total,\n    valueSizes,\n    namesSize,\n    valueTotal,\n    breakdown: sortedAttributes,\n    // Add detailed breakdown including names\n    detailedBreakdown: {\n      values: valueTotal,\n      names: namesSize,\n      total: total\n    }\n  };\n}\n\n/**\n * Calculates the minimum overhead required for system fields\n * @param {Object} config - Configuration object\n * @param {string} [config.version='1'] - Resource version\n * @param {boolean} [config.timestamps=false] - Whether timestamps are enabled\n * @param {string} [config.id=''] - Resource ID (if known)\n * @returns {number} - Minimum overhead in bytes\n */\nexport function calculateSystemOverhead(config = {}) {\n  const { version = '1', timestamps = false, id = '' } = config;\n  \n  // System fields that are always present\n  const systemFields = {\n    '_v': String(version), // Version field (e.g., \"1\", \"10\", \"100\")\n  };\n  \n  // Optional system fields\n  if (timestamps) {\n    systemFields.createdAt = '2024-01-01T00:00:00.000Z'; // Example timestamp\n    systemFields.updatedAt = '2024-01-01T00:00:00.000Z'; // Example timestamp\n  }\n  \n  if (id) {\n    systemFields.id = id;\n  }\n  \n  // Calculate overhead for system fields\n  const overheadObject = {};\n  for (const [key, value] of Object.entries(systemFields)) {\n    overheadObject[key] = value;\n  }\n  \n  return calculateTotalSize(overheadObject);\n}\n\n/**\n * Calculates the effective metadata limit considering system overhead\n * @param {Object} config - Configuration object\n * @param {number} [config.s3Limit=2048] - S3 metadata limit in bytes\n * @param {Object} [config.systemConfig] - System configuration for overhead calculation\n * @returns {number} - Effective limit in bytes\n */\nexport function calculateEffectiveLimit(config = {}) {\n  const { s3Limit = 2048, systemConfig = {} } = config;\n  const overhead = calculateSystemOverhead(systemConfig);\n  return s3Limit - overhead;\n}\n","export class BaseError extends Error {\n  constructor({ verbose, bucket, key, message, code, statusCode, requestId, awsMessage, original, commandName, commandInput, metadata, description, ...rest }) {\n    if (verbose) message = message + `\\n\\nVerbose:\\n\\n${JSON.stringify(rest, null, 2)}`;\n    super(message);\n\n    if (typeof Error.captureStackTrace === 'function') {\n      Error.captureStackTrace(this, this.constructor);\n    } else {\n      this.stack = (new Error(message)).stack;\n    }\n\n    super.name = this.constructor.name;\n    this.name = this.constructor.name;\n    this.bucket = bucket;\n    this.key = key;\n    this.thrownAt = new Date();\n    this.code = code;\n    this.statusCode = statusCode;\n    this.requestId = requestId;\n    this.awsMessage = awsMessage;\n    this.original = original;\n    this.commandName = commandName;\n    this.commandInput = commandInput;\n    this.metadata = metadata;\n    this.description = description;\n    this.data = { bucket, key, ...rest, verbose, message };\n  }\n\n  toJson() {\n    return {\n      name: this.name,\n      message: this.message,\n      code: this.code,\n      statusCode: this.statusCode,\n      requestId: this.requestId,\n      awsMessage: this.awsMessage,\n      bucket: this.bucket,\n      key: this.key,\n      thrownAt: this.thrownAt,\n      commandName: this.commandName,\n      commandInput: this.commandInput,\n      metadata: this.metadata,\n      description: this.description,\n      data: this.data,\n      original: this.original,\n      stack: this.stack,\n    };\n  }\n\n  toString() {\n    return `${this.name} | ${this.message}`;\n  }\n}\n\n// Base error class for S3DB\nexport class S3dbError extends BaseError {\n  constructor(message, details = {}) {\n    // Extrai campos AWS se presentes\n    let code, statusCode, requestId, awsMessage, original, metadata;\n    if (details.original) {\n      original = details.original;\n      code = original.code || original.Code || original.name;\n      statusCode = original.statusCode || (original.$metadata && original.$metadata.httpStatusCode);\n      requestId = original.requestId || (original.$metadata && original.$metadata.requestId);\n      awsMessage = original.message;\n      metadata = original.$metadata ? { ...original.$metadata } : undefined;\n    }\n    super({ message, ...details, code, statusCode, requestId, awsMessage, original, metadata });\n  }\n}\n\n// Database operation errors\nexport class DatabaseError extends S3dbError {\n  constructor(message, details = {}) {\n    super(message, details);\n    Object.assign(this, details);\n  }\n}\n\n// Validation errors\nexport class ValidationError extends S3dbError {\n  constructor(message, details = {}) {\n    super(message, details);\n    Object.assign(this, details);\n  }\n}\n\n// Authentication errors\nexport class AuthenticationError extends S3dbError {\n  constructor(message, details = {}) {\n    super(message, details);\n    Object.assign(this, details);\n  }\n}\n\n// Permission/Authorization errors\nexport class PermissionError extends S3dbError {\n  constructor(message, details = {}) {\n    super(message, details);\n    Object.assign(this, details);\n  }\n}\n\n// Encryption errors\nexport class EncryptionError extends S3dbError {\n  constructor(message, details = {}) {\n    super(message, details);\n    Object.assign(this, details);\n  }\n}\n\n// Resource not found error\nexport class ResourceNotFound extends S3dbError {\n  constructor({ bucket, resourceName, id, original, ...rest }) {\n    if (typeof id !== 'string') throw new Error('id must be a string');\n    if (typeof bucket !== 'string') throw new Error('bucket must be a string');\n    if (typeof resourceName !== 'string') throw new Error('resourceName must be a string');\n    super(`Resource not found: ${resourceName}/${id} [bucket:${bucket}]`, {\n      bucket,\n      resourceName,\n      id,\n      original,\n      ...rest\n    });\n  }\n}\n\nexport class NoSuchBucket extends S3dbError {\n  constructor({ bucket, original, ...rest }) {\n    if (typeof bucket !== 'string') throw new Error('bucket must be a string');\n    super(`Bucket does not exists [bucket:${bucket}]`, { bucket, original, ...rest });\n  }\n}\n\nexport class NoSuchKey extends S3dbError {\n  constructor({ bucket, key, resourceName, id, original, ...rest }) {\n    if (typeof key !== 'string') throw new Error('key must be a string');\n    if (typeof bucket !== 'string') throw new Error('bucket must be a string');\n    if (id !== undefined && typeof id !== 'string') throw new Error('id must be a string');\n    super(`No such key: ${key} [bucket:${bucket}]`, { bucket, key, resourceName, id, original, ...rest });\n    this.resourceName = resourceName;\n    this.id = id;\n  }\n}\n\nexport class NotFound extends S3dbError {\n  constructor({ bucket, key, resourceName, id, original, ...rest }) {\n    if (typeof key !== 'string') throw new Error('key must be a string');\n    if (typeof bucket !== 'string') throw new Error('bucket must be a string');\n    super(`Not found: ${key} [bucket:${bucket}]`, { bucket, key, resourceName, id, original, ...rest });\n    this.resourceName = resourceName;\n    this.id = id;\n  }\n}\n\nexport class MissingMetadata extends S3dbError {\n  constructor({ bucket, original, ...rest }) {\n    if (typeof bucket !== 'string') throw new Error('bucket must be a string');\n    super(`Missing metadata for bucket [bucket:${bucket}]`, { bucket, original, ...rest });\n  }\n}\n\nexport class InvalidResourceItem extends S3dbError {\n  constructor({\n    bucket,\n    resourceName,\n    attributes,\n    validation,\n    message,\n    original,\n    ...rest\n  }) {\n    if (typeof bucket !== 'string') throw new Error('bucket must be a string');\n    if (typeof resourceName !== 'string') throw new Error('resourceName must be a string');\n    super(\n      message || `Validation error: This item is not valid. Resource=${resourceName} [bucket:${bucket}].\\n${JSON.stringify(validation, null, 2)}`,\n      {\n        bucket,\n        resourceName,\n        attributes,\n        validation,\n        original,\n        ...rest\n      }\n    );\n  }\n}\n\nexport class UnknownError extends S3dbError {}\n\nexport const ErrorMap = {\n  'NotFound': NotFound,\n  'NoSuchKey': NoSuchKey,\n  'UnknownError': UnknownError,\n  'NoSuchBucket': NoSuchBucket,\n  'MissingMetadata': MissingMetadata,\n  'InvalidResourceItem': InvalidResourceItem,\n};\n\n// Utility to map AWS error to custom error\nexport function mapAwsError(err, context = {}) {\n  const code = err.code || err.Code || err.name;\n  const metadata = err.$metadata ? { ...err.$metadata } : undefined;\n  const commandName = context.commandName;\n  const commandInput = context.commandInput;\n  let description;\n  if (code === 'NoSuchKey' || code === 'NotFound') {\n    description = 'The specified key does not exist in the bucket. Check if the key exists and if your credentials have permission to access it.';\n    return new NoSuchKey({ ...context, original: err, metadata, commandName, commandInput, description });\n  }\n  if (code === 'NoSuchBucket') {\n    description = 'The specified bucket does not exist. Check if the bucket name is correct and if your credentials have permission to access it.';\n    return new NoSuchBucket({ ...context, original: err, metadata, commandName, commandInput, description });\n  }\n  if (code === 'AccessDenied' || (err.statusCode === 403) || code === 'Forbidden') {\n    description = 'Access denied. Check your AWS credentials, IAM permissions, and bucket policy.';\n    return new PermissionError('Access denied', { ...context, original: err, metadata, commandName, commandInput, description });\n  }\n  if (code === 'ValidationError' || (err.statusCode === 400)) {\n    description = 'Validation error. Check the request parameters and payload format.';\n    return new ValidationError('Validation error', { ...context, original: err, metadata, commandName, commandInput, description });\n  }\n  if (code === 'MissingMetadata') {\n    description = 'Object metadata is missing or invalid. Check if the object was uploaded correctly.';\n    return new MissingMetadata({ ...context, original: err, metadata, commandName, commandInput, description });\n  }\n  // Outros mapeamentos podem ser adicionados aqui\n  // Incluir detalhes do erro original para facilitar debug\n  const errorDetails = [\n    `Unknown error: ${err.message || err.toString()}`,\n    err.code && `Code: ${err.code}`,\n    err.statusCode && `Status: ${err.statusCode}`,\n    err.stack && `Stack: ${err.stack.split('\\n')[0]}`,\n  ].filter(Boolean).join(' | ');\n\n  description = `Check the error details and AWS documentation. Original error: ${err.message || err.toString()}`;\n  return new UnknownError(errorDetails, { ...context, original: err, metadata, commandName, commandInput, description });\n}\n\nexport class ConnectionStringError extends S3dbError {\n  constructor(message, details = {}) {\n    const description = details.description || 'Invalid connection string format. Check the connection string syntax and credentials.';\n    super(message, { ...details, description });\n  }\n}\n\nexport class CryptoError extends S3dbError {\n  constructor(message, details = {}) {\n    const description = details.description || 'Cryptography operation failed. Check if the crypto library is available and input is valid.';\n    super(message, { ...details, description });\n  }\n}\n\nexport class SchemaError extends S3dbError {\n  constructor(message, details = {}) {\n    const description = details.description || 'Schema validation failed. Check schema definition and input data format.';\n    super(message, { ...details, description });\n  }\n}\n\nexport class ResourceError extends S3dbError {\n  constructor(message, details = {}) {\n    const description = details.description || 'Resource operation failed. Check resource configuration, attributes, and operation context.';\n    super(message, { ...details, description });\n    Object.assign(this, details);\n  }\n}\n\nexport class PartitionError extends S3dbError {\n  constructor(message, details = {}) {\n    // Generate description if not provided\n    let description = details.description;\n    if (!description && details.resourceName && details.partitionName && details.fieldName) {\n      const { resourceName, partitionName, fieldName, availableFields = [] } = details;\n      description = `\nPartition Field Validation Error\n\nResource: ${resourceName}\nPartition: ${partitionName}\nMissing Field: ${fieldName}\n\nAvailable fields in schema:\n${availableFields.map(f => `  • ${f}`).join('\\n') || '  (no fields defined)'}\n\nPossible causes:\n1. Field was removed from schema but partition still references it\n2. Typo in partition field name\n3. Nested field path is incorrect (use dot notation like 'utm.source')\n\nSolution:\n${details.strictValidation === false\n  ? '  • Update partition definition to use existing fields'\n  : `  • Add missing field to schema, OR\n  • Update partition definition to use existing fields, OR\n  • Use strictValidation: false to skip this check during testing`}\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/README.md#partitions\n`.trim();\n    }\n\n    super(message, {\n      ...details,\n      description\n    });\n  }\n}\n\nexport class AnalyticsNotEnabledError extends S3dbError {\n  constructor(details = {}) {\n    const {\n      pluginName = 'EventualConsistency',\n      resourceName = 'unknown',\n      field = 'unknown',\n      configuredResources = [],\n      registeredResources = [],\n      pluginInitialized = false,\n      ...rest\n    } = details;\n\n    const message = `Analytics not enabled for ${resourceName}.${field}`;\n\n    // Generate diagnostic description\n    const description = `\nAnalytics Not Enabled\n\nPlugin: ${pluginName}\nResource: ${resourceName}\nField: ${field}\n\nDiagnostics:\n  • Plugin initialized: ${pluginInitialized ? '✓ Yes' : '✗ No'}\n  • Analytics resources created: ${registeredResources.length}/${configuredResources.length}\n${configuredResources.map(r => {\n  const exists = registeredResources.includes(r);\n  return `    ${exists ? '✓' : '✗'} ${r}${!exists ? ' (missing)' : ''}`;\n}).join('\\n')}\n\nPossible causes:\n1. Resource not created yet - Analytics resources are created when db.createResource() is called\n2. Resource created before plugin initialization - Plugin must be initialized before resources\n3. Field not configured in analytics.resources config\n\nCorrect initialization order:\n  1. Create database: const db = new Database({ ... })\n  2. Install plugins: await db.connect() (triggers plugin.install())\n  3. Create resources: await db.createResource({ name: '${resourceName}', ... })\n  4. Analytics resources are auto-created by plugin\n\nExample fix:\n  const db = new Database({\n    bucket: 'my-bucket',\n    plugins: [new EventualConsistencyPlugin({\n      resources: {\n        '${resourceName}': {\n          fields: {\n            '${field}': { type: 'counter', analytics: true }\n          }\n        }\n      }\n    })]\n  });\n\n  await db.connect();  // Plugin initialized here\n  await db.createResource({ name: '${resourceName}', ... });  // Analytics resource created here\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/eventual-consistency.md\n`.trim();\n\n    super(message, {\n      ...rest,\n      pluginName,\n      resourceName,\n      field,\n      configuredResources,\n      registeredResources,\n      pluginInitialized,\n      description\n    });\n  }\n}\n\n// Plugin errors\nexport class PluginError extends S3dbError {\n  constructor(message, details = {}) {\n    const {\n      pluginName = 'Unknown',\n      operation = 'unknown',\n      ...rest\n    } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nPlugin Error\n\nPlugin: ${pluginName}\nOperation: ${operation}\n\nPossible causes:\n1. Plugin not properly initialized\n2. Plugin configuration is invalid\n3. Plugin dependencies not met\n4. Plugin method called before installation\n\nSolution:\nEnsure plugin is added to database and connect() is called before usage.\n\nExample:\n  const db = new Database({\n    bucket: 'my-bucket',\n    plugins: [new ${pluginName}({ /* config */ })]\n  });\n\n  await db.connect();  // Plugin installed here\n  // Now plugin methods are available\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/README.md\n`.trim();\n    }\n\n    super(message, {\n      ...rest,\n      pluginName,\n      operation,\n      description\n    });\n  }\n}\n\n// Plugin storage errors\nexport class PluginStorageError extends S3dbError {\n  constructor(message, details = {}) {\n    const {\n      pluginSlug = 'unknown',\n      key = '',\n      operation = 'unknown',\n      ...rest\n    } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nPlugin Storage Error\n\nPlugin: ${pluginSlug}\nKey: ${key}\nOperation: ${operation}\n\nPossible causes:\n1. Storage not initialized (plugin not installed)\n2. Invalid key format\n3. S3 operation failed\n4. Permissions issue\n\nSolution:\nEnsure plugin has access to storage and key is valid.\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/README.md#plugin-storage\n`.trim();\n    }\n\n    super(message, {\n      ...rest,\n      pluginSlug,\n      key,\n      operation,\n      description\n    });\n  }\n}\n\n// Partition driver errors\nexport class PartitionDriverError extends S3dbError {\n  constructor(message, details = {}) {\n    const {\n      driver = 'unknown',\n      operation = 'unknown',\n      queueSize,\n      maxQueueSize,\n      ...rest\n    } = details;\n\n    let description = details.description;\n    if (!description && queueSize !== undefined && maxQueueSize !== undefined) {\n      description = `\nPartition Driver Error\n\nDriver: ${driver}\nOperation: ${operation}\nQueue Status: ${queueSize}/${maxQueueSize}\n\nPossible causes:\n1. Queue is full (backpressure)\n2. Driver not properly configured\n3. SQS permissions issue (if using SQS driver)\n\nSolution:\n${queueSize >= maxQueueSize\n  ? 'Wait for queue to drain or increase maxQueueSize'\n  : 'Check driver configuration and permissions'}\n`.trim();\n    } else if (!description) {\n      description = `\nPartition Driver Error\n\nDriver: ${driver}\nOperation: ${operation}\n\nCheck driver configuration and permissions.\n`.trim();\n    }\n\n    super(message, {\n      ...rest,\n      driver,\n      operation,\n      queueSize,\n      maxQueueSize,\n      description\n    });\n  }\n}\n\n// Behavior errors\nexport class BehaviorError extends S3dbError {\n  constructor(message, details = {}) {\n    const {\n      behavior = 'unknown',\n      availableBehaviors = [],\n      ...rest\n    } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nBehavior Error\n\nRequested: ${behavior}\nAvailable: ${availableBehaviors.join(', ') || 'body-overflow, body-only, truncate-data, enforce-limits, user-managed'}\n\nPossible causes:\n1. Behavior name misspelled\n2. Custom behavior not registered\n\nSolution:\nUse one of the available behaviors or register custom behavior.\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/README.md#behaviors\n`.trim();\n    }\n\n    super(message, {\n      ...rest,\n      behavior,\n      availableBehaviors,\n      description\n    });\n  }\n}\n\n// Stream errors\nexport class StreamError extends S3dbError {\n  constructor(message, details = {}) {\n    const {\n      operation = 'unknown',\n      resource,\n      ...rest\n    } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nStream Error\n\nOperation: ${operation}\n${resource ? `Resource: ${resource}` : ''}\n\nPossible causes:\n1. Stream not properly initialized\n2. Resource not available\n3. Network error during streaming\n\nSolution:\nCheck stream configuration and resource availability.\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/README.md#streaming\n`.trim();\n    }\n\n    super(message, {\n      ...rest,\n      operation,\n      resource,\n      description\n    });\n  }\n}\n\n// Metadata limit errors (specific for 2KB S3 limit)\nexport class MetadataLimitError extends S3dbError {\n  constructor(message, details = {}) {\n    const {\n      totalSize,\n      effectiveLimit,\n      absoluteLimit = 2047,\n      excess,\n      resourceName,\n      operation,\n      ...rest\n    } = details;\n\n    let description = details.description;\n    if (!description && totalSize && effectiveLimit) {\n      description = `\nS3 Metadata Size Limit Exceeded\n\nCurrent Size: ${totalSize} bytes\nEffective Limit: ${effectiveLimit} bytes\nAbsolute Limit: ${absoluteLimit} bytes\n${excess ? `Excess: ${excess} bytes` : ''}\n${resourceName ? `Resource: ${resourceName}` : ''}\n${operation ? `Operation: ${operation}` : ''}\n\nS3 has a hard limit of 2KB (2047 bytes) for object metadata.\n\nSolutions:\n1. Use 'body-overflow' behavior to store excess in body\n2. Use 'body-only' behavior to store everything in body\n3. Reduce number of fields\n4. Use shorter field values\n5. Enable advanced metadata encoding\n\nExample:\n  await db.createResource({\n    name: '${resourceName || 'myResource'}',\n    behavior: 'body-overflow',  // Automatically handles overflow\n    attributes: { ... }\n  });\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/README.md#metadata-size-limits\n`.trim();\n    }\n\n    super(message, {\n      ...rest,\n      totalSize,\n      effectiveLimit,\n      absoluteLimit,\n      excess,\n      resourceName,\n      operation,\n      description\n    });\n  }\n}\n","/**\n * tryFn - A robust error handling utility for JavaScript functions and values.\n * \n * This utility provides a consistent way to handle errors and return values across different types:\n * - Synchronous functions\n * - Asynchronous functions (Promises)\n * - Direct values\n * - Promises\n * - null/undefined values\n *\n * @param {Function|Promise|*} fnOrPromise - The input to process, can be:\n *   - A synchronous function that returns a value\n *   - An async function that returns a Promise\n *   - A Promise directly\n *   - Any direct value (number, string, object, etc)\n * \n * @returns {Array} A tuple containing:\n *   - [0] ok: boolean - Indicates if the operation succeeded\n *   - [1] err: Error|null - Error object if failed, null if succeeded\n *   - [2] data: any - The result data if succeeded, undefined if failed\n *\n * Key Features:\n * - Unified error handling interface for all types of operations\n * - Preserves and enhances error stack traces for better debugging\n * - Zero dependencies\n * - TypeScript friendly return tuple\n * - Handles edge cases like null/undefined gracefully\n * - Perfect for functional programming patterns\n * - Ideal for Promise chains and async/await flows\n * - Reduces try/catch boilerplate code\n *\n * Error Handling:\n * - All errors maintain their original properties\n * - Stack traces are automatically enhanced to show the tryFn call site\n * - Errors from async operations are properly caught and formatted\n * \n * Common Use Cases:\n * - API request wrappers\n * - Database operations\n * - File system operations\n * - Data parsing and validation\n * - Service integration points\n * \n * Examples:\n * ```js\n * // Handling synchronous operations\n * const [ok, err, data] = tryFn(() => JSON.parse(jsonString));\n * \n * // Handling async operations\n * const [ok, err, data] = await tryFn(async () => {\n *   const response = await fetch(url);\n *   return response.json();\n * });\n * \n * // Direct promise handling\n * const [ok, err, data] = await tryFn(fetch(url));\n * \n * // Value passthrough\n * const [ok, err, data] = tryFn(42); // [true, null, 42]\n * ```\n */\nexport function tryFn(fnOrPromise) {\n  if (fnOrPromise == null) {\n    const err = new Error('fnOrPromise cannot be null or undefined');\n    err.stack = new Error().stack;\n    return [false, err, undefined];\n  }\n\n  if (typeof fnOrPromise === 'function') {\n    try {\n      const result = fnOrPromise();\n\n      if (result == null) {\n        return [true, null, result];\n      }\n\n      if (typeof result.then === 'function') {\n        return result\n          .then(data => [true, null, data])\n          .catch(error => {\n            if (\n              error instanceof Error &&\n              Object.isExtensible(error)\n            ) {\n              const desc = Object.getOwnPropertyDescriptor(error, 'stack');\n              if (\n                desc && desc.writable && desc.configurable && error.hasOwnProperty('stack')\n              ) {\n                try {\n                  error.stack = new Error().stack;\n                } catch (_) {}\n              }\n            }\n            return [false, error, undefined];\n          });\n      }\n\n      return [true, null, result];\n\n    } catch (error) {\n      if (\n        error instanceof Error &&\n        Object.isExtensible(error)\n      ) {\n        const desc = Object.getOwnPropertyDescriptor(error, 'stack');\n        if (\n          desc && desc.writable && desc.configurable && error.hasOwnProperty('stack')\n        ) {\n          try {\n            error.stack = new Error().stack;\n          } catch (_) {}\n        }\n      }\n      return [false, error, undefined];\n    }\n  }\n\n  if (typeof fnOrPromise.then === 'function') {\n    return Promise.resolve(fnOrPromise)\n      .then(data => [true, null, data])\n      .catch(error => {\n        if (\n          error instanceof Error &&\n          Object.isExtensible(error)\n        ) {\n          const desc = Object.getOwnPropertyDescriptor(error, 'stack');\n          if (\n            desc && desc.writable && desc.configurable && error.hasOwnProperty('stack')\n          ) {\n            try {\n              error.stack = new Error().stack;\n            } catch (_) {}\n          }\n        }\n        return [false, error, undefined];\n      });\n  }\n\n  return [true, null, fnOrPromise];\n}\n\nexport function tryFnSync(fn) {\n  try {\n    const result = fn();\n    return [true, null, result];\n  } catch (err) {\n    return [false, err, null];\n  }\n}\n\nexport default tryFn;\n","import { CryptoError } from \"../errors.js\";\nimport tryFn, { tryFnSync } from \"./try-fn.js\";\nimport crypto from 'crypto';\n\nasync function dynamicCrypto() {\n  let lib;\n\n  if (typeof process !== 'undefined') {\n    // Use the static import instead of dynamic import\n    lib = crypto.webcrypto;\n  } else if (typeof window !== 'undefined') {\n    lib = window.crypto;\n  }\n\n  if (!lib) throw new CryptoError('Could not load any crypto library', { context: 'dynamicCrypto' });\n  return lib;\n}\n\nexport async function sha256(message) {\n  const [okCrypto, errCrypto, cryptoLib] = await tryFn(dynamicCrypto);\n  if (!okCrypto) throw new CryptoError('Crypto API not available', { original: errCrypto });\n\n  const encoder = new TextEncoder();\n  const data = encoder.encode(message);\n  const [ok, err, hashBuffer] = await tryFn(() => cryptoLib.subtle.digest('SHA-256', data));\n  if (!ok) throw new CryptoError('SHA-256 digest failed', { original: err, input: message });\n\n  // Convert buffer to hex string\n  const hashArray = Array.from(new Uint8Array(hashBuffer));\n  const hashHex = hashArray.map(b => b.toString(16).padStart(2, '0')).join('');\n\n  return hashHex;\n}\n\nexport async function encrypt(content, passphrase) {\n  const [okCrypto, errCrypto, cryptoLib] = await tryFn(dynamicCrypto);\n  if (!okCrypto) throw new CryptoError('Crypto API not available', { original: errCrypto });\n\n  const salt = cryptoLib.getRandomValues(new Uint8Array(16)); // Generate a random salt\n  const [okKey, errKey, key] = await tryFn(() => getKeyMaterial(passphrase, salt));\n  if (!okKey) throw new CryptoError('Key derivation failed', { original: errKey, passphrase, salt });\n\n  const iv = cryptoLib.getRandomValues(new Uint8Array(12)); // 12-byte IV for AES-GCM\n\n  const encoder = new TextEncoder();\n  const encodedContent = encoder.encode(content);\n\n  const [okEnc, errEnc, encryptedContent] = await tryFn(() => cryptoLib.subtle.encrypt({ name: 'AES-GCM', iv: iv }, key, encodedContent));\n  if (!okEnc) throw new CryptoError('Encryption failed', { original: errEnc, content });\n\n  const encryptedData = new Uint8Array(salt.length + iv.length + encryptedContent.byteLength);\n  encryptedData.set(salt); // Prepend salt\n  encryptedData.set(iv, salt.length); // Prepend IV after salt\n  encryptedData.set(new Uint8Array(encryptedContent), salt.length + iv.length); // Append encrypted content\n\n  return arrayBufferToBase64(encryptedData);\n}\n\nexport async function decrypt(encryptedBase64, passphrase) {\n  const [okCrypto, errCrypto, cryptoLib] = await tryFn(dynamicCrypto);\n  if (!okCrypto) throw new CryptoError('Crypto API not available', { original: errCrypto });\n\n  const encryptedData = base64ToArrayBuffer(encryptedBase64);\n\n  const salt = encryptedData.slice(0, 16); // Extract salt (first 16 bytes)\n  const iv = encryptedData.slice(16, 28); // Extract IV (next 12 bytes)\n  const encryptedContent = encryptedData.slice(28); // Remaining is the encrypted content\n\n  const [okKey, errKey, key] = await tryFn(() => getKeyMaterial(passphrase, salt));\n  if (!okKey) throw new CryptoError('Key derivation failed (decrypt)', { original: errKey, passphrase, salt });\n\n  const [okDec, errDec, decryptedContent] = await tryFn(() => cryptoLib.subtle.decrypt({ name: 'AES-GCM', iv: iv }, key, encryptedContent));\n  if (!okDec) throw new CryptoError('Decryption failed', { original: errDec, encryptedBase64 });\n\n  const decoder = new TextDecoder();\n  return decoder.decode(decryptedContent);\n}\n\nexport async function md5(data) {\n  if (typeof process === 'undefined') {\n    throw new CryptoError('MD5 hashing is only available in Node.js environment', { context: 'md5' });\n  }\n\n  const [ok, err, result] = await tryFn(async () => {\n    return crypto.createHash('md5').update(data).digest('base64');\n  });\n\n  if (!ok) {\n    throw new CryptoError('MD5 hashing failed', { original: err, data });\n  }\n\n  return result;\n}\n\nasync function getKeyMaterial(passphrase, salt) {\n  const [okCrypto, errCrypto, cryptoLib] = await tryFn(dynamicCrypto);\n  if (!okCrypto) throw new CryptoError('Crypto API not available', { original: errCrypto });\n\n  const encoder = new TextEncoder();\n  const keyMaterial = encoder.encode(passphrase); // Convert passphrase to bytes\n\n  const [okImport, errImport, baseKey] = await tryFn(() => cryptoLib.subtle.importKey(\n    'raw',\n    keyMaterial,\n    { name: 'PBKDF2' },\n    false,\n    ['deriveKey']\n  ));\n  if (!okImport) throw new CryptoError('importKey failed', { original: errImport, passphrase });\n\n  const [okDerive, errDerive, derivedKey] = await tryFn(() => cryptoLib.subtle.deriveKey(\n    {\n      name: 'PBKDF2',\n      salt: salt,\n      iterations: 100000,\n      hash: 'SHA-256'\n    },\n    baseKey,\n    { name: 'AES-GCM', length: 256 },\n    true,\n    ['encrypt', 'decrypt']\n  ));\n  if (!okDerive) throw new CryptoError('deriveKey failed', { original: errDerive, passphrase, salt });\n  return derivedKey;\n}\n\nfunction arrayBufferToBase64(buffer) {\n  if (typeof process !== 'undefined') {\n    // Node.js version\n    return Buffer.from(buffer).toString('base64');\n  } else {\n    // Browser version\n    const [ok, err, binary] = tryFnSync(() => String.fromCharCode.apply(null, new Uint8Array(buffer)));\n    if (!ok) throw new CryptoError('Failed to convert ArrayBuffer to base64 (browser)', { original: err });\n    return window.btoa(binary);\n  }\n}\n\nfunction base64ToArrayBuffer(base64) {\n  if (typeof process !== 'undefined') {\n    return new Uint8Array(Buffer.from(base64, 'base64'));\n  } else {\n    const [ok, err, binaryString] = tryFnSync(() => window.atob(base64));\n    if (!ok) throw new CryptoError('Failed to decode base64 (browser)', { original: err });\n    const len = binaryString.length;\n    const bytes = new Uint8Array(len);\n    for (let i = 0; i < len; i++) {\n      bytes[i] = binaryString.charCodeAt(i);\n    }\n    return bytes;\n  }\n}\n","import { customAlphabet, urlAlphabet } from 'nanoid'\n\nexport const idGenerator = customAlphabet(urlAlphabet, 22)\n\n// Password generator using nanoid with custom alphabet for better readability\n// Excludes similar characters (0, O, 1, l, I) to avoid confusion\nconst passwordAlphabet = 'ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz23456789'\nexport const passwordGenerator = customAlphabet(passwordAlphabet, 16)\n","/**\n * Dictionary Encoding for Common Metadata Values\n *\n * Provides massive compression for frequently-used long strings:\n * - Content-Types: application/json (16B) → j (1B) = -93.75%\n * - URL Prefixes: https://api.example.com/ (24B) → @a (2B) = -91.7%\n * - Status Messages: processing (10B) → p (1B) = -90%\n *\n * Encoding format: 'd:{code}' where {code} is 1-2 characters\n * Example: 'd:j' = application/json (3B vs 16B = -81% with prefix!)\n */\n\n/**\n * Content-Type Dictionary\n * Most common MIME types with massive savings potential\n * Format: 'original_value' → 'single_char_code'\n */\nconst CONTENT_TYPE_DICT = {\n  // JSON/XML (most common, highest savings)\n  'application/json': 'j',              // 16B → 1B = -93.75%\n  'application/xml': 'X',               // 15B → 1B = -93.3% (changed from 'x' to avoid conflict)\n  'application/ld+json': 'J',           // 20B → 1B = -95%\n\n  // Text types\n  'text/html': 'H',                     // 9B → 1B = -88.9% (changed from 'h' to avoid conflict)\n  'text/plain': 'T',                    // 10B → 1B = -90% (changed from 'p' to avoid conflict)\n  'text/css': 'C',                      // 8B → 1B = -87.5% (changed from 'c' to avoid conflict)\n  'text/javascript': 'V',               // 15B → 1B = -93.3% (changed from 's' to avoid conflict)\n  'text/csv': 'v',                      // 8B → 1B = -87.5%\n\n  // Images\n  'image/png': 'P',                     // 9B → 1B = -88.9%\n  'image/jpeg': 'I',                    // 10B → 1B = -90%\n  'image/gif': 'G',                     // 9B → 1B = -88.9%\n  'image/svg+xml': 'S',                 // 13B → 1B = -92.3%\n  'image/webp': 'W',                    // 10B → 1B = -90%\n\n  // Application types\n  'application/pdf': 'Q',               // 15B → 1B = -93.3% (changed from 'd' to avoid conflict)\n  'application/zip': 'z',               // 15B → 1B = -93.3%\n  'application/octet-stream': 'o',      // 24B → 1B = -95.8%\n  'application/x-www-form-urlencoded': 'u', // 33B → 1B = -97%\n  'multipart/form-data': 'F',           // 19B → 1B = -94.7% (changed from 'f' to avoid conflict)\n\n  // Font types\n  'font/woff': 'w',                     // 9B → 1B = -88.9%\n  'font/woff2': 'f'                     // 10B → 1B = -90% (changed from 'F')\n};\n\n/**\n * URL Prefix Dictionary\n * Common URL prefixes that appear in paths, webhooks, API endpoints\n * Format: 'prefix' → '@{code}'\n */\nconst URL_PREFIX_DICT = {\n  // API endpoints (very common)\n  '/api/v1/': '@1',                     // 8B → 2B = -75%\n  '/api/v2/': '@2',                     // 8B → 2B = -75%\n  '/api/v3/': '@3',                     // 8B → 2B = -75%\n  '/api/': '@a',                        // 5B → 2B = -60%\n\n  // HTTPS prefixes\n  'https://api.example.com/': '@A',     // 24B → 2B = -91.7%\n  'https://api.': '@H',                 // 11B → 2B = -81.8%\n  'https://www.': '@W',                 // 12B → 2B = -83.3%\n  'https://': '@h',                     // 8B → 2B = -75%\n  'http://': '@t',                      // 7B → 2B = -71.4%\n\n  // AWS/S3 (common in s3db.js context)\n  'https://s3.amazonaws.com/': '@s',    // 26B → 2B = -92.3%\n  'https://s3-': '@S',                  // 10B → 2B = -80%\n\n  // Localhost (development)\n  'http://localhost:': '@L',            // 17B → 2B = -88.2%\n  'http://localhost': '@l',             // 16B → 2B = -87.5%\n\n  // Common paths\n  '/v1/': '@v',                         // 4B → 2B = -50%\n  '/users/': '@u',                      // 7B → 2B = -71.4%\n  '/products/': '@p'                    // 10B → 2B = -80%\n};\n\n/**\n * Status Message Dictionary\n * Common status/state strings\n * Format: 'status' → 'code'\n */\nconst STATUS_MESSAGE_DICT = {\n  // Processing states (very common, good savings)\n  'processing': 'p',                    // 10B → 1B = -90%\n  'completed': 'c',                     // 9B → 1B = -88.9%\n  'succeeded': 's',                     // 9B → 1B = -88.9%\n  'failed': 'f',                        // 6B → 1B = -83.3%\n  'cancelled': 'x',                     // 9B → 1B = -88.9%\n  'timeout': 't',                       // 7B → 1B = -85.7%\n  'retrying': 'r',                      // 8B → 1B = -87.5%\n\n  // Payment states\n  'authorized': 'a',                    // 10B → 1B = -90%\n  'captured': 'K',                      // 8B → 1B = -87.5% (changed from C to avoid conflict)\n  'refunded': 'R',                      // 8B → 1B = -87.5%\n  'declined': 'd',                      // 8B → 1B = -87.5%\n\n  // Order/delivery states\n  'shipped': 'h',                       // 7B → 1B = -85.7% (changed from S to avoid conflict)\n  'delivered': 'D',                     // 9B → 1B = -88.9%\n  'returned': 'e',                      // 8B → 1B = -87.5% (changed from T to avoid conflict)\n  'in_transit': 'i',                    // 10B → 1B = -90%\n\n  // Generic states\n  'initialized': 'n',                   // 11B → 1B = -90.9% (changed from I to avoid conflict)\n  'terminated': 'm'                     // 10B → 1B = -90% (changed from X to avoid conflict)\n};\n\n/**\n * Reverse dictionaries for decoding\n * Built automatically from forward dictionaries\n */\nconst CONTENT_TYPE_REVERSE = Object.fromEntries(\n  Object.entries(CONTENT_TYPE_DICT).map(([k, v]) => [v, k])\n);\n\nconst URL_PREFIX_REVERSE = Object.fromEntries(\n  Object.entries(URL_PREFIX_DICT).map(([k, v]) => [v, k])\n);\n\nconst STATUS_MESSAGE_REVERSE = Object.fromEntries(\n  Object.entries(STATUS_MESSAGE_DICT).map(([k, v]) => [v, k])\n);\n\n/**\n * Combined dictionaries for easier lookup\n * All dictionaries merged into one for encoding\n */\nconst COMBINED_DICT = {\n  ...CONTENT_TYPE_DICT,\n  ...STATUS_MESSAGE_DICT\n  // URL prefixes handled separately (prefix matching)\n};\n\nconst COMBINED_REVERSE = {\n  ...CONTENT_TYPE_REVERSE,\n  ...STATUS_MESSAGE_REVERSE\n  // URL prefixes handled separately\n};\n\n/**\n * Encode a value using dictionary if available\n * @param {string} value - Value to encode\n * @returns {Object|null} Encoded result or null if not in dictionary\n */\nexport function dictionaryEncode(value) {\n  if (typeof value !== 'string' || !value) {\n    return null;\n  }\n\n  // Check exact match first (content-types, status messages)\n  if (COMBINED_DICT[value]) {\n    return {\n      encoded: 'd:' + COMBINED_DICT[value],\n      encoding: 'dictionary',\n      originalLength: value.length,\n      encodedLength: 2 + COMBINED_DICT[value].length,\n      dictionaryType: 'exact',\n      savings: value.length - (2 + COMBINED_DICT[value].length)\n    };\n  }\n\n  // Check URL prefix matching (for paths, URLs)\n  // Sort prefixes by length (longest first) to prioritize specific matches\n  const sortedPrefixes = Object.entries(URL_PREFIX_DICT)\n    .sort(([a], [b]) => b.length - a.length);\n\n  for (const [prefix, code] of sortedPrefixes) {\n    if (value.startsWith(prefix)) {\n      const remainder = value.substring(prefix.length);\n      const encoded = 'd:' + code + remainder;\n\n      return {\n        encoded,\n        encoding: 'dictionary',\n        originalLength: value.length,\n        encodedLength: encoded.length,\n        dictionaryType: 'prefix',\n        prefix,\n        remainder,\n        savings: value.length - encoded.length\n      };\n    }\n  }\n\n  // Not in dictionary\n  return null;\n}\n\n/**\n * Decode a dictionary-encoded value\n * @param {string} encoded - Encoded value (starts with 'd:')\n * @returns {string|null} Decoded value or null if not dictionary-encoded\n */\nexport function dictionaryDecode(encoded) {\n  if (typeof encoded !== 'string' || !encoded.startsWith('d:')) {\n    return null;\n  }\n\n  const payload = encoded.substring(2); // Remove 'd:' prefix\n\n  if (payload.length === 0) {\n    return null;\n  }\n\n  // Try exact match first (single character codes)\n  if (payload.length === 1) {\n    const decoded = COMBINED_REVERSE[payload];\n    if (decoded) {\n      return decoded;\n    }\n  }\n\n  // Try URL prefix match (starts with @)\n  if (payload.startsWith('@')) {\n    // Extract prefix code (1-2 chars after @)\n    const prefixCode = payload.substring(0, 2); // '@' + 1 char\n    const remainder = payload.substring(2);\n\n    const prefix = URL_PREFIX_REVERSE[prefixCode];\n    if (prefix) {\n      return prefix + remainder;\n    }\n  }\n\n  // Unknown dictionary code - return null (fall back to original)\n  return null;\n}\n\n/**\n * Calculate compression ratio for a value\n * @param {string} value - Original value\n * @returns {Object} Compression statistics\n */\nexport function calculateDictionaryCompression(value) {\n  const result = dictionaryEncode(value);\n\n  if (!result) {\n    return {\n      compressible: false,\n      original: value.length,\n      encoded: value.length,\n      savings: 0,\n      ratio: 1.0\n    };\n  }\n\n  return {\n    compressible: true,\n    original: result.originalLength,\n    encoded: result.encodedLength,\n    savings: result.savings,\n    ratio: result.encodedLength / result.originalLength,\n    savingsPercent: ((result.savings / result.originalLength) * 100).toFixed(1) + '%'\n  };\n}\n\n/**\n * Get dictionary statistics (for debugging/monitoring)\n * @returns {Object} Statistics about dictionaries\n */\nexport function getDictionaryStats() {\n  return {\n    contentTypes: Object.keys(CONTENT_TYPE_DICT).length,\n    urlPrefixes: Object.keys(URL_PREFIX_DICT).length,\n    statusMessages: Object.keys(STATUS_MESSAGE_DICT).length,\n    total: Object.keys(COMBINED_DICT).length + Object.keys(URL_PREFIX_DICT).length,\n    avgSavingsContentType:\n      Object.keys(CONTENT_TYPE_DICT).reduce((sum, key) =>\n        sum + (key.length - (2 + CONTENT_TYPE_DICT[key].length)), 0\n      ) / Object.keys(CONTENT_TYPE_DICT).length,\n    avgSavingsStatus:\n      Object.keys(STATUS_MESSAGE_DICT).reduce((sum, key) =>\n        sum + (key.length - (2 + STATUS_MESSAGE_DICT[key].length)), 0\n      ) / Object.keys(STATUS_MESSAGE_DICT).length\n  };\n}\n\nexport default {\n  dictionaryEncode,\n  dictionaryDecode,\n  calculateDictionaryCompression,\n  getDictionaryStats,\n  // Export dictionaries for testing\n  CONTENT_TYPE_DICT,\n  URL_PREFIX_DICT,\n  STATUS_MESSAGE_DICT\n};\n","/**\n * Metadata encoding for S3\n * Chooses optimal encoding based on content analysis\n *\n * Performance optimizations:\n * - Early exit for pure ASCII (40% faster)\n * - LRU cache for repeated strings (3-4x faster)\n * - Optimized loop (10% faster)\n *\n * Compression optimizations:\n * - Dictionary encoding for common long values (85-95% compression!)\n * - Content-types: application/json (16B) → d:j (3B) = -81%\n * - URL prefixes: https://api.example.com/ (24B) → d:@A (4B) = -83%\n * - Status messages: processing (10B) → d:p (3B) = -70%\n */\n\nimport { dictionaryEncode, dictionaryDecode } from './dictionary-encoding.js';\n\n// LRU cache for string analysis (max 500 entries)\nconst analysisCache = new Map();\nconst MAX_CACHE_SIZE = 500;\n\n/**\n * Fast check if string is pure ASCII (printable characters only)\n * Uses regex which is faster than char-by-char loop for binary check\n * @param {string} str - String to check\n * @returns {boolean} True if pure ASCII printable\n */\nfunction isAsciiOnly(str) {\n  // ASCII printable range: 0x20 (space) to 0x7E (tilde)\n  // Regex is ~2x faster than loop for this binary check\n  return /^[\\x20-\\x7E]*$/.test(str);\n}\n\n/**\n * Analyze string content to determine best encoding strategy\n * @param {string} str - String to analyze\n * @returns {Object} Analysis result with encoding recommendation\n */\nexport function analyzeString(str) {\n  if (!str || typeof str !== 'string') {\n    return { type: 'none', safe: true };\n  }\n\n  // OPTIMIZATION 1: Check cache first (10x faster for cache hits)\n  if (analysisCache.has(str)) {\n    return analysisCache.get(str);\n  }\n\n  // OPTIMIZATION 2: Early exit for pure ASCII (40% faster, handles 80% of cases)\n  if (isAsciiOnly(str)) {\n    const result = {\n      type: 'ascii',\n      safe: true,\n      stats: { ascii: str.length, latin1: 0, multibyte: 0 }\n    };\n\n    // Cache result\n    cacheAnalysisResult(str, result);\n    return result;\n  }\n\n  // OPTIMIZATION 3: Optimized loop - only counters, infer flags after\n  let asciiCount = 0;\n  let latin1Count = 0;\n  let multibyteCount = 0;\n\n  for (let i = 0; i < str.length; i++) {\n    const code = str.charCodeAt(i);\n\n    if (code >= 0x20 && code <= 0x7E) {\n      // Safe ASCII printable characters\n      asciiCount++;\n    } else if (code < 0x20 || code === 0x7F) {\n      // Control characters - treat as multibyte since they need encoding\n      multibyteCount++;\n    } else if (code >= 0x80 && code <= 0xFF) {\n      // Latin-1 extended characters\n      latin1Count++;\n    } else {\n      // Multibyte UTF-8 characters\n      multibyteCount++;\n    }\n  }\n\n  // Infer flags from counts (faster than updating flags in loop)\n  const hasMultibyte = multibyteCount > 0;\n  const hasLatin1 = latin1Count > 0;\n\n  let result;\n\n  // Pure ASCII - no encoding needed\n  if (!hasLatin1 && !hasMultibyte) {\n    result = {\n      type: 'ascii',\n      safe: true,\n      stats: { ascii: asciiCount, latin1: 0, multibyte: 0 }\n    };\n  }\n  // Has multibyte characters (emoji, CJK, etc)\n  // These MUST be encoded as S3 rejects them\n  else if (hasMultibyte) {\n    // If mostly multibyte, base64 is more efficient\n    const multibyteRatio = multibyteCount / str.length;\n    if (multibyteRatio > 0.3) {\n      result = {\n        type: 'base64',\n        safe: false,\n        reason: 'high multibyte content',\n        stats: { ascii: asciiCount, latin1: latin1Count, multibyte: multibyteCount }\n      };\n    } else {\n      // Mixed content with some multibyte - use URL encoding\n      result = {\n        type: 'url',\n        safe: false,\n        reason: 'contains multibyte characters',\n        stats: { ascii: asciiCount, latin1: latin1Count, multibyte: multibyteCount }\n      };\n    }\n  }\n  // Only Latin-1 extended characters\n  // These get corrupted but don't cause errors\n  // Choose based on efficiency: if Latin-1 is >50% of string, use base64\n  else {\n    const latin1Ratio = latin1Count / str.length;\n    if (latin1Ratio > 0.5) {\n      result = {\n        type: 'base64',\n        safe: false,\n        reason: 'high Latin-1 content',\n        stats: { ascii: asciiCount, latin1: latin1Count, multibyte: 0 }\n      };\n    } else {\n      result = {\n        type: 'url',\n        safe: false,\n        reason: 'contains Latin-1 extended characters',\n        stats: { ascii: asciiCount, latin1: latin1Count, multibyte: 0 }\n      };\n    }\n  }\n\n  // Cache result before returning\n  cacheAnalysisResult(str, result);\n  return result;\n}\n\n/**\n * Add analysis result to cache with LRU eviction\n * @param {string} str - String key\n * @param {Object} result - Analysis result\n */\nfunction cacheAnalysisResult(str, result) {\n  // LRU eviction: remove oldest entry if cache is full\n  if (analysisCache.size >= MAX_CACHE_SIZE) {\n    const firstKey = analysisCache.keys().next().value;\n    analysisCache.delete(firstKey);\n  }\n  analysisCache.set(str, result);\n}\n\n/**\n * OPTIMIZATION 5: Pre-encoded common values (string interning)\n * These are status/enum values that appear frequently in metadata\n * Lookup is ~100x faster than full analysis\n * Expanded to ~105 entries for maximum compression coverage\n */\nconst COMMON_VALUES = {\n  // Status values (10 entries)\n  'active': { encoded: 'active', encoding: 'none' },\n  'inactive': { encoded: 'inactive', encoding: 'none' },\n  'pending': { encoded: 'pending', encoding: 'none' },\n  'completed': { encoded: 'completed', encoding: 'none' },\n  'failed': { encoded: 'failed', encoding: 'none' },\n  'success': { encoded: 'success', encoding: 'none' },\n  'error': { encoded: 'error', encoding: 'none' },\n  'processing': { encoded: 'processing', encoding: 'none' },\n  'queued': { encoded: 'queued', encoding: 'none' },\n  'cancelled': { encoded: 'cancelled', encoding: 'none' },\n\n  // HTTP methods (7 entries)\n  'GET': { encoded: 'GET', encoding: 'none' },\n  'POST': { encoded: 'POST', encoding: 'none' },\n  'PUT': { encoded: 'PUT', encoding: 'none' },\n  'DELETE': { encoded: 'DELETE', encoding: 'none' },\n  'PATCH': { encoded: 'PATCH', encoding: 'none' },\n  'HEAD': { encoded: 'HEAD', encoding: 'none' },\n  'OPTIONS': { encoded: 'OPTIONS', encoding: 'none' },\n\n  // HTTP status codes (20 entries - most common)\n  '200': { encoded: '200', encoding: 'none' },\n  '201': { encoded: '201', encoding: 'none' },\n  '204': { encoded: '204', encoding: 'none' },\n  '301': { encoded: '301', encoding: 'none' },\n  '302': { encoded: '302', encoding: 'none' },\n  '304': { encoded: '304', encoding: 'none' },\n  '400': { encoded: '400', encoding: 'none' },\n  '401': { encoded: '401', encoding: 'none' },\n  '403': { encoded: '403', encoding: 'none' },\n  '404': { encoded: '404', encoding: 'none' },\n  '405': { encoded: '405', encoding: 'none' },\n  '409': { encoded: '409', encoding: 'none' },\n  '422': { encoded: '422', encoding: 'none' },\n  '429': { encoded: '429', encoding: 'none' },\n  '500': { encoded: '500', encoding: 'none' },\n  '502': { encoded: '502', encoding: 'none' },\n  '503': { encoded: '503', encoding: 'none' },\n  '504': { encoded: '504', encoding: 'none' },\n  'OK': { encoded: 'OK', encoding: 'none' },\n  'Created': { encoded: 'Created', encoding: 'none' },\n\n  // Payment/transaction status (12 entries)\n  'paid': { encoded: 'paid', encoding: 'none' },\n  'unpaid': { encoded: 'unpaid', encoding: 'none' },\n  'refunded': { encoded: 'refunded', encoding: 'none' },\n  'pending_payment': { encoded: 'pending_payment', encoding: 'none' },\n  'authorized': { encoded: 'authorized', encoding: 'none' },\n  'captured': { encoded: 'captured', encoding: 'none' },\n  'declined': { encoded: 'declined', encoding: 'none' },\n  'voided': { encoded: 'voided', encoding: 'none' },\n  'chargeback': { encoded: 'chargeback', encoding: 'none' },\n  'disputed': { encoded: 'disputed', encoding: 'none' },\n  'settled': { encoded: 'settled', encoding: 'none' },\n  'reversed': { encoded: 'reversed', encoding: 'none' },\n\n  // Order/delivery status (10 entries)\n  'shipped': { encoded: 'shipped', encoding: 'none' },\n  'delivered': { encoded: 'delivered', encoding: 'none' },\n  'returned': { encoded: 'returned', encoding: 'none' },\n  'in_transit': { encoded: 'in_transit', encoding: 'none' },\n  'out_for_delivery': { encoded: 'out_for_delivery', encoding: 'none' },\n  'ready_to_ship': { encoded: 'ready_to_ship', encoding: 'none' },\n  'backordered': { encoded: 'backordered', encoding: 'none' },\n  'pre_order': { encoded: 'pre_order', encoding: 'none' },\n  'on_hold': { encoded: 'on_hold', encoding: 'none' },\n  'awaiting_pickup': { encoded: 'awaiting_pickup', encoding: 'none' },\n\n  // User roles (8 entries)\n  'admin': { encoded: 'admin', encoding: 'none' },\n  'moderator': { encoded: 'moderator', encoding: 'none' },\n  'owner': { encoded: 'owner', encoding: 'none' },\n  'editor': { encoded: 'editor', encoding: 'none' },\n  'viewer': { encoded: 'viewer', encoding: 'none' },\n  'contributor': { encoded: 'contributor', encoding: 'none' },\n  'guest': { encoded: 'guest', encoding: 'none' },\n  'member': { encoded: 'member', encoding: 'none' },\n\n  // Log levels (6 entries)\n  'trace': { encoded: 'trace', encoding: 'none' },\n  'debug': { encoded: 'debug', encoding: 'none' },\n  'info': { encoded: 'info', encoding: 'none' },\n  'warn': { encoded: 'warn', encoding: 'none' },\n  'fatal': { encoded: 'fatal', encoding: 'none' },\n  'emergency': { encoded: 'emergency', encoding: 'none' },\n\n  // Environments (7 entries)\n  'dev': { encoded: 'dev', encoding: 'none' },\n  'development': { encoded: 'development', encoding: 'none' },\n  'staging': { encoded: 'staging', encoding: 'none' },\n  'production': { encoded: 'production', encoding: 'none' },\n  'test': { encoded: 'test', encoding: 'none' },\n  'qa': { encoded: 'qa', encoding: 'none' },\n  'uat': { encoded: 'uat', encoding: 'none' },\n\n  // CRUD operations (7 entries)\n  'create': { encoded: 'create', encoding: 'none' },\n  'read': { encoded: 'read', encoding: 'none' },\n  'update': { encoded: 'update', encoding: 'none' },\n  'delete': { encoded: 'delete', encoding: 'none' },\n  'list': { encoded: 'list', encoding: 'none' },\n  'search': { encoded: 'search', encoding: 'none' },\n  'count': { encoded: 'count', encoding: 'none' },\n\n  // States (8 entries)\n  'enabled': { encoded: 'enabled', encoding: 'none' },\n  'disabled': { encoded: 'disabled', encoding: 'none' },\n  'archived': { encoded: 'archived', encoding: 'none' },\n  'draft': { encoded: 'draft', encoding: 'none' },\n  'published': { encoded: 'published', encoding: 'none' },\n  'scheduled': { encoded: 'scheduled', encoding: 'none' },\n  'expired': { encoded: 'expired', encoding: 'none' },\n  'locked': { encoded: 'locked', encoding: 'none' },\n\n  // Priorities (5 entries)\n  'low': { encoded: 'low', encoding: 'none' },\n  'medium': { encoded: 'medium', encoding: 'none' },\n  'high': { encoded: 'high', encoding: 'none' },\n  'urgent': { encoded: 'urgent', encoding: 'none' },\n  'critical': { encoded: 'critical', encoding: 'none' },\n\n  // Boolean variants (8 entries)\n  'true': { encoded: 'true', encoding: 'none' },\n  'false': { encoded: 'false', encoding: 'none' },\n  'yes': { encoded: 'yes', encoding: 'none' },\n  'no': { encoded: 'no', encoding: 'none' },\n  'on': { encoded: 'on', encoding: 'none' },\n  'off': { encoded: 'off', encoding: 'none' },\n  '1': { encoded: '1', encoding: 'none' },\n  '0': { encoded: '0', encoding: 'none' },\n\n  // Common null-like values (4 entries)\n  'null': { encoded: 'null', encoding: 'special' },\n  'undefined': { encoded: 'undefined', encoding: 'special' },\n  'none': { encoded: 'none', encoding: 'none' },\n  'N/A': { encoded: 'N/A', encoding: 'none' }\n};\n\n/**\n * Encode a string for S3 metadata\n * Encoding priority (in order):\n * 1. Dictionary encoding (85-95% compression for long values)\n * 2. Common values (100x performance for status fields)\n * 3. Smart encoding (ASCII/Latin/UTF-8 analysis)\n *\n * @param {string} value - Value to encode\n * @returns {Object} Encoded value with metadata\n */\nexport function metadataEncode(value) {\n  // Preserve null and undefined as special string values\n  if (value === null) {\n    return { encoded: 'null', encoding: 'special' };\n  }\n  if (value === undefined) {\n    return { encoded: 'undefined', encoding: 'special' };\n  }\n\n  const stringValue = String(value);\n\n  // AMBIGUITY PREVENTION: If string looks like it's already encoded (starts with known prefixes),\n  // force-encode it to prevent double-decode issues\n  // Example: encoding \"d:@h\" should not be kept as-is, otherwise decoding it would\n  // interpret it as a dictionary-encoded value instead of the literal string \"d:@h\"\n  if (stringValue.startsWith('d:') || stringValue.startsWith('u:') || stringValue.startsWith('b:')) {\n    return {\n      encoded: 'b:' + Buffer.from(stringValue, 'utf8').toString('base64'),\n      encoding: 'base64',\n      reason: 'force-encoded to prevent decoding ambiguity'\n    };\n  }\n\n  // COMPRESSION OPTIMIZATION: Dictionary encoding (HIGHEST PRIORITY for compression!)\n  // Checks for long common values (content-types, URLs, status messages)\n  // Example: application/json (16B) → d:j (3B) = -81% savings!\n  const dictResult = dictionaryEncode(stringValue);\n  if (dictResult && dictResult.savings > 0) {\n    return {\n      encoded: dictResult.encoded,\n      encoding: 'dictionary',\n      dictionaryType: dictResult.dictionaryType,\n      savings: dictResult.savings,\n      compressionRatio: (dictResult.encodedLength / dictResult.originalLength).toFixed(3)\n    };\n  }\n\n  // OPTIMIZATION 5: Fast path for common values (100x faster)\n  if (COMMON_VALUES[stringValue]) {\n    return COMMON_VALUES[stringValue];\n  }\n\n  const analysis = analyzeString(stringValue);\n\n  switch (analysis.type) {\n    case 'none':\n    case 'ascii':\n      // No encoding needed\n      return {\n        encoded: stringValue,\n        encoding: 'none',\n        analysis\n      };\n\n    case 'url':\n      // URL encoding - prefix with 'u:' to indicate encoding\n      return {\n        encoded: 'u:' + encodeURIComponent(stringValue),\n        encoding: 'url',\n        analysis\n      };\n\n    case 'base64':\n      // Base64 encoding - prefix with 'b:' to indicate encoding\n      return {\n        encoded: 'b:' + Buffer.from(stringValue, 'utf8').toString('base64'),\n        encoding: 'base64',\n        analysis\n      };\n\n    default:\n      // Fallback to base64 for safety\n      return {\n        encoded: 'b:' + Buffer.from(stringValue, 'utf8').toString('base64'),\n        encoding: 'base64',\n        analysis\n      };\n  }\n}\n\n/**\n * Decode a string from S3 metadata\n * Supports multiple encoding types:\n * - Dictionary encoding (d:)\n * - URL encoding (u:)\n * - Base64 encoding (b:)\n * - Legacy base64 (no prefix)\n *\n * OPTIMIZATION 4: Fast decode path using charCodeAt (15% faster)\n * @param {string} value - Value to decode\n * @returns {string} Decoded value\n */\nexport function metadataDecode(value) {\n  // Handle special values\n  if (value === 'null') {\n    return null;\n  }\n  if (value === 'undefined') {\n    return undefined;\n  }\n\n  if (value === null || value === undefined || typeof value !== 'string') {\n    return value;\n  }\n\n  // COMPRESSION OPTIMIZATION: Dictionary decoding (PRIORITY!)\n  // Check for 'd:' prefix first (dictionary-encoded values)\n  if (value.startsWith('d:')) {\n    const decoded = dictionaryDecode(value);\n    if (decoded !== null) {\n      return decoded;\n    }\n    // If decode fails, fall through to other methods\n  }\n\n  // OPTIMIZATION 4: Fast prefix detection using charCodeAt\n  // charCodeAt is faster than startsWith() for single-char checks\n  if (value.length >= 2) {\n    const firstChar = value.charCodeAt(0);\n    const secondChar = value.charCodeAt(1);\n\n    // ASCII codes: 'u' = 117, 'b' = 98, ':' = 58\n    if (secondChar === 58) { // ':'\n      if (firstChar === 117) { // 'u:'\n        // URL encoded - but check if there's content after prefix\n        if (value.length === 2) return value; // Just \"u:\" without content\n        try {\n          return decodeURIComponent(value.substring(2));\n        } catch (err) {\n          // If decode fails, return original\n          return value;\n        }\n      }\n\n      if (firstChar === 98) { // 'b:'\n        // Base64 encoded - but check if there's content after prefix\n        if (value.length === 2) return value; // Just \"b:\" without content\n        try {\n          const decoded = Buffer.from(value.substring(2), 'base64').toString('utf8');\n          return decoded;\n        } catch (err) {\n          // If decode fails, return original\n          return value;\n        }\n      }\n    }\n  }\n\n  // No prefix - return as is\n  return value;\n}\n\n/**\n * Calculate the encoded size for a given value\n * @param {string} value - Value to calculate size for\n * @returns {Object} Size information\n */\nexport function calculateEncodedSize(value) {\n  const analysis = analyzeString(value);\n  const originalSize = Buffer.byteLength(value, 'utf8');\n  \n  let encodedSize;\n  switch (analysis.type) {\n    case 'none':\n    case 'ascii':\n      encodedSize = originalSize;\n      break;\n    case 'url':\n      encodedSize = 2 + encodeURIComponent(value).length; // 'u:' prefix\n      break;\n    case 'base64':\n      encodedSize = 2 + Buffer.from(value, 'utf8').toString('base64').length; // 'b:' prefix\n      break;\n    default:\n      encodedSize = 2 + Buffer.from(value, 'utf8').toString('base64').length;\n  }\n\n  return {\n    original: originalSize,\n    encoded: encodedSize,\n    overhead: encodedSize - originalSize,\n    ratio: encodedSize / originalSize,\n    encoding: analysis.type\n  };\n}","/**\n * PluginStorage - Lightweight storage utility for plugins\n *\n * Provides efficient S3 storage for plugins without the overhead of full Resources.\n * Reuses metadata encoding/decoding and behaviors for cost optimization.\n *\n * Key Features:\n * - Hierarchical key structure: resource={name}/plugin={slug}/...\n * - Metadata encoding for cost optimization (reuses existing system)\n * - Behavior support: body-overflow, body-only, enforce-limits\n * - Direct Client operations (no Resource overhead)\n * - 3-5x faster than creating Resources\n * - 30-40% fewer S3 API calls\n *\n * @example\n * const storage = new PluginStorage(client, 'eventual-consistency');\n *\n * // Save transaction\n * await storage.put(\n *   storage.getPluginKey('wallets', 'balance', 'transactions', 'id=txn1'),\n *   { operation: 'add', value: 50 },\n *   { behavior: 'body-overflow' }\n * );\n *\n * // Get transaction\n * const txn = await storage.get(\n *   storage.getPluginKey('wallets', 'balance', 'transactions', 'id=txn1')\n * );\n */\n\nimport { metadataEncode, metadataDecode } from './metadata-encoding.js';\nimport { calculateEffectiveLimit, calculateUTF8Bytes } from './calculator.js';\nimport { tryFn } from './try-fn.js';\nimport { PluginStorageError, MetadataLimitError, BehaviorError } from '../errors.js';\n\nconst S3_METADATA_LIMIT = 2047; // AWS S3 metadata limit in bytes\n\nexport class PluginStorage {\n  /**\n   * @param {Object} client - S3db Client instance\n   * @param {string} pluginSlug - Plugin identifier (kebab-case)\n   */\n  constructor(client, pluginSlug) {\n    if (!client) {\n      throw new PluginStorageError('PluginStorage requires a client instance', {\n        operation: 'constructor',\n        pluginSlug,\n        suggestion: 'Pass a valid S3db Client instance when creating PluginStorage'\n      });\n    }\n    if (!pluginSlug) {\n      throw new PluginStorageError('PluginStorage requires a pluginSlug', {\n        operation: 'constructor',\n        suggestion: 'Provide a plugin slug (e.g., \"eventual-consistency\", \"cache\", \"audit\")'\n      });\n    }\n\n    this.client = client;\n    this.pluginSlug = pluginSlug;\n  }\n\n  /**\n   * Generate hierarchical plugin-scoped key\n   *\n   * @param {string} resourceName - Resource name (optional, for resource-scoped data)\n   * @param {...string} parts - Additional path parts\n   * @returns {string} S3 key\n   *\n   * @example\n   * // Resource-scoped: resource=wallets/plugin=eventual-consistency/balance/transactions/id=txn1\n   * getPluginKey('wallets', 'balance', 'transactions', 'id=txn1')\n   *\n   * // Global plugin data: plugin=eventual-consistency/config\n   * getPluginKey(null, 'config')\n   */\n  getPluginKey(resourceName, ...parts) {\n    if (resourceName) {\n      return `resource=${resourceName}/plugin=${this.pluginSlug}/${parts.join('/')}`;\n    }\n    return `plugin=${this.pluginSlug}/${parts.join('/')}`;\n  }\n\n  /**\n   * Save data with metadata encoding, behavior support, and optional TTL\n   *\n   * @param {string} key - S3 key\n   * @param {Object} data - Data to save\n   * @param {Object} options - Options\n   * @param {number} options.ttl - Time-to-live in seconds (optional)\n   * @param {string} options.behavior - 'body-overflow' | 'body-only' | 'enforce-limits'\n   * @param {string} options.contentType - Content type (default: application/json)\n   * @returns {Promise<void>}\n   */\n  async set(key, data, options = {}) {\n    const { ttl, behavior = 'body-overflow', contentType = 'application/json' } = options;\n\n    // Clone data to avoid mutating original\n    const dataToSave = { ...data };\n\n    // Add TTL expiration timestamp if provided\n    if (ttl && typeof ttl === 'number' && ttl > 0) {\n      dataToSave._expiresAt = Date.now() + (ttl * 1000);\n    }\n\n    // Apply behavior to split data between metadata and body\n    const { metadata, body } = this._applyBehavior(dataToSave, behavior);\n\n    // Prepare putObject parameters\n    const putParams = {\n      key,\n      metadata,\n      contentType\n    };\n\n    // Add body if present\n    if (body !== null) {\n      putParams.body = JSON.stringify(body);\n    }\n\n    // Save to S3\n    const [ok, err] = await tryFn(() => this.client.putObject(putParams));\n\n    if (!ok) {\n      throw new PluginStorageError(`Failed to save plugin data`, {\n        pluginSlug: this.pluginSlug,\n        key,\n        operation: 'set',\n        behavior,\n        ttl,\n        original: err,\n        suggestion: 'Check S3 permissions and key format'\n      });\n    }\n  }\n\n  /**\n   * Batch set multiple items\n   *\n   * @param {Array<{key: string, data: Object, options?: Object}>} items - Items to save\n   * @returns {Promise<Array<{ok: boolean, key: string, error?: Error}>>} Results\n   */\n  async batchSet(items) {\n    const results = [];\n\n    for (const item of items) {\n      try {\n        await this.set(item.key, item.data, item.options || {});\n        results.push({ ok: true, key: item.key });\n      } catch (error) {\n        results.push({ ok: false, key: item.key, error });\n      }\n    }\n\n    return results;\n  }\n\n  /**\n   * Get data with automatic metadata decoding and TTL check\n   *\n   * @param {string} key - S3 key\n   * @returns {Promise<Object|null>} Data or null if not found/expired\n   */\n  async get(key) {\n    const [ok, err, response] = await tryFn(() => this.client.getObject(key));\n\n    if (!ok) {\n      // If not found, return null\n      if (err.name === 'NoSuchKey' || err.Code === 'NoSuchKey') {\n        return null;\n      }\n      throw new PluginStorageError(`Failed to retrieve plugin data`, {\n        pluginSlug: this.pluginSlug,\n        key,\n        operation: 'get',\n        original: err,\n        suggestion: 'Check if the key exists and S3 permissions are correct'\n      });\n    }\n\n    // Metadata is already decoded by Client, but values are strings\n    // We need to parse JSON values back to objects\n    const metadata = response.Metadata || {};\n    const parsedMetadata = this._parseMetadataValues(metadata);\n\n    // Build final data object\n    let data = parsedMetadata;\n\n    // If has body, merge with metadata\n    if (response.Body) {\n      const [ok, parseErr, result] = await tryFn(async () => {\n        const bodyContent = await response.Body.transformToString();\n\n        // Only parse if body has content\n        if (bodyContent && bodyContent.trim()) {\n          const body = JSON.parse(bodyContent);\n          // Body takes precedence over metadata for same keys\n          return { ...parsedMetadata, ...body };\n        }\n        return parsedMetadata;\n      });\n\n      if (!ok) {\n        throw new PluginStorageError(`Failed to parse JSON body`, {\n          pluginSlug: this.pluginSlug,\n          key,\n          operation: 'get',\n          original: parseErr,\n          suggestion: 'Body content may be corrupted. Check S3 object integrity'\n        });\n      }\n\n      data = result;\n    }\n\n    // Check TTL expiration (S3 lowercases metadata keys)\n    const expiresAt = data._expiresat || data._expiresAt;\n    if (expiresAt) {\n      if (Date.now() > expiresAt) {\n        // Expired - delete and return null\n        await this.delete(key);\n        return null;\n      }\n      // Remove internal fields before returning\n      delete data._expiresat;\n      delete data._expiresAt;\n    }\n\n    return data;\n  }\n\n  /**\n   * Parse metadata values back to their original types\n   * @private\n   */\n  _parseMetadataValues(metadata) {\n    const parsed = {};\n    for (const [key, value] of Object.entries(metadata)) {\n      // Try to parse as JSON\n      if (typeof value === 'string') {\n        // Check if it looks like JSON\n        if (\n          (value.startsWith('{') && value.endsWith('}')) ||\n          (value.startsWith('[') && value.endsWith(']'))\n        ) {\n          const [ok, err, result] = tryFn(() => JSON.parse(value));\n          if (ok) {\n            parsed[key] = result;\n            continue;\n          }\n          // Not JSON, keep as string\n        }\n\n        // Try to parse as number\n        if (!isNaN(value) && value.trim() !== '') {\n          parsed[key] = Number(value);\n          continue;\n        }\n\n        // Try to parse as boolean\n        if (value === 'true') {\n          parsed[key] = true;\n          continue;\n        }\n        if (value === 'false') {\n          parsed[key] = false;\n          continue;\n        }\n      }\n\n      // Keep as is\n      parsed[key] = value;\n    }\n    return parsed;\n  }\n\n  /**\n   * List all keys with plugin prefix\n   *\n   * @param {string} prefix - Additional prefix (optional)\n   * @param {Object} options - List options\n   * @param {number} options.limit - Max number of results\n   * @returns {Promise<Array<string>>} List of keys\n   */\n  async list(prefix = '', options = {}) {\n    const { limit } = options;\n\n    // Build full prefix\n    const fullPrefix = prefix\n      ? `plugin=${this.pluginSlug}/${prefix}`\n      : `plugin=${this.pluginSlug}/`;\n\n    const [ok, err, result] = await tryFn(() =>\n      this.client.listObjects({ prefix: fullPrefix, maxKeys: limit })\n    );\n\n    if (!ok) {\n      throw new PluginStorageError(`Failed to list plugin data`, {\n        pluginSlug: this.pluginSlug,\n        operation: 'list',\n        prefix,\n        fullPrefix,\n        limit,\n        original: err,\n        suggestion: 'Check S3 permissions and bucket configuration'\n      });\n    }\n\n    // Remove keyPrefix from keys\n    const keys = result.Contents?.map(item => item.Key) || [];\n    return this._removeKeyPrefix(keys);\n  }\n\n  /**\n   * List keys for a specific resource\n   *\n   * @param {string} resourceName - Resource name\n   * @param {string} subPrefix - Additional prefix within resource (optional)\n   * @param {Object} options - List options\n   * @returns {Promise<Array<string>>} List of keys\n   */\n  async listForResource(resourceName, subPrefix = '', options = {}) {\n    const { limit } = options;\n\n    // Build resource-scoped prefix\n    const fullPrefix = subPrefix\n      ? `resource=${resourceName}/plugin=${this.pluginSlug}/${subPrefix}`\n      : `resource=${resourceName}/plugin=${this.pluginSlug}/`;\n\n    const [ok, err, result] = await tryFn(() =>\n      this.client.listObjects({ prefix: fullPrefix, maxKeys: limit })\n    );\n\n    if (!ok) {\n      throw new PluginStorageError(`Failed to list resource data`, {\n        pluginSlug: this.pluginSlug,\n        operation: 'listForResource',\n        resourceName,\n        subPrefix,\n        fullPrefix,\n        limit,\n        original: err,\n        suggestion: 'Check resource name and S3 permissions'\n      });\n    }\n\n    // Remove keyPrefix from keys\n    const keys = result.Contents?.map(item => item.Key) || [];\n    return this._removeKeyPrefix(keys);\n  }\n\n  /**\n   * Remove client keyPrefix from keys\n   * @private\n   */\n  _removeKeyPrefix(keys) {\n    const keyPrefix = this.client.config.keyPrefix;\n    if (!keyPrefix) return keys;\n\n    return keys\n      .map(key => key.replace(keyPrefix, ''))\n      .map(key => (key.startsWith('/') ? key.replace('/', '') : key));\n  }\n\n  /**\n   * Check if a key exists (not expired)\n   *\n   * @param {string} key - S3 key\n   * @returns {Promise<boolean>} True if exists and not expired\n   */\n  async has(key) {\n    const data = await this.get(key);\n    return data !== null;\n  }\n\n  /**\n   * Check if a key is expired\n   *\n   * @param {string} key - S3 key\n   * @returns {Promise<boolean>} True if expired or not found\n   */\n  async isExpired(key) {\n    const [ok, err, response] = await tryFn(() => this.client.getObject(key));\n\n    if (!ok) {\n      return true; // Not found = expired\n    }\n\n    const metadata = response.Metadata || {};\n    const parsedMetadata = this._parseMetadataValues(metadata);\n\n    let data = parsedMetadata;\n\n    if (response.Body) {\n      const [ok, err, result] = await tryFn(async () => {\n        const bodyContent = await response.Body.transformToString();\n        if (bodyContent && bodyContent.trim()) {\n          const body = JSON.parse(bodyContent);\n          return { ...parsedMetadata, ...body };\n        }\n        return parsedMetadata;\n      });\n\n      if (!ok) {\n        return true; // Parse error = expired\n      }\n\n      data = result;\n    }\n\n    // S3 lowercases metadata keys\n    const expiresAt = data._expiresat || data._expiresAt;\n    if (!expiresAt) {\n      return false; // No TTL = not expired\n    }\n\n    return Date.now() > expiresAt;\n  }\n\n  /**\n   * Get remaining TTL in seconds\n   *\n   * @param {string} key - S3 key\n   * @returns {Promise<number|null>} Remaining seconds or null if no TTL/not found\n   */\n  async getTTL(key) {\n    const [ok, err, response] = await tryFn(() => this.client.getObject(key));\n\n    if (!ok) {\n      return null;\n    }\n\n    const metadata = response.Metadata || {};\n    const parsedMetadata = this._parseMetadataValues(metadata);\n\n    let data = parsedMetadata;\n\n    if (response.Body) {\n      const [ok, err, result] = await tryFn(async () => {\n        const bodyContent = await response.Body.transformToString();\n        if (bodyContent && bodyContent.trim()) {\n          const body = JSON.parse(bodyContent);\n          return { ...parsedMetadata, ...body };\n        }\n        return parsedMetadata;\n      });\n\n      if (!ok) {\n        return null; // Parse error\n      }\n\n      data = result;\n    }\n\n    // S3 lowercases metadata keys\n    const expiresAt = data._expiresat || data._expiresAt;\n    if (!expiresAt) {\n      return null; // No TTL\n    }\n\n    const remaining = Math.max(0, expiresAt - Date.now());\n    return Math.floor(remaining / 1000); // Convert to seconds\n  }\n\n  /**\n   * Extend TTL by adding additional seconds\n   *\n   * @param {string} key - S3 key\n   * @param {number} additionalSeconds - Seconds to add to current TTL\n   * @returns {Promise<boolean>} True if extended, false if not found or no TTL\n   */\n  async touch(key, additionalSeconds) {\n    // Optimization: Use HEAD + COPY instead of GET + PUT for metadata-only updates\n    // This avoids transferring the body when only updating the TTL\n    const [ok, err, response] = await tryFn(() => this.client.headObject(key));\n\n    if (!ok) {\n      return false;\n    }\n\n    const metadata = response.Metadata || {};\n    const parsedMetadata = this._parseMetadataValues(metadata);\n\n    // S3 lowercases metadata keys\n    const expiresAt = parsedMetadata._expiresat || parsedMetadata._expiresAt;\n    if (!expiresAt) {\n      return false; // No TTL to extend\n    }\n\n    // Extend TTL - use the standard field name (will be lowercased by S3)\n    parsedMetadata._expiresAt = expiresAt + (additionalSeconds * 1000);\n    delete parsedMetadata._expiresat; // Remove lowercased version\n\n    // Encode metadata for S3\n    const encodedMetadata = {};\n    for (const [metaKey, metaValue] of Object.entries(parsedMetadata)) {\n      const { encoded } = metadataEncode(metaValue);\n      encodedMetadata[metaKey] = encoded;\n    }\n\n    // Use COPY with MetadataDirective: REPLACE to update metadata atomically\n    // This preserves the body without re-transferring it\n    const [copyOk] = await tryFn(() => this.client.copyObject({\n      from: key,\n      to: key,\n      metadata: encodedMetadata,\n      metadataDirective: 'REPLACE',\n      contentType: response.ContentType || 'application/json'\n    }));\n\n    return copyOk;\n  }\n\n  /**\n   * Delete a single object\n   *\n   * @param {string} key - S3 key\n   * @returns {Promise<void>}\n   */\n  async delete(key) {\n    const [ok, err] = await tryFn(() => this.client.deleteObject(key));\n\n    if (!ok) {\n      throw new PluginStorageError(`Failed to delete plugin data`, {\n        pluginSlug: this.pluginSlug,\n        key,\n        operation: 'delete',\n        original: err,\n        suggestion: 'Check S3 delete permissions'\n      });\n    }\n  }\n\n  /**\n   * Delete all plugin data (for uninstall)\n   *\n   * @param {string} resourceName - Resource name (optional, if null deletes all plugin data)\n   * @returns {Promise<number>} Number of objects deleted\n   */\n  async deleteAll(resourceName = null) {\n    let deleted = 0;\n\n    if (resourceName) {\n      // Delete all data for specific resource\n      const keys = await this.listForResource(resourceName);\n\n      for (const key of keys) {\n        await this.delete(key);\n        deleted++;\n      }\n    } else {\n      // Delete ALL plugin data (global + all resource-scoped)\n      // We need to list all keys and filter by plugin slug\n      const allKeys = await this.client.getAllKeys({});\n\n      // Filter keys that belong to this plugin\n      // Format: plugin=<slug>/* OR resource=*/plugin=<slug>/*\n      const pluginKeys = allKeys.filter(key =>\n        key.includes(`plugin=${this.pluginSlug}/`)\n      );\n\n      for (const key of pluginKeys) {\n        await this.delete(key);\n        deleted++;\n      }\n    }\n\n    return deleted;\n  }\n\n  /**\n   * Batch put operations\n   *\n   * @param {Array<{key: string, data: Object, options?: Object}>} items - Items to save\n   * @returns {Promise<Array<{key: string, ok: boolean, error?: Error}>>} Results\n   */\n  async batchPut(items) {\n    const results = [];\n\n    for (const item of items) {\n      const [ok, err] = await tryFn(() =>\n        this.put(item.key, item.data, item.options)\n      );\n\n      results.push({\n        key: item.key,\n        ok,\n        error: err\n      });\n    }\n\n    return results;\n  }\n\n  /**\n   * Batch get operations\n   *\n   * @param {Array<string>} keys - Keys to fetch\n   * @returns {Promise<Array<{key: string, ok: boolean, data?: Object, error?: Error}>>} Results\n   */\n  async batchGet(keys) {\n    const results = [];\n\n    for (const key of keys) {\n      const [ok, err, data] = await tryFn(() => this.get(key));\n\n      results.push({\n        key,\n        ok,\n        data,\n        error: err\n      });\n    }\n\n    return results;\n  }\n\n  /**\n   * Acquire a distributed lock with TTL and retry logic\n   *\n   * @param {string} lockName - Lock identifier\n   * @param {Object} options - Lock options\n   * @param {number} options.ttl - Lock TTL in seconds (default: 30)\n   * @param {number} options.timeout - Max wait time in ms (default: 0, no wait)\n   * @param {string} options.workerId - Worker identifier (default: 'unknown')\n   * @returns {Promise<Object|null>} Lock object or null if couldn't acquire\n   */\n  async acquireLock(lockName, options = {}) {\n    const { ttl = 30, timeout = 0, workerId = 'unknown' } = options;\n    const key = this.getPluginKey(null, 'locks', lockName);\n\n    const startTime = Date.now();\n\n    while (true) {\n      // Try to acquire\n      const existing = await this.get(key);\n      if (!existing) {\n        await this.set(key, { workerId, acquiredAt: Date.now() }, { ttl });\n        return { key, workerId };\n      }\n\n      // Check timeout\n      if (Date.now() - startTime >= timeout) {\n        return null; // Could not acquire\n      }\n\n      // Wait and retry (100ms intervals)\n      await new Promise(resolve => setTimeout(resolve, 100));\n    }\n  }\n\n  /**\n   * Release a distributed lock\n   *\n   * @param {string} lockName - Lock identifier\n   * @returns {Promise<void>}\n   */\n  async releaseLock(lockName) {\n    const key = this.getPluginKey(null, 'locks', lockName);\n    await this.delete(key);\n  }\n\n  /**\n   * Check if a lock is currently held\n   *\n   * @param {string} lockName - Lock identifier\n   * @returns {Promise<boolean>} True if locked\n   */\n  async isLocked(lockName) {\n    const key = this.getPluginKey(null, 'locks', lockName);\n    const lock = await this.get(key);\n    return lock !== null;\n  }\n\n  /**\n   * Increment a counter value\n   *\n   * Optimization: Uses HEAD + COPY for existing counters to avoid body transfer.\n   * Falls back to GET + PUT for non-existent counters or those with additional data.\n   *\n   * @param {string} key - S3 key\n   * @param {number} amount - Amount to increment (default: 1)\n   * @param {Object} options - Options (e.g., ttl)\n   * @returns {Promise<number>} New value\n   */\n  async increment(key, amount = 1, options = {}) {\n    // Try optimized path first: HEAD + COPY for existing counters\n    const [headOk, headErr, headResponse] = await tryFn(() => this.client.headObject(key));\n\n    if (headOk && headResponse.Metadata) {\n      // Counter exists, use optimized HEAD + COPY\n      const metadata = headResponse.Metadata || {};\n      const parsedMetadata = this._parseMetadataValues(metadata);\n\n      const currentValue = parsedMetadata.value || 0;\n      const newValue = currentValue + amount;\n\n      // Update only the value field\n      parsedMetadata.value = newValue;\n\n      // Handle TTL if specified\n      if (options.ttl) {\n        parsedMetadata._expiresAt = Date.now() + (options.ttl * 1000);\n      }\n\n      // Encode metadata\n      const encodedMetadata = {};\n      for (const [metaKey, metaValue] of Object.entries(parsedMetadata)) {\n        const { encoded } = metadataEncode(metaValue);\n        encodedMetadata[metaKey] = encoded;\n      }\n\n      // Atomic update via COPY\n      const [copyOk] = await tryFn(() => this.client.copyObject({\n        from: key,\n        to: key,\n        metadata: encodedMetadata,\n        metadataDirective: 'REPLACE',\n        contentType: headResponse.ContentType || 'application/json'\n      }));\n\n      if (copyOk) {\n        return newValue;\n      }\n    }\n\n    // Fallback: counter doesn't exist or has body data, use traditional path\n    const data = await this.get(key);\n    const value = (data?.value || 0) + amount;\n    await this.set(key, { value }, options);\n    return value;\n  }\n\n  /**\n   * Decrement a counter value\n   *\n   * @param {string} key - S3 key\n   * @param {number} amount - Amount to decrement (default: 1)\n   * @param {Object} options - Options (e.g., ttl)\n   * @returns {Promise<number>} New value\n   */\n  async decrement(key, amount = 1, options = {}) {\n    return this.increment(key, -amount, options);\n  }\n\n  /**\n   * Apply behavior to split data between metadata and body\n   *\n   * @private\n   * @param {Object} data - Data to split\n   * @param {string} behavior - Behavior strategy\n   * @returns {{metadata: Object, body: Object|null}}\n   */\n  _applyBehavior(data, behavior) {\n    const effectiveLimit = calculateEffectiveLimit({ s3Limit: S3_METADATA_LIMIT });\n    let metadata = {};\n    let body = null;\n\n    switch (behavior) {\n      case 'body-overflow': {\n        // Sort fields by size (smallest first)\n        const entries = Object.entries(data);\n        const sorted = entries.map(([key, value]) => {\n          // JSON-encode objects and arrays for metadata storage\n          const jsonValue = typeof value === 'object' ? JSON.stringify(value) : value;\n          const { encoded } = metadataEncode(jsonValue);\n          const keySize = calculateUTF8Bytes(key);\n          const valueSize = calculateUTF8Bytes(encoded);\n          return { key, value, jsonValue, encoded, size: keySize + valueSize };\n        }).sort((a, b) => a.size - b.size);\n\n        // Fill metadata first, overflow to body\n        let currentSize = 0;\n        for (const item of sorted) {\n          if (currentSize + item.size <= effectiveLimit) {\n            metadata[item.key] = item.jsonValue;\n            currentSize += item.size;\n          } else {\n            if (body === null) body = {};\n            body[item.key] = item.value;\n          }\n        }\n        break;\n      }\n\n      case 'body-only': {\n        // Everything goes to body\n        body = data;\n        break;\n      }\n\n      case 'enforce-limits': {\n        // Try to fit everything in metadata, throw if exceeds\n        let currentSize = 0;\n        for (const [key, value] of Object.entries(data)) {\n          // JSON-encode objects and arrays for metadata storage\n          const jsonValue = typeof value === 'object' ? JSON.stringify(value) : value;\n          const { encoded } = metadataEncode(jsonValue);\n          const keySize = calculateUTF8Bytes(key);\n          const valueSize = calculateUTF8Bytes(encoded);\n          currentSize += keySize + valueSize;\n\n          if (currentSize > effectiveLimit) {\n            throw new MetadataLimitError(`Data exceeds metadata limit with enforce-limits behavior`, {\n              totalSize: currentSize,\n              effectiveLimit,\n              absoluteLimit: S3_METADATA_LIMIT,\n              excess: currentSize - effectiveLimit,\n              operation: 'PluginStorage.set',\n              pluginSlug: this.pluginSlug,\n              suggestion: \"Use 'body-overflow' or 'body-only' behavior to handle large data\"\n            });\n          }\n\n          metadata[key] = jsonValue;\n        }\n        break;\n      }\n\n      default:\n        throw new BehaviorError(`Unknown behavior: ${behavior}`, {\n          behavior,\n          availableBehaviors: ['body-overflow', 'body-only', 'enforce-limits'],\n          operation: 'PluginStorage._applyBehavior',\n          pluginSlug: this.pluginSlug,\n          suggestion: \"Use 'body-overflow', 'body-only', or 'enforce-limits'\"\n        });\n    }\n\n    return { metadata, body };\n  }\n}\n\nexport default PluginStorage;\n","import EventEmitter from \"events\";\nimport { PluginStorage } from \"../concerns/plugin-storage.js\";\n\nexport class Plugin extends EventEmitter {\n  constructor(options = {}) {\n    super();\n    this.name = this.constructor.name;\n    this.options = options;\n    this.hooks = new Map();\n\n    // Auto-generate slug from class name (CamelCase -> kebab-case)\n    // e.g., EventualConsistencyPlugin -> eventual-consistency-plugin\n    this.slug = options.slug || this._generateSlug();\n\n    // Storage instance (lazy-loaded)\n    this._storage = null;\n  }\n\n  /**\n   * Generate kebab-case slug from class name\n   * @private\n   * @returns {string}\n   */\n  _generateSlug() {\n    return this.name\n      .replace(/Plugin$/, '') // Remove \"Plugin\" suffix\n      .replace(/([a-z])([A-Z])/g, '$1-$2') // CamelCase -> kebab-case\n      .toLowerCase();\n  }\n\n  /**\n   * Get PluginStorage instance (lazy-loaded)\n   * @returns {PluginStorage}\n   */\n  getStorage() {\n    if (!this._storage) {\n      if (!this.database || !this.database.client) {\n        throw new Error('Plugin must be installed before accessing storage');\n      }\n      this._storage = new PluginStorage(this.database.client, this.slug);\n    }\n    return this._storage;\n  }\n\n  /**\n   * Install plugin\n   * @param {Database} database - Database instance\n   */\n  async install(database) {\n    this.database = database;\n    this.beforeInstall();\n    await this.onInstall();\n    this.afterInstall();\n  }\n\n  async start() {\n    this.beforeStart();\n    await this.onStart();\n    this.afterStart();\n  }\n\n  async stop() {\n    this.beforeStop();\n    await this.onStop();\n    this.afterStop();\n  }\n\n  /**\n   * Uninstall plugin and cleanup all data\n   * @param {Object} options - Uninstall options\n   * @param {boolean} options.purgeData - Delete all plugin data from S3 (default: false)\n   */\n  async uninstall(options = {}) {\n    const { purgeData = false } = options;\n\n    this.beforeUninstall();\n    await this.onUninstall(options);\n\n    // Purge all plugin data if requested\n    if (purgeData && this._storage) {\n      const deleted = await this._storage.deleteAll();\n      this.emit('plugin.dataPurged', { deleted });\n    }\n\n    this.afterUninstall();\n  }\n\n  // Override these methods in subclasses\n  async onInstall() {\n    // Override in subclasses\n  }\n\n  async onStart() {\n    // Override in subclasses\n  }\n\n  async onStop() {\n    // Override in subclasses\n  }\n\n  async onUninstall(options) {\n    // Override in subclasses\n  }\n\n  // Hook management methods\n  addHook(resource, event, handler) {\n    if (!this.hooks.has(resource)) {\n      this.hooks.set(resource, new Map());\n    }\n    \n    const resourceHooks = this.hooks.get(resource);\n    if (!resourceHooks.has(event)) {\n      resourceHooks.set(event, []);\n    }\n    \n    resourceHooks.get(event).push(handler);\n  }\n\n  removeHook(resource, event, handler) {\n    const resourceHooks = this.hooks.get(resource);\n    if (resourceHooks && resourceHooks.has(event)) {\n      const handlers = resourceHooks.get(event);\n      const index = handlers.indexOf(handler);\n      if (index > -1) {\n        handlers.splice(index, 1);\n      }\n    }\n  }\n\n  // Enhanced resource method wrapping that supports multiple plugins\n  wrapResourceMethod(resource, methodName, wrapper) {\n    const originalMethod = resource[methodName];\n    \n    if (!resource._pluginWrappers) {\n      resource._pluginWrappers = new Map();\n    }\n    \n    if (!resource._pluginWrappers.has(methodName)) {\n      resource._pluginWrappers.set(methodName, []);\n    }\n    \n    // Store the wrapper\n    resource._pluginWrappers.get(methodName).push(wrapper);\n    \n    // Create the wrapped method if it doesn't exist\n    if (!resource[`_wrapped_${methodName}`]) {\n      resource[`_wrapped_${methodName}`] = originalMethod;\n      \n      // Preserve jest mock if it's a mock function\n      const isJestMock = originalMethod && originalMethod._isMockFunction;\n      \n      resource[methodName] = async function(...args) {\n        let result = await resource[`_wrapped_${methodName}`](...args);\n        \n        // Apply all wrappers in order\n        for (const wrapper of resource._pluginWrappers.get(methodName)) {\n          result = await wrapper.call(this, result, args, methodName);\n        }\n        \n        return result;\n      };\n      \n      // Preserve jest mock properties if it was a mock\n      if (isJestMock) {\n        Object.setPrototypeOf(resource[methodName], Object.getPrototypeOf(originalMethod));\n        Object.assign(resource[methodName], originalMethod);\n      }\n    }\n  }\n\n  /**\n   * Add a middleware to intercept a resource method (Koa/Express style).\n   * Middleware signature: async (next, ...args) => { ... }\n   * - Chame next(...args) para continuar a cadeia.\n   * - Retorne sem chamar next para interromper.\n   * - Pode modificar argumentos/resultados.\n   */\n  addMiddleware(resource, methodName, middleware) {\n    // Safety check: verify method exists\n    if (typeof resource[methodName] !== 'function') {\n      throw new Error(`Cannot add middleware to \"${methodName}\": method does not exist on resource \"${resource.name || 'unknown'}\"`);\n    }\n\n    if (!resource._pluginMiddlewares) {\n      resource._pluginMiddlewares = {};\n    }\n    if (!resource._pluginMiddlewares[methodName]) {\n      resource._pluginMiddlewares[methodName] = [];\n      // Wrap the original method only once\n      const originalMethod = resource[methodName].bind(resource);\n      resource[methodName] = async function(...args) {\n        let idx = -1;\n        const next = async (...nextArgs) => {\n          idx++;\n          if (idx < resource._pluginMiddlewares[methodName].length) {\n            // Call next middleware\n            return await resource._pluginMiddlewares[methodName][idx].call(this, next, ...nextArgs);\n          } else {\n            // Call original method\n            return await originalMethod(...nextArgs);\n          }\n        };\n        return await next(...args);\n      };\n    }\n    resource._pluginMiddlewares[methodName].push(middleware);\n  }\n\n  // Partition-aware helper methods\n  getPartitionValues(data, resource) {\n    if (!resource.config?.partitions) return {};\n    \n    const partitionValues = {};\n    for (const [partitionName, partitionDef] of Object.entries(resource.config.partitions)) {\n      if (partitionDef.fields) {\n        partitionValues[partitionName] = {};\n        for (const [fieldName, rule] of Object.entries(partitionDef.fields)) {\n          const value = this.getNestedFieldValue(data, fieldName);\n          // Only add field if value exists\n          if (value !== null && value !== undefined) {\n            partitionValues[partitionName][fieldName] = resource.applyPartitionRule(value, rule);\n          }\n        }\n      } else {\n        partitionValues[partitionName] = {};\n      }\n    }\n    \n    return partitionValues;\n  }\n\n  getNestedFieldValue(data, fieldPath) {\n    if (!fieldPath.includes('.')) {\n      return data[fieldPath] ?? null;\n    }\n    \n    const keys = fieldPath.split('.');\n    let value = data;\n    \n    for (const key of keys) {\n      if (value && typeof value === 'object' && key in value) {\n        value = value[key];\n      } else {\n        return null;\n      }\n    }\n    \n    return value ?? null;\n  }\n\n  // Event emission methods\n  beforeInstall() {\n    this.emit(\"plugin.beforeInstall\", new Date());\n  }\n\n  afterInstall() {\n    this.emit(\"plugin.afterInstall\", new Date());\n  }\n\n  beforeStart() {\n    this.emit(\"plugin.beforeStart\", new Date());\n  }\n\n  afterStart() {\n    this.emit(\"plugin.afterStart\", new Date());\n  }\n\n  beforeStop() {\n    this.emit(\"plugin.beforeStop\", new Date());\n  }\n\n  afterStop() {\n    this.emit(\"plugin.afterStop\", new Date());\n  }\n\n  beforeUninstall() {\n    this.emit(\"plugin.beforeUninstall\", new Date());\n  }\n\n  afterUninstall() {\n    this.emit(\"plugin.afterUninstall\", new Date());\n  }\n}\n\nexport default Plugin;","export const PluginObject = {\n  setup(database) {\n    // TODO: implement me!\n  },\n\n  start() {\n    // TODO: implement me!\n  },\n\n  stop() {\n    // TODO: implement me!\n  },\n}","/**\n * Response Formatter - Standard JSON API responses\n *\n * Provides consistent response formatting across all API endpoints\n */\n\n/**\n * Format successful response\n * @param {Object} data - Response data\n * @param {Object} options - Response options\n * @param {number} options.status - HTTP status code (default: 200)\n * @param {Object} options.meta - Additional metadata\n * @returns {Object} Formatted response\n */\nexport function success(data, options = {}) {\n  const { status = 200, meta = {} } = options;\n\n  return {\n    success: true,\n    data,\n    meta: {\n      timestamp: new Date().toISOString(),\n      ...meta\n    },\n    _status: status\n  };\n}\n\n/**\n * Format error response\n * @param {string|Error} error - Error message or Error object\n * @param {Object} options - Error options\n * @param {number} options.status - HTTP status code (default: 500)\n * @param {string} options.code - Error code\n * @param {Object} options.details - Additional error details\n * @returns {Object} Formatted error response\n */\nexport function error(error, options = {}) {\n  const { status = 500, code = 'INTERNAL_ERROR', details = {} } = options;\n\n  const errorMessage = error instanceof Error ? error.message : error;\n  const errorStack = error instanceof Error && process.env.NODE_ENV !== 'production'\n    ? error.stack\n    : undefined;\n\n  return {\n    success: false,\n    error: {\n      message: errorMessage,\n      code,\n      details,\n      stack: errorStack\n    },\n    meta: {\n      timestamp: new Date().toISOString()\n    },\n    _status: status\n  };\n}\n\n/**\n * Format list response with pagination\n * @param {Array} items - List items\n * @param {Object} pagination - Pagination info\n * @param {number} pagination.total - Total count\n * @param {number} pagination.page - Current page\n * @param {number} pagination.pageSize - Items per page\n * @param {number} pagination.pageCount - Total pages\n * @returns {Object} Formatted list response\n */\nexport function list(items, pagination = {}) {\n  const { total, page, pageSize, pageCount } = pagination;\n\n  return {\n    success: true,\n    data: items,\n    pagination: {\n      total: total || items.length,\n      page: page || 1,\n      pageSize: pageSize || items.length,\n      pageCount: pageCount || 1\n    },\n    meta: {\n      timestamp: new Date().toISOString()\n    },\n    _status: 200\n  };\n}\n\n/**\n * Format created response\n * @param {Object} data - Created resource data\n * @param {string} location - Resource location URL\n * @returns {Object} Formatted created response\n */\nexport function created(data, location) {\n  return {\n    success: true,\n    data,\n    meta: {\n      timestamp: new Date().toISOString(),\n      location\n    },\n    _status: 201\n  };\n}\n\n/**\n * Format no content response\n * @returns {Object} Formatted no content response\n */\nexport function noContent() {\n  return {\n    success: true,\n    data: null,\n    meta: {\n      timestamp: new Date().toISOString()\n    },\n    _status: 204\n  };\n}\n\n/**\n * Format validation error response\n * @param {Array} errors - Validation errors\n * @returns {Object} Formatted validation error response\n */\nexport function validationError(errors) {\n  return error('Validation failed', {\n    status: 400,\n    code: 'VALIDATION_ERROR',\n    details: { errors }\n  });\n}\n\n/**\n * Format not found response\n * @param {string} resource - Resource name\n * @param {string} id - Resource ID\n * @returns {Object} Formatted not found response\n */\nexport function notFound(resource, id) {\n  return error(`${resource} with id '${id}' not found`, {\n    status: 404,\n    code: 'NOT_FOUND',\n    details: { resource, id }\n  });\n}\n\n/**\n * Format unauthorized response\n * @param {string} message - Unauthorized message\n * @returns {Object} Formatted unauthorized response\n */\nexport function unauthorized(message = 'Unauthorized') {\n  return error(message, {\n    status: 401,\n    code: 'UNAUTHORIZED'\n  });\n}\n\n/**\n * Format forbidden response\n * @param {string} message - Forbidden message\n * @returns {Object} Formatted forbidden response\n */\nexport function forbidden(message = 'Forbidden') {\n  return error(message, {\n    status: 403,\n    code: 'FORBIDDEN'\n  });\n}\n\n/**\n * Format rate limit exceeded response\n * @param {number} retryAfter - Retry after seconds\n * @returns {Object} Formatted rate limit response\n */\nexport function rateLimitExceeded(retryAfter) {\n  return error('Rate limit exceeded', {\n    status: 429,\n    code: 'RATE_LIMIT_EXCEEDED',\n    details: { retryAfter }\n  });\n}\n\n/**\n * Format payload too large response\n * @param {number} size - Received payload size in bytes\n * @param {number} limit - Maximum allowed size in bytes\n * @returns {Object} Formatted payload too large response\n */\nexport function payloadTooLarge(size, limit) {\n  return error('Request payload too large', {\n    status: 413,\n    code: 'PAYLOAD_TOO_LARGE',\n    details: {\n      receivedSize: size,\n      maxSize: limit,\n      receivedMB: (size / 1024 / 1024).toFixed(2),\n      maxMB: (limit / 1024 / 1024).toFixed(2)\n    }\n  });\n}\n\nexport default {\n  success,\n  error,\n  list,\n  created,\n  noContent,\n  validationError,\n  notFound,\n  unauthorized,\n  forbidden,\n  rateLimitExceeded,\n  payloadTooLarge\n};\n","/**\n * Error Handler - Global error handling middleware\n *\n * Catches and formats errors from routes and middlewares\n */\n\nimport { error as formatError } from './response-formatter.js';\n\n/**\n * Map s3db.js errors to HTTP status codes\n */\nconst errorStatusMap = {\n  'ValidationError': 400,\n  'InvalidResourceItem': 400,\n  'ResourceNotFound': 404,\n  'NoSuchKey': 404,\n  'NoSuchBucket': 404,\n  'PartitionError': 400,\n  'CryptoError': 500,\n  'SchemaError': 400,\n  'QueueError': 500,\n  'ResourceError': 500\n};\n\n/**\n * Get HTTP status code from error\n * @param {Error} err - Error object\n * @returns {number} HTTP status code\n */\nfunction getStatusFromError(err) {\n  // Check error name\n  if (err.name && errorStatusMap[err.name]) {\n    return errorStatusMap[err.name];\n  }\n\n  // Check error constructor name\n  if (err.constructor && err.constructor.name && errorStatusMap[err.constructor.name]) {\n    return errorStatusMap[err.constructor.name];\n  }\n\n  // Check for specific error patterns\n  if (err.message) {\n    if (err.message.includes('not found') || err.message.includes('does not exist')) {\n      return 404;\n    }\n    if (err.message.includes('validation') || err.message.includes('invalid')) {\n      return 400;\n    }\n    if (err.message.includes('unauthorized') || err.message.includes('authentication')) {\n      return 401;\n    }\n    if (err.message.includes('forbidden') || err.message.includes('permission')) {\n      return 403;\n    }\n  }\n\n  // Default to 500\n  return 500;\n}\n\n/**\n * Global error handler middleware\n * @param {Error} err - Error object\n * @param {Object} c - Hono context\n * @returns {Response} Error response\n */\nexport function errorHandler(err, c) {\n  const status = getStatusFromError(err);\n\n  // Get error code from error name or default\n  const code = err.name || 'INTERNAL_ERROR';\n\n  // Extract error details\n  const details = {};\n\n  if (err.resource) details.resource = err.resource;\n  if (err.bucket) details.bucket = err.bucket;\n  if (err.key) details.key = err.key;\n  if (err.operation) details.operation = err.operation;\n  if (err.suggestion) details.suggestion = err.suggestion;\n  if (err.availableResources) details.availableResources = err.availableResources;\n\n  // Format error response\n  const response = formatError(err, {\n    status,\n    code,\n    details\n  });\n\n  // Log error (except for expected errors like 404)\n  if (status >= 500) {\n    console.error('[API Plugin] Error:', {\n      message: err.message,\n      code,\n      status,\n      stack: err.stack,\n      details\n    });\n  } else if (status >= 400 && status < 500 && c.get('verbose')) {\n    console.warn('[API Plugin] Client error:', {\n      message: err.message,\n      code,\n      status,\n      details\n    });\n  }\n\n  return c.json(response, response._status);\n}\n\n/**\n * Async error wrapper for route handlers\n * @param {Function} fn - Async route handler\n * @returns {Function} Wrapped handler with error catching\n */\nexport function asyncHandler(fn) {\n  return async (c) => {\n    try {\n      return await fn(c);\n    } catch (err) {\n      return errorHandler(err, c);\n    }\n  };\n}\n\n/**\n * Try-catch wrapper with formatted error response\n * @param {Function} fn - Function to execute\n * @param {Object} c - Hono context\n * @returns {Promise<[boolean, Error|null, any]>} [ok, error, result] tuple\n */\nexport async function tryApiCall(fn, c) {\n  try {\n    const result = await fn();\n    return [true, null, result];\n  } catch (err) {\n    const response = errorHandler(err, c);\n    return [false, err, response];\n  }\n}\n\nexport default {\n  errorHandler,\n  asyncHandler,\n  tryApiCall,\n  getStatusFromError\n};\n","/**\n * Resource Routes - Dynamic RESTful routes for s3db.js resources\n *\n * Automatically generates REST endpoints for each resource\n */\n\nimport { Hono } from 'hono';\nimport { asyncHandler } from '../utils/error-handler.js';\nimport * as formatter from '../utils/response-formatter.js';\n\n/**\n * Create routes for a resource\n * @param {Object} resource - s3db.js Resource instance\n * @param {string} version - Resource version (e.g., 'v1', 'v1')\n * @param {Object} config - Route configuration\n * @returns {Hono} Hono app with resource routes\n */\nexport function createResourceRoutes(resource, version, config = {}) {\n  const app = new Hono();\n  const {\n    methods = ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS'],\n    customMiddleware = [],\n    enableValidation = true\n  } = config;\n\n  const resourceName = resource.name;\n  const basePath = `/${version}/${resourceName}`;\n\n  // Apply custom middleware\n  customMiddleware.forEach(middleware => {\n    app.use('*', middleware);\n  });\n\n  // LIST - GET /{version}/{resource}\n  if (methods.includes('GET')) {\n    app.get('/', asyncHandler(async (c) => {\n      const query = c.req.query();\n      const limit = parseInt(query.limit) || 100;\n      const offset = parseInt(query.offset) || 0;\n      const partition = query.partition;\n      const partitionValues = query.partitionValues\n        ? JSON.parse(query.partitionValues)\n        : undefined;\n\n      // Extract filters from query string (any key that's not limit, offset, partition, partitionValues, sort)\n      const reservedKeys = ['limit', 'offset', 'partition', 'partitionValues', 'sort'];\n      const filters = {};\n      for (const [key, value] of Object.entries(query)) {\n        if (!reservedKeys.includes(key)) {\n          // Try to parse as JSON for complex values\n          try {\n            filters[key] = JSON.parse(value);\n          } catch {\n            // Keep as string if not valid JSON\n            filters[key] = value;\n          }\n        }\n      }\n\n      let items;\n      let total;\n\n      // Use query if filters are present\n      if (Object.keys(filters).length > 0) {\n        items = await resource.query(filters, { limit: limit + offset });\n        items = items.slice(offset, offset + limit);\n        total = items.length;\n      } else if (partition && partitionValues) {\n        // Query specific partition\n        items = await resource.listPartition({\n          partition,\n          partitionValues,\n          limit: limit + offset\n        });\n        items = items.slice(offset, offset + limit);\n        total = items.length;\n      } else {\n        // Regular list\n        items = await resource.list({ limit: limit + offset });\n        items = items.slice(offset, offset + limit);\n        total = items.length;\n      }\n\n      const response = formatter.list(items, {\n        total,\n        page: Math.floor(offset / limit) + 1,\n        pageSize: limit,\n        pageCount: Math.ceil(total / limit)\n      });\n\n      // Set pagination headers\n      c.header('X-Total-Count', total.toString());\n      c.header('X-Page-Count', Math.ceil(total / limit).toString());\n\n      return c.json(response, response._status);\n    }));\n  }\n\n  // GET ONE - GET /{version}/{resource}/:id\n  if (methods.includes('GET')) {\n    app.get('/:id', asyncHandler(async (c) => {\n      const id = c.req.param('id');\n      const query = c.req.query();\n      const partition = query.partition;\n      const partitionValues = query.partitionValues\n        ? JSON.parse(query.partitionValues)\n        : undefined;\n\n      let item;\n\n      if (partition && partitionValues) {\n        // Get from specific partition\n        item = await resource.getFromPartition({\n          id,\n          partitionName: partition,\n          partitionValues\n        });\n      } else {\n        // Regular get\n        item = await resource.get(id);\n      }\n\n      if (!item) {\n        const response = formatter.notFound(resourceName, id);\n        return c.json(response, response._status);\n      }\n\n      const response = formatter.success(item);\n      return c.json(response, response._status);\n    }));\n  }\n\n  // CREATE - POST /{version}/{resource}\n  if (methods.includes('POST')) {\n    app.post('/', asyncHandler(async (c) => {\n      const data = await c.req.json();\n\n      // Validation middleware will run if enabled\n      const item = await resource.insert(data);\n\n      const location = `${basePath}/${item.id}`;\n      const response = formatter.created(item, location);\n\n      c.header('Location', location);\n      return c.json(response, response._status);\n    }));\n  }\n\n  // UPDATE (full) - PUT /{version}/{resource}/:id\n  if (methods.includes('PUT')) {\n    app.put('/:id', asyncHandler(async (c) => {\n      const id = c.req.param('id');\n      const data = await c.req.json();\n\n      // Check if exists\n      const existing = await resource.get(id);\n      if (!existing) {\n        const response = formatter.notFound(resourceName, id);\n        return c.json(response, response._status);\n      }\n\n      // Full update\n      const updated = await resource.update(id, data);\n\n      const response = formatter.success(updated);\n      return c.json(response, response._status);\n    }));\n  }\n\n  // UPDATE (partial) - PATCH /{version}/{resource}/:id\n  if (methods.includes('PATCH')) {\n    app.patch('/:id', asyncHandler(async (c) => {\n      const id = c.req.param('id');\n      const data = await c.req.json();\n\n      // Check if exists\n      const existing = await resource.get(id);\n      if (!existing) {\n        const response = formatter.notFound(resourceName, id);\n        return c.json(response, response._status);\n      }\n\n      // Partial update (merge with existing)\n      const merged = { ...existing, ...data, id };\n      const updated = await resource.update(id, merged);\n\n      const response = formatter.success(updated);\n      return c.json(response, response._status);\n    }));\n  }\n\n  // DELETE - DELETE /{version}/{resource}/:id\n  if (methods.includes('DELETE')) {\n    app.delete('/:id', asyncHandler(async (c) => {\n      const id = c.req.param('id');\n\n      // Check if exists\n      const existing = await resource.get(id);\n      if (!existing) {\n        const response = formatter.notFound(resourceName, id);\n        return c.json(response, response._status);\n      }\n\n      await resource.delete(id);\n\n      const response = formatter.noContent();\n      return c.json(response, response._status);\n    }));\n  }\n\n  // HEAD - HEAD /{version}/{resource}\n  if (methods.includes('HEAD')) {\n    app.on('HEAD', '/', asyncHandler(async (c) => {\n      // Get statistics\n      const total = await resource.count();\n\n      // Get all items to calculate stats (for small datasets)\n      // For large datasets, this might need optimization\n      const allItems = await resource.list({ limit: 1000 });\n\n      // Calculate statistics\n      const stats = {\n        total,\n        version: resource.config?.currentVersion || resource.version || 'v1'\n      };\n\n      // Add resource-specific stats\n      c.header('X-Total-Count', total.toString());\n      c.header('X-Resource-Version', stats.version);\n\n      // Add schema info\n      c.header('X-Schema-Fields', Object.keys(resource.config?.attributes || {}).length.toString());\n\n      return c.body(null, 200);\n    }));\n\n    app.on('HEAD', '/:id', asyncHandler(async (c) => {\n      const id = c.req.param('id');\n      const item = await resource.get(id);\n\n      if (!item) {\n        return c.body(null, 404);\n      }\n\n      // Add metadata headers\n      if (item.updatedAt) {\n        c.header('Last-Modified', new Date(item.updatedAt).toUTCString());\n      }\n\n      return c.body(null, 200);\n    }));\n  }\n\n  // OPTIONS - OPTIONS /{version}/{resource}\n  if (methods.includes('OPTIONS')) {\n    app.options('/', asyncHandler(async (c) => {\n      c.header('Allow', methods.join(', '));\n\n      // Return metadata about the resource\n      const total = await resource.count();\n      const schema = resource.config?.attributes || {};\n      const version = resource.config?.currentVersion || resource.version || 'v1';\n\n      const metadata = {\n        resource: resourceName,\n        version,\n        totalRecords: total,\n        allowedMethods: methods,\n        schema: Object.entries(schema).map(([name, def]) => ({\n          name,\n          type: typeof def === 'string' ? def.split('|')[0] : def.type,\n          rules: typeof def === 'string' ? def.split('|').slice(1) : []\n        })),\n        endpoints: {\n          list: `/${version}/${resourceName}`,\n          get: `/${version}/${resourceName}/:id`,\n          create: `/${version}/${resourceName}`,\n          update: `/${version}/${resourceName}/:id`,\n          delete: `/${version}/${resourceName}/:id`\n        },\n        queryParameters: {\n          limit: 'number (1-1000, default: 100)',\n          offset: 'number (min: 0, default: 0)',\n          partition: 'string (partition name)',\n          partitionValues: 'JSON string',\n          '[any field]': 'any (filter by field value)'\n        }\n      };\n\n      return c.json(metadata);\n    }));\n\n    app.options('/:id', (c) => {\n      c.header('Allow', methods.filter(m => m !== 'POST').join(', '));\n      return c.body(null, 204);\n    });\n  }\n\n  return app;\n}\n\n/**\n * Create relational routes for a resource relation\n * @param {Object} sourceResource - Source s3db.js Resource instance\n * @param {string} relationName - Name of the relation (e.g., 'posts', 'profile')\n * @param {Object} relationConfig - Relation configuration from RelationPlugin\n * @param {string} version - Resource version (e.g., 'v1')\n * @returns {Hono} Hono app with relational routes\n */\nexport function createRelationalRoutes(sourceResource, relationName, relationConfig, version) {\n  const app = new Hono();\n  const resourceName = sourceResource.name;\n  const relatedResourceName = relationConfig.resource;\n\n  // GET /{version}/{resource}/:id/{relation}\n  // Examples: GET /v1/users/user123/posts, GET /v1/users/user123/profile\n  app.get('/:id', asyncHandler(async (c) => {\n    const id = c.req.param('id');\n    const query = c.req.query();\n\n    // Check if source resource exists\n    const source = await sourceResource.get(id);\n    if (!source) {\n      const response = formatter.notFound(resourceName, id);\n      return c.json(response, response._status);\n    }\n\n    // Use RelationPlugin's include feature to load the relation\n    const result = await sourceResource.get(id, {\n      include: [relationName]\n    });\n\n    const relatedData = result[relationName];\n\n    // Check if relation exists\n    if (!relatedData) {\n      // Return appropriate response based on relation type\n      if (relationConfig.type === 'hasMany' || relationConfig.type === 'belongsToMany') {\n        // For *-to-many relations, return empty array\n        const response = formatter.list([], {\n          total: 0,\n          page: 1,\n          pageSize: 100,\n          pageCount: 0\n        });\n        return c.json(response, response._status);\n      } else {\n        // For *-to-one relations, return 404\n        const response = formatter.notFound(relatedResourceName, 'related resource');\n        return c.json(response, response._status);\n      }\n    }\n\n    // Return appropriate format based on relation type\n    if (relationConfig.type === 'hasMany' || relationConfig.type === 'belongsToMany') {\n      // For *-to-many, return list format\n      const items = Array.isArray(relatedData) ? relatedData : [relatedData];\n      const limit = parseInt(query.limit) || 100;\n      const offset = parseInt(query.offset) || 0;\n\n      // Apply pagination\n      const paginatedItems = items.slice(offset, offset + limit);\n\n      const response = formatter.list(paginatedItems, {\n        total: items.length,\n        page: Math.floor(offset / limit) + 1,\n        pageSize: limit,\n        pageCount: Math.ceil(items.length / limit)\n      });\n\n      // Set pagination headers\n      c.header('X-Total-Count', items.length.toString());\n      c.header('X-Page-Count', Math.ceil(items.length / limit).toString());\n\n      return c.json(response, response._status);\n    } else {\n      // For *-to-one, return single resource format\n      const response = formatter.success(relatedData);\n      return c.json(response, response._status);\n    }\n  }));\n\n  return app;\n}\n\nexport default {\n  createResourceRoutes,\n  createRelationalRoutes\n};\n","/**\n * OpenAPI Generator - Generate OpenAPI 3.1 specification from s3db.js resources\n *\n * Automatically creates OpenAPI documentation based on resource schemas\n * Note: OpenAPI 3.2.0 is not yet supported by Redoc v2.5.1\n */\n\n/**\n * Map s3db.js field types to OpenAPI types\n * @param {string} fieldType - s3db.js field type\n * @returns {Object} OpenAPI type definition\n */\nfunction mapFieldTypeToOpenAPI(fieldType) {\n  const type = fieldType.split('|')[0].trim();\n\n  const typeMap = {\n    'string': { type: 'string' },\n    'number': { type: 'number' },\n    'integer': { type: 'integer' },\n    'boolean': { type: 'boolean' },\n    'array': { type: 'array', items: { type: 'string' } },\n    'object': { type: 'object' },\n    'json': { type: 'object' },\n    'secret': { type: 'string', format: 'password' },\n    'email': { type: 'string', format: 'email' },\n    'url': { type: 'string', format: 'uri' },\n    'date': { type: 'string', format: 'date' },\n    'datetime': { type: 'string', format: 'date-time' },\n    'ip4': { type: 'string', format: 'ipv4', description: 'IPv4 address' },\n    'ip6': { type: 'string', format: 'ipv6', description: 'IPv6 address' },\n    'embedding': { type: 'array', items: { type: 'number' }, description: 'Vector embedding' }\n  };\n\n  // Handle embedding:N notation\n  if (type.startsWith('embedding:')) {\n    const length = parseInt(type.split(':')[1]);\n    return {\n      type: 'array',\n      items: { type: 'number' },\n      minItems: length,\n      maxItems: length,\n      description: `Vector embedding (${length} dimensions)`\n    };\n  }\n\n  return typeMap[type] || { type: 'string' };\n}\n\n/**\n * Extract validation rules from field definition\n * @param {string} fieldDef - Field definition string\n * @returns {Object} Validation rules\n */\nfunction extractValidationRules(fieldDef) {\n  const rules = {};\n  const parts = fieldDef.split('|');\n\n  for (const part of parts) {\n    const [rule, value] = part.split(':').map(s => s.trim());\n\n    switch (rule) {\n      case 'required':\n        rules.required = true;\n        break;\n      case 'min':\n        rules.minimum = parseFloat(value);\n        break;\n      case 'max':\n        rules.maximum = parseFloat(value);\n        break;\n      case 'minlength':\n        rules.minLength = parseInt(value);\n        break;\n      case 'maxlength':\n        rules.maxLength = parseInt(value);\n        break;\n      case 'pattern':\n        rules.pattern = value;\n        break;\n      case 'enum':\n        rules.enum = value.split(',').map(v => v.trim());\n        break;\n      case 'default':\n        rules.default = value;\n        break;\n    }\n  }\n\n  return rules;\n}\n\n/**\n * Generate OpenAPI schema for a resource\n * @param {Object} resource - s3db.js Resource instance\n * @returns {Object} OpenAPI schema definition\n */\nfunction generateResourceSchema(resource) {\n  const properties = {};\n  const required = [];\n\n  const attributes = resource.config?.attributes || resource.attributes || {};\n\n  // Extract resource description (supports both string and object format)\n  const resourceDescription = resource.config?.description;\n  const attributeDescriptions = typeof resourceDescription === 'object'\n    ? (resourceDescription.attributes || {})\n    : {};\n\n  // Add system-generated id field (always present in responses)\n  properties.id = {\n    type: 'string',\n    description: 'Unique identifier for the resource',\n    example: '2_gDTpeU6EI0e8B92n_R3Y',\n    readOnly: true\n  };\n\n  for (const [fieldName, fieldDef] of Object.entries(attributes)) {\n    // Handle object notation\n    if (typeof fieldDef === 'object' && fieldDef.type) {\n      const baseType = mapFieldTypeToOpenAPI(fieldDef.type);\n      properties[fieldName] = {\n        ...baseType,\n        description: fieldDef.description || attributeDescriptions[fieldName] || undefined\n      };\n\n      if (fieldDef.required) {\n        required.push(fieldName);\n      }\n\n      // Handle nested object properties\n      if (fieldDef.type === 'object' && fieldDef.props) {\n        properties[fieldName].properties = {};\n        for (const [propName, propDef] of Object.entries(fieldDef.props)) {\n          const propType = typeof propDef === 'string' ? propDef : propDef.type;\n          properties[fieldName].properties[propName] = mapFieldTypeToOpenAPI(propType);\n        }\n      }\n\n      // Handle array items\n      if (fieldDef.type === 'array' && fieldDef.items) {\n        properties[fieldName].items = mapFieldTypeToOpenAPI(fieldDef.items);\n      }\n    }\n    // Handle string notation\n    else if (typeof fieldDef === 'string') {\n      const baseType = mapFieldTypeToOpenAPI(fieldDef);\n      const rules = extractValidationRules(fieldDef);\n\n      properties[fieldName] = {\n        ...baseType,\n        ...rules,\n        description: attributeDescriptions[fieldName] || undefined\n      };\n\n      if (rules.required) {\n        required.push(fieldName);\n        delete properties[fieldName].required; // Move to schema-level required array\n      }\n    }\n  }\n\n  return {\n    type: 'object',\n    properties,\n    required: required.length > 0 ? required : undefined\n  };\n}\n\n/**\n * Generate OpenAPI paths for a resource\n * @param {Object} resource - s3db.js Resource instance\n * @param {string} version - Resource version\n * @param {Object} config - Resource configuration\n * @returns {Object} OpenAPI paths\n */\nfunction generateResourcePaths(resource, version, config = {}) {\n  const resourceName = resource.name;\n  const basePath = `/${version}/${resourceName}`;\n  const schema = generateResourceSchema(resource);\n  const methods = config.methods || ['GET', 'POST', 'PUT', 'PATCH', 'DELETE'];\n  const authMethods = config.auth || [];\n  const requiresAuth = authMethods && authMethods.length > 0;\n\n  const paths = {};\n\n  // Security schemes\n  const security = [];\n  if (requiresAuth) {\n    if (authMethods.includes('jwt')) security.push({ bearerAuth: [] });\n    if (authMethods.includes('apiKey')) security.push({ apiKeyAuth: [] });\n    if (authMethods.includes('basic')) security.push({ basicAuth: [] });\n  }\n\n  // Extract partition information for documentation\n  // Partitions are stored in resource.config.options.partitions\n  const partitions = resource.config?.options?.partitions || resource.config?.partitions || resource.partitions || {};\n  const partitionNames = Object.keys(partitions);\n  const hasPartitions = partitionNames.length > 0;\n\n  // Build partition documentation\n  let partitionDescription = 'Partition name for filtering';\n  let partitionValuesDescription = 'Partition values as JSON string';\n  let partitionExample = undefined;\n  let partitionValuesExample = undefined;\n\n  if (hasPartitions) {\n    // Build detailed partition description\n    const partitionDocs = partitionNames.map(name => {\n      const partition = partitions[name];\n      const fields = Object.keys(partition.fields || {});\n      const fieldTypes = Object.entries(partition.fields || {})\n        .map(([field, type]) => `${field}: ${type}`)\n        .join(', ');\n      return `- **${name}**: Filters by ${fields.join(', ')} (${fieldTypes})`;\n    }).join('\\n');\n\n    partitionDescription = `Available partitions:\\n${partitionDocs}`;\n\n    // Build partition values description with examples\n    const examplePartition = partitionNames[0];\n    const exampleFields = partitions[examplePartition]?.fields || {};\n    const exampleFieldsDoc = Object.entries(exampleFields)\n      .map(([field, type]) => `\"${field}\": <${type} value>`)\n      .join(', ');\n\n    partitionValuesDescription = `Partition field values as JSON string. Must match the structure of the selected partition.\\n\\nExample for \"${examplePartition}\" partition: \\`{\"${Object.keys(exampleFields)[0]}\": \"value\"}\\``;\n\n    // Set examples\n    partitionExample = examplePartition;\n    const firstField = Object.keys(exampleFields)[0];\n    const firstFieldType = exampleFields[firstField];\n    let exampleValue = 'example';\n    if (firstFieldType === 'number' || firstFieldType === 'integer') {\n      exampleValue = 123;\n    } else if (firstFieldType === 'boolean') {\n      exampleValue = true;\n    }\n    partitionValuesExample = JSON.stringify({ [firstField]: exampleValue });\n  }\n\n  // Extract partition fields for query parameters (filtering)\n  // Only fields that are part of partitions can be efficiently filtered\n  const attributeQueryParams = [];\n\n  if (hasPartitions) {\n    const partitionFieldsSet = new Set();\n\n    // Collect all unique fields from all partitions\n    for (const [partitionName, partition] of Object.entries(partitions)) {\n      const fields = partition.fields || {};\n      for (const fieldName of Object.keys(fields)) {\n        partitionFieldsSet.add(fieldName);\n      }\n    }\n\n    // Create query parameters only for partition fields\n    const attributes = resource.config?.attributes || resource.attributes || {};\n\n    for (const fieldName of partitionFieldsSet) {\n      const fieldDef = attributes[fieldName];\n      if (!fieldDef) continue; // Skip if field doesn't exist in schema\n\n      // Get field type\n      let fieldType;\n      if (typeof fieldDef === 'object' && fieldDef.type) {\n        fieldType = fieldDef.type;\n      } else if (typeof fieldDef === 'string') {\n        fieldType = fieldDef.split('|')[0].trim();\n      } else {\n        fieldType = 'string';\n      }\n\n      // Map to OpenAPI type\n      const openAPIType = mapFieldTypeToOpenAPI(fieldType);\n\n      // Create query parameter with partition info\n      attributeQueryParams.push({\n        name: fieldName,\n        in: 'query',\n        description: `Filter by ${fieldName} field (indexed via partitions for efficient querying). Value will be parsed as JSON if possible, otherwise treated as string.`,\n        required: false,\n        schema: openAPIType\n      });\n    }\n  }\n\n  // List endpoint with filtering support\n  if (methods.includes('GET')) {\n    paths[basePath] = {\n      get: {\n        tags: [resourceName],\n        summary: `List ${resourceName}`,\n        description: `Retrieve a paginated list of ${resourceName}. Supports filtering by passing any resource field as a query parameter (e.g., ?status=active&year=2024). Values are parsed as JSON if possible, otherwise treated as strings.\n\n**Pagination**: Use \\`limit\\` and \\`offset\\` to paginate results. For example:\n- First page (10 items): \\`?limit=10&offset=0\\`\n- Second page: \\`?limit=10&offset=10\\`\n- Third page: \\`?limit=10&offset=20\\`\n\nThe response includes pagination metadata in the \\`pagination\\` object with total count and page information.${hasPartitions ? '\\n\\n**Partitioning**: This resource supports partitioned queries for optimized filtering. Use the `partition` and `partitionValues` parameters together.' : ''}`,\n        parameters: [\n          {\n            name: 'limit',\n            in: 'query',\n            description: 'Maximum number of items to return per page (page size)',\n            schema: { type: 'integer', default: 100, minimum: 1, maximum: 1000 },\n            example: 10\n          },\n          {\n            name: 'offset',\n            in: 'query',\n            description: 'Number of items to skip before starting to return results. Use for pagination: offset = (page - 1) * limit',\n            schema: { type: 'integer', default: 0, minimum: 0 },\n            example: 0\n          },\n          ...(hasPartitions ? [\n            {\n              name: 'partition',\n              in: 'query',\n              description: partitionDescription,\n              schema: {\n                type: 'string',\n                enum: partitionNames\n              },\n              example: partitionExample\n            },\n            {\n              name: 'partitionValues',\n              in: 'query',\n              description: partitionValuesDescription,\n              schema: { type: 'string' },\n              example: partitionValuesExample\n            }\n          ] : []),\n          ...attributeQueryParams\n        ],\n        responses: {\n          200: {\n            description: 'Successful response',\n            content: {\n              'application/json': {\n                schema: {\n                  type: 'object',\n                  properties: {\n                    success: { type: 'boolean', example: true },\n                    data: {\n                      type: 'array',\n                      items: schema\n                    },\n                    pagination: {\n                      type: 'object',\n                      description: 'Pagination metadata for the current request',\n                      properties: {\n                        total: {\n                          type: 'integer',\n                          description: 'Total number of items available',\n                          example: 150\n                        },\n                        page: {\n                          type: 'integer',\n                          description: 'Current page number (1-indexed)',\n                          example: 1\n                        },\n                        pageSize: {\n                          type: 'integer',\n                          description: 'Number of items per page (same as limit parameter)',\n                          example: 10\n                        },\n                        pageCount: {\n                          type: 'integer',\n                          description: 'Total number of pages available',\n                          example: 15\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            },\n            headers: {\n              'X-Total-Count': {\n                description: 'Total number of records',\n                schema: { type: 'integer' }\n              },\n              'X-Page-Count': {\n                description: 'Total number of pages',\n                schema: { type: 'integer' }\n              }\n            }\n          }\n        },\n        security: security.length > 0 ? security : undefined\n      }\n    };\n  }\n\n  // Get by ID endpoint\n  if (methods.includes('GET')) {\n    paths[`${basePath}/{id}`] = {\n      get: {\n        tags: [resourceName],\n        summary: `Get ${resourceName} by ID`,\n        description: `Retrieve a single ${resourceName} by its ID${hasPartitions ? '. Optionally specify a partition for more efficient retrieval.' : ''}`,\n        parameters: [\n          {\n            name: 'id',\n            in: 'path',\n            required: true,\n            description: `${resourceName} ID`,\n            schema: { type: 'string' }\n          },\n          ...(hasPartitions ? [\n            {\n              name: 'partition',\n              in: 'query',\n              description: partitionDescription,\n              schema: {\n                type: 'string',\n                enum: partitionNames\n              },\n              example: partitionExample\n            },\n            {\n              name: 'partitionValues',\n              in: 'query',\n              description: partitionValuesDescription,\n              schema: { type: 'string' },\n              example: partitionValuesExample\n            }\n          ] : [])\n        ],\n        responses: {\n          200: {\n            description: 'Successful response',\n            content: {\n              'application/json': {\n                schema: {\n                  type: 'object',\n                  properties: {\n                    success: { type: 'boolean', example: true },\n                    data: schema\n                  }\n                }\n              }\n            }\n          },\n          404: {\n            description: 'Resource not found',\n            content: {\n              'application/json': {\n                schema: { $ref: '#/components/schemas/Error' }\n              }\n            }\n          }\n        },\n        security: security.length > 0 ? security : undefined\n      }\n    };\n  }\n\n  // Create endpoint\n  if (methods.includes('POST')) {\n    if (!paths[basePath]) paths[basePath] = {};\n    paths[basePath].post = {\n      tags: [resourceName],\n      summary: `Create ${resourceName}`,\n      description: `Create a new ${resourceName}`,\n      requestBody: {\n        required: true,\n        content: {\n          'application/json': {\n            schema: schema\n          }\n        }\n      },\n      responses: {\n        201: {\n          description: 'Resource created successfully',\n          content: {\n            'application/json': {\n              schema: {\n                type: 'object',\n                properties: {\n                  success: { type: 'boolean', example: true },\n                  data: schema\n                }\n              }\n            }\n          },\n          headers: {\n            Location: {\n              description: 'URL of the created resource',\n              schema: { type: 'string' }\n            }\n          }\n        },\n        400: {\n          description: 'Validation error',\n          content: {\n            'application/json': {\n              schema: { $ref: '#/components/schemas/ValidationError' }\n            }\n          }\n        }\n      },\n      security: security.length > 0 ? security : undefined\n    };\n  }\n\n  // Update (full) endpoint\n  if (methods.includes('PUT')) {\n    if (!paths[`${basePath}/{id}`]) paths[`${basePath}/{id}`] = {};\n    paths[`${basePath}/{id}`].put = {\n      tags: [resourceName],\n      summary: `Update ${resourceName} (full)`,\n      description: `Fully update a ${resourceName}`,\n      parameters: [\n        {\n          name: 'id',\n          in: 'path',\n          required: true,\n          schema: { type: 'string' }\n        }\n      ],\n      requestBody: {\n        required: true,\n        content: {\n          'application/json': {\n            schema: schema\n          }\n        }\n      },\n      responses: {\n        200: {\n          description: 'Resource updated successfully',\n          content: {\n            'application/json': {\n              schema: {\n                type: 'object',\n                properties: {\n                  success: { type: 'boolean', example: true },\n                  data: schema\n                }\n              }\n            }\n          }\n        },\n        404: {\n          description: 'Resource not found',\n          content: {\n            'application/json': {\n              schema: { $ref: '#/components/schemas/Error' }\n            }\n          }\n        }\n      },\n      security: security.length > 0 ? security : undefined\n    };\n  }\n\n  // Update (partial) endpoint\n  if (methods.includes('PATCH')) {\n    if (!paths[`${basePath}/{id}`]) paths[`${basePath}/{id}`] = {};\n    paths[`${basePath}/{id}`].patch = {\n      tags: [resourceName],\n      summary: `Update ${resourceName} (partial)`,\n      description: `Partially update a ${resourceName}`,\n      parameters: [\n        {\n          name: 'id',\n          in: 'path',\n          required: true,\n          schema: { type: 'string' }\n        }\n      ],\n      requestBody: {\n        required: true,\n        content: {\n          'application/json': {\n            schema: {\n              ...schema,\n              required: undefined // Partial updates don't require all fields\n            }\n          }\n        }\n      },\n      responses: {\n        200: {\n          description: 'Resource updated successfully',\n          content: {\n            'application/json': {\n              schema: {\n                type: 'object',\n                properties: {\n                  success: { type: 'boolean', example: true },\n                  data: schema\n                }\n              }\n            }\n          }\n        },\n        404: {\n          description: 'Resource not found',\n          content: {\n            'application/json': {\n              schema: { $ref: '#/components/schemas/Error' }\n            }\n          }\n        }\n      },\n      security: security.length > 0 ? security : undefined\n    };\n  }\n\n  // Delete endpoint\n  if (methods.includes('DELETE')) {\n    if (!paths[`${basePath}/{id}`]) paths[`${basePath}/{id}`] = {};\n    paths[`${basePath}/{id}`].delete = {\n      tags: [resourceName],\n      summary: `Delete ${resourceName}`,\n      description: `Delete a ${resourceName} by ID`,\n      parameters: [\n        {\n          name: 'id',\n          in: 'path',\n          required: true,\n          schema: { type: 'string' }\n        }\n      ],\n      responses: {\n        204: {\n          description: 'Resource deleted successfully'\n        },\n        404: {\n          description: 'Resource not found',\n          content: {\n            'application/json': {\n              schema: { $ref: '#/components/schemas/Error' }\n            }\n          }\n        }\n      },\n      security: security.length > 0 ? security : undefined\n    };\n  }\n\n  // HEAD endpoint - Get resource statistics\n  if (methods.includes('HEAD')) {\n    if (!paths[basePath]) paths[basePath] = {};\n    paths[basePath].head = {\n      tags: [resourceName],\n      summary: `Get ${resourceName} statistics`,\n      description: `Get statistics about ${resourceName} collection without retrieving data. Returns statistics in response headers.`,\n      responses: {\n        200: {\n          description: 'Statistics retrieved successfully',\n          headers: {\n            'X-Total-Count': {\n              description: 'Total number of records',\n              schema: { type: 'integer' }\n            },\n            'X-Resource-Version': {\n              description: 'Current resource version',\n              schema: { type: 'string' }\n            },\n            'X-Schema-Fields': {\n              description: 'Number of schema fields',\n              schema: { type: 'integer' }\n            }\n          }\n        }\n      },\n      security: security.length > 0 ? security : undefined\n    };\n\n    // HEAD for individual resource\n    if (!paths[`${basePath}/{id}`]) paths[`${basePath}/{id}`] = {};\n    paths[`${basePath}/{id}`].head = {\n      tags: [resourceName],\n      summary: `Check if ${resourceName} exists`,\n      description: `Check if a ${resourceName} exists without retrieving its data`,\n      parameters: [\n        {\n          name: 'id',\n          in: 'path',\n          required: true,\n          schema: { type: 'string' }\n        }\n      ],\n      responses: {\n        200: {\n          description: 'Resource exists',\n          headers: {\n            'Last-Modified': {\n              description: 'Last modification date',\n              schema: { type: 'string', format: 'date-time' }\n            }\n          }\n        },\n        404: {\n          description: 'Resource not found'\n        }\n      },\n      security: security.length > 0 ? security : undefined\n    };\n  }\n\n  // OPTIONS endpoint - Get resource metadata\n  if (methods.includes('OPTIONS')) {\n    if (!paths[basePath]) paths[basePath] = {};\n    paths[basePath].options = {\n      tags: [resourceName],\n      summary: `Get ${resourceName} metadata`,\n      description: `Get complete metadata about ${resourceName} resource including schema, allowed methods, endpoints, and query parameters`,\n      responses: {\n        200: {\n          description: 'Metadata retrieved successfully',\n          headers: {\n            'Allow': {\n              description: 'Allowed HTTP methods',\n              schema: { type: 'string', example: 'GET, POST, PUT, PATCH, DELETE, HEAD, OPTIONS' }\n            }\n          },\n          content: {\n            'application/json': {\n              schema: {\n                type: 'object',\n                properties: {\n                  resource: { type: 'string' },\n                  version: { type: 'string' },\n                  totalRecords: { type: 'integer' },\n                  allowedMethods: {\n                    type: 'array',\n                    items: { type: 'string' }\n                  },\n                  schema: {\n                    type: 'array',\n                    items: {\n                      type: 'object',\n                      properties: {\n                        name: { type: 'string' },\n                        type: { type: 'string' },\n                        rules: { type: 'array', items: { type: 'string' } }\n                      }\n                    }\n                  },\n                  endpoints: {\n                    type: 'object',\n                    properties: {\n                      list: { type: 'string' },\n                      get: { type: 'string' },\n                      create: { type: 'string' },\n                      update: { type: 'string' },\n                      delete: { type: 'string' }\n                    }\n                  },\n                  queryParameters: { type: 'object' }\n                }\n              }\n            }\n          }\n        }\n      }\n    };\n\n    // OPTIONS for individual resource\n    if (!paths[`${basePath}/{id}`]) paths[`${basePath}/{id}`] = {};\n    paths[`${basePath}/{id}`].options = {\n      tags: [resourceName],\n      summary: `Get allowed methods for ${resourceName} item`,\n      description: `Get allowed HTTP methods for individual ${resourceName} operations`,\n      parameters: [\n        {\n          name: 'id',\n          in: 'path',\n          required: true,\n          schema: { type: 'string' }\n        }\n      ],\n      responses: {\n        204: {\n          description: 'Methods retrieved successfully',\n          headers: {\n            'Allow': {\n              description: 'Allowed HTTP methods',\n              schema: { type: 'string', example: 'GET, PUT, PATCH, DELETE, HEAD, OPTIONS' }\n            }\n          }\n        }\n      }\n    };\n  }\n\n  return paths;\n}\n\n/**\n * Generate OpenAPI paths for relational routes\n * @param {Object} resource - Source s3db.js Resource instance\n * @param {string} relationName - Name of the relation\n * @param {Object} relationConfig - Relation configuration\n * @param {string} version - Resource version\n * @param {Object} relatedSchema - OpenAPI schema for related resource\n * @returns {Object} OpenAPI paths for relation\n */\nfunction generateRelationalPaths(resource, relationName, relationConfig, version, relatedSchema) {\n  const resourceName = resource.name;\n  const basePath = `/${version}/${resourceName}/{id}/${relationName}`;\n  const relatedResourceName = relationConfig.resource;\n  const isToMany = relationConfig.type === 'hasMany' || relationConfig.type === 'belongsToMany';\n\n  const paths = {};\n\n  paths[basePath] = {\n    get: {\n      tags: [resourceName],\n      summary: `Get ${relationName} of ${resourceName}`,\n      description: `Retrieve ${relationName} (${relationConfig.type}) associated with this ${resourceName}. ` +\n                   `This endpoint uses the RelationPlugin to efficiently load related data` +\n                   (relationConfig.partitionHint ? ` via the '${relationConfig.partitionHint}' partition.` : '.'),\n      parameters: [\n        {\n          name: 'id',\n          in: 'path',\n          required: true,\n          description: `${resourceName} ID`,\n          schema: { type: 'string' }\n        },\n        ...(isToMany ? [\n          {\n            name: 'limit',\n            in: 'query',\n            description: 'Maximum number of items to return',\n            schema: { type: 'integer', default: 100, minimum: 1, maximum: 1000 }\n          },\n          {\n            name: 'offset',\n            in: 'query',\n            description: 'Number of items to skip',\n            schema: { type: 'integer', default: 0, minimum: 0 }\n          }\n        ] : [])\n      ],\n      responses: {\n        200: {\n          description: 'Successful response',\n          content: {\n            'application/json': {\n              schema: isToMany ? {\n                type: 'object',\n                properties: {\n                  success: { type: 'boolean', example: true },\n                  data: {\n                    type: 'array',\n                    items: relatedSchema\n                  },\n                  pagination: {\n                    type: 'object',\n                    properties: {\n                      total: { type: 'integer' },\n                      page: { type: 'integer' },\n                      pageSize: { type: 'integer' },\n                      pageCount: { type: 'integer' }\n                    }\n                  }\n                }\n              } : {\n                type: 'object',\n                properties: {\n                  success: { type: 'boolean', example: true },\n                  data: relatedSchema\n                }\n              }\n            }\n          },\n          ...(isToMany ? {\n            headers: {\n              'X-Total-Count': {\n                description: 'Total number of related records',\n                schema: { type: 'integer' }\n              },\n              'X-Page-Count': {\n                description: 'Total number of pages',\n                schema: { type: 'integer' }\n              }\n            }\n          } : {})\n        },\n        404: {\n          description: `${resourceName} not found` + (isToMany ? '' : ' or no related resource exists'),\n          content: {\n            'application/json': {\n              schema: { $ref: '#/components/schemas/Error' }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  return paths;\n}\n\n/**\n * Generate complete OpenAPI 3.0 specification\n * @param {Object} database - s3db.js Database instance\n * @param {Object} config - API configuration\n * @returns {Object} OpenAPI 3.0 specification\n */\nexport function generateOpenAPISpec(database, config = {}) {\n  const {\n    title = 's3db.js API',\n    version = '1.0.0',\n    description = 'Auto-generated REST API documentation for s3db.js resources',\n    serverUrl = 'http://localhost:3000',\n    auth = {},\n    resources: resourceConfigs = {}\n  } = config;\n\n  // Build resources table for description\n  const resourcesTableRows = [];\n  for (const [name, resource] of Object.entries(database.resources)) {\n    // Skip plugin resources unless explicitly configured\n    if (name.startsWith('plg_') && !resourceConfigs[name]) {\n      continue;\n    }\n\n    const version = resource.config?.currentVersion || resource.version || 'v1';\n    const resourceDescription = resource.config?.description;\n    const descText = typeof resourceDescription === 'object'\n      ? resourceDescription.resource\n      : resourceDescription || 'No description';\n\n    resourcesTableRows.push(`| ${name} | ${descText} | \\`/${version}/${name}\\` |`);\n  }\n\n  // Build enhanced description with resources table\n  const enhancedDescription = `${description}\n\n## Available Resources\n\n| Resource | Description | Base Path |\n|----------|-------------|-----------|\n${resourcesTableRows.join('\\n')}\n\n---\n\nFor detailed information about each endpoint, see the sections below.`;\n\n  const spec = {\n    openapi: '3.1.0',\n    info: {\n      title,\n      version,\n      description: enhancedDescription,\n      contact: {\n        name: 's3db.js',\n        url: 'https://github.com/forattini-dev/s3db.js'\n      }\n    },\n    servers: [\n      {\n        url: serverUrl,\n        description: 'API Server'\n      }\n    ],\n    paths: {},\n    components: {\n      schemas: {\n        Error: {\n          type: 'object',\n          properties: {\n            success: { type: 'boolean', example: false },\n            error: {\n              type: 'object',\n              properties: {\n                message: { type: 'string' },\n                code: { type: 'string' },\n                details: { type: 'object' }\n              }\n            }\n          }\n        },\n        ValidationError: {\n          type: 'object',\n          properties: {\n            success: { type: 'boolean', example: false },\n            error: {\n              type: 'object',\n              properties: {\n                message: { type: 'string', example: 'Validation failed' },\n                code: { type: 'string', example: 'VALIDATION_ERROR' },\n                details: {\n                  type: 'object',\n                  properties: {\n                    errors: {\n                      type: 'array',\n                      items: {\n                        type: 'object',\n                        properties: {\n                          field: { type: 'string' },\n                          message: { type: 'string' },\n                          expected: { type: 'string' },\n                          actual: {}\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      },\n      securitySchemes: {}\n    },\n    tags: []\n  };\n\n  // Add security schemes\n  if (auth.jwt?.enabled) {\n    spec.components.securitySchemes.bearerAuth = {\n      type: 'http',\n      scheme: 'bearer',\n      bearerFormat: 'JWT',\n      description: 'JWT authentication'\n    };\n  }\n\n  if (auth.apiKey?.enabled) {\n    spec.components.securitySchemes.apiKeyAuth = {\n      type: 'apiKey',\n      in: 'header',\n      name: auth.apiKey.headerName || 'X-API-Key',\n      description: 'API Key authentication'\n    };\n  }\n\n  if (auth.basic?.enabled) {\n    spec.components.securitySchemes.basicAuth = {\n      type: 'http',\n      scheme: 'basic',\n      description: 'HTTP Basic authentication'\n    };\n  }\n\n  // Generate paths for each resource\n  const resources = database.resources;\n\n  // Detect RelationPlugin\n  const relationsPlugin = database.plugins?.relation || database.plugins?.RelationPlugin || null;\n\n  for (const [name, resource] of Object.entries(resources)) {\n    // Skip plugin resources unless explicitly configured\n    if (name.startsWith('plg_') && !resourceConfigs[name]) {\n      continue;\n    }\n\n    // Get resource configuration\n    const config = resourceConfigs[name] || {\n      methods: ['GET', 'POST', 'PUT', 'PATCH', 'DELETE'],\n      auth: false\n    };\n\n    // Determine version\n    const version = resource.config?.currentVersion || resource.version || 'v1';\n\n    // Generate paths\n    const paths = generateResourcePaths(resource, version, config);\n\n    // Merge paths\n    Object.assign(spec.paths, paths);\n\n    // Add tag with description support\n    const resourceDescription = resource.config?.description;\n    const tagDescription = typeof resourceDescription === 'object'\n      ? resourceDescription.resource\n      : resourceDescription || `Operations for ${name} resource`;\n\n    spec.tags.push({\n      name: name,\n      description: tagDescription\n    });\n\n    // Add schema to components\n    spec.components.schemas[name] = generateResourceSchema(resource);\n\n    // Generate relational paths if RelationPlugin is active\n    if (relationsPlugin && relationsPlugin.relations && relationsPlugin.relations[name]) {\n      const relationsDef = relationsPlugin.relations[name];\n\n      for (const [relationName, relationConfig] of Object.entries(relationsDef)) {\n        // Skip belongsTo relations (not useful as REST endpoints)\n        if (relationConfig.type === 'belongsTo') {\n          continue;\n        }\n\n        // Check if relation should be exposed (default: yes)\n        const exposeRelation = config?.relations?.[relationName]?.expose !== false;\n        if (!exposeRelation) {\n          continue;\n        }\n\n        // Get related resource schema\n        const relatedResource = database.resources[relationConfig.resource];\n        if (!relatedResource) {\n          continue;\n        }\n\n        const relatedSchema = generateResourceSchema(relatedResource);\n\n        // Generate relational paths\n        const relationalPaths = generateRelationalPaths(\n          resource,\n          relationName,\n          relationConfig,\n          version,\n          relatedSchema\n        );\n\n        // Merge relational paths\n        Object.assign(spec.paths, relationalPaths);\n      }\n    }\n  }\n\n  // Add authentication endpoints if enabled\n  if (auth.jwt?.enabled || auth.apiKey?.enabled || auth.basic?.enabled) {\n    spec.paths['/auth/login'] = {\n      post: {\n        tags: ['Authentication'],\n        summary: 'Login',\n        description: 'Authenticate with username and password',\n        requestBody: {\n          required: true,\n          content: {\n            'application/json': {\n              schema: {\n                type: 'object',\n                properties: {\n                  username: { type: 'string' },\n                  password: { type: 'string', format: 'password' }\n                },\n                required: ['username', 'password']\n              }\n            }\n          }\n        },\n        responses: {\n          200: {\n            description: 'Login successful',\n            content: {\n              'application/json': {\n                schema: {\n                  type: 'object',\n                  properties: {\n                    success: { type: 'boolean', example: true },\n                    data: {\n                      type: 'object',\n                      properties: {\n                        token: { type: 'string' },\n                        user: { type: 'object' }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          },\n          401: {\n            description: 'Invalid credentials',\n            content: {\n              'application/json': {\n                schema: { $ref: '#/components/schemas/Error' }\n              }\n            }\n          }\n        }\n      }\n    };\n\n    spec.paths['/auth/register'] = {\n      post: {\n        tags: ['Authentication'],\n        summary: 'Register',\n        description: 'Register a new user',\n        requestBody: {\n          required: true,\n          content: {\n            'application/json': {\n              schema: {\n                type: 'object',\n                properties: {\n                  username: { type: 'string', minLength: 3 },\n                  password: { type: 'string', format: 'password', minLength: 8 },\n                  email: { type: 'string', format: 'email' }\n                },\n                required: ['username', 'password']\n              }\n            }\n          }\n        },\n        responses: {\n          201: {\n            description: 'User registered successfully',\n            content: {\n              'application/json': {\n                schema: {\n                  type: 'object',\n                  properties: {\n                    success: { type: 'boolean', example: true },\n                    data: {\n                      type: 'object',\n                      properties: {\n                        token: { type: 'string' },\n                        user: { type: 'object' }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    };\n\n    spec.tags.push({\n      name: 'Authentication',\n      description: 'Authentication endpoints'\n    });\n  }\n\n  // Add health endpoints for Kubernetes probes\n  spec.paths['/health'] = {\n    get: {\n      tags: ['Health'],\n      summary: 'Generic Health Check',\n      description: 'Generic health check endpoint that includes references to liveness and readiness probes',\n      responses: {\n        200: {\n          description: 'API is healthy',\n          content: {\n            'application/json': {\n              schema: {\n                type: 'object',\n                properties: {\n                  success: { type: 'boolean', example: true },\n                  data: {\n                    type: 'object',\n                    properties: {\n                      status: { type: 'string', example: 'ok' },\n                      uptime: { type: 'number', description: 'Process uptime in seconds' },\n                      timestamp: { type: 'string', format: 'date-time' },\n                      checks: {\n                        type: 'object',\n                        properties: {\n                          liveness: { type: 'string', example: '/health/live' },\n                          readiness: { type: 'string', example: '/health/ready' }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  spec.paths['/health/live'] = {\n    get: {\n      tags: ['Health'],\n      summary: 'Liveness Probe',\n      description: 'Kubernetes liveness probe - checks if the application is alive. If this fails, Kubernetes will restart the pod.',\n      responses: {\n        200: {\n          description: 'Application is alive',\n          content: {\n            'application/json': {\n              schema: {\n                type: 'object',\n                properties: {\n                  success: { type: 'boolean', example: true },\n                  data: {\n                    type: 'object',\n                    properties: {\n                      status: { type: 'string', example: 'alive' },\n                      timestamp: { type: 'string', format: 'date-time' }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  spec.paths['/health/ready'] = {\n    get: {\n      tags: ['Health'],\n      summary: 'Readiness Probe',\n      description: 'Kubernetes readiness probe - checks if the application is ready to receive traffic. If this fails, Kubernetes will remove the pod from service endpoints.',\n      responses: {\n        200: {\n          description: 'Application is ready to receive traffic',\n          content: {\n            'application/json': {\n              schema: {\n                type: 'object',\n                properties: {\n                  success: { type: 'boolean', example: true },\n                  data: {\n                    type: 'object',\n                    properties: {\n                      status: { type: 'string', example: 'ready' },\n                      database: {\n                        type: 'object',\n                        properties: {\n                          connected: { type: 'boolean', example: true },\n                          resources: { type: 'integer', example: 5 }\n                        }\n                      },\n                      timestamp: { type: 'string', format: 'date-time' }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        },\n        503: {\n          description: 'Application is not ready',\n          content: {\n            'application/json': {\n              schema: {\n                type: 'object',\n                properties: {\n                  success: { type: 'boolean', example: false },\n                  error: {\n                    type: 'object',\n                    properties: {\n                      message: { type: 'string', example: 'Service not ready' },\n                      code: { type: 'string', example: 'NOT_READY' },\n                      details: {\n                        type: 'object',\n                        properties: {\n                          database: {\n                            type: 'object',\n                            properties: {\n                              connected: { type: 'boolean', example: false },\n                              resources: { type: 'integer', example: 0 }\n                            }\n                          }\n                        }\n                      }\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  };\n\n  spec.tags.push({\n    name: 'Health',\n    description: 'Health check endpoints for monitoring and Kubernetes probes'\n  });\n\n  // Add Prometheus metrics endpoint if MetricsPlugin is active\n  const metricsPlugin = database.plugins?.metrics || database.plugins?.MetricsPlugin;\n  if (metricsPlugin && metricsPlugin.config?.prometheus?.enabled) {\n    const metricsPath = metricsPlugin.config.prometheus.path || '/metrics';\n    const isIntegrated = metricsPlugin.config.prometheus.mode !== 'standalone';\n\n    // Only add to OpenAPI if using integrated mode (same server)\n    if (isIntegrated) {\n      spec.paths[metricsPath] = {\n        get: {\n          tags: ['Monitoring'],\n          summary: 'Prometheus Metrics',\n          description: 'Exposes application metrics in Prometheus text-based exposition format for monitoring and observability. ' +\n                       'Metrics include operation counts, durations, errors, uptime, and resource statistics.',\n          responses: {\n            200: {\n              description: 'Metrics in Prometheus format',\n              content: {\n                'text/plain': {\n                  schema: {\n                    type: 'string',\n                    example: '# HELP s3db_operations_total Total number of operations by type and resource\\n' +\n                             '# TYPE s3db_operations_total counter\\n' +\n                             's3db_operations_total{operation=\"insert\",resource=\"cars\"} 1523\\n' +\n                             's3db_operations_total{operation=\"update\",resource=\"cars\"} 342\\n\\n' +\n                             '# HELP s3db_operation_duration_seconds Average operation duration in seconds\\n' +\n                             '# TYPE s3db_operation_duration_seconds gauge\\n' +\n                             's3db_operation_duration_seconds{operation=\"insert\",resource=\"cars\"} 0.045\\n\\n' +\n                             '# HELP s3db_operation_errors_total Total number of operation errors\\n' +\n                             '# TYPE s3db_operation_errors_total counter\\n' +\n                             's3db_operation_errors_total{operation=\"insert\",resource=\"cars\"} 12\\n'\n                  }\n                }\n              }\n            }\n          }\n        }\n      };\n\n      spec.tags.push({\n        name: 'Monitoring',\n        description: 'Monitoring and observability endpoints (Prometheus)'\n      });\n    }\n  }\n\n  return spec;\n}\n\nexport default {\n  generateOpenAPISpec,\n  generateResourceSchema,\n  generateResourcePaths\n};\n","/**\n * API Server - Hono-based HTTP server for s3db.js API Plugin\n *\n * Manages HTTP server lifecycle and routing\n */\n\nimport { Hono } from 'hono';\nimport { serve } from '@hono/node-server';\nimport { swaggerUI } from '@hono/swagger-ui';\nimport { createResourceRoutes, createRelationalRoutes } from './routes/resource-routes.js';\nimport { errorHandler } from './utils/error-handler.js';\nimport * as formatter from './utils/response-formatter.js';\nimport { generateOpenAPISpec } from './utils/openapi-generator.js';\n\n/**\n * API Server class\n * @class\n */\nexport class ApiServer {\n  /**\n   * Create API server\n   * @param {Object} options - Server options\n   * @param {number} options.port - Server port\n   * @param {string} options.host - Server host\n   * @param {Object} options.database - s3db.js database instance\n   * @param {Object} options.resources - Resource configuration\n   * @param {Array} options.middlewares - Global middlewares\n   */\n  constructor(options = {}) {\n    this.options = {\n      port: options.port || 3000,\n      host: options.host || '0.0.0.0',\n      database: options.database,\n      resources: options.resources || {},\n      middlewares: options.middlewares || [],\n      verbose: options.verbose || false,\n      auth: options.auth || {},\n      docsEnabled: options.docsEnabled !== false, // Enable /docs by default\n      docsUI: options.docsUI || 'redoc', // 'swagger' or 'redoc'\n      maxBodySize: options.maxBodySize || 10 * 1024 * 1024, // 10MB default\n      rootHandler: options.rootHandler, // Custom handler for root path, if not provided redirects to /docs\n      apiInfo: {\n        title: options.apiTitle || 's3db.js API',\n        version: options.apiVersion || '1.0.0',\n        description: options.apiDescription || 'Auto-generated REST API for s3db.js resources'\n      }\n    };\n\n    this.app = new Hono();\n    this.server = null;\n    this.isRunning = false;\n    this.openAPISpec = null;\n\n    // Detect if RelationPlugin is installed\n    this.relationsPlugin = this.options.database?.plugins?.relation ||\n                          this.options.database?.plugins?.RelationPlugin ||\n                          null;\n\n    this._setupRoutes();\n  }\n\n  /**\n   * Setup all routes\n   * @private\n   */\n  _setupRoutes() {\n    // Apply global middlewares\n    this.options.middlewares.forEach(middleware => {\n      this.app.use('*', middleware);\n    });\n\n    // Body size limit middleware (only for POST, PUT, PATCH)\n    this.app.use('*', async (c, next) => {\n      const method = c.req.method;\n\n      if (['POST', 'PUT', 'PATCH'].includes(method)) {\n        const contentLength = c.req.header('content-length');\n\n        if (contentLength) {\n          const size = parseInt(contentLength);\n\n          if (size > this.options.maxBodySize) {\n            const response = formatter.payloadTooLarge(size, this.options.maxBodySize);\n            c.header('Connection', 'close'); // Close connection for large payloads\n            return c.json(response, response._status);\n          }\n        }\n      }\n\n      await next();\n    });\n\n    // Kubernetes Liveness Probe - checks if app is alive\n    // If this fails, k8s will restart the pod\n    this.app.get('/health/live', (c) => {\n      // Simple check: if we can respond, we're alive\n      const response = formatter.success({\n        status: 'alive',\n        timestamp: new Date().toISOString()\n      });\n      return c.json(response);\n    });\n\n    // Kubernetes Readiness Probe - checks if app is ready to receive traffic\n    // If this fails, k8s will remove pod from service endpoints\n    this.app.get('/health/ready', (c) => {\n      // Check if database is connected and resources are loaded\n      const isReady = this.options.database &&\n                      this.options.database.connected &&\n                      Object.keys(this.options.database.resources).length > 0;\n\n      if (!isReady) {\n        const response = formatter.error('Service not ready', {\n          status: 503,\n          code: 'NOT_READY',\n          details: {\n            database: {\n              connected: this.options.database?.connected || false,\n              resources: Object.keys(this.options.database?.resources || {}).length\n            }\n          }\n        });\n        return c.json(response, 503);\n      }\n\n      const response = formatter.success({\n        status: 'ready',\n        database: {\n          connected: true,\n          resources: Object.keys(this.options.database.resources).length\n        },\n        timestamp: new Date().toISOString()\n      });\n      return c.json(response);\n    });\n\n    // Generic Health Check endpoint\n    this.app.get('/health', (c) => {\n      const response = formatter.success({\n        status: 'ok',\n        uptime: process.uptime(),\n        timestamp: new Date().toISOString(),\n        checks: {\n          liveness: '/health/live',\n          readiness: '/health/ready'\n        }\n      });\n      return c.json(response);\n    });\n\n    // Root endpoint - custom handler or redirect to docs\n    this.app.get('/', (c) => {\n      // If user provided a custom root handler, use it\n      if (this.options.rootHandler) {\n        return this.options.rootHandler(c);\n      }\n\n      // Otherwise, redirect to docs\n      return c.redirect('/docs', 302);\n    });\n\n    // OpenAPI spec endpoint\n    if (this.options.docsEnabled) {\n      this.app.get('/openapi.json', (c) => {\n        if (!this.openAPISpec) {\n          this.openAPISpec = this._generateOpenAPISpec();\n        }\n        return c.json(this.openAPISpec);\n      });\n\n      // API Documentation UI endpoint\n      if (this.options.docsUI === 'swagger') {\n        this.app.get('/docs', swaggerUI({\n          url: '/openapi.json'\n        }));\n      } else {\n        this.app.get('/docs', (c) => {\n          return c.html(`<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>${this.options.apiInfo.title} - API Documentation</title>\n  <style>\n    body {\n      margin: 0;\n      padding: 0;\n    }\n  </style>\n</head>\n<body>\n  <redoc spec-url=\"/openapi.json\"></redoc>\n  <script src=\"https://cdn.redoc.ly/redoc/v2.5.1/bundles/redoc.standalone.js\"></script>\n</body>\n</html>`);\n        });\n      }\n    }\n\n    // Setup resource routes\n    this._setupResourceRoutes();\n\n    // Setup relational routes if RelationPlugin is active\n    if (this.relationsPlugin) {\n      this._setupRelationalRoutes();\n    }\n\n    // Global error handler\n    this.app.onError((err, c) => {\n      return errorHandler(err, c);\n    });\n\n    // 404 handler\n    this.app.notFound((c) => {\n      const response = formatter.error('Route not found', {\n        status: 404,\n        code: 'NOT_FOUND',\n        details: {\n          path: c.req.path,\n          method: c.req.method\n        }\n      });\n      return c.json(response, 404);\n    });\n  }\n\n  /**\n   * Setup routes for all resources\n   * @private\n   */\n  _setupResourceRoutes() {\n    const { database, resources: resourceConfigs } = this.options;\n\n    // Get all resources from database\n    const resources = database.resources;\n\n    for (const [name, resource] of Object.entries(resources)) {\n      // Skip plugin resources unless explicitly included\n      if (name.startsWith('plg_') && !resourceConfigs[name]) {\n        continue;\n      }\n\n      // Get resource configuration\n      const config = resourceConfigs[name] || {\n        methods: ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'HEAD', 'OPTIONS'],\n        auth: false\n      };\n\n      // Determine version\n      const version = resource.config?.currentVersion || resource.version || 'v1';\n\n      // Create resource routes\n      const resourceApp = createResourceRoutes(resource, version, {\n        methods: config.methods,\n        customMiddleware: config.customMiddleware || [],\n        enableValidation: config.validation !== false\n      });\n\n      // Mount resource routes\n      this.app.route(`/${version}/${name}`, resourceApp);\n\n      if (this.options.verbose) {\n        console.log(`[API Plugin] Mounted routes for resource '${name}' at /${version}/${name}`);\n      }\n    }\n  }\n\n  /**\n   * Setup relational routes (when RelationPlugin is active)\n   * @private\n   */\n  _setupRelationalRoutes() {\n    if (!this.relationsPlugin || !this.relationsPlugin.relations) {\n      return;\n    }\n\n    const { database } = this.options;\n    const relations = this.relationsPlugin.relations;\n\n    if (this.options.verbose) {\n      console.log('[API Plugin] Setting up relational routes...');\n    }\n\n    for (const [resourceName, relationsDef] of Object.entries(relations)) {\n      const resource = database.resources[resourceName];\n      if (!resource) {\n        if (this.options.verbose) {\n          console.warn(`[API Plugin] Resource '${resourceName}' not found for relational routes`);\n        }\n        continue;\n      }\n\n      // Skip plugin resources unless explicitly included\n      if (resourceName.startsWith('plg_') && !this.options.resources[resourceName]) {\n        continue;\n      }\n\n      const version = resource.config?.currentVersion || resource.version || 'v1';\n\n      for (const [relationName, relationConfig] of Object.entries(relationsDef)) {\n        // Only create routes for relations that should be exposed via API\n        // Skip belongsTo relations (they're just reverse lookups, not useful as endpoints)\n        if (relationConfig.type === 'belongsTo') {\n          continue;\n        }\n\n        // Check if relation should be exposed (default: yes, unless explicitly disabled)\n        const resourceConfig = this.options.resources[resourceName];\n        const exposeRelation = resourceConfig?.relations?.[relationName]?.expose !== false;\n\n        if (!exposeRelation) {\n          continue;\n        }\n\n        // Create relational routes\n        const relationalApp = createRelationalRoutes(\n          resource,\n          relationName,\n          relationConfig,\n          version\n        );\n\n        // Mount relational routes at /{version}/{resource}/:id/{relation}\n        this.app.route(`/${version}/${resourceName}/:id/${relationName}`, relationalApp);\n\n        if (this.options.verbose) {\n          console.log(\n            `[API Plugin] Mounted relational route: /${version}/${resourceName}/:id/${relationName} ` +\n            `(${relationConfig.type} -> ${relationConfig.resource})`\n          );\n        }\n      }\n    }\n  }\n\n  /**\n   * Start the server\n   * @returns {Promise<void>}\n   */\n  async start() {\n    if (this.isRunning) {\n      console.warn('[API Plugin] Server is already running');\n      return;\n    }\n\n    const { port, host } = this.options;\n\n    return new Promise((resolve, reject) => {\n      try {\n        this.server = serve({\n          fetch: this.app.fetch,\n          port,\n          hostname: host\n        }, (info) => {\n          this.isRunning = true;\n          console.log(`[API Plugin] Server listening on http://${info.address}:${info.port}`);\n          resolve();\n        });\n      } catch (err) {\n        reject(err);\n      }\n    });\n  }\n\n  /**\n   * Stop the server\n   * @returns {Promise<void>}\n   */\n  async stop() {\n    if (!this.isRunning) {\n      console.warn('[API Plugin] Server is not running');\n      return;\n    }\n\n    if (this.server && typeof this.server.close === 'function') {\n      await new Promise((resolve) => {\n        this.server.close(() => {\n          this.isRunning = false;\n          console.log('[API Plugin] Server stopped');\n          resolve();\n        });\n      });\n    } else {\n      // For some Hono adapters, server might not have close method\n      this.isRunning = false;\n      console.log('[API Plugin] Server stopped');\n    }\n  }\n\n  /**\n   * Get server info\n   * @returns {Object} Server information\n   */\n  getInfo() {\n    return {\n      isRunning: this.isRunning,\n      port: this.options.port,\n      host: this.options.host,\n      resources: Object.keys(this.options.database.resources).length\n    };\n  }\n\n  /**\n   * Get Hono app instance\n   * @returns {Hono} Hono app\n   */\n  getApp() {\n    return this.app;\n  }\n\n  /**\n   * Generate OpenAPI specification\n   * @private\n   * @returns {Object} OpenAPI spec\n   */\n  _generateOpenAPISpec() {\n    const { port, host, database, resources, auth, apiInfo } = this.options;\n\n    return generateOpenAPISpec(database, {\n      title: apiInfo.title,\n      version: apiInfo.version,\n      description: apiInfo.description,\n      serverUrl: `http://${host === '0.0.0.0' ? 'localhost' : host}:${port}`,\n      auth,\n      resources\n    });\n  }\n}\n\nexport default ApiServer;\n","/**\n * Plugin Dependency Validation System\n *\n * Validates that optional plugin dependencies are installed and meet version requirements.\n * This keeps the core s3db.js package lightweight while ensuring plugins work correctly.\n *\n * @example\n * // In a plugin constructor:\n * await requirePluginDependency('postgresql-replicator');\n */\n\n/**\n * Plugin dependency registry\n * Maps plugin identifiers to their required dependencies\n */\nexport const PLUGIN_DEPENDENCIES = {\n  'postgresql-replicator': {\n    name: 'PostgreSQL Replicator',\n    docsUrl: 'https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/replicator.md',\n    dependencies: {\n      'pg': {\n        version: '^8.0.0',\n        description: 'PostgreSQL client for Node.js',\n        installCommand: 'pnpm add pg',\n        npmUrl: 'https://www.npmjs.com/package/pg'\n      }\n    }\n  },\n  'bigquery-replicator': {\n    name: 'BigQuery Replicator',\n    docsUrl: 'https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/replicator.md',\n    dependencies: {\n      '@google-cloud/bigquery': {\n        version: '^7.0.0',\n        description: 'Google Cloud BigQuery SDK',\n        installCommand: 'pnpm add @google-cloud/bigquery',\n        npmUrl: 'https://www.npmjs.com/package/@google-cloud/bigquery'\n      }\n    }\n  },\n  'sqs-replicator': {\n    name: 'SQS Replicator',\n    docsUrl: 'https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/replicator.md',\n    dependencies: {\n      '@aws-sdk/client-sqs': {\n        version: '^3.0.0',\n        description: 'AWS SDK for SQS',\n        installCommand: 'pnpm add @aws-sdk/client-sqs',\n        npmUrl: 'https://www.npmjs.com/package/@aws-sdk/client-sqs'\n      }\n    }\n  },\n  'sqs-consumer': {\n    name: 'SQS Queue Consumer',\n    docsUrl: 'https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/queue-consumer.md',\n    dependencies: {\n      '@aws-sdk/client-sqs': {\n        version: '^3.0.0',\n        description: 'AWS SDK for SQS',\n        installCommand: 'pnpm add @aws-sdk/client-sqs',\n        npmUrl: 'https://www.npmjs.com/package/@aws-sdk/client-sqs'\n      }\n    }\n  },\n  'rabbitmq-consumer': {\n    name: 'RabbitMQ Queue Consumer',\n    docsUrl: 'https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/queue-consumer.md',\n    dependencies: {\n      'amqplib': {\n        version: '^0.10.0',\n        description: 'AMQP 0-9-1 library for RabbitMQ',\n        installCommand: 'pnpm add amqplib',\n        npmUrl: 'https://www.npmjs.com/package/amqplib'\n      }\n    }\n  },\n  'tfstate-plugin': {\n    name: 'Tfstate Plugin',\n    docsUrl: 'https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/tfstate.md',\n    dependencies: {\n      'node-cron': {\n        version: '^4.0.0',\n        description: 'Cron job scheduler for auto-sync functionality',\n        installCommand: 'pnpm add node-cron',\n        npmUrl: 'https://www.npmjs.com/package/node-cron'\n      }\n    }\n  },\n  'api-plugin': {\n    name: 'API Plugin',\n    docsUrl: 'https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/api.md',\n    dependencies: {\n      'hono': {\n        version: '^4.0.0',\n        description: 'Ultra-light HTTP server framework',\n        installCommand: 'pnpm add hono',\n        npmUrl: 'https://www.npmjs.com/package/hono'\n      },\n      '@hono/node-server': {\n        version: '^1.0.0',\n        description: 'Node.js adapter for Hono',\n        installCommand: 'pnpm add @hono/node-server',\n        npmUrl: 'https://www.npmjs.com/package/@hono/node-server'\n      },\n      '@hono/swagger-ui': {\n        version: '^0.4.0',\n        description: 'Swagger UI integration for Hono',\n        installCommand: 'pnpm add @hono/swagger-ui',\n        npmUrl: 'https://www.npmjs.com/package/@hono/swagger-ui'\n      }\n    }\n  }\n};\n\n/**\n * Simple semver comparison for major version checking\n * @param {string} actual - Actual version (e.g., \"8.11.3\")\n * @param {string} required - Required version range (e.g., \"^8.0.0\")\n * @returns {boolean} True if version is compatible\n */\nfunction isVersionCompatible(actual, required) {\n  if (!actual || !required) return false;\n\n  // Remove ^ and ~ prefixes\n  const cleanRequired = required.replace(/^[\\^~]/, '');\n\n  // Extract major versions\n  const actualMajor = parseInt(actual.split('.')[0], 10);\n  const requiredMajor = parseInt(cleanRequired.split('.')[0], 10);\n\n  // For ^X.Y.Z, accept any version >= X.Y.Z with same major\n  if (required.startsWith('^')) {\n    return actualMajor === requiredMajor;\n  }\n\n  // For ~X.Y.Z, accept any version >= X.Y.Z with same major.minor\n  if (required.startsWith('~')) {\n    const actualMinor = parseInt(actual.split('.')[1] || '0', 10);\n    const requiredMinor = parseInt(cleanRequired.split('.')[1] || '0', 10);\n    return actualMajor === requiredMajor && actualMinor >= requiredMinor;\n  }\n\n  // Exact match for unspecified ranges\n  return actualMajor >= requiredMajor;\n}\n\n/**\n * Try to load a package and get its version\n * @param {string} packageName - NPM package name\n * @returns {Promise<{installed: boolean, version: string|null, error: Error|null}>}\n */\nasync function tryLoadPackage(packageName) {\n  try {\n    // Try to import the package\n    const pkg = await import(packageName);\n\n    // Try to get version from package.json\n    let version = null;\n    try {\n      const pkgJson = await import(`${packageName}/package.json`, {\n        assert: { type: 'json' }\n      });\n      version = pkgJson.default?.version || pkgJson.version || null;\n    } catch (e) {\n      // Package.json not accessible, version unknown but package exists\n      version = 'unknown';\n    }\n\n    return { installed: true, version, error: null };\n  } catch (error) {\n    return { installed: false, version: null, error };\n  }\n}\n\n/**\n * Validate that a plugin's dependencies are installed and meet version requirements\n * @param {string} pluginId - Plugin identifier from PLUGIN_DEPENDENCIES\n * @param {Object} options - Validation options\n * @param {boolean} options.throwOnError - Throw error if validation fails (default: true)\n * @param {boolean} options.checkVersions - Check version compatibility (default: true)\n * @returns {Promise<{valid: boolean, missing: string[], incompatible: string[], messages: string[]}>}\n * @throws {Error} If throwOnError=true and validation fails\n */\nexport async function requirePluginDependency(pluginId, options = {}) {\n  const {\n    throwOnError = true,\n    checkVersions = true\n  } = options;\n\n  const pluginDef = PLUGIN_DEPENDENCIES[pluginId];\n\n  if (!pluginDef) {\n    const error = new Error(\n      `Unknown plugin identifier: ${pluginId}. ` +\n      `Available plugins: ${Object.keys(PLUGIN_DEPENDENCIES).join(', ')}`\n    );\n    if (throwOnError) throw error;\n    return { valid: false, missing: [], incompatible: [], messages: [error.message] };\n  }\n\n  const missing = [];\n  const incompatible = [];\n  const messages = [];\n\n  // Check each dependency\n  for (const [pkgName, pkgInfo] of Object.entries(pluginDef.dependencies)) {\n    const { installed, version, error } = await tryLoadPackage(pkgName);\n\n    if (!installed) {\n      missing.push(pkgName);\n      messages.push(\n        `❌ Missing dependency: ${pkgName}\\n` +\n        `   Description: ${pkgInfo.description}\\n` +\n        `   Required: ${pkgInfo.version}\\n` +\n        `   Install: ${pkgInfo.installCommand}`\n      );\n      continue;\n    }\n\n    // Check version compatibility if requested\n    if (checkVersions && version && version !== 'unknown') {\n      const compatible = isVersionCompatible(version, pkgInfo.version);\n\n      if (!compatible) {\n        incompatible.push(pkgName);\n        messages.push(\n          `⚠️  Incompatible version: ${pkgName}\\n` +\n          `   Installed: ${version}\\n` +\n          `   Required: ${pkgInfo.version}\\n` +\n          `   Update: ${pkgInfo.installCommand}`\n        );\n      } else {\n        messages.push(\n          `✅ ${pkgName}@${version} (compatible with ${pkgInfo.version})`\n        );\n      }\n    } else {\n      messages.push(\n        `✅ ${pkgName}@${version || 'unknown'} (installed)`\n      );\n    }\n  }\n\n  const valid = missing.length === 0 && incompatible.length === 0;\n\n  // Throw comprehensive error if validation failed\n  if (!valid && throwOnError) {\n    const depCount = Object.keys(pluginDef.dependencies).length;\n    const missingCount = missing.length;\n    const incompatCount = incompatible.length;\n\n    const errorMsg = [\n      '',\n      '╔══════════════════════════════════════════════════════════════════════╗',\n      `║  ❌ ${pluginDef.name} - Missing Dependencies  ║`,\n      '╚══════════════════════════════════════════════════════════════════════╝',\n      '',\n      `📦 Plugin: ${pluginId}`,\n      `📊 Status: ${depCount - missingCount - incompatCount}/${depCount} dependencies satisfied`,\n      '',\n      '🔍 Dependency Status:',\n      '─────────────────────────────────────────────────────────────────────',\n      ...messages,\n      '',\n      '🚀 Quick Fix - Install Missing Dependencies:',\n      '─────────────────────────────────────────────────────────────────────',\n      '',\n      '  Option 1: Install individually',\n      ...Object.entries(pluginDef.dependencies)\n        .filter(([pkg]) => missing.includes(pkg) || incompatible.includes(pkg))\n        .map(([pkg, info]) => `    ${info.installCommand}`),\n      '',\n      '  Option 2: Install all at once',\n      `    pnpm add ${Object.keys(pluginDef.dependencies).join(' ')}`,\n      '',\n      '📚 Documentation:',\n      `    ${pluginDef.docsUrl}`,\n      '',\n      '💡 Troubleshooting:',\n      '  • If packages are installed but not detected, try:',\n      '    1. Delete node_modules and reinstall: rm -rf node_modules && pnpm install',\n      '    2. Check Node.js version: node --version (requires Node 18+)',\n      '    3. Verify pnpm version: pnpm --version (requires pnpm 8+)',\n      '',\n      '  • Still having issues? Check:',\n      '    - Package.json has correct dependencies listed',\n      '    - No conflicting versions in pnpm-lock.yaml',\n      '    - File permissions (especially in node_modules/)',\n      '',\n      '═══════════════════════════════════════════════════════════════════════',\n      ''\n    ].join('\\n');\n\n    const error = new Error(errorMsg);\n    error.pluginId = pluginId;\n    error.pluginName = pluginDef.name;\n    error.missing = missing;\n    error.incompatible = incompatible;\n    error.docsUrl = pluginDef.docsUrl;\n\n    throw error;\n  }\n\n  return { valid, missing, incompatible, messages };\n}\n\n/**\n * Check multiple plugin dependencies at once\n * @param {string[]} pluginIds - Array of plugin identifiers\n * @param {Object} options - Validation options\n * @returns {Promise<Map<string, {valid: boolean, missing: string[], incompatible: string[], messages: string[]}>>}\n */\nexport async function checkPluginDependencies(pluginIds, options = {}) {\n  const results = new Map();\n\n  for (const pluginId of pluginIds) {\n    const result = await requirePluginDependency(pluginId, {\n      ...options,\n      throwOnError: false\n    });\n    results.set(pluginId, result);\n  }\n\n  return results;\n}\n\n/**\n * Get a report of all plugin dependencies and their status\n * @returns {Promise<string>} Formatted report\n */\nexport async function getPluginDependencyReport() {\n  const pluginIds = Object.keys(PLUGIN_DEPENDENCIES);\n  const results = await checkPluginDependencies(pluginIds);\n\n  const lines = [\n    '╔═══════════════════════════════════════════════════════════════╗',\n    '║           S3DB.JS - Plugin Dependency Status Report          ║',\n    '╚═══════════════════════════════════════════════════════════════╝',\n    ''\n  ];\n\n  for (const [pluginId, result] of results.entries()) {\n    const pluginDef = PLUGIN_DEPENDENCIES[pluginId];\n    const status = result.valid ? '✅ READY' : '❌ MISSING';\n\n    lines.push(`${status} - ${pluginDef.name}`);\n\n    if (result.messages.length > 0) {\n      result.messages.forEach(msg => {\n        lines.push(`      ${msg.replace(/\\n/g, '\\n      ')}`);\n      });\n    }\n\n    lines.push('');\n  }\n\n  const totalPlugins = pluginIds.length;\n  const readyPlugins = Array.from(results.values()).filter(r => r.valid).length;\n\n  lines.push('─────────────────────────────────────────────────────────────────');\n  lines.push(`Summary: ${readyPlugins}/${totalPlugins} plugins ready to use`);\n  lines.push('─────────────────────────────────────────────────────────────────');\n\n  return lines.join('\\n');\n}\n\nexport default requirePluginDependency;\n","/**\n * API Plugin - RESTful HTTP API for s3db.js resources\n *\n * Transforms s3db.js resources into HTTP REST endpoints with:\n * - Multiple authentication methods (JWT, API Key, Basic Auth, Public)\n * - Automatic versioning based on resource version\n * - Production features (CORS, Rate Limiting, Logging, Compression)\n * - Schema validation middleware\n * - Custom middleware support\n *\n * @example\n * const apiPlugin = new ApiPlugin({\n *   port: 3000,\n *   docs: { enabled: true },\n *   auth: {\n *     jwt: { enabled: true, secret: 'my-secret' },\n *     apiKey: { enabled: true }\n *   },\n *   resources: {\n *     cars: {\n *       auth: ['jwt', 'apiKey'],\n *       methods: ['GET', 'POST', 'PUT', 'DELETE']\n *     }\n *   },\n *   cors: { enabled: true },\n *   rateLimit: { enabled: true, maxRequests: 100 },\n *   logging: { enabled: true },\n *   compression: { enabled: true },\n *   validation: { enabled: true }\n * });\n *\n * await database.usePlugin(apiPlugin);\n */\n\nimport { Plugin } from '../plugin.class.js';\nimport { ApiServer } from './server.js';\nimport { requirePluginDependency } from '../concerns/plugin-dependencies.js';\nimport tryFn from '../../concerns/try-fn.js';\n\n/**\n * API Plugin class\n * @class\n * @extends Plugin\n */\nexport class ApiPlugin extends Plugin {\n  /**\n   * Create API Plugin instance\n   * @param {Object} options - Plugin configuration\n   */\n  constructor(options = {}) {\n    super(options);\n\n    this.config = {\n      // Server configuration\n      port: options.port || 3000,\n      host: options.host || '0.0.0.0',\n      verbose: options.verbose || false,\n\n      docs: {\n        enabled: options.docs?.enabled !== false && options.docsEnabled !== false, // Enable by default\n        ui: options.docs?.ui || 'redoc', // 'swagger' or 'redoc' (redoc is prettier!)\n        title: options.docs?.title || options.apiTitle || 's3db.js API',\n        version: options.docs?.version || options.apiVersion || '1.0.0',\n        description: options.docs?.description || options.apiDescription || 'Auto-generated REST API for s3db.js resources'\n      },\n\n      // Authentication configuration\n      auth: {\n        jwt: {\n          enabled: options.auth?.jwt?.enabled || false,\n          secret: options.auth?.jwt?.secret || null,\n          expiresIn: options.auth?.jwt?.expiresIn || '7d'\n        },\n        apiKey: {\n          enabled: options.auth?.apiKey?.enabled || false,\n          headerName: options.auth?.apiKey?.headerName || 'X-API-Key'\n        },\n        basic: {\n          enabled: options.auth?.basic?.enabled || false,\n          realm: options.auth?.basic?.realm || 'API Access'\n        }\n      },\n\n      // Resource configuration\n      resources: options.resources || {},\n\n      // CORS configuration\n      cors: {\n        enabled: options.cors?.enabled || false,\n        origin: options.cors?.origin || '*',\n        methods: options.cors?.methods || ['GET', 'POST', 'PUT', 'PATCH', 'DELETE', 'OPTIONS'],\n        allowedHeaders: options.cors?.allowedHeaders || ['Content-Type', 'Authorization', 'X-API-Key'],\n        exposedHeaders: options.cors?.exposedHeaders || ['X-Total-Count', 'X-Page-Count'],\n        credentials: options.cors?.credentials !== false,\n        maxAge: options.cors?.maxAge || 86400\n      },\n\n      // Rate limiting configuration\n      rateLimit: {\n        enabled: options.rateLimit?.enabled || false,\n        windowMs: options.rateLimit?.windowMs || 60000, // 1 minute\n        maxRequests: options.rateLimit?.maxRequests || 100,\n        keyGenerator: options.rateLimit?.keyGenerator || null\n      },\n\n      // Logging configuration\n      logging: {\n        enabled: options.logging?.enabled || false,\n        format: options.logging?.format || ':method :path :status :response-time ms',\n        verbose: options.logging?.verbose || false\n      },\n\n      // Compression configuration\n      compression: {\n        enabled: options.compression?.enabled || false,\n        threshold: options.compression?.threshold || 1024, // 1KB\n        level: options.compression?.level || 6\n      },\n\n      // Validation configuration\n      validation: {\n        enabled: options.validation?.enabled !== false,\n        validateOnInsert: options.validation?.validateOnInsert !== false,\n        validateOnUpdate: options.validation?.validateOnUpdate !== false,\n        returnValidationErrors: options.validation?.returnValidationErrors !== false\n      },\n\n      // Content Security Policy (CSP) configuration\n      csp: {\n        enabled: options.csp?.enabled || false,\n        // Default CSP that works with Redoc v2.5.1 (allows CDN scripts/styles)\n        directives: options.csp?.directives || {\n          'default-src': [\"'self'\"],\n          'script-src': [\"'self'\", \"'unsafe-inline'\", 'https://cdn.redoc.ly/redoc/v2.5.1/'],\n          'style-src': [\"'self'\", \"'unsafe-inline'\", 'https://cdn.redoc.ly/redoc/v2.5.1/', 'https://fonts.googleapis.com'],\n          'font-src': [\"'self'\", 'https://fonts.gstatic.com'],\n          'img-src': [\"'self'\", 'data:', 'https:'],\n          'connect-src': [\"'self'\"]\n        },\n        reportOnly: options.csp?.reportOnly || false, // If true, uses Content-Security-Policy-Report-Only\n        reportUri: options.csp?.reportUri || null\n      },\n\n      // Custom global middlewares\n      middlewares: options.middlewares || []\n    };\n\n    this.server = null;\n    this.usersResource = null;\n  }\n\n  /**\n   * Validate plugin dependencies\n   * @private\n   */\n  async _validateDependencies() {\n    await requirePluginDependency('api-plugin', {\n      throwOnError: true,\n      checkVersions: true\n    });\n  }\n\n  /**\n   * Install plugin\n   */\n  async onInstall() {\n    if (this.config.verbose) {\n      console.log('[API Plugin] Installing...');\n    }\n\n    // Validate dependencies\n    try {\n      await this._validateDependencies();\n    } catch (err) {\n      console.error('[API Plugin] Dependency validation failed:', err.message);\n      throw err;\n    }\n\n    // Create users resource if authentication is enabled\n    const authEnabled = this.config.auth.jwt.enabled ||\n                       this.config.auth.apiKey.enabled ||\n                       this.config.auth.basic.enabled;\n\n    if (authEnabled) {\n      await this._createUsersResource();\n    }\n\n    // Setup middlewares\n    await this._setupMiddlewares();\n\n    if (this.config.verbose) {\n      console.log('[API Plugin] Installed successfully');\n    }\n  }\n\n  /**\n   * Create users resource for authentication\n   * @private\n   */\n  async _createUsersResource() {\n    const [ok, err, resource] = await tryFn(() =>\n      this.database.createResource({\n        name: 'plg_users',\n        attributes: {\n          id: 'string|required',\n          username: 'string|required|minlength:3',\n          email: 'string|optional|email',\n          password: 'secret|required|minlength:8',\n          apiKey: 'string|optional',\n          jwtSecret: 'string|optional',\n          role: 'string|default:user',\n          active: 'boolean|default:true',\n          createdAt: 'string|optional',\n          lastLoginAt: 'string|optional',\n          metadata: 'json|optional'\n        },\n        behavior: 'body-overflow',\n        timestamps: true,\n        createdBy: 'ApiPlugin'\n      })\n    );\n\n    if (ok) {\n      this.usersResource = resource;\n      if (this.config.verbose) {\n        console.log('[API Plugin] Created plg_users resource for authentication');\n      }\n    } else if (this.database.resources.plg_users) {\n      // Resource already exists\n      this.usersResource = this.database.resources.plg_users;\n      if (this.config.verbose) {\n        console.log('[API Plugin] Using existing plg_users resource');\n      }\n    } else {\n      throw err;\n    }\n  }\n\n  /**\n   * Setup middlewares\n   * @private\n   */\n  async _setupMiddlewares() {\n    const middlewares = [];\n\n    // Add request ID middleware\n    middlewares.push(async (c, next) => {\n      c.set('requestId', crypto.randomUUID());\n      c.set('verbose', this.config.verbose);\n      await next();\n    });\n\n    // Add CORS middleware\n    if (this.config.cors.enabled) {\n      const corsMiddleware = await this._createCorsMiddleware();\n      middlewares.push(corsMiddleware);\n    }\n\n    // Add CSP middleware\n    if (this.config.csp.enabled) {\n      const cspMiddleware = await this._createCSPMiddleware();\n      middlewares.push(cspMiddleware);\n    }\n\n    // Add rate limiting middleware\n    if (this.config.rateLimit.enabled) {\n      const rateLimitMiddleware = await this._createRateLimitMiddleware();\n      middlewares.push(rateLimitMiddleware);\n    }\n\n    // Add logging middleware\n    if (this.config.logging.enabled) {\n      const loggingMiddleware = await this._createLoggingMiddleware();\n      middlewares.push(loggingMiddleware);\n    }\n\n    // Add compression middleware\n    if (this.config.compression.enabled) {\n      const compressionMiddleware = await this._createCompressionMiddleware();\n      middlewares.push(compressionMiddleware);\n    }\n\n    // Add custom middlewares\n    middlewares.push(...this.config.middlewares);\n\n    // Store compiled middlewares\n    this.compiledMiddlewares = middlewares;\n  }\n\n  /**\n   * Create CORS middleware (placeholder)\n   * @private\n   */\n  async _createCorsMiddleware() {\n    return async (c, next) => {\n      const { origin, methods, allowedHeaders, exposedHeaders, credentials, maxAge } = this.config.cors;\n\n      // Set CORS headers\n      c.header('Access-Control-Allow-Origin', origin);\n      c.header('Access-Control-Allow-Methods', methods.join(', '));\n      c.header('Access-Control-Allow-Headers', allowedHeaders.join(', '));\n      c.header('Access-Control-Expose-Headers', exposedHeaders.join(', '));\n\n      if (credentials) {\n        c.header('Access-Control-Allow-Credentials', 'true');\n      }\n\n      c.header('Access-Control-Max-Age', maxAge.toString());\n\n      // Handle OPTIONS preflight\n      if (c.req.method === 'OPTIONS') {\n        return c.body(null, 204);\n      }\n\n      await next();\n    };\n  }\n\n  /**\n   * Create CSP middleware\n   * @private\n   */\n  async _createCSPMiddleware() {\n    return async (c, next) => {\n      const { directives, reportOnly, reportUri } = this.config.csp;\n\n      // Build CSP header value from directives\n      const cspParts = [];\n      for (const [directive, values] of Object.entries(directives)) {\n        if (Array.isArray(values) && values.length > 0) {\n          cspParts.push(`${directive} ${values.join(' ')}`);\n        } else if (typeof values === 'string') {\n          cspParts.push(`${directive} ${values}`);\n        }\n      }\n\n      // Add report-uri if specified\n      if (reportUri) {\n        cspParts.push(`report-uri ${reportUri}`);\n      }\n\n      const cspValue = cspParts.join('; ');\n\n      // Set appropriate header (report-only or enforced)\n      const headerName = reportOnly\n        ? 'Content-Security-Policy-Report-Only'\n        : 'Content-Security-Policy';\n\n      c.header(headerName, cspValue);\n\n      await next();\n    };\n  }\n\n  /**\n   * Create rate limiting middleware (placeholder)\n   * @private\n   */\n  async _createRateLimitMiddleware() {\n    const requests = new Map();\n    const { windowMs, maxRequests, keyGenerator } = this.config.rateLimit;\n\n    return async (c, next) => {\n      // Generate key (IP or custom)\n      const key = keyGenerator\n        ? keyGenerator(c)\n        : c.req.header('x-forwarded-for') || c.req.header('cf-connecting-ip') || 'unknown';\n\n      // Get or create request count\n      if (!requests.has(key)) {\n        requests.set(key, { count: 0, resetAt: Date.now() + windowMs });\n      }\n\n      const record = requests.get(key);\n\n      // Reset if window expired\n      if (Date.now() > record.resetAt) {\n        record.count = 0;\n        record.resetAt = Date.now() + windowMs;\n      }\n\n      // Check limit\n      if (record.count >= maxRequests) {\n        const retryAfter = Math.ceil((record.resetAt - Date.now()) / 1000);\n        c.header('Retry-After', retryAfter.toString());\n        c.header('X-RateLimit-Limit', maxRequests.toString());\n        c.header('X-RateLimit-Remaining', '0');\n        c.header('X-RateLimit-Reset', record.resetAt.toString());\n\n        return c.json({\n          success: false,\n          error: {\n            message: 'Rate limit exceeded',\n            code: 'RATE_LIMIT_EXCEEDED',\n            details: { retryAfter }\n          }\n        }, 429);\n      }\n\n      // Increment count\n      record.count++;\n\n      // Set rate limit headers\n      c.header('X-RateLimit-Limit', maxRequests.toString());\n      c.header('X-RateLimit-Remaining', (maxRequests - record.count).toString());\n      c.header('X-RateLimit-Reset', record.resetAt.toString());\n\n      await next();\n    };\n  }\n\n  /**\n   * Create logging middleware (placeholder)\n   * @private\n   */\n  async _createLoggingMiddleware() {\n    return async (c, next) => {\n      const start = Date.now();\n      const method = c.req.method;\n      const path = c.req.path;\n      const requestId = c.get('requestId');\n\n      await next();\n\n      const duration = Date.now() - start;\n      const status = c.res.status;\n      const user = c.get('user')?.username || 'anonymous';\n\n      console.log(`[API Plugin] ${requestId} - ${method} ${path} ${status} ${duration}ms - ${user}`);\n    };\n  }\n\n  /**\n   * Create compression middleware (placeholder)\n   * @private\n   */\n  async _createCompressionMiddleware() {\n    return async (c, next) => {\n      await next();\n\n      // Note: Actual compression would require proper streaming support\n      // For now, this is a placeholder\n      const acceptEncoding = c.req.header('accept-encoding') || '';\n\n      if (acceptEncoding.includes('gzip')) {\n        c.header('Content-Encoding', 'gzip');\n      } else if (acceptEncoding.includes('deflate')) {\n        c.header('Content-Encoding', 'deflate');\n      }\n    };\n  }\n\n  /**\n   * Start plugin\n   */\n  async onStart() {\n    if (this.config.verbose) {\n      console.log('[API Plugin] Starting server...');\n    }\n\n    // Create server instance\n    this.server = new ApiServer({\n      port: this.config.port,\n      host: this.config.host,\n      database: this.database,\n      resources: this.config.resources,\n      middlewares: this.compiledMiddlewares,\n      verbose: this.config.verbose,\n      auth: this.config.auth,\n      docsEnabled: this.config.docs.enabled,\n      docsUI: this.config.docs.ui,\n      apiTitle: this.config.docs.title,\n      apiVersion: this.config.docs.version,\n      apiDescription: this.config.docs.description\n    });\n\n    // Start server\n    await this.server.start();\n\n    this.emit('plugin.started', {\n      port: this.config.port,\n      host: this.config.host\n    });\n  }\n\n  /**\n   * Stop plugin\n   */\n  async onStop() {\n    if (this.config.verbose) {\n      console.log('[API Plugin] Stopping server...');\n    }\n\n    if (this.server) {\n      await this.server.stop();\n      this.server = null;\n    }\n\n    this.emit('plugin.stopped');\n  }\n\n  /**\n   * Uninstall plugin\n   */\n  async onUninstall(options = {}) {\n    const { purgeData = false } = options;\n\n    // Stop server if running\n    await this.onStop();\n\n    // Optionally delete users resource\n    if (purgeData && this.usersResource) {\n      // Delete all users (plugin data cleanup happens automatically via base Plugin class)\n      const [ok] = await tryFn(() => this.database.deleteResource('plg_users'));\n\n      if (ok && this.config.verbose) {\n        console.log('[API Plugin] Deleted plg_users resource');\n      }\n    }\n\n    if (this.config.verbose) {\n      console.log('[API Plugin] Uninstalled successfully');\n    }\n  }\n\n  /**\n   * Get server information\n   * @returns {Object} Server info\n   */\n  getServerInfo() {\n    return this.server ? this.server.getInfo() : { isRunning: false };\n  }\n\n  /**\n   * Get Hono app instance (for advanced usage)\n   * @returns {Hono|null} Hono app\n   */\n  getApp() {\n    return this.server ? this.server.getApp() : null;\n  }\n}\n\nexport default ApiPlugin;\n","import Plugin from \"./plugin.class.js\";\nimport tryFn from \"../concerns/try-fn.js\";\n\nexport class AuditPlugin extends Plugin {\n  constructor(options = {}) {\n    super(options);\n    this.auditResource = null;\n    this.config = {\n      includeData: options.includeData !== false,\n      includePartitions: options.includePartitions !== false,\n      maxDataSize: options.maxDataSize || 10000,\n      ...options\n    };\n  }\n\n  async onInstall() {\n    // Create audit resource\n    const [ok, err, auditResource] = await tryFn(() => this.database.createResource({\n      name: 'plg_audits',\n      attributes: {\n        id: 'string|required',\n        resourceName: 'string|required',\n        operation: 'string|required',\n        recordId: 'string|required',\n        userId: 'string|optional',\n        timestamp: 'string|required',\n        createdAt: 'string|required', // YYYY-MM-DD for partitioning\n        oldData: 'string|optional',\n        newData: 'string|optional',\n        partition: 'string|optional',\n        partitionValues: 'string|optional',\n        metadata: 'string|optional'\n      },\n      partitions: {\n        byDate: { fields: { createdAt: 'string|maxlength:10' } },\n        byResource: { fields: { resourceName: 'string' } }\n      },\n      behavior: 'body-overflow'\n    }));\n    this.auditResource = ok ? auditResource : (this.database.resources.plg_audits || null);\n    if (!ok && !this.auditResource) return;\n\n    // Hook into database for new resources\n    this.database.addHook('afterCreateResource', (context) => {\n      if (context.resource.name !== 'plg_audits') {\n        this.setupResourceAuditing(context.resource);\n      }\n    });\n\n    // Setup existing resources\n    for (const resource of Object.values(this.database.resources)) {\n      if (resource.name !== 'plg_audits') {\n        this.setupResourceAuditing(resource);\n      }\n    }\n  }\n\n  async onStart() {\n    // Ready\n  }\n\n  async onStop() {\n    // No cleanup needed\n  }\n\n  setupResourceAuditing(resource) {\n    // Insert\n    resource.on('insert', async (data) => {\n      const partitionValues = this.config.includePartitions ? this.getPartitionValues(data, resource) : null;\n      await this.logAudit({\n        resourceName: resource.name,\n        operation: 'insert',\n        recordId: data.id || 'auto-generated',\n        oldData: null,\n        newData: this.config.includeData ? JSON.stringify(this.truncateData(data)) : null,\n        partition: partitionValues ? this.getPrimaryPartition(partitionValues) : null,\n        partitionValues: partitionValues ? JSON.stringify(partitionValues) : null\n      });\n    });\n\n    // Update\n    resource.on('update', async (data) => {\n      let oldData = data.$before;\n      if (this.config.includeData && !oldData) {\n        const [ok, err, fetched] = await tryFn(() => resource.get(data.id));\n        if (ok) oldData = fetched;\n      }\n\n      const partitionValues = this.config.includePartitions ? this.getPartitionValues(data, resource) : null;\n      await this.logAudit({\n        resourceName: resource.name,\n        operation: 'update',\n        recordId: data.id,\n        oldData: oldData && this.config.includeData ? JSON.stringify(this.truncateData(oldData)) : null,\n        newData: this.config.includeData ? JSON.stringify(this.truncateData(data)) : null,\n        partition: partitionValues ? this.getPrimaryPartition(partitionValues) : null,\n        partitionValues: partitionValues ? JSON.stringify(partitionValues) : null\n      });\n    });\n\n    // Delete\n    resource.on('delete', async (data) => {\n      let oldData = data;\n      if (this.config.includeData && !oldData) {\n        const [ok, err, fetched] = await tryFn(() => resource.get(data.id));\n        if (ok) oldData = fetched;\n      }\n\n      const partitionValues = oldData && this.config.includePartitions ? this.getPartitionValues(oldData, resource) : null;\n      await this.logAudit({\n        resourceName: resource.name,\n        operation: 'delete',\n        recordId: data.id,\n        oldData: oldData && this.config.includeData ? JSON.stringify(this.truncateData(oldData)) : null,\n        newData: null,\n        partition: partitionValues ? this.getPrimaryPartition(partitionValues) : null,\n        partitionValues: partitionValues ? JSON.stringify(partitionValues) : null\n      });\n    });\n\n    // DeleteMany - We need to intercept before deletion to get the data\n    const originalDeleteMany = resource.deleteMany.bind(resource);\n    const plugin = this;\n    resource.deleteMany = async function(ids) {\n      // Fetch all objects before deletion for audit logging\n      const objectsToDelete = [];\n      for (const id of ids) {\n        const [ok, err, fetched] = await tryFn(() => resource.get(id));\n        if (ok) {\n          objectsToDelete.push(fetched);\n        } else {\n          objectsToDelete.push({ id }); // Just store the ID if we can't fetch\n        }\n      }\n      \n      // Perform the actual deletion\n      const result = await originalDeleteMany(ids);\n      \n      // Log audit entries after successful deletion\n      for (const oldData of objectsToDelete) {\n        const partitionValues = oldData && plugin.config.includePartitions ? plugin.getPartitionValues(oldData, resource) : null;\n        await plugin.logAudit({\n          resourceName: resource.name,\n          operation: 'deleteMany',\n          recordId: oldData.id,\n          oldData: oldData && plugin.config.includeData ? JSON.stringify(plugin.truncateData(oldData)) : null,\n          newData: null,\n          partition: partitionValues ? plugin.getPrimaryPartition(partitionValues) : null,\n          partitionValues: partitionValues ? JSON.stringify(partitionValues) : null\n        });\n      }\n      \n      return result;\n    };\n    \n    // Store reference for cleanup if needed\n    resource._originalDeleteMany = originalDeleteMany;\n  }\n\n  // Backward compatibility for tests\n  installEventListenersForResource(resource) {\n    return this.setupResourceAuditing(resource);\n  }\n\n  async logAudit(auditData) {\n    if (!this.auditResource) {\n      return;\n    }\n\n    const now = new Date();\n    const auditRecord = {\n      id: `audit-${Date.now()}-${Math.random().toString(36).substring(2, 11)}`,\n      userId: this.getCurrentUserId?.() || 'system',\n      timestamp: now.toISOString(),\n      createdAt: now.toISOString().slice(0, 10), // YYYY-MM-DD for partitioning\n      metadata: JSON.stringify({ source: 'audit-plugin', version: '2.0' }),\n      resourceName: auditData.resourceName,\n      operation: auditData.operation,\n      recordId: auditData.recordId\n    };\n\n    // Only add fields that are not null\n    if (auditData.oldData !== null) {\n      auditRecord.oldData = auditData.oldData;\n    }\n    if (auditData.newData !== null) {\n      auditRecord.newData = auditData.newData;\n    }\n    if (auditData.partition !== null) {\n      auditRecord.partition = auditData.partition;\n    }\n    if (auditData.partitionValues !== null) {\n      auditRecord.partitionValues = auditData.partitionValues;\n    }\n\n    try {\n      await this.auditResource.insert(auditRecord);\n    } catch (error) {\n      // Silently fail to avoid breaking operations\n      console.warn('Audit logging failed:', error.message);\n    }\n  }\n\n  getPartitionValues(data, resource) {\n    if (!this.config.includePartitions) return null;\n    \n    // Access partitions from resource.config.partitions, not resource.partitions\n    const partitions = resource.config?.partitions || resource.partitions;\n    if (!partitions) {\n      return null;\n    }\n    \n    const partitionValues = {};\n    for (const [partitionName, partitionConfig] of Object.entries(partitions)) {\n      const values = {};\n      for (const field of Object.keys(partitionConfig.fields)) {\n        values[field] = this.getNestedFieldValue(data, field);\n      }\n      if (Object.values(values).some(v => v !== undefined && v !== null)) {\n        partitionValues[partitionName] = values;\n      }\n    }\n    return Object.keys(partitionValues).length > 0 ? partitionValues : null;\n  }\n\n  getNestedFieldValue(data, fieldPath) {\n    const parts = fieldPath.split('.');\n    let value = data;\n    for (const part of parts) {\n      if (value && typeof value === 'object' && part in value) {\n        value = value[part];\n      } else {\n        return undefined;\n      }\n    }\n    return value;\n  }\n\n  getPrimaryPartition(partitionValues) {\n    if (!partitionValues) return null;\n    const partitionNames = Object.keys(partitionValues);\n    return partitionNames.length > 0 ? partitionNames[0] : null;\n  }\n\n  truncateData(data) {\n    if (!this.config.includeData) return null;\n    \n    const dataStr = JSON.stringify(data);\n    if (dataStr.length <= this.config.maxDataSize) {\n      return data;\n    }\n\n    return {\n      ...data,\n      _truncated: true,\n      _originalSize: dataStr.length,\n      _truncatedAt: new Date().toISOString()\n    };\n  }\n\n  async getAuditLogs(options = {}) {\n    if (!this.auditResource) return [];\n\n    const { resourceName, operation, recordId, partition, startDate, endDate, limit = 100, offset = 0 } = options;\n\n    let items = [];\n\n    // Use partition-aware queries when possible\n    if (resourceName && !operation && !recordId && !partition && !startDate && !endDate) {\n      // Query by resource partition directly (most efficient)\n      const [ok, err, result] = await tryFn(() =>\n        this.auditResource.query({ resourceName }, { limit: limit + offset })\n      );\n      items = ok && result ? result : [];\n      return items.slice(offset, offset + limit);\n    } else if (startDate && !resourceName && !operation && !recordId && !partition) {\n      // Query by date partition (efficient for date ranges)\n      const dates = this._generateDateRange(startDate, endDate);\n      for (const date of dates) {\n        const [ok, err, result] = await tryFn(() =>\n          this.auditResource.query({ createdAt: date })\n        );\n        if (ok && result) {\n          items.push(...result);\n        }\n      }\n      return items.slice(offset, offset + limit);\n    } else if (resourceName || operation || recordId || partition || startDate || endDate) {\n      // Fetch with filters (less efficient, but necessary)\n      const fetchSize = Math.min(10000, Math.max(1000, (limit + offset) * 20));\n      const result = await this.auditResource.list({ limit: fetchSize });\n      items = result || [];\n\n      // Apply filters\n      if (resourceName) {\n        items = items.filter(log => log.resourceName === resourceName);\n      }\n      if (operation) {\n        items = items.filter(log => log.operation === operation);\n      }\n      if (recordId) {\n        items = items.filter(log => log.recordId === recordId);\n      }\n      if (partition) {\n        items = items.filter(log => log.partition === partition);\n      }\n      if (startDate || endDate) {\n        items = items.filter(log => {\n          const timestamp = new Date(log.timestamp);\n          if (startDate && timestamp < new Date(startDate)) return false;\n          if (endDate && timestamp > new Date(endDate)) return false;\n          return true;\n        });\n      }\n\n      return items.slice(offset, offset + limit);\n    } else {\n      // No filters, use direct pagination\n      const result = await this.auditResource.page({ size: limit, offset });\n      return result.items || [];\n    }\n  }\n\n  _generateDateRange(startDate, endDate) {\n    const dates = [];\n    const start = new Date(startDate);\n    const end = endDate ? new Date(endDate) : new Date();\n\n    for (let d = new Date(start); d <= end; d.setDate(d.getDate() + 1)) {\n      dates.push(d.toISOString().slice(0, 10));\n    }\n\n    return dates;\n  }\n\n  async getRecordHistory(resourceName, recordId) {\n    return await this.getAuditLogs({ resourceName, recordId });\n  }\n\n  async getPartitionHistory(resourceName, partitionName, partitionValues) {\n    return await this.getAuditLogs({ \n      resourceName, \n      partition: partitionName,\n      partitionValues: JSON.stringify(partitionValues)\n    });\n  }\n\n  async getAuditStats(options = {}) {\n    const logs = await this.getAuditLogs(options);\n\n    const stats = {\n      total: logs.length,\n      byOperation: {},\n      byResource: {},\n      byPartition: {},\n      byUser: {},\n      timeline: {}\n    };\n\n    for (const log of logs) {\n      // Count by operation\n      stats.byOperation[log.operation] = (stats.byOperation[log.operation] || 0) + 1;\n\n      // Count by resource\n      stats.byResource[log.resourceName] = (stats.byResource[log.resourceName] || 0) + 1;\n\n      // Count by partition\n      if (log.partition) {\n        stats.byPartition[log.partition] = (stats.byPartition[log.partition] || 0) + 1;\n      }\n\n      // Count by user\n      stats.byUser[log.userId] = (stats.byUser[log.userId] || 0) + 1;\n\n      // Timeline by date\n      const date = log.timestamp.split('T')[0];\n      stats.timeline[date] = (stats.timeline[date] || 0) + 1;\n    }\n\n    return stats;\n  }\n\n  /**\n   * Clean up audit logs older than retention period\n   * @param {number} retentionDays - Number of days to retain (default: 90)\n   * @returns {Promise<number>} Number of records deleted\n   */\n  async cleanupOldAudits(retentionDays = 90) {\n    if (!this.auditResource) return 0;\n\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - retentionDays);\n\n    // Generate list of dates to delete (all dates before cutoff)\n    const datesToDelete = [];\n    const startDate = new Date(cutoffDate);\n    startDate.setDate(startDate.getDate() - 365); // Go back up to 1 year to catch old data\n\n    for (let d = new Date(startDate); d < cutoffDate; d.setDate(d.getDate() + 1)) {\n      datesToDelete.push(d.toISOString().slice(0, 10));\n    }\n\n    let deletedCount = 0;\n\n    // Clean up using partition-aware queries\n    for (const dateStr of datesToDelete) {\n      const [ok, err, oldAudits] = await tryFn(() =>\n        this.auditResource.query({ createdAt: dateStr })\n      );\n\n      if (ok && oldAudits) {\n        for (const audit of oldAudits) {\n          const [delOk] = await tryFn(() => this.auditResource.delete(audit.id));\n          if (delOk) {\n            deletedCount++;\n          }\n        }\n      }\n    }\n\n    return deletedCount;\n  }\n}\n\nexport default AuditPlugin; ","import { S3dbError } from '../errors.js';\n\n/**\n * BackupError - Errors related to backup operations\n *\n * Used for backup driver operations including:\n * - Driver initialization and setup\n * - Backup upload/download/delete operations\n * - Driver configuration validation\n * - Multi-destination backup strategies\n *\n * @extends S3dbError\n */\nexport class BackupError extends S3dbError {\n  constructor(message, details = {}) {\n    const { driver = 'unknown', operation = 'unknown', backupId, ...rest } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nBackup Operation Error\n\nDriver: ${driver}\nOperation: ${operation}\n${backupId ? `Backup ID: ${backupId}` : ''}\n\nCommon causes:\n1. Invalid backup driver configuration\n2. Destination storage not accessible\n3. Insufficient permissions\n4. Network connectivity issues\n5. Invalid backup file format\n\nSolution:\nCheck driver configuration and ensure destination storage is accessible.\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/backup.md\n`.trim();\n    }\n\n    super(message, { ...rest, driver, operation, backupId, description });\n  }\n}\n\nexport default BackupError;\n","import { BackupError } from '../backup.errors.js';\n\n/**\n * BaseBackupDriver - Abstract base class for backup drivers\n *\n * Defines the interface that all backup drivers must implement.\n * Each driver handles a specific destination type (filesystem, S3, etc.)\n */\nexport default class BaseBackupDriver {\n  constructor(config = {}) {\n    this.config = {\n      compression: 'gzip',\n      encryption: null,\n      verbose: false,\n      ...config\n    };\n  }\n\n  /**\n   * Initialize the driver\n   * @param {Database} database - S3DB database instance\n   */\n  async setup(database) {\n    this.database = database;\n    await this.onSetup();\n  }\n\n  /**\n   * Override this method to perform driver-specific setup\n   */\n  async onSetup() {\n    // Override in subclasses\n  }\n\n  /**\n   * Upload a backup file to the destination\n   * @param {string} filePath - Path to the backup file\n   * @param {string} backupId - Unique backup identifier\n   * @param {Object} manifest - Backup manifest with metadata\n   * @returns {Object} Upload result with destination info\n   */\n  async upload(filePath, backupId, manifest) {\n    throw new BackupError('upload() method must be implemented by subclass', {\n      operation: 'upload',\n      driver: this.constructor.name,\n      backupId,\n      suggestion: 'Extend BaseBackupDriver and implement the upload() method'\n    });\n  }\n\n  /**\n   * Download a backup file from the destination\n   * @param {string} backupId - Unique backup identifier\n   * @param {string} targetPath - Local path to save the backup\n   * @param {Object} metadata - Backup metadata\n   * @returns {string} Path to downloaded file\n   */\n  async download(backupId, targetPath, metadata) {\n    throw new BackupError('download() method must be implemented by subclass', {\n      operation: 'download',\n      driver: this.constructor.name,\n      backupId,\n      suggestion: 'Extend BaseBackupDriver and implement the download() method'\n    });\n  }\n\n  /**\n   * Delete a backup from the destination\n   * @param {string} backupId - Unique backup identifier\n   * @param {Object} metadata - Backup metadata\n   */\n  async delete(backupId, metadata) {\n    throw new BackupError('delete() method must be implemented by subclass', {\n      operation: 'delete',\n      driver: this.constructor.name,\n      backupId,\n      suggestion: 'Extend BaseBackupDriver and implement the delete() method'\n    });\n  }\n\n  /**\n   * List backups available in the destination\n   * @param {Object} options - List options (limit, prefix, etc.)\n   * @returns {Array} List of backup metadata\n   */\n  async list(options = {}) {\n    throw new BackupError('list() method must be implemented by subclass', {\n      operation: 'list',\n      driver: this.constructor.name,\n      suggestion: 'Extend BaseBackupDriver and implement the list() method'\n    });\n  }\n\n  /**\n   * Verify backup integrity\n   * @param {string} backupId - Unique backup identifier\n   * @param {string} expectedChecksum - Expected file checksum\n   * @param {Object} metadata - Backup metadata\n   * @returns {boolean} True if backup is valid\n   */\n  async verify(backupId, expectedChecksum, metadata) {\n    throw new BackupError('verify() method must be implemented by subclass', {\n      operation: 'verify',\n      driver: this.constructor.name,\n      backupId,\n      suggestion: 'Extend BaseBackupDriver and implement the verify() method'\n    });\n  }\n\n  /**\n   * Get driver type identifier\n   * @returns {string} Driver type\n   */\n  getType() {\n    throw new BackupError('getType() method must be implemented by subclass', {\n      operation: 'getType',\n      driver: this.constructor.name,\n      suggestion: 'Extend BaseBackupDriver and implement the getType() method'\n    });\n  }\n\n  /**\n   * Get driver-specific storage info\n   * @returns {Object} Storage information\n   */\n  getStorageInfo() {\n    return {\n      type: this.getType(),\n      config: this.config\n    };\n  }\n\n  /**\n   * Clean up resources\n   */\n  async cleanup() {\n    // Override in subclasses if needed\n  }\n\n  /**\n   * Log message if verbose mode is enabled\n   * @param {string} message - Message to log\n   */\n  log(message) {\n    if (this.config.verbose) {\n      console.log(`[${this.getType()}BackupDriver] ${message}`);\n    }\n  }\n}","import BaseBackupDriver from './base-backup-driver.class.js';\nimport { mkdir, copyFile, unlink, readdir, stat, access } from 'fs/promises';\nimport { createReadStream, createWriteStream } from 'fs';\nimport { pipeline } from 'stream/promises';\nimport path from 'path';\nimport crypto from 'crypto';\nimport tryFn from '../../concerns/try-fn.js';\nimport { BackupError } from '../backup.errors.js';\n\n/**\n * FilesystemBackupDriver - Stores backups on local/network filesystem\n *\n * Configuration:\n * - path: Base directory for backups (supports template variables)\n * - permissions: File permissions (default: 0o644)\n * - directoryPermissions: Directory permissions (default: 0o755)\n */\nexport default class FilesystemBackupDriver extends BaseBackupDriver {\n  constructor(config = {}) {\n    super({\n      path: './backups/{date}/',\n      permissions: 0o644,\n      directoryPermissions: 0o755,\n      ...config\n    });\n  }\n\n  getType() {\n    return 'filesystem';\n  }\n\n  async onSetup() {\n    // Validate path configuration\n    if (!this.config.path) {\n      throw new BackupError('FilesystemBackupDriver: path configuration is required', {\n        operation: 'onSetup',\n        driver: 'filesystem',\n        suggestion: 'Provide a path in config: new FilesystemBackupDriver({ path: \"/path/to/backups\" })'\n      });\n    }\n\n    this.log(`Initialized with path: ${this.config.path}`);\n  }\n\n  /**\n   * Resolve path template variables\n   * @param {string} backupId - Backup identifier\n   * @param {Object} manifest - Backup manifest\n   * @returns {string} Resolved path\n   */\n  resolvePath(backupId, manifest = {}) {\n    const now = new Date();\n    const dateStr = now.toISOString().slice(0, 10); // YYYY-MM-DD\n    const timeStr = now.toISOString().slice(11, 19).replace(/:/g, '-'); // HH-MM-SS\n    \n    return this.config.path\n      .replace('{date}', dateStr)\n      .replace('{time}', timeStr)\n      .replace('{year}', now.getFullYear().toString())\n      .replace('{month}', (now.getMonth() + 1).toString().padStart(2, '0'))\n      .replace('{day}', now.getDate().toString().padStart(2, '0'))\n      .replace('{backupId}', backupId)\n      .replace('{type}', manifest.type || 'backup');\n  }\n\n  async upload(filePath, backupId, manifest) {\n    const targetDir = this.resolvePath(backupId, manifest);\n    const targetPath = path.join(targetDir, `${backupId}.backup`);\n    const manifestPath = path.join(targetDir, `${backupId}.manifest.json`);\n\n    // Create target directory\n    const [createDirOk, createDirErr] = await tryFn(() => \n      mkdir(targetDir, { recursive: true, mode: this.config.directoryPermissions })\n    );\n    \n    if (!createDirOk) {\n      throw new BackupError('Failed to create backup directory', {\n        operation: 'upload',\n        driver: 'filesystem',\n        backupId,\n        targetDir,\n        original: createDirErr,\n        suggestion: 'Check directory permissions and disk space'\n      });\n    }\n\n    // Copy backup file\n    const [copyOk, copyErr] = await tryFn(() => copyFile(filePath, targetPath));\n    if (!copyOk) {\n      throw new BackupError('Failed to copy backup file', {\n        operation: 'upload',\n        driver: 'filesystem',\n        backupId,\n        filePath,\n        targetPath,\n        original: copyErr,\n        suggestion: 'Check file permissions and disk space'\n      });\n    }\n\n    // Write manifest\n    const [manifestOk, manifestErr] = await tryFn(() => \n      import('fs/promises').then(fs => fs.writeFile(\n        manifestPath, \n        JSON.stringify(manifest, null, 2),\n        { mode: this.config.permissions }\n      ))\n    );\n    \n    if (!manifestOk) {\n      // Clean up backup file if manifest fails\n      await tryFn(() => unlink(targetPath));\n      throw new BackupError('Failed to write manifest file', {\n        operation: 'upload',\n        driver: 'filesystem',\n        backupId,\n        manifestPath,\n        original: manifestErr,\n        suggestion: 'Check directory permissions and disk space'\n      });\n    }\n\n    // Get file stats\n    const [statOk, , stats] = await tryFn(() => stat(targetPath));\n    const size = statOk ? stats.size : 0;\n\n    this.log(`Uploaded backup ${backupId} to ${targetPath} (${size} bytes)`);\n\n    return {\n      path: targetPath,\n      manifestPath,\n      size,\n      uploadedAt: new Date().toISOString()\n    };\n  }\n\n  async download(backupId, targetPath, metadata) {\n    const sourcePath = metadata.path || path.join(\n      this.resolvePath(backupId, metadata), \n      `${backupId}.backup`\n    );\n\n    // Check if source exists\n    const [existsOk] = await tryFn(() => access(sourcePath));\n    if (!existsOk) {\n      throw new BackupError('Backup file not found', {\n        operation: 'download',\n        driver: 'filesystem',\n        backupId,\n        sourcePath,\n        suggestion: 'Check if backup exists using list() method'\n      });\n    }\n\n    // Create target directory if needed\n    const targetDir = path.dirname(targetPath);\n    await tryFn(() => mkdir(targetDir, { recursive: true }));\n\n    // Copy file\n    const [copyOk, copyErr] = await tryFn(() => copyFile(sourcePath, targetPath));\n    if (!copyOk) {\n      throw new BackupError('Failed to download backup', {\n        operation: 'download',\n        driver: 'filesystem',\n        backupId,\n        sourcePath,\n        targetPath,\n        original: copyErr,\n        suggestion: 'Check file permissions and disk space'\n      });\n    }\n\n    this.log(`Downloaded backup ${backupId} from ${sourcePath} to ${targetPath}`);\n    return targetPath;\n  }\n\n  async delete(backupId, metadata) {\n    const backupPath = metadata.path || path.join(\n      this.resolvePath(backupId, metadata), \n      `${backupId}.backup`\n    );\n    const manifestPath = metadata.manifestPath || path.join(\n      this.resolvePath(backupId, metadata), \n      `${backupId}.manifest.json`\n    );\n\n    // Delete backup file\n    const [deleteBackupOk] = await tryFn(() => unlink(backupPath));\n    \n    // Delete manifest file\n    const [deleteManifestOk] = await tryFn(() => unlink(manifestPath));\n\n    if (!deleteBackupOk && !deleteManifestOk) {\n      throw new BackupError('Failed to delete backup files', {\n        operation: 'delete',\n        driver: 'filesystem',\n        backupId,\n        backupPath,\n        manifestPath,\n        suggestion: 'Check file permissions'\n      });\n    }\n\n    this.log(`Deleted backup ${backupId}`);\n  }\n\n  async list(options = {}) {\n    const { limit = 50, prefix = '' } = options;\n    const basePath = this.resolvePath('*').replace('*', '');\n    \n    try {\n      const results = [];\n      await this._scanDirectory(path.dirname(basePath), prefix, results, limit);\n      \n      // Sort by creation time (newest first)\n      results.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n      \n      return results.slice(0, limit);\n    } catch (error) {\n      this.log(`Error listing backups: ${error.message}`);\n      return [];\n    }\n  }\n\n  async _scanDirectory(dirPath, prefix, results, limit) {\n    if (results.length >= limit) return;\n\n    const [readDirOk, , files] = await tryFn(() => readdir(dirPath));\n    if (!readDirOk) return;\n\n    for (const file of files) {\n      if (results.length >= limit) break;\n\n      const fullPath = path.join(dirPath, file);\n      const [statOk, , stats] = await tryFn(() => stat(fullPath));\n      \n      if (!statOk) continue;\n\n      if (stats.isDirectory()) {\n        await this._scanDirectory(fullPath, prefix, results, limit);\n      } else if (file.endsWith('.manifest.json')) {\n        // Read manifest to get backup info\n        const [readOk, , content] = await tryFn(() => \n          import('fs/promises').then(fs => fs.readFile(fullPath, 'utf8'))\n        );\n        \n        if (readOk) {\n          try {\n            const manifest = JSON.parse(content);\n            const backupId = file.replace('.manifest.json', '');\n            \n            if (!prefix || backupId.includes(prefix)) {\n              results.push({\n                id: backupId,\n                path: fullPath.replace('.manifest.json', '.backup'),\n                manifestPath: fullPath,\n                size: stats.size,\n                createdAt: manifest.createdAt || stats.birthtime.toISOString(),\n                ...manifest\n              });\n            }\n          } catch (parseErr) {\n            this.log(`Failed to parse manifest ${fullPath}: ${parseErr.message}`);\n          }\n        }\n      }\n    }\n  }\n\n  async verify(backupId, expectedChecksum, metadata) {\n    const backupPath = metadata.path || path.join(\n      this.resolvePath(backupId, metadata), \n      `${backupId}.backup`\n    );\n\n    const [readOk, readErr] = await tryFn(async () => {\n      const hash = crypto.createHash('sha256');\n      const stream = createReadStream(backupPath);\n      \n      await pipeline(stream, hash);\n      const actualChecksum = hash.digest('hex');\n      \n      return actualChecksum === expectedChecksum;\n    });\n\n    if (!readOk) {\n      this.log(`Verification failed for ${backupId}: ${readErr.message}`);\n      return false;\n    }\n\n    return readOk;\n  }\n\n  getStorageInfo() {\n    return {\n      ...super.getStorageInfo(),\n      path: this.config.path,\n      permissions: this.config.permissions,\n      directoryPermissions: this.config.directoryPermissions\n    };\n  }\n}","import BaseBackupDriver from './base-backup-driver.class.js';\nimport { createReadStream } from 'fs';\nimport { stat } from 'fs/promises';\nimport path from 'path';\nimport crypto from 'crypto';\nimport tryFn from '../../concerns/try-fn.js';\nimport { BackupError } from '../backup.errors.js';\n\n/**\n * S3BackupDriver - Stores backups in S3-compatible storage\n *\n * Configuration:\n * - bucket: S3 bucket name (optional, uses database bucket if not specified)\n * - path: Key prefix for backups (supports template variables)\n * - storageClass: S3 storage class (default: STANDARD_IA)\n * - serverSideEncryption: S3 server-side encryption (default: AES256)\n * - client: Custom S3 client (optional, uses database client if not specified)\n */\nexport default class S3BackupDriver extends BaseBackupDriver {\n  constructor(config = {}) {\n    super({\n      bucket: null, // Will use database bucket if not specified\n      path: 'backups/{date}/',\n      storageClass: 'STANDARD_IA',\n      serverSideEncryption: 'AES256',\n      client: null, // Will use database client if not specified\n      ...config\n    });\n  }\n\n  getType() {\n    return 's3';\n  }\n\n  async onSetup() {\n    // Use database client if not provided\n    if (!this.config.client) {\n      this.config.client = this.database.client;\n    }\n\n    // Use database bucket if not specified\n    if (!this.config.bucket) {\n      this.config.bucket = this.database.bucket;\n    }\n\n    if (!this.config.client) {\n      throw new BackupError('S3BackupDriver: client is required', {\n        operation: 'onSetup',\n        driver: 's3',\n        suggestion: 'Provide a client in config or ensure database has a client configured'\n      });\n    }\n\n    if (!this.config.bucket) {\n      throw new BackupError('S3BackupDriver: bucket is required', {\n        operation: 'onSetup',\n        driver: 's3',\n        suggestion: 'Provide a bucket in config or ensure database has a bucket configured'\n      });\n    }\n\n    this.log(`Initialized with bucket: ${this.config.bucket}, path: ${this.config.path}`);\n  }\n\n  /**\n   * Resolve S3 key template variables\n   * @param {string} backupId - Backup identifier\n   * @param {Object} manifest - Backup manifest\n   * @returns {string} Resolved S3 key\n   */\n  resolveKey(backupId, manifest = {}) {\n    const now = new Date();\n    const dateStr = now.toISOString().slice(0, 10); // YYYY-MM-DD\n    const timeStr = now.toISOString().slice(11, 19).replace(/:/g, '-'); // HH-MM-SS\n    \n    const basePath = this.config.path\n      .replace('{date}', dateStr)\n      .replace('{time}', timeStr)\n      .replace('{year}', now.getFullYear().toString())\n      .replace('{month}', (now.getMonth() + 1).toString().padStart(2, '0'))\n      .replace('{day}', now.getDate().toString().padStart(2, '0'))\n      .replace('{backupId}', backupId)\n      .replace('{type}', manifest.type || 'backup');\n\n    return path.posix.join(basePath, `${backupId}.backup`);\n  }\n\n  resolveManifestKey(backupId, manifest = {}) {\n    return this.resolveKey(backupId, manifest).replace('.backup', '.manifest.json');\n  }\n\n  async upload(filePath, backupId, manifest) {\n    const backupKey = this.resolveKey(backupId, manifest);\n    const manifestKey = this.resolveManifestKey(backupId, manifest);\n\n    // Get file size\n    const [statOk, , stats] = await tryFn(() => stat(filePath));\n    const fileSize = statOk ? stats.size : 0;\n\n    // Upload backup file\n    const [uploadOk, uploadErr] = await tryFn(async () => {\n      const fileStream = createReadStream(filePath);\n      \n      return await this.config.client.uploadObject({\n        bucket: this.config.bucket,\n        key: backupKey,\n        body: fileStream,\n        contentLength: fileSize,\n        metadata: {\n          'backup-id': backupId,\n          'backup-type': manifest.type || 'backup',\n          'created-at': new Date().toISOString()\n        },\n        storageClass: this.config.storageClass,\n        serverSideEncryption: this.config.serverSideEncryption\n      });\n    });\n\n    if (!uploadOk) {\n      throw new BackupError('Failed to upload backup file to S3', {\n        operation: 'upload',\n        driver: 's3',\n        backupId,\n        bucket: this.config.bucket,\n        key: backupKey,\n        original: uploadErr,\n        suggestion: 'Check S3 permissions and bucket configuration'\n      });\n    }\n\n    // Upload manifest\n    const [manifestOk, manifestErr] = await tryFn(() => \n      this.config.client.uploadObject({\n        bucket: this.config.bucket,\n        key: manifestKey,\n        body: JSON.stringify(manifest, null, 2),\n        contentType: 'application/json',\n        metadata: {\n          'backup-id': backupId,\n          'manifest-for': backupKey\n        },\n        storageClass: this.config.storageClass,\n        serverSideEncryption: this.config.serverSideEncryption\n      })\n    );\n\n    if (!manifestOk) {\n      // Clean up backup file if manifest upload fails\n      await tryFn(() => this.config.client.deleteObject({\n        bucket: this.config.bucket,\n        key: backupKey\n      }));\n      throw new BackupError('Failed to upload manifest to S3', {\n        operation: 'upload',\n        driver: 's3',\n        backupId,\n        bucket: this.config.bucket,\n        manifestKey,\n        original: manifestErr,\n        suggestion: 'Check S3 permissions and bucket configuration'\n      });\n    }\n\n    this.log(`Uploaded backup ${backupId} to s3://${this.config.bucket}/${backupKey} (${fileSize} bytes)`);\n\n    return {\n      bucket: this.config.bucket,\n      key: backupKey,\n      manifestKey,\n      size: fileSize,\n      storageClass: this.config.storageClass,\n      uploadedAt: new Date().toISOString(),\n      etag: uploadOk?.ETag\n    };\n  }\n\n  async download(backupId, targetPath, metadata) {\n    const backupKey = metadata.key || this.resolveKey(backupId, metadata);\n\n    const [downloadOk, downloadErr] = await tryFn(() => \n      this.config.client.downloadObject({\n        bucket: this.config.bucket,\n        key: backupKey,\n        filePath: targetPath\n      })\n    );\n\n    if (!downloadOk) {\n      throw new BackupError('Failed to download backup from S3', {\n        operation: 'download',\n        driver: 's3',\n        backupId,\n        bucket: this.config.bucket,\n        key: backupKey,\n        targetPath,\n        original: downloadErr,\n        suggestion: 'Check if backup exists and S3 permissions are correct'\n      });\n    }\n\n    this.log(`Downloaded backup ${backupId} from s3://${this.config.bucket}/${backupKey} to ${targetPath}`);\n    return targetPath;\n  }\n\n  async delete(backupId, metadata) {\n    const backupKey = metadata.key || this.resolveKey(backupId, metadata);\n    const manifestKey = metadata.manifestKey || this.resolveManifestKey(backupId, metadata);\n\n    // Delete backup file\n    const [deleteBackupOk] = await tryFn(() => \n      this.config.client.deleteObject({\n        bucket: this.config.bucket,\n        key: backupKey\n      })\n    );\n\n    // Delete manifest\n    const [deleteManifestOk] = await tryFn(() => \n      this.config.client.deleteObject({\n        bucket: this.config.bucket,\n        key: manifestKey\n      })\n    );\n\n    if (!deleteBackupOk && !deleteManifestOk) {\n      throw new BackupError('Failed to delete backup from S3', {\n        operation: 'delete',\n        driver: 's3',\n        backupId,\n        bucket: this.config.bucket,\n        backupKey,\n        manifestKey,\n        suggestion: 'Check S3 delete permissions'\n      });\n    }\n\n    this.log(`Deleted backup ${backupId} from S3`);\n  }\n\n  async list(options = {}) {\n    const { limit = 50, prefix = '' } = options;\n    const searchPrefix = this.config.path.replace(/\\{[^}]+\\}/g, '');\n    \n    const [listOk, listErr, response] = await tryFn(() => \n      this.config.client.listObjects({\n        bucket: this.config.bucket,\n        prefix: searchPrefix,\n        maxKeys: limit * 2 // Get more to account for manifest files\n      })\n    );\n\n    if (!listOk) {\n      this.log(`Error listing S3 objects: ${listErr.message}`);\n      return [];\n    }\n\n    const manifestObjects = (response.Contents || [])\n      .filter(obj => obj.Key.endsWith('.manifest.json'))\n      .filter(obj => !prefix || obj.Key.includes(prefix));\n\n    const results = [];\n    \n    for (const obj of manifestObjects.slice(0, limit)) {\n      const [manifestOk, , manifestContent] = await tryFn(() => \n        this.config.client.getObject({\n          bucket: this.config.bucket,\n          key: obj.Key\n        })\n      );\n\n      if (manifestOk) {\n        try {\n          const manifest = JSON.parse(manifestContent);\n          const backupId = path.basename(obj.Key, '.manifest.json');\n          \n          results.push({\n            id: backupId,\n            bucket: this.config.bucket,\n            key: obj.Key.replace('.manifest.json', '.backup'),\n            manifestKey: obj.Key,\n            size: obj.Size,\n            lastModified: obj.LastModified,\n            storageClass: obj.StorageClass,\n            createdAt: manifest.createdAt || obj.LastModified,\n            ...manifest\n          });\n        } catch (parseErr) {\n          this.log(`Failed to parse manifest ${obj.Key}: ${parseErr.message}`);\n        }\n      }\n    }\n\n    // Sort by creation time (newest first)\n    results.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));\n    \n    return results;\n  }\n\n  async verify(backupId, expectedChecksum, metadata) {\n    const backupKey = metadata.key || this.resolveKey(backupId, metadata);\n\n    const [verifyOk, verifyErr] = await tryFn(async () => {\n      // Get object metadata to check ETag\n      const headResponse = await this.config.client.headObject({\n        bucket: this.config.bucket,\n        key: backupKey\n      });\n\n      // For single-part uploads, ETag is the MD5 hash\n      // For multipart uploads, ETag has a suffix like \"-2\"\n      const etag = headResponse.ETag?.replace(/\"/g, '');\n      \n      if (etag && !etag.includes('-')) {\n        // Single-part upload, ETag is MD5\n        const expectedMd5 = crypto.createHash('md5').update(expectedChecksum).digest('hex');\n        return etag === expectedMd5;\n      } else {\n        // For multipart uploads or SHA256 comparison, download and verify\n        const [streamOk, , stream] = await tryFn(() => \n          this.config.client.getObjectStream({\n            bucket: this.config.bucket,\n            key: backupKey\n          })\n        );\n\n        if (!streamOk) return false;\n\n        const hash = crypto.createHash('sha256');\n        for await (const chunk of stream) {\n          hash.update(chunk);\n        }\n        \n        const actualChecksum = hash.digest('hex');\n        return actualChecksum === expectedChecksum;\n      }\n    });\n\n    if (!verifyOk) {\n      this.log(`Verification failed for ${backupId}: ${verifyErr?.message || 'checksum mismatch'}`);\n      return false;\n    }\n\n    return true;\n  }\n\n  getStorageInfo() {\n    return {\n      ...super.getStorageInfo(),\n      bucket: this.config.bucket,\n      path: this.config.path,\n      storageClass: this.config.storageClass,\n      serverSideEncryption: this.config.serverSideEncryption\n    };\n  }\n}","import BaseBackupDriver from './base-backup-driver.class.js';\nimport { createBackupDriver } from './index.js';\nimport tryFn from '../../concerns/try-fn.js';\nimport { BackupError } from '../backup.errors.js';\n\n/**\n * MultiBackupDriver - Manages multiple backup destinations\n *\n * Configuration:\n * - destinations: Array of driver configurations\n *   - driver: Driver type (filesystem, s3)\n *   - config: Driver-specific configuration\n * - strategy: Backup strategy (default: 'all')\n *   - 'all': Upload to all destinations (fail if any fails)\n *   - 'any': Upload to all, succeed if at least one succeeds\n *   - 'priority': Try destinations in order, stop on first success\n * - concurrency: Max concurrent uploads (default: 3)\n */\nexport default class MultiBackupDriver extends BaseBackupDriver {\n  constructor(config = {}) {\n    super({\n      destinations: [],\n      strategy: 'all', // 'all', 'any', 'priority'\n      concurrency: 3,\n      ...config\n    });\n\n    this.drivers = [];\n  }\n\n  getType() {\n    return 'multi';\n  }\n\n  async onSetup() {\n    if (!Array.isArray(this.config.destinations) || this.config.destinations.length === 0) {\n      throw new BackupError('MultiBackupDriver requires non-empty destinations array', {\n        operation: 'onSetup',\n        driver: 'multi',\n        destinationsProvided: this.config.destinations,\n        suggestion: 'Provide destinations array: { destinations: [{ driver: \"s3\", config: {...} }, { driver: \"filesystem\", config: {...} }] }'\n      });\n    }\n\n    // Create and setup all driver instances\n    for (const [index, destConfig] of this.config.destinations.entries()) {\n      if (!destConfig.driver) {\n        throw new BackupError(`Destination ${index} missing driver type`, {\n          operation: 'onSetup',\n          driver: 'multi',\n          destinationIndex: index,\n          destination: destConfig,\n          suggestion: 'Each destination must have a driver property: { driver: \"s3\", config: {...} } or { driver: \"filesystem\", config: {...} }'\n        });\n      }\n\n      try {\n        const driver = createBackupDriver(destConfig.driver, destConfig.config || {});\n        await driver.setup(this.database);\n        this.drivers.push({\n          driver,\n          config: destConfig,\n          index\n        });\n\n        this.log(`Setup destination ${index}: ${destConfig.driver}`);\n      } catch (error) {\n        throw new BackupError(`Failed to setup destination ${index}`, {\n          operation: 'onSetup',\n          driver: 'multi',\n          destinationIndex: index,\n          destinationDriver: destConfig.driver,\n          destinationConfig: destConfig.config,\n          original: error,\n          suggestion: 'Check destination driver configuration and ensure dependencies are available'\n        });\n      }\n    }\n\n    // Legacy support for requireAll\n    if (this.config.requireAll === false) {\n      this.config.strategy = 'any';\n    }\n\n    this.log(`Initialized with ${this.drivers.length} destinations, strategy: ${this.config.strategy}`);\n  }\n\n  async upload(filePath, backupId, manifest) {\n    const strategy = this.config.strategy;\n    const results = [];\n    const errors = [];\n\n    if (strategy === 'priority') {\n      // Try destinations in order, stop on first success\n      for (const { driver, config, index } of this.drivers) {\n        const [ok, err, result] = await tryFn(() => \n          driver.upload(filePath, backupId, manifest)\n        );\n\n        if (ok) {\n          this.log(`Priority upload successful to destination ${index}`);\n          return [{\n            ...result,\n            driver: config.driver,\n            destination: index,\n            status: 'success'\n          }];\n        } else {\n          errors.push({ destination: index, error: err.message });\n          this.log(`Priority upload failed to destination ${index}: ${err.message}`);\n        }\n      }\n\n      throw new BackupError('All priority destinations failed', {\n        operation: 'upload',\n        driver: 'multi',\n        strategy: 'priority',\n        backupId,\n        totalDestinations: this.drivers.length,\n        failures: errors,\n        suggestion: 'Check destination configurations and ensure at least one destination is accessible'\n      });\n    }\n\n    // For 'all' and 'any' strategies, upload to all destinations\n    const uploadPromises = this.drivers.map(async ({ driver, config, index }) => {\n      const [ok, err, result] = await tryFn(() => \n        driver.upload(filePath, backupId, manifest)\n      );\n\n      if (ok) {\n        this.log(`Upload successful to destination ${index}`);\n        return {\n          ...result,\n          driver: config.driver,\n          destination: index,\n          status: 'success'\n        };\n      } else {\n        this.log(`Upload failed to destination ${index}: ${err.message}`);\n        const errorResult = {\n          driver: config.driver,\n          destination: index,\n          status: 'failed',\n          error: err.message\n        };\n        errors.push(errorResult);\n        return errorResult;\n      }\n    });\n\n    // Execute uploads with concurrency limit\n    const allResults = await this._executeConcurrent(uploadPromises, this.config.concurrency);\n    const successResults = allResults.filter(r => r.status === 'success');\n    const failedResults = allResults.filter(r => r.status === 'failed');\n\n    if (strategy === 'all' && failedResults.length > 0) {\n      throw new BackupError('Some destinations failed with strategy \"all\"', {\n        operation: 'upload',\n        driver: 'multi',\n        strategy: 'all',\n        backupId,\n        totalDestinations: this.drivers.length,\n        successCount: successResults.length,\n        failedCount: failedResults.length,\n        failures: failedResults,\n        suggestion: 'All destinations must succeed with \"all\" strategy. Use \"any\" strategy to tolerate failures, or fix failing destinations.'\n      });\n    }\n\n    if (strategy === 'any' && successResults.length === 0) {\n      throw new BackupError('All destinations failed with strategy \"any\"', {\n        operation: 'upload',\n        driver: 'multi',\n        strategy: 'any',\n        backupId,\n        totalDestinations: this.drivers.length,\n        failures: failedResults,\n        suggestion: 'At least one destination must succeed with \"any\" strategy. Check all destination configurations.'\n      });\n    }\n\n    return allResults;\n  }\n\n  async download(backupId, targetPath, metadata) {\n    // Try to download from the first available destination\n    const destinations = Array.isArray(metadata.destinations) ? metadata.destinations : [metadata];\n\n    for (const destMetadata of destinations) {\n      if (destMetadata.status !== 'success') continue;\n\n      const driverInstance = this.drivers.find(d => d.index === destMetadata.destination);\n      if (!driverInstance) continue;\n\n      const [ok, err, result] = await tryFn(() => \n        driverInstance.driver.download(backupId, targetPath, destMetadata)\n      );\n\n      if (ok) {\n        this.log(`Downloaded from destination ${destMetadata.destination}`);\n        return result;\n      } else {\n        this.log(`Download failed from destination ${destMetadata.destination}: ${err.message}`);\n      }\n    }\n\n    throw new BackupError('Failed to download backup from any destination', {\n      operation: 'download',\n      driver: 'multi',\n      backupId,\n      targetPath,\n      attemptedDestinations: destinations.length,\n      suggestion: 'Check if backup exists in at least one destination and destinations are accessible'\n    });\n  }\n\n  async delete(backupId, metadata) {\n    const destinations = Array.isArray(metadata.destinations) ? metadata.destinations : [metadata];\n    const errors = [];\n    let successCount = 0;\n\n    for (const destMetadata of destinations) {\n      if (destMetadata.status !== 'success') continue;\n\n      const driverInstance = this.drivers.find(d => d.index === destMetadata.destination);\n      if (!driverInstance) continue;\n\n      const [ok, err] = await tryFn(() => \n        driverInstance.driver.delete(backupId, destMetadata)\n      );\n\n      if (ok) {\n        successCount++;\n        this.log(`Deleted from destination ${destMetadata.destination}`);\n      } else {\n        errors.push(`${destMetadata.destination}: ${err.message}`);\n        this.log(`Delete failed from destination ${destMetadata.destination}: ${err.message}`);\n      }\n    }\n\n    if (successCount === 0 && errors.length > 0) {\n      throw new BackupError('Failed to delete from any destination', {\n        operation: 'delete',\n        driver: 'multi',\n        backupId,\n        attemptedDestinations: destinations.length,\n        failures: errors,\n        suggestion: 'Check if backup exists in destinations and destinations are accessible with delete permissions'\n      });\n    }\n\n    if (errors.length > 0) {\n      this.log(`Partial delete success, some errors: ${errors.join('; ')}`);\n    }\n  }\n\n  async list(options = {}) {\n    // Get lists from all destinations and merge/deduplicate\n    const allLists = await Promise.allSettled(\n      this.drivers.map(({ driver, index }) => \n        driver.list(options).catch(err => {\n          this.log(`List failed for destination ${index}: ${err.message}`);\n          return [];\n        })\n      )\n    );\n\n    const backupMap = new Map();\n\n    // Merge results from all destinations\n    allLists.forEach((result, index) => {\n      if (result.status === 'fulfilled') {\n        result.value.forEach(backup => {\n          const existing = backupMap.get(backup.id);\n          if (!existing || new Date(backup.createdAt) > new Date(existing.createdAt)) {\n            backupMap.set(backup.id, {\n              ...backup,\n              destinations: existing ? [...(existing.destinations || []), { destination: index, ...backup }] : [{ destination: index, ...backup }]\n            });\n          }\n        });\n      }\n    });\n\n    const results = Array.from(backupMap.values())\n      .sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt))\n      .slice(0, options.limit || 50);\n\n    return results;\n  }\n\n  async verify(backupId, expectedChecksum, metadata) {\n    const destinations = Array.isArray(metadata.destinations) ? metadata.destinations : [metadata];\n    \n    // Verify against any successful destination\n    for (const destMetadata of destinations) {\n      if (destMetadata.status !== 'success') continue;\n\n      const driverInstance = this.drivers.find(d => d.index === destMetadata.destination);\n      if (!driverInstance) continue;\n\n      const [ok, , isValid] = await tryFn(() => \n        driverInstance.driver.verify(backupId, expectedChecksum, destMetadata)\n      );\n\n      if (ok && isValid) {\n        this.log(`Verification successful from destination ${destMetadata.destination}`);\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  async cleanup() {\n    await Promise.all(\n      this.drivers.map(({ driver }) => \n        tryFn(() => driver.cleanup()).catch(() => {})\n      )\n    );\n  }\n\n  getStorageInfo() {\n    return {\n      ...super.getStorageInfo(),\n      strategy: this.config.strategy,\n      destinations: this.drivers.map(({ driver, config, index }) => ({\n        index,\n        driver: config.driver,\n        info: driver.getStorageInfo()\n      }))\n    };\n  }\n\n  /**\n   * Execute promises with concurrency limit\n   * @param {Array} promises - Array of promise functions\n   * @param {number} concurrency - Max concurrent executions\n   * @returns {Array} Results in original order\n   */\n  async _executeConcurrent(promises, concurrency) {\n    const results = new Array(promises.length);\n    const executing = [];\n\n    for (let i = 0; i < promises.length; i++) {\n      const promise = Promise.resolve(promises[i]).then(result => {\n        results[i] = result;\n        return result;\n      });\n\n      executing.push(promise);\n\n      if (executing.length >= concurrency) {\n        await Promise.race(executing);\n        executing.splice(executing.findIndex(p => p === promise), 1);\n      }\n    }\n\n    await Promise.all(executing);\n    return results;\n  }\n}","import BaseBackupDriver from './base-backup-driver.class.js';\nimport FilesystemBackupDriver from './filesystem-backup-driver.class.js';\nimport S3BackupDriver from './s3-backup-driver.class.js';\nimport MultiBackupDriver from './multi-backup-driver.class.js';\nimport { BackupError } from '../backup.errors.js';\n\nexport { \n  BaseBackupDriver, \n  FilesystemBackupDriver, \n  S3BackupDriver, \n  MultiBackupDriver \n};\n\n/**\n * Available backup drivers\n */\nexport const BACKUP_DRIVERS = {\n  filesystem: FilesystemBackupDriver,\n  s3: S3BackupDriver,\n  multi: MultiBackupDriver\n};\n\n/**\n * Create a backup driver instance based on driver type\n * @param {string} driver - Driver type (filesystem, s3, multi)\n * @param {Object} config - Driver configuration\n * @returns {BaseBackupDriver} Driver instance\n */\nexport function createBackupDriver(driver, config = {}) {\n  const DriverClass = BACKUP_DRIVERS[driver];\n\n  if (!DriverClass) {\n    throw new BackupError(`Unknown backup driver: ${driver}`, {\n      operation: 'createBackupDriver',\n      driver,\n      availableDrivers: Object.keys(BACKUP_DRIVERS),\n      suggestion: `Use one of the available drivers: ${Object.keys(BACKUP_DRIVERS).join(', ')}`\n    });\n  }\n\n  return new DriverClass(config);\n}\n\n/**\n * Validate backup driver configuration\n * @param {string} driver - Driver type\n * @param {Object} config - Driver configuration\n * @throws {Error} If configuration is invalid\n */\nexport function validateBackupConfig(driver, config = {}) {\n  if (!driver || typeof driver !== 'string') {\n    throw new BackupError('Driver type must be a non-empty string', {\n      operation: 'validateBackupConfig',\n      driver,\n      suggestion: 'Provide a valid driver type string (filesystem, s3, or multi)'\n    });\n  }\n\n  if (!BACKUP_DRIVERS[driver]) {\n    throw new BackupError(`Unknown backup driver: ${driver}`, {\n      operation: 'validateBackupConfig',\n      driver,\n      availableDrivers: Object.keys(BACKUP_DRIVERS),\n      suggestion: `Use one of the available drivers: ${Object.keys(BACKUP_DRIVERS).join(', ')}`\n    });\n  }\n\n  // Driver-specific validation\n  switch (driver) {\n    case 'filesystem':\n      if (!config.path) {\n        throw new BackupError('FilesystemBackupDriver requires \"path\" configuration', {\n          operation: 'validateBackupConfig',\n          driver: 'filesystem',\n          config,\n          suggestion: 'Provide a \"path\" property in config: { path: \"/path/to/backups\" }'\n        });\n      }\n      break;\n\n    case 's3':\n      // S3 driver can use database client/bucket, so no strict validation here\n      break;\n\n    case 'multi':\n      if (!Array.isArray(config.destinations) || config.destinations.length === 0) {\n        throw new BackupError('MultiBackupDriver requires non-empty \"destinations\" array', {\n          operation: 'validateBackupConfig',\n          driver: 'multi',\n          config,\n          suggestion: 'Provide destinations array: { destinations: [{ driver: \"s3\", config: {...} }] }'\n        });\n      }\n\n      // Validate each destination\n      config.destinations.forEach((dest, index) => {\n        if (!dest.driver) {\n          throw new BackupError(`Destination ${index} must have a \"driver\" property`, {\n            operation: 'validateBackupConfig',\n            driver: 'multi',\n            destinationIndex: index,\n            destination: dest,\n            suggestion: 'Each destination must have a driver property: { driver: \"s3\", config: {...} }'\n          });\n        }\n        \n        // Recursive validation for nested drivers\n        if (dest.driver !== 'multi') { // Prevent infinite recursion\n          validateBackupConfig(dest.driver, dest.config || {});\n        }\n      });\n      break;\n  }\n\n  return true;\n}","import { createWriteStream } from 'fs';\nimport { pipeline } from 'stream/promises';\nimport { Readable } from 'stream';\nimport zlib from 'node:zlib';\n\n/**\n * Streaming Exporter - Memory-efficient export of S3DB resources\n *\n * Exports resources to JSONL format with streaming (constant memory usage).\n * Never loads the full dataset into memory.\n *\n * Features:\n * - Streaming reads from resource\n * - Streaming writes to file\n * - Gzip compression\n * - Constant memory usage (~10KB buffer)\n * - Progress callbacks\n */\nexport class StreamingExporter {\n  constructor(options = {}) {\n    this.encoding = options.encoding || 'utf8';\n    this.compress = options.compress !== false;\n    this.batchSize = options.batchSize || 100; // Read 100 records at a time\n    this.onProgress = options.onProgress || null;\n  }\n\n  /**\n   * Export single resource to JSONL file\n   *\n   * @param {Resource} resource - S3DB resource\n   * @param {string} outputPath - Output file path\n   * @param {string} type - Export type ('full' or 'incremental')\n   * @param {Date} sinceTimestamp - For incremental backups\n   * @returns {Promise<{recordCount: number, bytesWritten: number}>}\n   */\n  async exportResource(resource, outputPath, type = 'full', sinceTimestamp = null) {\n    let recordCount = 0;\n    let bytesWritten = 0;\n\n    // Create write stream\n    const writeStream = createWriteStream(outputPath);\n\n    // Add gzip if enabled\n    let outputStream = writeStream;\n    if (this.compress) {\n      const gzipStream = zlib.createGzip();\n      gzipStream.pipe(writeStream);\n      outputStream = gzipStream;\n    }\n\n    try {\n      // Get records based on type\n      let records;\n      if (type === 'incremental' && sinceTimestamp) {\n        records = await resource.list({\n          filter: { updatedAt: { '>': sinceTimestamp.toISOString() } }\n        });\n      } else {\n        records = await resource.list();\n      }\n\n      // Write records as JSONL (one JSON per line)\n      for (const record of records) {\n        const line = JSON.stringify(record) + '\\n';\n        const canWrite = outputStream.write(line, this.encoding);\n\n        recordCount++;\n        bytesWritten += Buffer.byteLength(line, this.encoding);\n\n        // Progress callback\n        if (this.onProgress && recordCount % 1000 === 0) {\n          this.onProgress({\n            resourceName: resource.name,\n            recordCount,\n            bytesWritten\n          });\n        }\n\n        // Handle backpressure\n        if (!canWrite) {\n          await new Promise(resolve => outputStream.once('drain', resolve));\n        }\n      }\n\n      // End stream\n      outputStream.end();\n\n      // Wait for finish\n      await new Promise((resolve, reject) => {\n        writeStream.on('finish', resolve);\n        writeStream.on('error', reject);\n      });\n\n      return { recordCount, bytesWritten };\n\n    } catch (error) {\n      // Cleanup on error\n      outputStream.destroy();\n      throw error;\n    }\n  }\n\n  /**\n   * Export multiple resources\n   *\n   * @param {Object} resources - Map of resource name -> resource\n   * @param {string} outputDir - Output directory\n   * @param {string} type - Export type\n   * @param {Date} sinceTimestamp - For incremental\n   * @returns {Promise<Map<string, {recordCount, bytesWritten}>>}\n   */\n  async exportResources(resources, outputDir, type = 'full', sinceTimestamp = null) {\n    const results = new Map();\n\n    for (const [resourceName, resource] of Object.entries(resources)) {\n      const ext = this.compress ? '.jsonl.gz' : '.jsonl';\n      const outputPath = `${outputDir}/${resourceName}${ext}`;\n\n      const stats = await this.exportResource(resource, outputPath, type, sinceTimestamp);\n\n      results.set(resourceName, {\n        ...stats,\n        filePath: outputPath,\n        compressed: this.compress\n      });\n    }\n\n    return results;\n  }\n}\n\nexport default StreamingExporter;\n","import Plugin from \"./plugin.class.js\";\nimport tryFn from \"../concerns/try-fn.js\";\nimport { createBackupDriver, validateBackupConfig } from \"./backup/index.js\";\nimport { StreamingExporter } from \"./backup/streaming-exporter.js\";\nimport { createWriteStream, createReadStream } from 'fs';\nimport zlib from 'node:zlib';\nimport { pipeline } from 'stream/promises';\nimport { mkdir, writeFile, readFile, unlink, stat, readdir } from 'fs/promises';\nimport path from 'path';\nimport crypto from 'crypto';\nimport os from 'os';\n\n/**\n * BackupPlugin - Automated Database Backup System\n *\n * Provides comprehensive backup functionality with configurable drivers,\n * retention policies, and restoration capabilities.\n *\n * === Driver-Based Architecture ===\n * Uses the standard S3DB plugin driver pattern:\n * - driver: Driver type (filesystem, s3, multi)\n * - config: Driver-specific configuration\n *\n * === Configuration Examples ===\n *\n * // Filesystem backup\n * new BackupPlugin({\n *   driver: 'filesystem',\n *   config: {\n *     path: '/var/backups/s3db/{date}/',\n *     compression: 'gzip'\n *   }\n * });\n *\n * // S3 backup\n * new BackupPlugin({\n *   driver: 's3',\n *   config: {\n *     bucket: 'my-backup-bucket',\n *     path: 'database/{date}/',\n *     storageClass: 'STANDARD_IA'\n *   }\n * });\n *\n * // Multiple destinations\n * new BackupPlugin({\n *   driver: 'multi',\n *   config: {\n *     strategy: 'all', // 'all', 'any', 'priority'\n *     destinations: [\n *       { \n *         driver: 'filesystem', \n *         config: { path: '/var/backups/s3db/' } \n *       },\n *       { \n *         driver: 's3', \n *         config: { \n *           bucket: 'remote-backups',\n *           storageClass: 'GLACIER'\n *         } \n *       }\n *     ]\n *   }\n * });\n *\n * === Additional Plugin Options ===\n * - schedule: Cron expressions for automated backups\n * - retention: Backup retention policy (GFS)\n * - compression: Compression type (gzip, brotli, none)\n * - encryption: Encryption configuration\n * - verification: Enable backup verification\n * - backupMetadataResource: Resource name for metadata\n */\nexport class BackupPlugin extends Plugin {\n  constructor(options = {}) {\n    super();\n\n    this.config = {\n      // Driver configuration\n      driver: options.driver || 'filesystem',\n      driverConfig: options.config || {},\n\n      // Scheduling configuration\n      schedule: options.schedule || {},\n\n      // Retention policy (Grandfather-Father-Son)\n      retention: {\n        daily: 7,\n        weekly: 4,\n        monthly: 12,\n        yearly: 3,\n        ...options.retention\n      },\n\n      // Backup options\n      compression: options.compression || 'gzip',\n      encryption: options.encryption || null,\n      verification: options.verification !== false,\n      parallelism: options.parallelism || 4,\n      include: options.include || null,\n      exclude: options.exclude || [],\n      backupMetadataResource: options.backupMetadataResource || 'plg_backup_metadata',\n      tempDir: options.tempDir || path.join(os.tmpdir(), 's3db', 'backups'),\n      verbose: options.verbose || false,\n\n      // Hooks\n      onBackupStart: options.onBackupStart || null,\n      onBackupComplete: options.onBackupComplete || null,\n      onBackupError: options.onBackupError || null,\n      onRestoreStart: options.onRestoreStart || null,\n      onRestoreComplete: options.onRestoreComplete || null,\n      onRestoreError: options.onRestoreError || null\n    };\n\n    this.driver = null;\n    this.activeBackups = new Set();\n\n    // Validate driver configuration\n    validateBackupConfig(this.config.driver, this.config.driverConfig);\n\n    this._validateConfiguration();\n  }\n\n  _validateConfiguration() {\n    // Driver validation is done in constructor\n    \n    if (this.config.encryption && (!this.config.encryption.key || !this.config.encryption.algorithm)) {\n      throw new Error('BackupPlugin: Encryption requires both key and algorithm');\n    }\n    \n    if (this.config.compression && !['none', 'gzip', 'brotli', 'deflate'].includes(this.config.compression)) {\n      throw new Error('BackupPlugin: Invalid compression type. Use: none, gzip, brotli, deflate');\n    }\n  }\n\n  async onInstall() {\n    // Create backup driver instance\n    this.driver = createBackupDriver(this.config.driver, this.config.driverConfig);\n    await this.driver.setup(this.database);\n\n    // Create temporary directory\n    await mkdir(this.config.tempDir, { recursive: true });\n\n    // Create backup metadata resource\n    await this._createBackupMetadataResource();\n\n    if (this.config.verbose) {\n      const storageInfo = this.driver.getStorageInfo();\n      console.log(`[BackupPlugin] Initialized with driver: ${storageInfo.type}`);\n    }\n\n    this.emit('initialized', {\n      driver: this.driver.getType(),\n      config: this.driver.getStorageInfo()\n    });\n  }\n\n  async _createBackupMetadataResource() {\n    const [ok] = await tryFn(() => this.database.createResource({\n      name: this.config.backupMetadataResource,\n      attributes: {\n        id: 'string|required',\n        type: 'string|required',\n        timestamp: 'number|required',\n        resources: 'json|required',\n        driverInfo: 'json|required', // Store driver info instead of destinations\n        size: 'number|default:0',\n        compressed: 'boolean|default:false',\n        encrypted: 'boolean|default:false',\n        checksum: 'string|default:null',\n        status: 'string|required',\n        error: 'string|default:null',\n        duration: 'number|default:0',\n        createdAt: 'string|required'\n      },\n      behavior: 'body-overflow',\n      timestamps: true\n    }));\n\n    if (!ok && this.config.verbose) {\n      console.log(`[BackupPlugin] Backup metadata resource '${this.config.backupMetadataResource}' already exists`);\n    }\n  }\n\n  /**\n   * Create a backup\n   * @param {string} type - Backup type ('full' or 'incremental')\n   * @param {Object} options - Backup options\n   * @returns {Object} Backup result\n   */\n  async backup(type = 'full', options = {}) {\n    const backupId = this._generateBackupId(type);\n    const startTime = Date.now();\n\n    // Check for race condition\n    if (this.activeBackups.has(backupId)) {\n      throw new Error(`Backup '${backupId}' is already in progress`);\n    }\n\n    try {\n      this.activeBackups.add(backupId);\n      \n      // Execute onBackupStart hook\n      if (this.config.onBackupStart) {\n        await this._executeHook(this.config.onBackupStart, type, { backupId });\n      }\n      \n      this.emit('backup_start', { id: backupId, type });\n      \n      // Create backup metadata\n      const metadata = await this._createBackupMetadata(backupId, type);\n      \n      // Create temporary backup directory\n      const tempBackupDir = path.join(this.config.tempDir, backupId);\n      await mkdir(tempBackupDir, { recursive: true });\n      \n      try {\n        // Create backup manifest\n        const manifest = await this._createBackupManifest(type, options);\n        \n        // Export resources to backup files\n        const exportedFiles = await this._exportResources(manifest.resources, tempBackupDir, type);\n        \n        // Check if we have any files to backup\n        if (exportedFiles.length === 0) {\n          throw new Error('No resources were exported for backup');\n        }\n        \n        // Create archive\n        const archiveExtension = this.config.compression !== 'none' ? '.tar.gz' : '.json';\n        const finalPath = path.join(tempBackupDir, `${backupId}${archiveExtension}`);\n        const totalSize = await this._createArchive(exportedFiles, finalPath, this.config.compression);\n        \n        // Generate checksum\n        const checksum = await this._generateChecksum(finalPath);\n        \n        // Upload using driver\n        const uploadResult = await this.driver.upload(finalPath, backupId, manifest);\n        \n        // Verify backup if enabled\n        if (this.config.verification) {\n          const isValid = await this.driver.verify(backupId, checksum, uploadResult);\n          if (!isValid) {\n            throw new Error('Backup verification failed');\n          }\n        }\n        \n        const duration = Date.now() - startTime;\n        \n        // Update metadata\n        await this._updateBackupMetadata(backupId, {\n          status: 'completed',\n          size: totalSize,\n          checksum,\n          driverInfo: uploadResult,\n          duration\n        });\n        \n        // Execute onBackupComplete hook\n        if (this.config.onBackupComplete) {\n          const stats = { backupId, type, size: totalSize, duration, driverInfo: uploadResult };\n          await this._executeHook(this.config.onBackupComplete, type, stats);\n        }\n        \n        this.emit('backup_complete', { \n          id: backupId, \n          type, \n          size: totalSize, \n          duration,\n          driverInfo: uploadResult\n        });\n        \n        // Cleanup retention\n        await this._cleanupOldBackups();\n        \n        return {\n          id: backupId,\n          type,\n          size: totalSize,\n          duration,\n          checksum,\n          driverInfo: uploadResult\n        };\n        \n      } finally {\n        // Cleanup temporary files\n        await this._cleanupTempFiles(tempBackupDir);\n      }\n      \n    } catch (error) {\n      // Execute onBackupError hook\n      if (this.config.onBackupError) {\n        await this._executeHook(this.config.onBackupError, type, { backupId, error });\n      }\n      \n      // Update metadata with error\n      await this._updateBackupMetadata(backupId, {\n        status: 'failed',\n        error: error.message,\n        duration: Date.now() - startTime\n      });\n      \n      this.emit('backup_error', { id: backupId, type, error: error.message });\n      throw error;\n      \n    } finally {\n      this.activeBackups.delete(backupId);\n    }\n  }\n\n  _generateBackupId(type) {\n    const timestamp = new Date().toISOString().replace(/[:.]/g, '-');\n    const random = Math.random().toString(36).substring(2, 8);\n    return `${type}-${timestamp}-${random}`;\n  }\n\n  async _createBackupMetadata(backupId, type) {\n    const now = new Date();\n    const metadata = {\n      id: backupId,\n      type,\n      timestamp: Date.now(),\n      resources: [],\n      driverInfo: {},\n      size: 0,\n      status: 'in_progress',\n      compressed: this.config.compression !== 'none',\n      encrypted: !!this.config.encryption,\n      checksum: null,\n      error: null,\n      duration: 0,\n      createdAt: now.toISOString().slice(0, 10)\n    };\n    \n    const [ok] = await tryFn(() => \n      this.database.resources[this.config.backupMetadataResource].insert(metadata)\n    );\n    \n    return metadata;\n  }\n\n  async _updateBackupMetadata(backupId, updates) {\n    const [ok] = await tryFn(() => \n      this.database.resources[this.config.backupMetadataResource].update(backupId, updates)\n    );\n  }\n\n  async _createBackupManifest(type, options) {\n    let resourcesToBackup = options.resources || \n      (this.config.include ? this.config.include : await this.database.listResources());\n    \n    // Ensure we have resource names as strings\n    if (Array.isArray(resourcesToBackup) && resourcesToBackup.length > 0 && typeof resourcesToBackup[0] === 'object') {\n      resourcesToBackup = resourcesToBackup.map(resource => resource.name || resource);\n    }\n    \n    // Filter excluded resources\n    const filteredResources = resourcesToBackup.filter(name => \n      !this.config.exclude.includes(name)\n    );\n    \n    return {\n      type,\n      timestamp: Date.now(),\n      resources: filteredResources,\n      compression: this.config.compression,\n      encrypted: !!this.config.encryption,\n      s3db_version: this.database.constructor.version || 'unknown'\n    };\n  }\n\n  async _exportResources(resourceNames, tempDir, type) {\n    const exportedFiles = [];\n    const resourceStats = new Map();\n\n    // Create StreamingExporter\n    const exporter = new StreamingExporter({\n      compress: true, // Always use gzip for backups\n      onProgress: this.config.verbose ? (stats) => {\n        if (stats.recordCount % 10000 === 0) {\n          console.log(`[BackupPlugin] Exported ${stats.recordCount} records from '${stats.resourceName}'`);\n        }\n      } : null\n    });\n\n    // Determine timestamp for incremental backups\n    let sinceTimestamp = null;\n    if (type === 'incremental') {\n      const [lastBackupOk, , lastBackups] = await tryFn(() =>\n        this.database.resources[this.config.backupMetadataResource].list({\n          filter: {\n            status: 'completed',\n            type: { $in: ['full', 'incremental'] }\n          },\n          sort: { timestamp: -1 },\n          limit: 1\n        })\n      );\n\n      if (lastBackupOk && lastBackups && lastBackups.length > 0) {\n        sinceTimestamp = new Date(lastBackups[0].timestamp);\n      } else {\n        // No previous backup found, use last 24 hours as fallback\n        sinceTimestamp = new Date(Date.now() - 24 * 60 * 60 * 1000);\n      }\n\n      if (this.config.verbose) {\n        console.log(`[BackupPlugin] Incremental backup since ${sinceTimestamp.toISOString()}`);\n      }\n    }\n\n    // Export each resource using streaming\n    for (const resourceName of resourceNames) {\n      const resource = this.database.resources[resourceName];\n      if (!resource) {\n        if (this.config.verbose) {\n          console.warn(`[BackupPlugin] Resource '${resourceName}' not found, skipping`);\n        }\n        continue;\n      }\n\n      const exportPath = path.join(tempDir, `${resourceName}.jsonl.gz`);\n\n      try {\n        // Export with streaming (constant memory usage!)\n        const stats = await exporter.exportResource(resource, exportPath, type, sinceTimestamp);\n\n        exportedFiles.push(exportPath);\n        resourceStats.set(resourceName, {\n          ...stats,\n          definition: resource.config\n        });\n\n        if (this.config.verbose) {\n          console.log(\n            `[BackupPlugin] Exported ${stats.recordCount} records from '${resourceName}' ` +\n            `(${(stats.bytesWritten / 1024 / 1024).toFixed(2)} MB compressed)`\n          );\n        }\n      } catch (error) {\n        if (this.config.verbose) {\n          console.error(`[BackupPlugin] Error exporting '${resourceName}': ${error.message}`);\n        }\n        throw error;\n      }\n    }\n\n    // Generate s3db.json metadata file\n    await this._generateMetadataFile(tempDir, resourceStats, type);\n    exportedFiles.push(path.join(tempDir, 's3db.json'));\n\n    return exportedFiles;\n  }\n\n  /**\n   * Generate s3db.json metadata file\n   */\n  async _generateMetadataFile(tempDir, resourceStats, type) {\n    const metadata = {\n      version: '1.0',\n      backupType: type,\n      exportedAt: new Date().toISOString(),\n      database: {\n        bucket: this.database.bucket,\n        region: this.database.region\n      },\n      resources: {}\n    };\n\n    for (const [resourceName, stats] of resourceStats.entries()) {\n      metadata.resources[resourceName] = {\n        name: resourceName,\n        attributes: stats.definition.attributes || {},\n        partitions: stats.definition.partitions || {},\n        timestamps: stats.definition.timestamps || false,\n        recordCount: stats.recordCount,\n        exportFile: `${resourceName}.jsonl.gz`,\n        compression: 'gzip',\n        format: 'jsonl',\n        bytesWritten: stats.bytesWritten\n      };\n    }\n\n    const metadataPath = path.join(tempDir, 's3db.json');\n    await writeFile(metadataPath, JSON.stringify(metadata, null, 2));\n\n    if (this.config.verbose) {\n      console.log(`[BackupPlugin] Generated s3db.json metadata`);\n    }\n  }\n\n  async _createArchive(files, targetPath, compressionType) {\n    // Create a JSON-based archive with file metadata and contents\n    const archive = {\n      version: '1.0',\n      created: new Date().toISOString(),\n      files: []\n    };\n\n    let totalSize = 0;\n\n    // Read all files and add to archive\n    for (const filePath of files) {\n      const [readOk, readErr, content] = await tryFn(() => readFile(filePath, 'utf8'));\n\n      if (!readOk) {\n        if (this.config.verbose) {\n          console.warn(`[BackupPlugin] Failed to read ${filePath}: ${readErr?.message}`);\n        }\n        continue;\n      }\n\n      const fileName = path.basename(filePath);\n      totalSize += content.length;\n\n      archive.files.push({\n        name: fileName,\n        size: content.length,\n        content\n      });\n    }\n\n    // Write archive (compressed or uncompressed)\n    const archiveJson = JSON.stringify(archive);\n\n    if (compressionType === 'none') {\n      // Write uncompressed JSON\n      await writeFile(targetPath, archiveJson, 'utf8');\n    } else {\n      // Write compressed JSON\n      const output = createWriteStream(targetPath);\n      const gzip = zlib.createGzip({ level: 6 });\n\n      await pipeline(\n        async function* () {\n          yield Buffer.from(archiveJson, 'utf8');\n        },\n        gzip,\n        output\n      );\n    }\n\n    const [statOk, , stats] = await tryFn(() => stat(targetPath));\n    return statOk ? stats.size : totalSize;\n  }\n\n  async _generateChecksum(filePath) {\n    const [ok, err, result] = await tryFn(async () => {\n      const hash = crypto.createHash('sha256');\n      const stream = createReadStream(filePath);\n\n      await pipeline(stream, hash);\n      return hash.digest('hex');\n    });\n\n    if (!ok) {\n      throw new Error(`Failed to generate checksum for ${filePath}: ${err?.message}`);\n    }\n\n    return result;\n  }\n\n  async _cleanupTempFiles(tempDir) {\n    const [ok] = await tryFn(() => \n      import('fs/promises').then(fs => fs.rm(tempDir, { recursive: true, force: true }))\n    );\n  }\n\n  /**\n   * Restore from backup\n   * @param {string} backupId - Backup identifier\n   * @param {Object} options - Restore options\n   * @returns {Object} Restore result\n   */\n  async restore(backupId, options = {}) {\n    try {\n      // Execute onRestoreStart hook\n      if (this.config.onRestoreStart) {\n        await this._executeHook(this.config.onRestoreStart, backupId, options);\n      }\n      \n      this.emit('restore_start', { id: backupId, options });\n      \n      // Get backup metadata\n      const backup = await this.getBackupStatus(backupId);\n      if (!backup) {\n        throw new Error(`Backup '${backupId}' not found`);\n      }\n      \n      if (backup.status !== 'completed') {\n        throw new Error(`Backup '${backupId}' is not in completed status`);\n      }\n      \n      // Create temporary restore directory\n      const tempRestoreDir = path.join(this.config.tempDir, `restore-${backupId}`);\n      await mkdir(tempRestoreDir, { recursive: true });\n      \n      try {\n        // Download backup using driver\n        const downloadPath = path.join(tempRestoreDir, `${backupId}.backup`);\n        await this.driver.download(backupId, downloadPath, backup.driverInfo);\n        \n        // Verify backup if enabled\n        if (this.config.verification && backup.checksum) {\n          const actualChecksum = await this._generateChecksum(downloadPath);\n          if (actualChecksum !== backup.checksum) {\n            throw new Error('Backup verification failed during restore');\n          }\n        }\n        \n        // Extract and restore data\n        const restoredResources = await this._restoreFromBackup(downloadPath, options);\n        \n        // Execute onRestoreComplete hook\n        if (this.config.onRestoreComplete) {\n          await this._executeHook(this.config.onRestoreComplete, backupId, { restored: restoredResources });\n        }\n        \n        this.emit('restore_complete', { \n          id: backupId, \n          restored: restoredResources \n        });\n        \n        return {\n          backupId,\n          restored: restoredResources\n        };\n        \n      } finally {\n        // Cleanup temporary files\n        await this._cleanupTempFiles(tempRestoreDir);\n      }\n      \n    } catch (error) {\n      // Execute onRestoreError hook\n      if (this.config.onRestoreError) {\n        await this._executeHook(this.config.onRestoreError, backupId, { error });\n      }\n      \n      this.emit('restore_error', { id: backupId, error: error.message });\n      throw error;\n    }\n  }\n\n  async _restoreFromBackup(backupPath, options) {\n    const restoredResources = [];\n\n    try {\n      // Read and decompress the archive\n      let archiveData = '';\n\n      if (this.config.compression !== 'none') {\n        // Decompress the archive\n        const input = createReadStream(backupPath);\n        const gunzip = zlib.createGunzip();\n        const chunks = [];\n\n        // Use pipeline with proper stream handling\n        await new Promise((resolve, reject) => {\n          input.pipe(gunzip)\n            .on('data', chunk => chunks.push(chunk))\n            .on('end', resolve)\n            .on('error', reject);\n        });\n\n        archiveData = Buffer.concat(chunks).toString('utf8');\n      } else {\n        // Read uncompressed archive\n        archiveData = await readFile(backupPath, 'utf8');\n      }\n\n      // Parse the archive\n      let archive;\n      try {\n        archive = JSON.parse(archiveData);\n      } catch (parseError) {\n        throw new Error(`Failed to parse backup archive: ${parseError.message}`);\n      }\n\n      if (!archive || typeof archive !== 'object') {\n        throw new Error('Invalid backup archive: not a valid JSON object');\n      }\n\n      if (!archive.version || !archive.files) {\n        throw new Error('Invalid backup archive format: missing version or files array');\n      }\n\n      if (this.config.verbose) {\n        console.log(`[BackupPlugin] Restoring ${archive.files.length} files from backup`);\n      }\n\n      // Process each file in the archive\n      for (const file of archive.files) {\n        try {\n          const resourceData = JSON.parse(file.content);\n\n          if (!resourceData.resourceName || !resourceData.definition) {\n            if (this.config.verbose) {\n              console.warn(`[BackupPlugin] Skipping invalid file: ${file.name}`);\n            }\n            continue;\n          }\n\n          const resourceName = resourceData.resourceName;\n\n          // Check if we should restore this resource\n          if (options.resources && !options.resources.includes(resourceName)) {\n            continue;\n          }\n\n          // Ensure resource exists or create it\n          let resource = this.database.resources[resourceName];\n\n          if (!resource) {\n            if (this.config.verbose) {\n              console.log(`[BackupPlugin] Creating resource '${resourceName}'`);\n            }\n\n            const [createOk, createErr] = await tryFn(() =>\n              this.database.createResource(resourceData.definition)\n            );\n\n            if (!createOk) {\n              if (this.config.verbose) {\n                console.warn(`[BackupPlugin] Failed to create resource '${resourceName}': ${createErr?.message}`);\n              }\n              continue;\n            }\n\n            resource = this.database.resources[resourceName];\n          }\n\n          // Restore records\n          if (resourceData.records && Array.isArray(resourceData.records)) {\n            const mode = options.mode || 'merge'; // 'merge', 'replace', 'skip'\n\n            if (mode === 'replace') {\n              // Clear existing data\n              const ids = await resource.listIds();\n              for (const id of ids) {\n                await resource.delete(id);\n              }\n            }\n\n            // Insert records\n            let insertedCount = 0;\n            for (const record of resourceData.records) {\n              const [insertOk] = await tryFn(async () => {\n                if (mode === 'skip') {\n                  // Check if record exists\n                  const existing = await resource.get(record.id);\n                  if (existing) {\n                    return false;\n                  }\n                }\n                await resource.insert(record);\n                return true;\n              });\n\n              if (insertOk) {\n                insertedCount++;\n              }\n            }\n\n            restoredResources.push({\n              name: resourceName,\n              recordsRestored: insertedCount,\n              totalRecords: resourceData.records.length\n            });\n\n            if (this.config.verbose) {\n              console.log(`[BackupPlugin] Restored ${insertedCount}/${resourceData.records.length} records to '${resourceName}'`);\n            }\n          }\n\n        } catch (fileError) {\n          if (this.config.verbose) {\n            console.warn(`[BackupPlugin] Error processing file ${file.name}: ${fileError.message}`);\n          }\n        }\n      }\n\n      return restoredResources;\n\n    } catch (error) {\n      if (this.config.verbose) {\n        console.error(`[BackupPlugin] Error restoring backup: ${error.message}`);\n      }\n      throw new Error(`Failed to restore backup: ${error.message}`);\n    }\n  }\n\n  /**\n   * List available backups\n   * @param {Object} options - List options\n   * @returns {Array} List of backups\n   */\n  async listBackups(options = {}) {\n    try {\n      // Get backups from driver\n      const driverBackups = await this.driver.list(options);\n      \n      // Merge with metadata from database\n      const [metaOk, , metadataRecords] = await tryFn(() => \n        this.database.resources[this.config.backupMetadataResource].list({\n          limit: options.limit || 50,\n          sort: { timestamp: -1 }\n        })\n      );\n      \n      const metadataMap = new Map();\n      if (metaOk) {\n        metadataRecords.forEach(record => metadataMap.set(record.id, record));\n      }\n      \n      // Combine driver data with metadata\n      const combinedBackups = driverBackups.map(backup => ({\n        ...backup,\n        ...(metadataMap.get(backup.id) || {})\n      }));\n      \n      return combinedBackups;\n      \n    } catch (error) {\n      if (this.config.verbose) {\n        console.log(`[BackupPlugin] Error listing backups: ${error.message}`);\n      }\n      return [];\n    }\n  }\n\n  /**\n   * Get backup status\n   * @param {string} backupId - Backup identifier\n   * @returns {Object|null} Backup status\n   */\n  async getBackupStatus(backupId) {\n    const [ok, , backup] = await tryFn(() => \n      this.database.resources[this.config.backupMetadataResource].get(backupId)\n    );\n    \n    return ok ? backup : null;\n  }\n\n  async _cleanupOldBackups() {\n    try {\n      // Get all completed backups sorted by timestamp\n      const [listOk, , allBackups] = await tryFn(() =>\n        this.database.resources[this.config.backupMetadataResource].list({\n          filter: { status: 'completed' },\n          sort: { timestamp: -1 }\n        })\n      );\n\n      if (!listOk || !allBackups || allBackups.length === 0) {\n        return;\n      }\n\n      const now = Date.now();\n      const msPerDay = 24 * 60 * 60 * 1000;\n      const msPerWeek = 7 * msPerDay;\n      const msPerMonth = 30 * msPerDay;\n      const msPerYear = 365 * msPerDay;\n\n      // Categorize backups by retention period\n      const categorized = {\n        daily: [],\n        weekly: [],\n        monthly: [],\n        yearly: []\n      };\n\n      for (const backup of allBackups) {\n        const age = now - backup.timestamp;\n\n        if (age <= msPerDay * this.config.retention.daily) {\n          categorized.daily.push(backup);\n        } else if (age <= msPerWeek * this.config.retention.weekly) {\n          categorized.weekly.push(backup);\n        } else if (age <= msPerMonth * this.config.retention.monthly) {\n          categorized.monthly.push(backup);\n        } else if (age <= msPerYear * this.config.retention.yearly) {\n          categorized.yearly.push(backup);\n        }\n      }\n\n      // Apply GFS retention: keep one backup per period\n      const toKeep = new Set();\n\n      // Keep all daily backups within retention\n      categorized.daily.forEach(b => toKeep.add(b.id));\n\n      // Keep one backup per week\n      const weeklyByWeek = new Map();\n      for (const backup of categorized.weekly) {\n        const weekNum = Math.floor((now - backup.timestamp) / msPerWeek);\n        if (!weeklyByWeek.has(weekNum)) {\n          weeklyByWeek.set(weekNum, backup);\n          toKeep.add(backup.id);\n        }\n      }\n\n      // Keep one backup per month\n      const monthlyByMonth = new Map();\n      for (const backup of categorized.monthly) {\n        const monthNum = Math.floor((now - backup.timestamp) / msPerMonth);\n        if (!monthlyByMonth.has(monthNum)) {\n          monthlyByMonth.set(monthNum, backup);\n          toKeep.add(backup.id);\n        }\n      }\n\n      // Keep one backup per year\n      const yearlyByYear = new Map();\n      for (const backup of categorized.yearly) {\n        const yearNum = Math.floor((now - backup.timestamp) / msPerYear);\n        if (!yearlyByYear.has(yearNum)) {\n          yearlyByYear.set(yearNum, backup);\n          toKeep.add(backup.id);\n        }\n      }\n\n      // Delete backups not in the keep set\n      const backupsToDelete = allBackups.filter(b => !toKeep.has(b.id));\n\n      if (backupsToDelete.length === 0) {\n        return;\n      }\n\n      if (this.config.verbose) {\n        console.log(`[BackupPlugin] Cleaning up ${backupsToDelete.length} old backups (keeping ${toKeep.size})`);\n      }\n\n      // Delete old backups\n      for (const backup of backupsToDelete) {\n        try {\n          // Delete from driver\n          await this.driver.delete(backup.id, backup.driverInfo);\n\n          // Delete metadata\n          await this.database.resources[this.config.backupMetadataResource].delete(backup.id);\n\n          if (this.config.verbose) {\n            console.log(`[BackupPlugin] Deleted old backup: ${backup.id}`);\n          }\n        } catch (deleteError) {\n          if (this.config.verbose) {\n            console.warn(`[BackupPlugin] Failed to delete backup ${backup.id}: ${deleteError.message}`);\n          }\n        }\n      }\n\n    } catch (error) {\n      if (this.config.verbose) {\n        console.warn(`[BackupPlugin] Error during cleanup: ${error.message}`);\n      }\n    }\n  }\n\n  async _executeHook(hook, ...args) {\n    if (typeof hook === 'function') {\n      return await hook(...args);\n    }\n  }\n\n  async start() {\n    if (this.config.verbose) {\n      const storageInfo = this.driver.getStorageInfo();\n      console.log(`[BackupPlugin] Started with driver: ${storageInfo.type}`);\n    }\n  }\n\n  async stop() {\n    // Cancel any active backups\n    for (const backupId of this.activeBackups) {\n      this.emit('backup_cancelled', { id: backupId });\n    }\n    this.activeBackups.clear();\n    \n    // Cleanup driver\n    if (this.driver) {\n      await this.driver.cleanup();\n    }\n  }\n}\n\nexport default BackupPlugin;","import { S3dbError } from '../errors.js';\n\n/**\n * CacheError - Errors related to cache operations\n *\n * Used for cache operations including:\n * - Cache driver initialization and setup\n * - Cache get/set/delete operations\n * - Cache invalidation and warming\n * - Driver-specific operations (memory, filesystem, S3)\n * - Resource-level caching\n *\n * @extends S3dbError\n */\nexport class CacheError extends S3dbError {\n  constructor(message, details = {}) {\n    const { driver = 'unknown', operation = 'unknown', resourceName, key, ...rest } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nCache Operation Error\n\nDriver: ${driver}\nOperation: ${operation}\n${resourceName ? `Resource: ${resourceName}` : ''}\n${key ? `Key: ${key}` : ''}\n\nCommon causes:\n1. Invalid cache key format\n2. Cache driver not properly initialized\n3. Resource not found or not cached\n4. Memory limits exceeded\n5. Filesystem permissions issues\n\nSolution:\nCheck cache configuration and ensure the cache driver is properly initialized.\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/cache.md\n`.trim();\n    }\n\n    super(message, { ...rest, driver, operation, resourceName, key, description });\n  }\n}\n\nexport default CacheError;\n","import EventEmitter from \"events\";\nimport { CacheError } from \"../cache.errors.js\";\n\nexport class Cache extends EventEmitter {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n  }\n  // to implement:\n  async _set (key, data) {}\n  async _get (key) {}\n  async _del (key) {}\n  async _clear (key) {}\n\n  validateKey(key) {\n    if (key === null || key === undefined || typeof key !== 'string' || !key) {\n      throw new CacheError('Invalid cache key', {\n        operation: 'validateKey',\n        driver: this.constructor.name,\n        key,\n        keyType: typeof key,\n        suggestion: 'Cache key must be a non-empty string'\n      });\n    }\n  }\n\n  // generic class methods\n  async set(key, data) {\n    this.validateKey(key);\n    await this._set(key, data);\n    this.emit(\"set\", data);\n    return data\n  }\n\n  async get(key) {\n    this.validateKey(key);\n    const data = await this._get(key);\n    this.emit(\"get\", data);\n    return data;\n  }\n\n  async del(key) {\n    this.validateKey(key);\n    const data = await this._del(key);\n    this.emit(\"delete\", data);\n    return data;\n  }\n\n  async delete(key) {\n    return this.del(key);\n  }\n\n  async clear(prefix) {\n    const data = await this._clear(prefix);\n    this.emit(\"clear\", data);\n    return data;\n  }\n}\n\nexport default Cache\n","/**\n * S3 Cache Configuration Documentation\n * \n * This cache implementation stores data in Amazon S3, providing persistent storage\n * that survives process restarts and can be shared across multiple instances.\n * It's suitable for large datasets and distributed caching scenarios.\n * \n * @typedef {Object} S3CacheConfig\n * @property {string} bucket - The name of the S3 bucket to use for cache storage\n * @property {string} [region='us-east-1'] - AWS region where the S3 bucket is located\n * @property {string} [accessKeyId] - AWS access key ID (if not using IAM roles)\n * @property {string} [secretAccessKey] - AWS secret access key (if not using IAM roles)\n * @property {string} [sessionToken] - AWS session token for temporary credentials\n * @property {string} [prefix='cache/'] - S3 key prefix for all cache objects\n * @property {number} [ttl=3600000] - Time to live in milliseconds (1 hour default)\n * @property {boolean} [enableCompression=true] - Whether to compress cache values using gzip\n * @property {number} [compressionThreshold=1024] - Minimum size in bytes to trigger compression\n * @property {string} [storageClass='STANDARD'] - S3 storage class: 'STANDARD', 'STANDARD_IA', 'ONEZONE_IA', 'GLACIER', 'DEEP_ARCHIVE'\n * @property {boolean} [enableEncryption=true] - Whether to use S3 server-side encryption (AES256)\n * @property {string} [encryptionAlgorithm='AES256'] - Encryption algorithm: 'AES256' or 'aws:kms'\n * @property {string} [kmsKeyId] - KMS key ID for encryption (if using aws:kms)\n * @property {number} [maxConcurrency=10] - Maximum number of concurrent S3 operations\n * @property {number} [retryAttempts=3] - Number of retry attempts for failed S3 operations\n * @property {number} [retryDelay=1000] - Delay in milliseconds between retry attempts\n * @property {boolean} [logOperations=false] - Whether to log S3 operations to console for debugging\n * @property {Object} [metadata] - Additional metadata to include with all cache objects\n *   - Key: metadata name (e.g., 'environment', 'version')\n *   - Value: metadata value (e.g., 'production', '1.0.0')\n * @property {string} [contentType='application/json'] - Content type for cache objects\n * @property {boolean} [enableVersioning=false] - Whether to enable S3 object versioning for cache objects\n * @property {number} [maxKeys=1000] - Maximum number of keys to retrieve in list operations\n * @property {boolean} [enableCacheControl=false] - Whether to set Cache-Control headers on S3 objects\n * @property {string} [cacheControl='max-age=3600'] - Cache-Control header value for S3 objects\n * @property {Object} [s3ClientOptions] - Additional options to pass to the S3 client constructor\n * @property {boolean} [enableLocalCache=false] - Whether to use local memory cache as a layer on top of S3\n * @property {number} [localCacheSize=100] - Size of local memory cache when enabled\n * @property {number} [localCacheTtl=300000] - TTL for local memory cache in milliseconds (5 minutes default)\n * \n * @example\n * // Basic configuration with compression and encryption\n * {\n *   bucket: 'my-cache-bucket',\n *   region: 'us-west-2',\n *   accessKeyId: 'AKIAIOSFODNN7EXAMPLE',\n *   secretAccessKey: 'wJalrXUtnFEMI/K7MDENG/bPxRfiCYEXAMPLEKEY',\n *   prefix: 'app-cache/',\n *   ttl: 7200000, // 2 hours\n *   enableCompression: true,\n *   enableEncryption: true,\n *   storageClass: 'STANDARD_IA'\n * }\n * \n * @example\n * // Configuration with KMS encryption and local caching\n * {\n *   bucket: 'secure-cache-bucket',\n *   region: 'eu-west-1',\n *   prefix: 'encrypted-cache/',\n *   enableEncryption: true,\n *   encryptionAlgorithm: 'aws:kms',\n *   kmsKeyId: 'arn:aws:kms:eu-west-1:123456789012:key/abcd1234-5678-90ef-ghij-klmnopqrstuv',\n *   enableLocalCache: true,\n *   localCacheSize: 500,\n *   localCacheTtl: 600000, // 10 minutes\n *   metadata: {\n *     'environment': 'production',\n *     'cache_type': 's3'\n *   }\n * }\n * \n * @example\n * // Configuration with cost optimization\n * {\n *   bucket: 'cost-optimized-cache',\n *   region: 'us-east-1',\n *   prefix: 'cache/',\n *   storageClass: 'STANDARD_IA',\n *   ttl: 86400000, // 24 hours\n *   enableCompression: true,\n *   compressionThreshold: 512,\n *   maxConcurrency: 5,\n *   enableCacheControl: true,\n *   cacheControl: 'max-age=86400, public'\n * }\n * \n * @example\n * // Minimal configuration using IAM roles\n * {\n *   bucket: 'my-cache-bucket',\n *   region: 'us-east-1'\n * }\n * \n * @notes\n * - Requires AWS credentials with S3 read/write permissions\n * - S3 storage costs depend on storage class and data transfer\n * - Compression reduces storage costs but increases CPU usage\n * - Encryption provides security but may impact performance\n * - Local cache layer improves performance for frequently accessed data\n * - Storage class affects cost, availability, and retrieval time\n * - Versioning allows recovery of deleted cache objects\n * - Cache-Control headers help with CDN integration\n * - Retry mechanism handles temporary S3 service issues\n * - Concurrent operations improve performance but may hit rate limits\n * - Metadata is useful for cache management and monitoring\n * - TTL is enforced by checking object creation time\n */\nimport zlib from \"node:zlib\";\nimport { PluginStorage } from \"../../concerns/plugin-storage.js\";\nimport { Cache } from \"./cache.class.js\";\n\nexport class S3Cache extends Cache {\n  constructor({\n    client,\n    keyPrefix = 'cache',\n    ttl = 0,\n    prefix = undefined,\n    enableCompression = true,\n    compressionThreshold = 1024\n  }) {\n    super();\n    this.client = client;\n    this.keyPrefix = keyPrefix;\n    this.config.ttl = ttl;\n    this.config.client = client;\n    this.config.prefix = prefix !== undefined ? prefix : keyPrefix + (keyPrefix.endsWith('/') ? '' : '/');\n    this.config.enableCompression = enableCompression;\n    this.config.compressionThreshold = compressionThreshold;\n\n    // Create PluginStorage instance for consistent storage operations with TTL support\n    this.storage = new PluginStorage(client, 'cache');\n  }\n\n  /**\n   * Compress data if enabled and above threshold\n   * @private\n   */\n  _compressData(data) {\n    const jsonString = JSON.stringify(data);\n\n    // Don't compress if disabled or below threshold\n    if (!this.config.enableCompression || jsonString.length < this.config.compressionThreshold) {\n      return {\n        data: jsonString,\n        compressed: false,\n        originalSize: jsonString.length\n      };\n    }\n\n    // Compress with gzip\n    const compressed = zlib.gzipSync(jsonString).toString('base64');\n    return {\n      data: compressed,\n      compressed: true,\n      originalSize: jsonString.length,\n      compressedSize: compressed.length,\n      compressionRatio: (compressed.length / jsonString.length).toFixed(2)\n    };\n  }\n\n  /**\n   * Decompress data if needed\n   * @private\n   */\n  _decompressData(storedData) {\n    if (!storedData || !storedData.compressed) {\n      // Not compressed - parse JSON directly\n      return storedData && storedData.data ? JSON.parse(storedData.data) : null;\n    }\n\n    // Decompress gzip data\n    const buffer = Buffer.from(storedData.data, 'base64');\n    const decompressed = zlib.unzipSync(buffer).toString();\n    return JSON.parse(decompressed);\n  }\n\n  async _set(key, data) {\n    const compressed = this._compressData(data);\n\n    // Use PluginStorage with body-only behavior (compressed data doesn't benefit from metadata encoding)\n    // TTL is handled automatically by PluginStorage\n    return this.storage.set(\n      this.storage.getPluginKey(null, this.keyPrefix, key),\n      compressed,\n      {\n        ttl: this.config.ttl,\n        behavior: 'body-only', // Compressed data is already optimized, skip metadata encoding\n        contentType: compressed.compressed ? 'application/gzip' : 'application/json'\n      }\n    );\n  }\n\n  async _get(key) {\n    // PluginStorage automatically checks TTL and deletes expired items\n    const storedData = await this.storage.get(\n      this.storage.getPluginKey(null, this.keyPrefix, key)\n    );\n\n    if (!storedData) return null;\n\n    return this._decompressData(storedData);\n  }\n\n  async _del(key) {\n    await this.storage.delete(\n      this.storage.getPluginKey(null, this.keyPrefix, key)\n    );\n    return true;\n  }\n\n  async _clear() {\n    // Get all keys with the cache plugin prefix\n    const pluginPrefix = `plugin=cache/${this.keyPrefix}`;\n    const allKeys = await this.client.getAllKeys({ prefix: pluginPrefix });\n\n    // Delete all cache keys\n    for (const key of allKeys) {\n      await this.storage.delete(key);\n    }\n  }\n\n  async size() {\n    const keys = await this.keys();\n    return keys.length;\n  }\n\n  async keys() {\n    // Get all keys with the cache plugin prefix\n    const pluginPrefix = `plugin=cache/${this.keyPrefix}`;\n    const allKeys = await this.client.getAllKeys({ prefix: pluginPrefix });\n\n    // Remove the plugin prefix to return just the cache keys\n    const prefixToRemove = `plugin=cache/${this.keyPrefix}/`;\n    return allKeys.map(k => k.startsWith(prefixToRemove) ? k.slice(prefixToRemove.length) : k);\n  }\n}\n\nexport default S3Cache\n","/**\n * Memory Cache Configuration Documentation\n *\n * This cache implementation stores data in memory using a Map-like structure.\n * It provides fast access to frequently used data but is limited by available RAM\n * and data is lost when the process restarts.\n *\n * @typedef {Object} MemoryCacheConfig\n * @property {number} [maxSize=1000] - Maximum number of items to store in cache\n * @property {number} [maxMemoryBytes=0] - Maximum memory usage in bytes (0 = unlimited). When set, cache will evict items to stay under this limit.\n * @property {number} [maxMemoryPercent=0] - Maximum memory usage as decimal fraction of total system memory (0 = unlimited, 0.1 = 10%, 0.5 = 50%, 1.0 = 100%). Takes precedence over maxMemoryBytes if both are set.\n * @property {number} [ttl=300000] - Time to live in milliseconds (5 minutes default)\n * @property {boolean} [enableStats=false] - Whether to track cache statistics (hits, misses, etc.)\n * @property {string} [evictionPolicy='lru'] - Cache eviction policy: 'lru' (Least Recently Used) or 'fifo' (First In First Out)\n * @property {boolean} [logEvictions=false] - Whether to log when items are evicted from cache\n * @property {number} [cleanupInterval=60000] - Interval in milliseconds to run cleanup of expired items (1 minute default)\n * @property {boolean} [caseSensitive=true] - Whether cache keys are case sensitive\n * @property {Function} [serializer] - Custom function to serialize values before storage\n *   - Parameters: (value: any) => string\n *   - Default: JSON.stringify\n * @property {Function} [deserializer] - Custom function to deserialize values after retrieval\n *   - Parameters: (string: string) => any\n *   - Default: JSON.parse\n * @property {boolean} [enableCompression=false] - Whether to compress values using gzip (requires zlib)\n * @property {number} [compressionThreshold=1024] - Minimum size in bytes to trigger compression\n * @property {Object} [tags] - Default tags to apply to all cached items\n *   - Key: tag name (e.g., 'environment', 'version')\n *   - Value: tag value (e.g., 'production', '1.0.0')\n * @property {boolean} [persistent=false] - Whether to persist cache to disk (experimental)\n * @property {string} [persistencePath='./cache'] - Directory path for persistent cache storage\n * @property {number} [persistenceInterval=300000] - Interval in milliseconds to save cache to disk (5 minutes default)\n * \n * @example\n * // Basic configuration with LRU eviction\n * {\n *   maxSize: 5000,\n *   ttl: 600000, // 10 minutes\n *   evictionPolicy: 'lru',\n *   enableStats: true,\n *   logEvictions: true\n * }\n * \n * @example\n * // Configuration with compression and custom serialization\n * {\n *   maxSize: 10000,\n *   ttl: 1800000, // 30 minutes\n *   enableCompression: true,\n *   compressionThreshold: 512,\n *   serializer: (value) => Buffer.from(JSON.stringify(value)).toString('base64'),\n *   deserializer: (str) => JSON.parse(Buffer.from(str, 'base64').toString()),\n *   tags: {\n *     'environment': 'production',\n *     'cache_type': 'memory'\n *   }\n * }\n * \n * @example\n * // FIFO configuration with persistent storage\n * {\n *   maxSize: 2000,\n *   ttl: 900000, // 15 minutes\n *   evictionPolicy: 'fifo',\n *   persistent: true,\n *   persistencePath: './data/cache',\n *   persistenceInterval: 600000 // 10 minutes\n * }\n * \n * @example\n * // Minimal configuration using defaults\n * {\n *   maxSize: 1000,\n *   ttl: 300000 // 5 minutes\n * }\n *\n * @example\n * // Memory-limited configuration (prevents memory exhaustion)\n * {\n *   maxMemoryBytes: 100 * 1024 * 1024, // 100MB hard limit\n *   ttl: 600000, // 10 minutes\n *   enableCompression: true, // Reduce memory usage\n *   compressionThreshold: 1024 // Compress items > 1KB\n * }\n *\n * @example\n * // Production configuration with memory monitoring (absolute bytes)\n * {\n *   maxSize: 5000, // Limit number of items\n *   maxMemoryBytes: 512 * 1024 * 1024, // 512MB memory limit\n *   ttl: 1800000, // 30 minutes\n *   enableCompression: true,\n *   compressionThreshold: 512\n * }\n *\n * // Check memory usage\n * const stats = cache.getMemoryStats();\n * console.log(`Memory: ${stats.memoryUsage.current} / ${stats.memoryUsage.max}`);\n * console.log(`Usage: ${stats.memoryUsagePercent}%`);\n * console.log(`Evicted due to memory: ${stats.evictedDueToMemory}`);\n *\n * @example\n * // Production configuration with percentage of system memory\n * {\n *   maxMemoryPercent: 0.1, // Use max 10% of system memory (0.1 = 10%)\n *   ttl: 1800000, // 30 minutes\n *   enableCompression: true\n * }\n *\n * // On a 16GB system, this sets maxMemoryBytes to ~1.6GB\n * // On a 32GB system, this sets maxMemoryBytes to ~3.2GB\n *\n * // Check system memory stats\n * const stats = cache.getMemoryStats();\n * console.log(`System Memory: ${stats.systemMemory.total}`);\n * console.log(`Cache using: ${stats.systemMemory.cachePercent} of system memory`);\n * console.log(`Max allowed: ${(stats.maxMemoryPercent * 100).toFixed(1)}%`);\n *\n * @notes\n * - Memory usage is limited by available RAM, maxSize setting, and optionally maxMemoryBytes or maxMemoryPercent\n * - maxMemoryPercent takes precedence over maxMemoryBytes if both are set\n * - maxMemoryPercent is calculated based on total system memory at cache creation time\n * - Useful for containerized/cloud environments where system memory varies\n * - TTL is checked on access, not automatically in background\n * - LRU eviction removes least recently accessed items when cache is full\n * - FIFO eviction removes oldest items when cache is full\n * - Statistics include hit rate, miss rate, and eviction count\n * - Compression reduces memory usage but increases CPU overhead\n * - Custom serializers allow for specialized data formats\n * - Persistent storage survives process restarts but may be slower\n * - Cleanup interval helps prevent memory leaks from expired items\n * - Tags are useful for cache invalidation and monitoring\n * - Case sensitivity affects key matching and storage efficiency\n * - maxMemoryBytes prevents memory exhaustion by enforcing byte-level limits\n * - Memory tracking includes serialized data size (compressed or uncompressed)\n * - getMemoryStats() includes systemMemory info for monitoring\n */\nimport zlib from 'node:zlib';\nimport os from 'node:os';\nimport { Cache } from \"./cache.class.js\"\n\nexport class MemoryCache extends Cache {\n  constructor(config = {}) {\n    super(config);\n    this.cache = {};\n    this.meta = {};\n    this.maxSize = config.maxSize !== undefined ? config.maxSize : 1000;\n\n    // Validate that only one memory limit option is used\n    if (config.maxMemoryBytes && config.maxMemoryBytes > 0 &&\n        config.maxMemoryPercent && config.maxMemoryPercent > 0) {\n      throw new Error(\n        '[MemoryCache] Cannot use both maxMemoryBytes and maxMemoryPercent. ' +\n        'Choose one: maxMemoryBytes (absolute) or maxMemoryPercent (0...1 fraction).'\n      );\n    }\n\n    // Calculate maxMemoryBytes from percentage if provided\n    if (config.maxMemoryPercent && config.maxMemoryPercent > 0) {\n      if (config.maxMemoryPercent > 1) {\n        throw new Error(\n          '[MemoryCache] maxMemoryPercent must be between 0 and 1 (e.g., 0.1 for 10%). ' +\n          `Received: ${config.maxMemoryPercent}`\n        );\n      }\n\n      const totalMemory = os.totalmem();\n      this.maxMemoryBytes = Math.floor(totalMemory * config.maxMemoryPercent);\n      this.maxMemoryPercent = config.maxMemoryPercent;\n    } else {\n      this.maxMemoryBytes = config.maxMemoryBytes !== undefined ? config.maxMemoryBytes : 0; // 0 = unlimited\n      this.maxMemoryPercent = 0;\n    }\n\n    this.ttl = config.ttl !== undefined ? config.ttl : 300000;\n\n    // Compression configuration\n    this.enableCompression = config.enableCompression !== undefined ? config.enableCompression : false;\n    this.compressionThreshold = config.compressionThreshold !== undefined ? config.compressionThreshold : 1024;\n\n    // Stats for compression\n    this.compressionStats = {\n      totalCompressed: 0,\n      totalOriginalSize: 0,\n      totalCompressedSize: 0,\n      compressionRatio: 0\n    };\n\n    // Memory tracking\n    this.currentMemoryBytes = 0;\n    this.evictedDueToMemory = 0;\n  }\n\n  async _set(key, data) {\n    // Prepare data for storage\n    let finalData = data;\n    let compressed = false;\n    let originalSize = 0;\n    let compressedSize = 0;\n\n    // Calculate size first (needed for both compression and memory limit checks)\n    const serialized = JSON.stringify(data);\n    originalSize = Buffer.byteLength(serialized, 'utf8');\n\n    // Apply compression if enabled\n    if (this.enableCompression) {\n      try {\n        // Compress only if over threshold\n        if (originalSize >= this.compressionThreshold) {\n          const compressedBuffer = zlib.gzipSync(Buffer.from(serialized, 'utf8'));\n          finalData = {\n            __compressed: true,\n            __data: compressedBuffer.toString('base64'),\n            __originalSize: originalSize\n          };\n          compressedSize = Buffer.byteLength(finalData.__data, 'utf8');\n          compressed = true;\n\n          // Update compression stats\n          this.compressionStats.totalCompressed++;\n          this.compressionStats.totalOriginalSize += originalSize;\n          this.compressionStats.totalCompressedSize += compressedSize;\n          this.compressionStats.compressionRatio =\n            (this.compressionStats.totalCompressedSize / this.compressionStats.totalOriginalSize).toFixed(2);\n        }\n      } catch (error) {\n        // If compression fails, store uncompressed\n        console.warn(`[MemoryCache] Compression failed for key '${key}':`, error.message);\n      }\n    }\n\n    // Calculate actual storage size (compressed or original)\n    const itemSize = compressed ? compressedSize : originalSize;\n\n    // If replacing existing key, subtract its old size from current memory\n    if (Object.prototype.hasOwnProperty.call(this.cache, key)) {\n      const oldSize = this.meta[key]?.compressedSize || 0;\n      this.currentMemoryBytes -= oldSize;\n    }\n\n    // Memory-aware eviction: Remove items until we have space\n    if (this.maxMemoryBytes > 0) {\n      while (this.currentMemoryBytes + itemSize > this.maxMemoryBytes && Object.keys(this.cache).length > 0) {\n        // Remove the oldest item\n        const oldestKey = Object.entries(this.meta)\n          .sort((a, b) => a[1].ts - b[1].ts)[0]?.[0];\n        if (oldestKey) {\n          const evictedSize = this.meta[oldestKey]?.compressedSize || 0;\n          delete this.cache[oldestKey];\n          delete this.meta[oldestKey];\n          this.currentMemoryBytes -= evictedSize;\n          this.evictedDueToMemory++;\n        } else {\n          break; // No more items to evict\n        }\n      }\n    }\n\n    // Item count eviction (original logic)\n    if (this.maxSize > 0 && Object.keys(this.cache).length >= this.maxSize) {\n      // Remove o item mais antigo\n      const oldestKey = Object.entries(this.meta)\n        .sort((a, b) => a[1].ts - b[1].ts)[0]?.[0];\n      if (oldestKey) {\n        const evictedSize = this.meta[oldestKey]?.compressedSize || 0;\n        delete this.cache[oldestKey];\n        delete this.meta[oldestKey];\n        this.currentMemoryBytes -= evictedSize;\n      }\n    }\n\n    // Store the item\n    this.cache[key] = finalData;\n    this.meta[key] = {\n      ts: Date.now(),\n      compressed,\n      originalSize,\n      compressedSize: itemSize\n    };\n\n    // Update current memory usage\n    this.currentMemoryBytes += itemSize;\n\n    return data;\n  }\n\n  async _get(key) {\n    if (!Object.prototype.hasOwnProperty.call(this.cache, key)) return null;\n\n    // Check TTL expiration\n    if (this.ttl > 0) {\n      const now = Date.now();\n      const meta = this.meta[key];\n      if (meta && now - meta.ts > this.ttl) {\n        // Expired - decrement memory before deleting\n        const itemSize = meta.compressedSize || 0;\n        this.currentMemoryBytes -= itemSize;\n        delete this.cache[key];\n        delete this.meta[key];\n        return null;\n      }\n    }\n\n    const rawData = this.cache[key];\n    \n    // Check if data is compressed\n    if (rawData && typeof rawData === 'object' && rawData.__compressed) {\n      try {\n        // Decompress data\n        const compressedBuffer = Buffer.from(rawData.__data, 'base64');\n        const decompressed = zlib.gunzipSync(compressedBuffer).toString('utf8');\n        return JSON.parse(decompressed);\n      } catch (error) {\n        console.warn(`[MemoryCache] Decompression failed for key '${key}':`, error.message);\n        // If decompression fails, remove corrupted entry\n        delete this.cache[key];\n        delete this.meta[key];\n        return null;\n      }\n    }\n    \n    // Return uncompressed data\n    return rawData;\n  }\n\n  async _del(key) {\n    // Decrement memory usage\n    if (Object.prototype.hasOwnProperty.call(this.cache, key)) {\n      const itemSize = this.meta[key]?.compressedSize || 0;\n      this.currentMemoryBytes -= itemSize;\n    }\n\n    delete this.cache[key];\n    delete this.meta[key];\n    return true;\n  }\n\n  async _clear(prefix) {\n    if (!prefix) {\n      this.cache = {};\n      this.meta = {};\n      this.currentMemoryBytes = 0; // Reset memory counter\n      return true;\n    }\n    // Remove only keys that start with the prefix\n    const removed = [];\n    for (const key of Object.keys(this.cache)) {\n      if (key.startsWith(prefix)) {\n        removed.push(key);\n        // Decrement memory usage\n        const itemSize = this.meta[key]?.compressedSize || 0;\n        this.currentMemoryBytes -= itemSize;\n        delete this.cache[key];\n        delete this.meta[key];\n      }\n    }\n    if (removed.length > 0) {\n    }\n    return true;\n  }\n\n  async size() {\n    return Object.keys(this.cache).length;\n  }\n\n  async keys() {\n    return Object.keys(this.cache);\n  }\n\n  /**\n   * Get compression statistics\n   * @returns {Object} Compression stats including total compressed items, ratios, and space savings\n   */\n  getCompressionStats() {\n    if (!this.enableCompression) {\n      return { enabled: false, message: 'Compression is disabled' };\n    }\n\n    const spaceSavings = this.compressionStats.totalOriginalSize > 0\n      ? ((this.compressionStats.totalOriginalSize - this.compressionStats.totalCompressedSize) / this.compressionStats.totalOriginalSize * 100).toFixed(2)\n      : 0;\n\n    return {\n      enabled: true,\n      totalItems: Object.keys(this.cache).length,\n      compressedItems: this.compressionStats.totalCompressed,\n      compressionThreshold: this.compressionThreshold,\n      totalOriginalSize: this.compressionStats.totalOriginalSize,\n      totalCompressedSize: this.compressionStats.totalCompressedSize,\n      averageCompressionRatio: this.compressionStats.compressionRatio,\n      spaceSavingsPercent: spaceSavings,\n      memoryUsage: {\n        uncompressed: `${(this.compressionStats.totalOriginalSize / 1024).toFixed(2)} KB`,\n        compressed: `${(this.compressionStats.totalCompressedSize / 1024).toFixed(2)} KB`,\n        saved: `${((this.compressionStats.totalOriginalSize - this.compressionStats.totalCompressedSize) / 1024).toFixed(2)} KB`\n      }\n    };\n  }\n\n  /**\n   * Get memory usage statistics\n   * @returns {Object} Memory stats including current usage, limits, and eviction counts\n   */\n  getMemoryStats() {\n    const totalItems = Object.keys(this.cache).length;\n    const memoryUsagePercent = this.maxMemoryBytes > 0\n      ? ((this.currentMemoryBytes / this.maxMemoryBytes) * 100).toFixed(2)\n      : 0;\n\n    const systemMemory = {\n      total: os.totalmem(),\n      free: os.freemem(),\n      used: os.totalmem() - os.freemem()\n    };\n\n    const cachePercentOfTotal = systemMemory.total > 0\n      ? ((this.currentMemoryBytes / systemMemory.total) * 100).toFixed(2)\n      : 0;\n\n    return {\n      currentMemoryBytes: this.currentMemoryBytes,\n      maxMemoryBytes: this.maxMemoryBytes,\n      maxMemoryPercent: this.maxMemoryPercent,\n      memoryUsagePercent: parseFloat(memoryUsagePercent),\n      cachePercentOfSystemMemory: parseFloat(cachePercentOfTotal),\n      totalItems,\n      maxSize: this.maxSize,\n      evictedDueToMemory: this.evictedDueToMemory,\n      averageItemSize: totalItems > 0 ? Math.round(this.currentMemoryBytes / totalItems) : 0,\n      memoryUsage: {\n        current: this._formatBytes(this.currentMemoryBytes),\n        max: this.maxMemoryBytes > 0 ? this._formatBytes(this.maxMemoryBytes) : 'unlimited',\n        available: this.maxMemoryBytes > 0 ? this._formatBytes(this.maxMemoryBytes - this.currentMemoryBytes) : 'unlimited'\n      },\n      systemMemory: {\n        total: this._formatBytes(systemMemory.total),\n        free: this._formatBytes(systemMemory.free),\n        used: this._formatBytes(systemMemory.used),\n        cachePercent: `${cachePercentOfTotal}%`\n      }\n    };\n  }\n\n  /**\n   * Format bytes to human-readable format\n   * @private\n   */\n  _formatBytes(bytes) {\n    if (bytes === 0) return '0 B';\n    const k = 1024;\n    const sizes = ['B', 'KB', 'MB', 'GB'];\n    const i = Math.floor(Math.log(bytes) / Math.log(k));\n    return `${(bytes / Math.pow(k, i)).toFixed(2)} ${sizes[i]}`;\n  }\n}\n\nexport default MemoryCache\n","/**\n * Filesystem Cache Configuration Documentation\n * \n * This cache implementation stores data in the local filesystem, providing persistent storage\n * that survives process restarts and is suitable for single-instance applications.\n * It's faster than S3 cache for local operations and doesn't require network connectivity.\n * \n * @typedef {Object} FilesystemCacheConfig\n * @property {string} directory - The directory path to store cache files (required)\n * @property {string} [prefix='cache'] - Prefix for cache filenames\n * @property {number} [ttl=3600000] - Time to live in milliseconds (1 hour default)\n * @property {boolean} [enableCompression=true] - Whether to compress cache values using gzip\n * @property {number} [compressionThreshold=1024] - Minimum size in bytes to trigger compression\n * @property {boolean} [createDirectory=true] - Whether to create the directory if it doesn't exist\n * @property {string} [fileExtension='.cache'] - File extension for cache files\n * @property {boolean} [enableMetadata=true] - Whether to store metadata alongside cache data\n * @property {number} [maxFileSize=10485760] - Maximum file size in bytes (10MB default)\n * @property {boolean} [enableStats=false] - Whether to track cache statistics\n * @property {boolean} [enableCleanup=true] - Whether to automatically clean up expired files\n * @property {number} [cleanupInterval=300000] - Interval in milliseconds to run cleanup (5 minutes default)\n * @property {string} [encoding='utf8'] - File encoding to use\n * @property {number} [fileMode=0o644] - File permissions in octal notation\n * @property {boolean} [enableBackup=false] - Whether to create backup files before overwriting\n * @property {string} [backupSuffix='.bak'] - Suffix for backup files\n * @property {boolean} [enableLocking=false] - Whether to use file locking to prevent concurrent access\n * @property {number} [lockTimeout=5000] - Lock timeout in milliseconds\n * @property {boolean} [enableJournal=false] - Whether to maintain a journal of operations\n * @property {string} [journalFile='cache.journal'] - Journal filename\n * \n * @example\n * // Basic configuration\n * {\n *   directory: './cache',\n *   prefix: 'app-cache',\n *   ttl: 7200000, // 2 hours\n *   enableCompression: true\n * }\n * \n * @example\n * // Configuration with cleanup and metadata\n * {\n *   directory: '/tmp/s3db-cache',\n *   prefix: 'db-cache',\n *   ttl: 1800000, // 30 minutes\n *   enableCompression: true,\n *   compressionThreshold: 512,\n *   enableCleanup: true,\n *   cleanupInterval: 600000, // 10 minutes\n *   enableMetadata: true,\n *   maxFileSize: 5242880 // 5MB\n * }\n * \n * @example\n * // Configuration with backup and locking\n * {\n *   directory: './data/cache',\n *   ttl: 86400000, // 24 hours\n *   enableBackup: true,\n *   enableLocking: true,\n *   lockTimeout: 3000,\n *   enableJournal: true\n * }\n * \n * @example\n * // Minimal configuration\n * {\n *   directory: './cache'\n * }\n * \n * @notes\n * - Requires filesystem write permissions to the specified directory\n * - File storage is faster than S3 but limited to single instance\n * - Compression reduces disk usage but increases CPU overhead\n * - TTL is enforced by checking file modification time\n * - Cleanup interval helps prevent disk space issues\n * - File locking prevents corruption during concurrent access\n * - Journal provides audit trail of cache operations\n * - Backup files help recover from write failures\n * - Metadata includes creation time, compression info, and custom properties\n */\nimport fs from 'fs';\nimport { readFile, writeFile, unlink, readdir, stat, mkdir } from 'fs/promises';\nimport path from 'path';\nimport zlib from 'node:zlib';\nimport { Cache } from './cache.class.js';\nimport tryFn from '../../concerns/try-fn.js';\n\nexport class FilesystemCache extends Cache {\n  constructor({\n    directory,\n    prefix = 'cache',\n    ttl = 3600000,\n    enableCompression = true,\n    compressionThreshold = 1024,\n    createDirectory = true,\n    fileExtension = '.cache',\n    enableMetadata = true,\n    maxFileSize = 10485760, // 10MB\n    enableStats = false,\n    enableCleanup = true,\n    cleanupInterval = 300000, // 5 minutes\n    encoding = 'utf8',\n    fileMode = 0o644,\n    enableBackup = false,\n    backupSuffix = '.bak',\n    enableLocking = false,\n    lockTimeout = 5000,\n    enableJournal = false,\n    journalFile = 'cache.journal',\n    ...config\n  }) {\n    super(config);\n    \n    if (!directory) {\n      throw new Error('FilesystemCache: directory parameter is required');\n    }\n    \n    this.directory = path.resolve(directory);\n    this.prefix = prefix;\n    this.ttl = ttl;\n    this.enableCompression = enableCompression;\n    this.compressionThreshold = compressionThreshold;\n    this.createDirectory = createDirectory;\n    this.fileExtension = fileExtension;\n    this.enableMetadata = enableMetadata;\n    this.maxFileSize = maxFileSize;\n    this.enableStats = enableStats;\n    this.enableCleanup = enableCleanup;\n    this.cleanupInterval = cleanupInterval;\n    this.encoding = encoding;\n    this.fileMode = fileMode;\n    this.enableBackup = enableBackup;\n    this.backupSuffix = backupSuffix;\n    this.enableLocking = enableLocking;\n    this.lockTimeout = lockTimeout;\n    this.enableJournal = enableJournal;\n    this.journalFile = path.join(this.directory, journalFile);\n    \n    this.stats = {\n      hits: 0,\n      misses: 0,\n      sets: 0,\n      deletes: 0,\n      clears: 0,\n      errors: 0\n    };\n    \n    this.locks = new Map(); // For file locking\n    this.cleanupTimer = null;\n    \n    this._init();\n  }\n\n  async _init() {\n    // Create cache directory if needed\n    if (this.createDirectory) {\n      await this._ensureDirectory(this.directory);\n    }\n    \n    // Start cleanup timer if enabled\n    if (this.enableCleanup && this.cleanupInterval > 0) {\n      this.cleanupTimer = setInterval(() => {\n        this._cleanup().catch(err => {\n          console.warn('FilesystemCache cleanup error:', err.message);\n        });\n      }, this.cleanupInterval);\n    }\n  }\n\n  async _ensureDirectory(dir) {\n    const [ok, err] = await tryFn(async () => {\n      await mkdir(dir, { recursive: true });\n    });\n    \n    if (!ok && err.code !== 'EEXIST') {\n      throw new Error(`Failed to create cache directory: ${err.message}`);\n    }\n  }\n\n  _getFilePath(key) {\n    // Sanitize key for filesystem\n    const sanitizedKey = key.replace(/[<>:\"/\\\\|?*]/g, '_');\n    const filename = `${this.prefix}_${sanitizedKey}${this.fileExtension}`;\n    return path.join(this.directory, filename);\n  }\n\n  _getMetadataPath(filePath) {\n    return filePath + '.meta';\n  }\n\n  async _set(key, data) {\n    const filePath = this._getFilePath(key);\n    \n    try {\n      // Prepare data\n      let serialized = JSON.stringify(data);\n      const originalSize = Buffer.byteLength(serialized, this.encoding);\n      \n      // Check size limit\n      if (originalSize > this.maxFileSize) {\n        throw new Error(`Cache data exceeds maximum file size: ${originalSize} > ${this.maxFileSize}`);\n      }\n      \n      let compressed = false;\n      let finalData = serialized;\n      \n      // Compress if enabled and over threshold\n      if (this.enableCompression && originalSize >= this.compressionThreshold) {\n        const compressedBuffer = zlib.gzipSync(Buffer.from(serialized, this.encoding));\n        finalData = compressedBuffer.toString('base64');\n        compressed = true;\n      }\n      \n      // Create backup if enabled\n      if (this.enableBackup && await this._fileExists(filePath)) {\n        const backupPath = filePath + this.backupSuffix;\n        await this._copyFile(filePath, backupPath);\n      }\n      \n      // Acquire lock if enabled\n      if (this.enableLocking) {\n        await this._acquireLock(filePath);\n      }\n      \n      try {\n        // Write data\n        await writeFile(filePath, finalData, { \n          encoding: compressed ? 'utf8' : this.encoding,\n          mode: this.fileMode \n        });\n        \n        // Write metadata if enabled\n        if (this.enableMetadata) {\n          const metadata = {\n            key,\n            timestamp: Date.now(),\n            ttl: this.ttl,\n            compressed,\n            originalSize,\n            compressedSize: compressed ? Buffer.byteLength(finalData, 'utf8') : originalSize,\n            compressionRatio: compressed ? (Buffer.byteLength(finalData, 'utf8') / originalSize).toFixed(2) : 1.0\n          };\n          \n          await writeFile(this._getMetadataPath(filePath), JSON.stringify(metadata), {\n            encoding: this.encoding,\n            mode: this.fileMode\n          });\n        }\n        \n        // Update stats\n        if (this.enableStats) {\n          this.stats.sets++;\n        }\n        \n        // Journal operation\n        if (this.enableJournal) {\n          await this._journalOperation('set', key, { size: originalSize, compressed });\n        }\n        \n      } finally {\n        // Release lock\n        if (this.enableLocking) {\n          this._releaseLock(filePath);\n        }\n      }\n      \n      return data;\n      \n    } catch (error) {\n      if (this.enableStats) {\n        this.stats.errors++;\n      }\n      throw new Error(`Failed to set cache key '${key}': ${error.message}`);\n    }\n  }\n\n  async _get(key) {\n    const filePath = this._getFilePath(key);\n    \n    try {\n      // Check if file exists\n      if (!await this._fileExists(filePath)) {\n        if (this.enableStats) {\n          this.stats.misses++;\n        }\n        return null;\n      }\n      \n      // Check TTL using metadata or file modification time\n      let isExpired = false;\n      \n      if (this.enableMetadata) {\n        const metadataPath = this._getMetadataPath(filePath);\n        if (await this._fileExists(metadataPath)) {\n          const [ok, err, metadata] = await tryFn(async () => {\n            const metaContent = await readFile(metadataPath, this.encoding);\n            return JSON.parse(metaContent);\n          });\n          \n          if (ok && metadata.ttl > 0) {\n            const age = Date.now() - metadata.timestamp;\n            isExpired = age > metadata.ttl;\n          }\n        }\n      } else if (this.ttl > 0) {\n        // Fallback to file modification time\n        const stats = await stat(filePath);\n        const age = Date.now() - stats.mtime.getTime();\n        isExpired = age > this.ttl;\n      }\n      \n      // Remove expired files\n      if (isExpired) {\n        await this._del(key);\n        if (this.enableStats) {\n          this.stats.misses++;\n        }\n        return null;\n      }\n      \n      // Acquire lock if enabled\n      if (this.enableLocking) {\n        await this._acquireLock(filePath);\n      }\n      \n      try {\n        // Read file content\n        const content = await readFile(filePath, this.encoding);\n        \n        // Check if compressed using metadata\n        let isCompressed = false;\n        if (this.enableMetadata) {\n          const metadataPath = this._getMetadataPath(filePath);\n          if (await this._fileExists(metadataPath)) {\n            const [ok, err, metadata] = await tryFn(async () => {\n              const metaContent = await readFile(metadataPath, this.encoding);\n              return JSON.parse(metaContent);\n            });\n            if (ok) {\n              isCompressed = metadata.compressed;\n            }\n          }\n        }\n        \n        // Decompress if needed\n        let finalContent = content;\n        if (isCompressed || (this.enableCompression && content.match(/^[A-Za-z0-9+/=]+$/))) {\n          try {\n            const compressedBuffer = Buffer.from(content, 'base64');\n            finalContent = zlib.gunzipSync(compressedBuffer).toString(this.encoding);\n          } catch (decompressError) {\n            // If decompression fails, assume it's not compressed\n            finalContent = content;\n          }\n        }\n        \n        // Parse JSON\n        const data = JSON.parse(finalContent);\n        \n        // Update stats\n        if (this.enableStats) {\n          this.stats.hits++;\n        }\n        \n        return data;\n        \n      } finally {\n        // Release lock\n        if (this.enableLocking) {\n          this._releaseLock(filePath);\n        }\n      }\n      \n    } catch (error) {\n      if (this.enableStats) {\n        this.stats.errors++;\n      }\n      // If file is corrupted or unreadable, delete it and return null\n      await this._del(key);\n      return null;\n    }\n  }\n\n  async _del(key) {\n    const filePath = this._getFilePath(key);\n    \n    try {\n      // Delete main file\n      if (await this._fileExists(filePath)) {\n        await unlink(filePath);\n      }\n      \n      // Delete metadata file\n      if (this.enableMetadata) {\n        const metadataPath = this._getMetadataPath(filePath);\n        if (await this._fileExists(metadataPath)) {\n          await unlink(metadataPath);\n        }\n      }\n      \n      // Delete backup file\n      if (this.enableBackup) {\n        const backupPath = filePath + this.backupSuffix;\n        if (await this._fileExists(backupPath)) {\n          await unlink(backupPath);\n        }\n      }\n      \n      // Update stats\n      if (this.enableStats) {\n        this.stats.deletes++;\n      }\n      \n      // Journal operation\n      if (this.enableJournal) {\n        await this._journalOperation('delete', key);\n      }\n      \n      return true;\n      \n    } catch (error) {\n      if (this.enableStats) {\n        this.stats.errors++;\n      }\n      throw new Error(`Failed to delete cache key '${key}': ${error.message}`);\n    }\n  }\n\n  async _clear(prefix) {\n    try {\n      // Check if directory exists before trying to read it\n      if (!await this._fileExists(this.directory)) {\n        // Directory doesn't exist, nothing to clear\n        if (this.enableStats) {\n          this.stats.clears++;\n        }\n        return true;\n      }\n      \n      const files = await readdir(this.directory);\n      const cacheFiles = files.filter(file => {\n        if (!file.startsWith(this.prefix)) return false;\n        if (!file.endsWith(this.fileExtension)) return false;\n        \n        if (prefix) {\n          // Extract key from filename\n          const keyPart = file.slice(this.prefix.length + 1, -this.fileExtension.length);\n          return keyPart.startsWith(prefix);\n        }\n        \n        return true;\n      });\n      \n      // Delete matching files and their metadata\n      for (const file of cacheFiles) {\n        const filePath = path.join(this.directory, file);\n        \n        // Delete main file (handle ENOENT gracefully)\n        try {\n          if (await this._fileExists(filePath)) {\n            await unlink(filePath);\n          }\n        } catch (error) {\n          if (error.code !== 'ENOENT') {\n            throw error; // Re-throw non-ENOENT errors\n          }\n          // ENOENT means file is already gone, which is what we wanted\n        }\n        \n        // Delete metadata file (handle ENOENT gracefully)\n        if (this.enableMetadata) {\n          try {\n            const metadataPath = this._getMetadataPath(filePath);\n            if (await this._fileExists(metadataPath)) {\n              await unlink(metadataPath);\n            }\n          } catch (error) {\n            if (error.code !== 'ENOENT') {\n              throw error; // Re-throw non-ENOENT errors\n            }\n            // ENOENT means file is already gone, which is what we wanted\n          }\n        }\n        \n        // Delete backup file (handle ENOENT gracefully)\n        if (this.enableBackup) {\n          try {\n            const backupPath = filePath + this.backupSuffix;\n            if (await this._fileExists(backupPath)) {\n              await unlink(backupPath);\n            }\n          } catch (error) {\n            if (error.code !== 'ENOENT') {\n              throw error; // Re-throw non-ENOENT errors\n            }\n            // ENOENT means file is already gone, which is what we wanted\n          }\n        }\n      }\n      \n      // Update stats\n      if (this.enableStats) {\n        this.stats.clears++;\n      }\n      \n      // Journal operation\n      if (this.enableJournal) {\n        await this._journalOperation('clear', prefix || 'all', { count: cacheFiles.length });\n      }\n      \n      return true;\n      \n    } catch (error) {\n      // Handle ENOENT errors at the top level too (e.g., directory doesn't exist)\n      if (error.code === 'ENOENT') {\n        if (this.enableStats) {\n          this.stats.clears++;\n        }\n        return true; // Already cleared!\n      }\n      \n      if (this.enableStats) {\n        this.stats.errors++;\n      }\n      throw new Error(`Failed to clear cache: ${error.message}`);\n    }\n  }\n\n  async size() {\n    const keys = await this.keys();\n    return keys.length;\n  }\n\n  async keys() {\n    try {\n      const files = await readdir(this.directory);\n      const cacheFiles = files.filter(file => \n        file.startsWith(this.prefix) && \n        file.endsWith(this.fileExtension)\n      );\n      \n      // Extract keys from filenames\n      const keys = cacheFiles.map(file => {\n        const keyPart = file.slice(this.prefix.length + 1, -this.fileExtension.length);\n        return keyPart;\n      });\n      \n      return keys;\n      \n    } catch (error) {\n      console.warn('FilesystemCache: Failed to list keys:', error.message);\n      return [];\n    }\n  }\n\n  // Helper methods\n\n  async _fileExists(filePath) {\n    const [ok] = await tryFn(async () => {\n      await stat(filePath);\n    });\n    return ok;\n  }\n\n  async _copyFile(src, dest) {\n    const [ok, err] = await tryFn(async () => {\n      const content = await readFile(src);\n      await writeFile(dest, content);\n    });\n    if (!ok) {\n      console.warn('FilesystemCache: Failed to create backup:', err.message);\n    }\n  }\n\n  async _cleanup() {\n    if (!this.ttl || this.ttl <= 0) return;\n    \n    try {\n      const files = await readdir(this.directory);\n      const now = Date.now();\n      \n      for (const file of files) {\n        if (!file.startsWith(this.prefix) || !file.endsWith(this.fileExtension)) {\n          continue;\n        }\n        \n        const filePath = path.join(this.directory, file);\n        \n        let shouldDelete = false;\n        \n        if (this.enableMetadata) {\n          // Use metadata for TTL check\n          const metadataPath = this._getMetadataPath(filePath);\n          if (await this._fileExists(metadataPath)) {\n            const [ok, err, metadata] = await tryFn(async () => {\n              const metaContent = await readFile(metadataPath, this.encoding);\n              return JSON.parse(metaContent);\n            });\n            \n            if (ok && metadata.ttl > 0) {\n              const age = now - metadata.timestamp;\n              shouldDelete = age > metadata.ttl;\n            }\n          }\n        } else {\n          // Use file modification time\n          const [ok, err, stats] = await tryFn(async () => {\n            return await stat(filePath);\n          });\n          \n          if (ok) {\n            const age = now - stats.mtime.getTime();\n            shouldDelete = age > this.ttl;\n          }\n        }\n        \n        if (shouldDelete) {\n          const keyPart = file.slice(this.prefix.length + 1, -this.fileExtension.length);\n          await this._del(keyPart);\n        }\n      }\n      \n    } catch (error) {\n      console.warn('FilesystemCache cleanup error:', error.message);\n    }\n  }\n\n  async _acquireLock(filePath) {\n    if (!this.enableLocking) return;\n    \n    const lockKey = filePath;\n    const startTime = Date.now();\n    \n    while (this.locks.has(lockKey)) {\n      if (Date.now() - startTime > this.lockTimeout) {\n        throw new Error(`Lock timeout for file: ${filePath}`);\n      }\n      await new Promise(resolve => setTimeout(resolve, 10));\n    }\n    \n    this.locks.set(lockKey, Date.now());\n  }\n\n  _releaseLock(filePath) {\n    if (!this.enableLocking) return;\n    this.locks.delete(filePath);\n  }\n\n  async _journalOperation(operation, key, metadata = {}) {\n    if (!this.enableJournal) return;\n    \n    const entry = {\n      timestamp: new Date().toISOString(),\n      operation,\n      key,\n      metadata\n    };\n    \n    const [ok, err] = await tryFn(async () => {\n      const line = JSON.stringify(entry) + '\\n';\n      await fs.promises.appendFile(this.journalFile, line, this.encoding);\n    });\n    \n    if (!ok) {\n      console.warn('FilesystemCache journal error:', err.message);\n    }\n  }\n\n  // Cleanup on process exit\n  destroy() {\n    if (this.cleanupTimer) {\n      clearInterval(this.cleanupTimer);\n      this.cleanupTimer = null;\n    }\n  }\n\n  // Get cache statistics\n  getStats() {\n    return {\n      ...this.stats,\n      directory: this.directory,\n      ttl: this.ttl,\n      compression: this.enableCompression,\n      metadata: this.enableMetadata,\n      cleanup: this.enableCleanup,\n      locking: this.enableLocking,\n      journal: this.enableJournal\n    };\n  }\n}\n\nexport default FilesystemCache;","/**\n * Partition-Aware Filesystem Cache Implementation\n * \n * Extends FilesystemCache to provide intelligent caching for s3db.js partitions.\n * Creates hierarchical directory structures that mirror partition organization.\n * \n * @example\n * // Basic partition-aware caching\n * const cache = new PartitionAwareFilesystemCache({\n *   directory: './cache',\n *   partitionStrategy: 'hierarchical',\n *   preloadRelated: true\n * });\n * \n * @example\n * // Advanced configuration with analytics\n * const cache = new PartitionAwareFilesystemCache({\n *   directory: './data/cache',\n *   partitionStrategy: 'incremental',\n *   trackUsage: true,\n *   preloadThreshold: 10,\n *   maxCacheSize: '1GB'\n * });\n */\nimport path from 'path';\nimport fs from 'fs';\nimport { mkdir, rm as rmdir, readdir, stat, writeFile, readFile } from 'fs/promises';\nimport { FilesystemCache } from './filesystem-cache.class.js';\nimport tryFn from '../../concerns/try-fn.js';\n\nexport class PartitionAwareFilesystemCache extends FilesystemCache {\n  constructor({\n    partitionStrategy = 'hierarchical', // 'hierarchical', 'flat', 'temporal'\n    trackUsage = true,\n    preloadRelated = false,\n    preloadThreshold = 10,\n    maxCacheSize = null,\n    usageStatsFile = 'partition-usage.json',\n    ...config\n  }) {\n    super(config);\n    \n    this.partitionStrategy = partitionStrategy;\n    this.trackUsage = trackUsage;\n    this.preloadRelated = preloadRelated;\n    this.preloadThreshold = preloadThreshold;\n    this.maxCacheSize = maxCacheSize;\n    this.usageStatsFile = path.join(this.directory, usageStatsFile);\n    \n    // Partition usage statistics\n    this.partitionUsage = new Map();\n    this.loadUsageStats();\n  }\n\n  /**\n   * Generate partition-aware cache key\n   */\n  _getPartitionCacheKey(resource, action, partition, partitionValues = {}, params = {}) {\n    const keyParts = [`resource=${resource}`, `action=${action}`];\n\n    if (partition && Object.keys(partitionValues).length > 0) {\n      keyParts.push(`partition=${partition}`);\n      \n      // Sort fields for consistent keys\n      const sortedFields = Object.entries(partitionValues).sort(([a], [b]) => a.localeCompare(b));\n      for (const [field, value] of sortedFields) {\n        if (value !== null && value !== undefined) {\n          keyParts.push(`${field}=${value}`);\n        }\n      }\n    }\n\n    // Add params hash if exists\n    if (Object.keys(params).length > 0) {\n      const paramsStr = Object.entries(params)\n        .sort(([a], [b]) => a.localeCompare(b))\n        .map(([k, v]) => `${k}=${v}`)\n        .join('|');\n      keyParts.push(`params=${Buffer.from(paramsStr).toString('base64')}`);\n    }\n\n    return keyParts.join('/') + this.fileExtension;\n  }\n\n  /**\n   * Get directory path for partition cache\n   */\n  _getPartitionDirectory(resource, partition, partitionValues = {}) {\n    const basePath = path.join(this.directory, `resource=${resource}`);\n\n    if (!partition) {\n      return basePath;\n    }\n\n    if (this.partitionStrategy === 'flat') {\n      // Flat structure: all partitions in same level\n      return path.join(basePath, 'partitions');\n    }\n\n    if (this.partitionStrategy === 'temporal' && this._isTemporalPartition(partition, partitionValues)) {\n      // Temporal structure: organize by time hierarchy\n      return this._getTemporalDirectory(basePath, partition, partitionValues);\n    }\n\n    // Hierarchical structure (default)\n    const pathParts = [basePath, `partition=${partition}`];\n    \n    const sortedFields = Object.entries(partitionValues).sort(([a], [b]) => a.localeCompare(b));\n    for (const [field, value] of sortedFields) {\n      if (value !== null && value !== undefined) {\n        pathParts.push(`${field}=${this._sanitizePathValue(value)}`);\n      }\n    }\n\n    return path.join(...pathParts);\n  }\n\n  /**\n   * Enhanced set method with partition awareness\n   */\n  async _set(key, data, options = {}) {\n    const { resource, action, partition, partitionValues, params } = options;\n\n    if (resource && partition) {\n      // Use partition-aware storage\n      const partitionKey = this._getPartitionCacheKey(resource, action, partition, partitionValues, params);\n      const partitionDir = this._getPartitionDirectory(resource, partition, partitionValues);\n      \n      await this._ensureDirectory(partitionDir);\n      \n      const filePath = path.join(partitionDir, this._sanitizeFileName(partitionKey));\n      \n      // Track usage if enabled\n      if (this.trackUsage) {\n        await this._trackPartitionUsage(resource, partition, partitionValues);\n      }\n      \n      // Store with partition metadata\n      const partitionData = {\n        data,\n        metadata: {\n          resource,\n          partition,\n          partitionValues,\n          timestamp: Date.now(),\n          ttl: this.ttl\n        }\n      };\n      \n      return this._writeFileWithMetadata(filePath, partitionData);\n    }\n\n    // Fallback to standard set\n    return super._set(key, data);\n  }\n\n  /**\n   * Public set method with partition support\n   */\n  async set(resource, action, data, options = {}) {\n    if (typeof resource === 'string' && typeof action === 'string' && options.partition) {\n      // Partition-aware set\n      const key = this._getPartitionCacheKey(resource, action, options.partition, options.partitionValues, options.params);\n      return this._set(key, data, { resource, action, ...options });\n    }\n    \n    // Standard cache set (first parameter is the key)\n    return super.set(resource, action); // resource is actually the key, action is the data\n  }\n\n  /**\n   * Public get method with partition support\n   */\n  async get(resource, action, options = {}) {\n    if (typeof resource === 'string' && typeof action === 'string' && options.partition) {\n      // Partition-aware get\n      const key = this._getPartitionCacheKey(resource, action, options.partition, options.partitionValues, options.params);\n      return this._get(key, { resource, action, ...options });\n    }\n    \n    // Standard cache get (first parameter is the key)\n    return super.get(resource); // resource is actually the key\n  }\n\n  /**\n   * Enhanced get method with partition awareness\n   */\n  async _get(key, options = {}) {\n    const { resource, action, partition, partitionValues, params } = options;\n\n    if (resource && partition) {\n      const partitionKey = this._getPartitionCacheKey(resource, action, partition, partitionValues, params);\n      const partitionDir = this._getPartitionDirectory(resource, partition, partitionValues);\n      const filePath = path.join(partitionDir, this._sanitizeFileName(partitionKey));\n\n      if (!await this._fileExists(filePath)) {\n        // Try preloading related partitions\n        if (this.preloadRelated) {\n          await this._preloadRelatedPartitions(resource, partition, partitionValues);\n        }\n        return null;\n      }\n\n      const result = await this._readFileWithMetadata(filePath);\n      \n      if (result && this.trackUsage) {\n        await this._trackPartitionUsage(resource, partition, partitionValues);\n      }\n\n      return result?.data || null;\n    }\n\n    // Fallback to standard get\n    return super._get(key);\n  }\n\n  /**\n   * Clear cache for specific partition\n   */\n  async clearPartition(resource, partition, partitionValues = {}) {\n    const partitionDir = this._getPartitionDirectory(resource, partition, partitionValues);\n    \n    const [ok, err] = await tryFn(async () => {\n      if (await this._fileExists(partitionDir)) {\n        await rmdir(partitionDir, { recursive: true });\n      }\n    });\n\n    if (!ok) {\n      console.warn(`Failed to clear partition cache: ${err.message}`);\n    }\n\n    // Clear from usage stats\n    const usageKey = this._getUsageKey(resource, partition, partitionValues);\n    this.partitionUsage.delete(usageKey);\n    await this._saveUsageStats();\n\n    return ok;\n  }\n\n  /**\n   * Clear all partitions for a resource\n   */\n  async clearResourcePartitions(resource) {\n    const resourceDir = path.join(this.directory, `resource=${resource}`);\n    \n    const [ok, err] = await tryFn(async () => {\n      if (await this._fileExists(resourceDir)) {\n        await rmdir(resourceDir, { recursive: true });\n      }\n    });\n\n    // Clear usage stats for resource\n    for (const [key] of this.partitionUsage.entries()) {\n      if (key.startsWith(`${resource}/`)) {\n        this.partitionUsage.delete(key);\n      }\n    }\n    await this._saveUsageStats();\n\n    return ok;\n  }\n\n  /**\n   * Get partition cache statistics\n   */\n  async getPartitionStats(resource, partition = null) {\n    const stats = {\n      totalFiles: 0,\n      totalSize: 0,\n      partitions: {},\n      usage: {}\n    };\n\n    const resourceDir = path.join(this.directory, `resource=${resource}`);\n    \n    if (!await this._fileExists(resourceDir)) {\n      return stats;\n    }\n\n    await this._calculateDirectoryStats(resourceDir, stats);\n\n    // Add usage statistics\n    for (const [key, usage] of this.partitionUsage.entries()) {\n      if (key.startsWith(`${resource}/`)) {\n        const partitionName = key.split('/')[1];\n        if (!partition || partitionName === partition) {\n          stats.usage[partitionName] = usage;\n        }\n      }\n    }\n\n    return stats;\n  }\n\n  /**\n   * Get cache recommendations based on usage patterns\n   */\n  async getCacheRecommendations(resource) {\n    const recommendations = [];\n    const now = Date.now();\n    const dayMs = 24 * 60 * 60 * 1000;\n\n    for (const [key, usage] of this.partitionUsage.entries()) {\n      if (key.startsWith(`${resource}/`)) {\n        const [, partition] = key.split('/');\n        const daysSinceLastAccess = (now - usage.lastAccess) / dayMs;\n        const accessesPerDay = usage.count / Math.max(1, daysSinceLastAccess);\n\n        let recommendation = 'keep';\n        let priority = usage.count;\n\n        if (daysSinceLastAccess > 30) {\n          recommendation = 'archive';\n          priority = 0;\n        } else if (accessesPerDay < 0.1) {\n          recommendation = 'reduce_ttl';\n          priority = 1;\n        } else if (accessesPerDay > 10) {\n          recommendation = 'preload';\n          priority = 100;\n        }\n\n        recommendations.push({\n          partition,\n          recommendation,\n          priority,\n          usage: accessesPerDay,\n          lastAccess: new Date(usage.lastAccess).toISOString()\n        });\n      }\n    }\n\n    return recommendations.sort((a, b) => b.priority - a.priority);\n  }\n\n  /**\n   * Preload frequently accessed partitions\n   */\n  async warmPartitionCache(resource, options = {}) {\n    const { partitions = [], maxFiles = 1000 } = options;\n    let warmedCount = 0;\n\n    for (const partition of partitions) {\n      const usageKey = `${resource}/${partition}`;\n      const usage = this.partitionUsage.get(usageKey);\n\n      if (usage && usage.count >= this.preloadThreshold) {\n        // This would integrate with the actual resource to preload data\n        console.log(`🔥 Warming cache for ${resource}/${partition} (${usage.count} accesses)`);\n        warmedCount++;\n      }\n\n      if (warmedCount >= maxFiles) break;\n    }\n\n    return warmedCount;\n  }\n\n  // Private helper methods\n\n  async _trackPartitionUsage(resource, partition, partitionValues) {\n    const usageKey = this._getUsageKey(resource, partition, partitionValues);\n    const current = this.partitionUsage.get(usageKey) || {\n      count: 0,\n      firstAccess: Date.now(),\n      lastAccess: Date.now()\n    };\n\n    current.count++;\n    current.lastAccess = Date.now();\n    this.partitionUsage.set(usageKey, current);\n\n    // Periodically save stats\n    if (current.count % 10 === 0) {\n      await this._saveUsageStats();\n    }\n  }\n\n  _getUsageKey(resource, partition, partitionValues) {\n    const valuePart = Object.entries(partitionValues)\n      .sort(([a], [b]) => a.localeCompare(b))\n      .map(([k, v]) => `${k}=${v}`)\n      .join('|');\n    \n    return `${resource}/${partition}/${valuePart}`;\n  }\n\n  async _preloadRelatedPartitions(resource, partition, partitionValues) {\n    // This would implement intelligent preloading based on:\n    // - Temporal patterns (load next/previous time periods)\n    // - Geographic patterns (load adjacent regions)\n    // - Categorical patterns (load related categories)\n    \n    console.log(`🎯 Preloading related partitions for ${resource}/${partition}`);\n    \n    // Example: for date partitions, preload next day\n    if (partitionValues.timestamp || partitionValues.date) {\n      // Implementation would go here\n    }\n  }\n\n  _isTemporalPartition(partition, partitionValues) {\n    const temporalFields = ['date', 'timestamp', 'createdAt', 'updatedAt'];\n    return Object.keys(partitionValues).some(field => \n      temporalFields.some(tf => field.toLowerCase().includes(tf))\n    );\n  }\n\n  _getTemporalDirectory(basePath, partition, partitionValues) {\n    // Create year/month/day hierarchy for temporal data\n    const dateValue = Object.values(partitionValues)[0];\n    if (typeof dateValue === 'string' && dateValue.match(/^\\d{4}-\\d{2}-\\d{2}/)) {\n      const [year, month, day] = dateValue.split('-');\n      return path.join(basePath, 'temporal', year, month, day);\n    }\n    \n    return path.join(basePath, `partition=${partition}`);\n  }\n\n  _sanitizePathValue(value) {\n    return String(value).replace(/[<>:\"/\\\\|?*]/g, '_');\n  }\n\n  _sanitizeFileName(filename) {\n    return filename.replace(/[<>:\"/\\\\|?*]/g, '_');\n  }\n\n  async _calculateDirectoryStats(dir, stats) {\n    const [ok, err, files] = await tryFn(() => readdir(dir));\n    if (!ok) return;\n\n    for (const file of files) {\n      const filePath = path.join(dir, file);\n      const [statOk, statErr, fileStat] = await tryFn(() => stat(filePath));\n      \n      if (statOk) {\n        if (fileStat.isDirectory()) {\n          await this._calculateDirectoryStats(filePath, stats);\n        } else {\n          stats.totalFiles++;\n          stats.totalSize += fileStat.size;\n        }\n      }\n    }\n  }\n\n  async loadUsageStats() {\n    const [ok, err, content] = await tryFn(async () => {\n      const data = await readFile(this.usageStatsFile, 'utf8');\n      return JSON.parse(data);\n    });\n\n    if (ok && content) {\n      this.partitionUsage = new Map(Object.entries(content));\n    }\n  }\n\n  async _saveUsageStats() {\n    const statsObject = Object.fromEntries(this.partitionUsage);\n    \n    await tryFn(async () => {\n      await writeFile(\n        this.usageStatsFile, \n        JSON.stringify(statsObject, null, 2),\n        'utf8'\n      );\n    });\n  }\n\n  async _writeFileWithMetadata(filePath, data) {\n    const content = JSON.stringify(data);\n    \n    const [ok, err] = await tryFn(async () => {\n      await writeFile(filePath, content, {\n        encoding: this.encoding,\n        mode: this.fileMode\n      });\n    });\n\n    if (!ok) {\n      throw new Error(`Failed to write cache file: ${err.message}`);\n    }\n\n    return true;\n  }\n\n  async _readFileWithMetadata(filePath) {\n    const [ok, err, content] = await tryFn(async () => {\n      return await readFile(filePath, this.encoding);\n    });\n\n    if (!ok || !content) return null;\n    \n    try {\n      return JSON.parse(content);\n    } catch (error) {\n      return { data: content }; // Fallback for non-JSON data\n    }\n  }\n} ","import { join } from \"path\";\nimport jsonStableStringify from \"json-stable-stringify\";\nimport crypto from 'crypto';\n\nimport Plugin from \"./plugin.class.js\";\nimport S3Cache from \"./cache/s3-cache.class.js\";\nimport MemoryCache from \"./cache/memory-cache.class.js\";\nimport { FilesystemCache } from \"./cache/filesystem-cache.class.js\";\nimport { PartitionAwareFilesystemCache } from \"./cache/partition-aware-filesystem-cache.class.js\";\nimport tryFn from \"../concerns/try-fn.js\";\nimport { CacheError } from \"./cache.errors.js\";\n\n/**\n * Cache Plugin Configuration\n *\n * Provides caching layer for S3DB resources with multiple backend options.\n * Automatically caches read operations and invalidates on writes.\n *\n * @typedef {Object} CachePluginOptions\n * @property {string} [driver='s3'] - Cache driver: 'memory', 'filesystem', 's3', or custom driver instance\n * @property {number} [ttl] - Time to live in milliseconds for cached items (shortcut for config.ttl)\n * @property {number} [maxSize] - Maximum number of items to cache (shortcut for config.maxSize)\n * @property {number} [maxMemoryBytes] - (MemoryCache only) Maximum memory in bytes (shortcut for config.maxMemoryBytes). Cannot be used with maxMemoryPercent.\n * @property {number} [maxMemoryPercent] - (MemoryCache only) Maximum memory as fraction 0...1 (shortcut for config.maxMemoryPercent). Cannot be used with maxMemoryBytes.\n *\n * @property {Array<string>} [include] - Only cache these resource names (null = cache all)\n * @property {Array<string>} [exclude=[]] - Never cache these resource names\n *\n * @property {boolean} [includePartitions=true] - Whether to cache partition queries\n * @property {string} [partitionStrategy='hierarchical'] - Partition caching strategy\n * @property {boolean} [partitionAware=true] - Use partition-aware filesystem cache\n * @property {boolean} [trackUsage=true] - Track cache usage statistics\n * @property {boolean} [preloadRelated=true] - Preload related partitions\n *\n * @property {number} [retryAttempts=3] - Number of retry attempts for cache operations\n * @property {number} [retryDelay=100] - Delay between retries in milliseconds\n * @property {boolean} [verbose=false] - Enable verbose logging\n *\n * @property {Object} [config] - Driver-specific configuration (can override top-level ttl, maxSize, maxMemoryBytes, maxMemoryPercent)\n * @property {number} [config.ttl] - Override TTL for this driver\n * @property {number} [config.maxSize] - Override max number of items\n * @property {number} [config.maxMemoryBytes] - (MemoryCache only) Maximum memory in bytes. Cannot be used with config.maxMemoryPercent.\n * @property {number} [config.maxMemoryPercent] - (MemoryCache only) Maximum memory as fraction 0...1 (e.g., 0.1 = 10%). Cannot be used with config.maxMemoryBytes.\n * @property {boolean} [config.enableCompression] - (MemoryCache only) Enable gzip compression\n * @property {number} [config.compressionThreshold=1024] - (MemoryCache only) Minimum size in bytes to trigger compression\n *\n * @example\n * // Memory cache with absolute byte limit\n * new CachePlugin({\n *   driver: 'memory',\n *   maxMemoryBytes: 512 * 1024 * 1024, // 512MB\n *   ttl: 600000 // 10 minutes\n * })\n *\n * @example\n * // Memory cache with percentage limit (cloud-native)\n * new CachePlugin({\n *   driver: 'memory',\n *   maxMemoryPercent: 0.1, // 10% of system memory\n *   ttl: 1800000 // 30 minutes\n * })\n *\n * @example\n * // Filesystem cache with partition awareness\n * new CachePlugin({\n *   driver: 'filesystem',\n *   partitionAware: true,\n *   includePartitions: true,\n *   ttl: 3600000 // 1 hour\n * })\n *\n * @example\n * // S3 cache (default)\n * new CachePlugin({\n *   driver: 's3',\n *   ttl: 7200000 // 2 hours\n * })\n *\n * @example\n * // Selective caching\n * new CachePlugin({\n *   driver: 'memory',\n *   include: ['users', 'products'], // Only cache these\n *   exclude: ['audit_logs'], // Never cache these\n *   maxMemoryPercent: 0.15\n * })\n *\n * @notes\n * - maxMemoryBytes and maxMemoryPercent are mutually exclusive (throws error if both set)\n * - maxMemoryPercent is recommended for containerized/cloud environments\n * - Plugin-created resources (createdBy !== 'user') are skipped by default\n * - Cache is automatically invalidated on insert/update/delete operations\n * - Use skipCache: true option on queries to bypass cache for specific calls\n */\nexport class CachePlugin extends Plugin {\n  constructor(options = {}) {\n    super(options);\n\n    // Clean, consolidated configuration\n    this.config = {\n      // Driver configuration\n      driver: options.driver || 's3',\n      config: {\n        ttl: options.ttl,\n        maxSize: options.maxSize,\n        maxMemoryBytes: options.maxMemoryBytes,\n        maxMemoryPercent: options.maxMemoryPercent,\n        ...options.config // Driver-specific config (can override ttl/maxSize/maxMemoryBytes/maxMemoryPercent)\n      },\n\n      // Resource filtering\n      include: options.include || null, // Array of resource names to cache (null = all)\n      exclude: options.exclude || [], // Array of resource names to exclude\n\n      // Partition settings\n      includePartitions: options.includePartitions !== false,\n      partitionStrategy: options.partitionStrategy || 'hierarchical',\n      partitionAware: options.partitionAware !== false,\n      trackUsage: options.trackUsage !== false,\n      preloadRelated: options.preloadRelated !== false,\n\n      // Retry configuration\n      retryAttempts: options.retryAttempts || 3,\n      retryDelay: options.retryDelay || 100, // ms\n\n      // Logging\n      verbose: options.verbose || false\n    };\n\n    // Initialize stats tracking\n    this.stats = {\n      hits: 0,\n      misses: 0,\n      writes: 0,\n      deletes: 0,\n      errors: 0,\n      startTime: Date.now()\n    };\n  }\n\n  async onInstall() {\n    // Initialize cache driver\n    if (this.config.driver && typeof this.config.driver === 'object') {\n      // Use custom driver instance if provided\n      this.driver = this.config.driver;\n    } else if (this.config.driver === 'memory') {\n      this.driver = new MemoryCache(this.config.config);\n    } else if (this.config.driver === 'filesystem') {\n      // Use partition-aware filesystem cache if enabled\n      if (this.config.partitionAware) {\n        this.driver = new PartitionAwareFilesystemCache({\n          partitionStrategy: this.config.partitionStrategy,\n          trackUsage: this.config.trackUsage,\n          preloadRelated: this.config.preloadRelated,\n          ...this.config.config\n        });\n      } else {\n        this.driver = new FilesystemCache(this.config.config);\n      }\n    } else {\n      // Default to S3Cache\n      this.driver = new S3Cache({\n        client: this.database.client,\n        ...this.config.config\n      });\n    }\n\n    // Use database hooks instead of method overwriting\n    this.installDatabaseHooks();\n\n    // Install hooks for existing resources\n    this.installResourceHooks();\n  }\n\n  /**\n   * Install database hooks to handle resource creation/updates\n   */\n  installDatabaseHooks() {\n    // Hook into resource creation to install cache middleware\n    this.database.addHook('afterCreateResource', async ({ resource }) => {\n      if (this.shouldCacheResource(resource.name)) {\n        this.installResourceHooksForResource(resource);\n      }\n    });\n  }\n\n  async onStart() {\n    // Plugin is ready\n  }\n\n  async onStop() {\n    // Cleanup if needed\n  }\n\n  // Remove the old installDatabaseProxy method\n  installResourceHooks() {\n    for (const resource of Object.values(this.database.resources)) {\n      // Check if resource should be cached\n      if (!this.shouldCacheResource(resource.name)) {\n        continue;\n      }\n      this.installResourceHooksForResource(resource);\n    }\n  }\n\n  shouldCacheResource(resourceName) {\n    // Get resource metadata to check createdBy\n    const resourceMetadata = this.database.savedMetadata?.resources?.[resourceName];\n\n    // Skip plugin-created resources by default (unless explicitly included)\n    if (resourceMetadata?.createdBy && resourceMetadata.createdBy !== 'user' && !this.config.include) {\n      return false;\n    }\n\n    // Legacy: Skip plugin resources by name pattern (unless explicitly included)\n    if (resourceName.startsWith('plg_') && !this.config.include) {\n      return false;\n    }\n\n    // Check exclude list\n    if (this.config.exclude.includes(resourceName)) {\n      return false;\n    }\n\n    // Check include list (if specified)\n    if (this.config.include && !this.config.include.includes(resourceName)) {\n      return false;\n    }\n\n    return true;\n  }\n\n  installResourceHooksForResource(resource) {\n    if (!this.driver) return;\n\n    // Add cache methods to resource\n    Object.defineProperty(resource, 'cache', {\n      value: this.driver,\n      writable: true,\n      configurable: true,\n      enumerable: false\n    });\n    resource.cacheKeyFor = async (options = {}) => {\n      const { action, params = {}, partition, partitionValues } = options;\n      return this.generateCacheKey(resource, action, params, partition, partitionValues);\n    };\n\n    // Add partition-aware methods if using PartitionAwareFilesystemCache\n    if (this.driver instanceof PartitionAwareFilesystemCache) {\n      resource.clearPartitionCache = async (partition, partitionValues = {}) => {\n        return await this.driver.clearPartition(resource.name, partition, partitionValues);\n      };\n      \n      resource.getPartitionCacheStats = async (partition = null) => {\n        return await this.driver.getPartitionStats(resource.name, partition);\n      };\n      \n      resource.getCacheRecommendations = async () => {\n        return await this.driver.getCacheRecommendations(resource.name);\n      };\n      \n      resource.warmPartitionCache = async (partitions = [], options = {}) => {\n        return await this.driver.warmPartitionCache(resource.name, { partitions, ...options });\n      };\n    }\n\n    // Expanded list of methods to cache (including previously missing ones)\n    const cacheMethods = [\n      'count', 'listIds', 'getMany', 'getAll', 'page', 'list', 'get',\n      'exists', 'content', 'hasContent', 'query', 'getFromPartition'\n    ];\n    \n    for (const method of cacheMethods) {\n      resource.useMiddleware(method, async (ctx, next) => {\n        // Check for skipCache option in the last argument\n        let skipCache = false;\n        const lastArg = ctx.args[ctx.args.length - 1];\n        if (lastArg && typeof lastArg === 'object' && lastArg.skipCache === true) {\n          skipCache = true;\n        }\n\n        // If skipCache is true, bypass cache entirely\n        if (skipCache) {\n          return await next();\n        }\n\n        // Build cache key\n        let key;\n        if (method === 'getMany') {\n          key = await resource.cacheKeyFor({ action: method, params: { ids: ctx.args[0] } });\n        } else if (method === 'page') {\n          const { offset, size, partition, partitionValues } = ctx.args[0] || {};\n          key = await resource.cacheKeyFor({ action: method, params: { offset, size }, partition, partitionValues });\n        } else if (method === 'list' || method === 'listIds' || method === 'count') {\n          const { partition, partitionValues } = ctx.args[0] || {};\n          key = await resource.cacheKeyFor({ action: method, partition, partitionValues });\n        } else if (method === 'query') {\n          const filter = ctx.args[0] || {};\n          const options = ctx.args[1] || {};\n          key = await resource.cacheKeyFor({\n            action: method,\n            params: { filter, options: { limit: options.limit, offset: options.offset } },\n            partition: options.partition,\n            partitionValues: options.partitionValues\n          });\n        } else if (method === 'getFromPartition') {\n          const { id, partitionName, partitionValues } = ctx.args[0] || {};\n          key = await resource.cacheKeyFor({\n            action: method,\n            params: { id, partitionName },\n            partition: partitionName,\n            partitionValues\n          });\n        } else if (method === 'getAll') {\n          key = await resource.cacheKeyFor({ action: method });\n        } else if (['get', 'exists', 'content', 'hasContent'].includes(method)) {\n          key = await resource.cacheKeyFor({ action: method, params: { id: ctx.args[0] } });\n        }\n        \n        // Try cache with partition awareness\n        let cached;\n        if (this.driver instanceof PartitionAwareFilesystemCache) {\n          // Extract partition info for partition-aware cache\n          let partition, partitionValues;\n          if (method === 'list' || method === 'listIds' || method === 'count' || method === 'page') {\n            const args = ctx.args[0] || {};\n            partition = args.partition;\n            partitionValues = args.partitionValues;\n          } else if (method === 'query') {\n            const options = ctx.args[1] || {};\n            partition = options.partition;\n            partitionValues = options.partitionValues;\n          } else if (method === 'getFromPartition') {\n            const { partitionName, partitionValues: pValues } = ctx.args[0] || {};\n            partition = partitionName;\n            partitionValues = pValues;\n          }\n          \n          const [ok, err, result] = await tryFn(() => resource.cache._get(key, {\n            resource: resource.name,\n            action: method,\n            partition,\n            partitionValues\n          }));\n\n          if (ok && result !== null && result !== undefined) {\n            this.stats.hits++;\n            return result;\n          }\n          if (!ok && err.name !== 'NoSuchKey') {\n            this.stats.errors++;\n            throw err;\n          }\n\n          // Not cached, call next\n          this.stats.misses++;\n          const freshResult = await next();\n\n          // Store with partition context\n          this.stats.writes++;\n          await resource.cache._set(key, freshResult, {\n            resource: resource.name,\n            action: method,\n            partition,\n            partitionValues\n          });\n\n          return freshResult;\n        } else {\n          // Standard cache behavior\n          const [ok, err, result] = await tryFn(() => resource.cache.get(key));\n          if (ok && result !== null && result !== undefined) {\n            this.stats.hits++;\n            return result;\n          }\n          if (!ok && err.name !== 'NoSuchKey') {\n            this.stats.errors++;\n            throw err;\n          }\n\n          // Not cached, call next\n          this.stats.misses++;\n          const freshResult = await next();\n          this.stats.writes++;\n          await resource.cache.set(key, freshResult);\n          return freshResult;\n        }\n      });\n    }\n\n    // List of methods to clear cache on write (expanded to include new methods)\n    const writeMethods = ['insert', 'update', 'delete', 'deleteMany', 'setContent', 'deleteContent', 'replace'];\n    for (const method of writeMethods) {\n      resource.useMiddleware(method, async (ctx, next) => {\n        const result = await next();\n        // Determine which records to clear\n        if (method === 'insert') {\n          await this.clearCacheForResource(resource, ctx.args[0]);\n        } else if (method === 'update') {\n          await this.clearCacheForResource(resource, { id: ctx.args[0], ...ctx.args[1] });\n        } else if (method === 'delete') {\n          let data = { id: ctx.args[0] };\n          if (typeof resource.get === 'function') {\n            const [ok, err, full] = await tryFn(() => resource.get(ctx.args[0]));\n            if (ok && full) data = full;\n          }\n          await this.clearCacheForResource(resource, data);\n        } else if (method === 'setContent' || method === 'deleteContent') {\n          const id = ctx.args[0]?.id || ctx.args[0];\n          await this.clearCacheForResource(resource, { id });\n        } else if (method === 'replace') {\n          const id = ctx.args[0];\n          await this.clearCacheForResource(resource, { id, ...ctx.args[1] });\n        } else if (method === 'deleteMany') {\n          // After all deletions, clear all aggregate and partition caches\n          await this.clearCacheForResource(resource);\n        }\n        return result;\n      });\n    }\n  }\n\n  async clearCacheForResource(resource, data) {\n    if (!resource.cache) return; // Skip if no cache is available\n\n    const keyPrefix = `resource=${resource.name}`;\n\n    // For specific operations, only clear relevant cache entries\n    if (data && data.id) {\n      // Clear specific item caches for this ID\n      const itemSpecificMethods = ['get', 'exists', 'content', 'hasContent'];\n      for (const method of itemSpecificMethods) {\n        const specificKey = await this.generateCacheKey(resource, method, { id: data.id });\n        const [ok, err] = await this.clearCacheWithRetry(resource.cache, specificKey);\n\n        if (!ok) {\n          this.emit('cache_clear_error', {\n            resource: resource.name,\n            method,\n            id: data.id,\n            error: err.message\n          });\n\n          if (this.config.verbose) {\n            console.warn(`[CachePlugin] Failed to clear ${method} cache for ${resource.name}:${data.id}:`, err.message);\n          }\n        }\n      }\n      \n      // Clear partition-specific caches if this resource has partitions\n      if (this.config.includePartitions === true && resource.config?.partitions && Object.keys(resource.config.partitions).length > 0) {\n        const partitionValues = this.getPartitionValues(data, resource);\n        for (const [partitionName, values] of Object.entries(partitionValues)) {\n          if (values && Object.keys(values).length > 0 && Object.values(values).some(v => v !== null && v !== undefined)) {\n            const partitionKeyPrefix = join(keyPrefix, `partition=${partitionName}`);\n            const [ok, err] = await this.clearCacheWithRetry(resource.cache, partitionKeyPrefix);\n\n            if (!ok) {\n              this.emit('cache_clear_error', {\n                resource: resource.name,\n                partition: partitionName,\n                error: err.message\n              });\n\n              if (this.config.verbose) {\n                console.warn(`[CachePlugin] Failed to clear partition cache for ${resource.name}/${partitionName}:`, err.message);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // Clear aggregate caches more broadly to ensure all variants are cleared\n    const [ok, err] = await this.clearCacheWithRetry(resource.cache, keyPrefix);\n\n    if (!ok) {\n      this.emit('cache_clear_error', {\n        resource: resource.name,\n        type: 'broad',\n        error: err.message\n      });\n\n      if (this.config.verbose) {\n        console.warn(`[CachePlugin] Failed to clear broad cache for ${resource.name}, trying specific methods:`, err.message);\n      }\n\n      // If broad clearing fails, try specific method clearing\n      const aggregateMethods = ['count', 'list', 'listIds', 'getAll', 'page', 'query'];\n      for (const method of aggregateMethods) {\n        // Try multiple key patterns to ensure we catch all variations\n        await this.clearCacheWithRetry(resource.cache, `${keyPrefix}/action=${method}`);\n        await this.clearCacheWithRetry(resource.cache, `resource=${resource.name}/action=${method}`);\n      }\n    }\n  }\n\n  async clearCacheWithRetry(cache, key) {\n    let lastError;\n\n    for (let attempt = 0; attempt < this.config.retryAttempts; attempt++) {\n      const [ok, err] = await tryFn(() => cache.clear(key));\n\n      if (ok) {\n        this.stats.deletes++;\n        return [true, null];\n      }\n\n      lastError = err;\n\n      // Don't retry if it's a \"not found\" error\n      if (err.name === 'NoSuchKey' || err.code === 'NoSuchKey') {\n        return [true, null]; // Key doesn't exist, that's fine\n      }\n\n      // Wait before retry (exponential backoff)\n      if (attempt < this.config.retryAttempts - 1) {\n        const delay = this.config.retryDelay * Math.pow(2, attempt);\n        await new Promise(resolve => setTimeout(resolve, delay));\n      }\n    }\n\n    return [false, lastError];\n  }\n\n  async generateCacheKey(resource, action, params = {}, partition = null, partitionValues = null) {\n    const keyParts = [\n      `resource=${resource.name}`,\n      `action=${action}`\n    ];\n\n    // Add partition information if available\n    if (partition && partitionValues && Object.keys(partitionValues).length > 0) {\n      keyParts.push(`partition:${partition}`);\n      for (const [field, value] of Object.entries(partitionValues)) {\n        if (value !== null && value !== undefined) {\n          keyParts.push(`${field}:${value}`);\n        }\n      }\n    }\n\n    // Add params if they exist\n    if (Object.keys(params).length > 0) {\n      const paramsHash = this.hashParams(params);\n      keyParts.push(paramsHash);\n    }\n\n    return join(...keyParts) + '.json.gz';\n  }\n\n  hashParams(params) {\n    // Use json-stable-stringify for deterministic serialization\n    // Handles nested objects, dates, and maintains consistent key order\n    const serialized = jsonStableStringify(params) || 'empty';\n\n    // Use MD5 for fast non-cryptographic hashing (10x faster than SHA-256)\n    // Security not needed here - just need consistent, collision-resistant hash\n    return crypto.createHash('md5').update(serialized).digest('hex').substring(0, 16);\n  }\n\n  // Utility methods\n  async getCacheStats() {\n    if (!this.driver) return null;\n    \n    return {\n      size: await this.driver.size(),\n      keys: await this.driver.keys(),\n      driver: this.driver.constructor.name\n    };\n  }\n\n  async clearAllCache() {\n    if (!this.driver) return;\n    \n    for (const resource of Object.values(this.database.resources)) {\n      if (resource.cache) {\n        const keyPrefix = `resource=${resource.name}`;\n        await resource.cache.clear(keyPrefix);\n      }\n    }\n  }\n\n  async warmCache(resourceName, options = {}) {\n    const resource = this.database.resources[resourceName];\n    if (!resource) {\n      throw new CacheError('Resource not found for cache warming', {\n        operation: 'warmCache',\n        driver: this.driver?.constructor.name,\n        resourceName,\n        availableResources: Object.keys(this.database.resources),\n        suggestion: 'Check resource name spelling or ensure resource has been created'\n      });\n    }\n\n    const { includePartitions = true, sampleSize = 100 } = options;\n\n    // Use partition-aware warming if available\n    if (this.driver instanceof PartitionAwareFilesystemCache && resource.warmPartitionCache) {\n      const partitionNames = resource.config.partitions ? Object.keys(resource.config.partitions) : [];\n      return await resource.warmPartitionCache(partitionNames, options);\n    }\n\n    // Use pagination instead of getAll() for efficiency\n    let offset = 0;\n    const pageSize = 100;\n    const sampledRecords = [];\n\n    // Get sample of records using pagination\n    while (sampledRecords.length < sampleSize) {\n      const [ok, err, pageResult] = await tryFn(() => resource.page({ offset, size: pageSize }));\n\n      if (!ok || !pageResult) {\n        break;\n      }\n\n      // page() might return { items, total } or just an array\n      const pageItems = Array.isArray(pageResult) ? pageResult : (pageResult.items || []);\n\n      if (pageItems.length === 0) {\n        break;\n      }\n\n      sampledRecords.push(...pageItems);\n      offset += pageSize;\n\n      // Cache the page while we're at it\n      // (page() call already cached it via middleware)\n    }\n\n    // Warm partition caches if enabled\n    if (includePartitions && resource.config.partitions && sampledRecords.length > 0) {\n      for (const [partitionName, partitionDef] of Object.entries(resource.config.partitions)) {\n        if (partitionDef.fields) {\n          // Get unique partition values from sample\n          const partitionValuesSet = new Set();\n\n          for (const record of sampledRecords) {\n            const values = this.getPartitionValues(record, resource);\n            if (values[partitionName]) {\n              partitionValuesSet.add(JSON.stringify(values[partitionName]));\n            }\n          }\n\n          // Warm cache for each partition value\n          for (const partitionValueStr of partitionValuesSet) {\n            const partitionValues = JSON.parse(partitionValueStr);\n            await tryFn(() => resource.list({ partition: partitionName, partitionValues }));\n          }\n        }\n      }\n    }\n\n    return {\n      resourceName,\n      recordsSampled: sampledRecords.length,\n      partitionsWarmed: includePartitions && resource.config.partitions\n        ? Object.keys(resource.config.partitions).length\n        : 0\n    };\n  }\n\n  async analyzeCacheUsage() {\n    if (!(this.driver instanceof PartitionAwareFilesystemCache)) {\n      return { message: 'Cache usage analysis is only available with PartitionAwareFilesystemCache' };\n    }\n\n    const analysis = {\n      totalResources: Object.keys(this.database.resources).length,\n      resourceStats: {},\n      recommendations: {},\n      summary: {\n        mostUsedPartitions: [],\n        leastUsedPartitions: [],\n        suggestedOptimizations: []\n      }\n    };\n\n    // Analyze each resource (respect include/exclude filters)\n    for (const [resourceName, resource] of Object.entries(this.database.resources)) {\n      // Skip resources that shouldn't be cached\n      if (!this.shouldCacheResource(resourceName)) {\n        continue;\n      }\n\n      try {\n        analysis.resourceStats[resourceName] = await this.driver.getPartitionStats(resourceName);\n        analysis.recommendations[resourceName] = await this.driver.getCacheRecommendations(resourceName);\n      } catch (error) {\n        analysis.resourceStats[resourceName] = { error: error.message };\n      }\n    }\n\n    // Generate summary\n    const allRecommendations = Object.values(analysis.recommendations).flat();\n    analysis.summary.mostUsedPartitions = allRecommendations\n      .filter(r => r.recommendation === 'preload')\n      .sort((a, b) => b.priority - a.priority)\n      .slice(0, 5);\n\n    analysis.summary.leastUsedPartitions = allRecommendations\n      .filter(r => r.recommendation === 'archive')\n      .slice(0, 5);\n\n    analysis.summary.suggestedOptimizations = [\n      `Consider preloading ${analysis.summary.mostUsedPartitions.length} high-usage partitions`,\n      `Archive ${analysis.summary.leastUsedPartitions.length} unused partitions`,\n      `Monitor cache hit rates for partition efficiency`\n    ];\n\n    return analysis;\n  }\n\n  /**\n   * Get cache statistics including hit/miss rates\n   * @returns {Object} Stats object with hits, misses, writes, deletes, errors, and calculated metrics\n   */\n  getStats() {\n    const total = this.stats.hits + this.stats.misses;\n    const hitRate = total > 0 ? (this.stats.hits / total) * 100 : 0;\n    const missRate = total > 0 ? (this.stats.misses / total) * 100 : 0;\n    const uptime = Date.now() - this.stats.startTime;\n    const uptimeSeconds = Math.floor(uptime / 1000);\n\n    return {\n      // Raw counters\n      hits: this.stats.hits,\n      misses: this.stats.misses,\n      writes: this.stats.writes,\n      deletes: this.stats.deletes,\n      errors: this.stats.errors,\n\n      // Calculated metrics\n      total,\n      hitRate: hitRate.toFixed(2) + '%',\n      missRate: missRate.toFixed(2) + '%',\n      hitRateDecimal: hitRate / 100,\n      missRateDecimal: missRate / 100,\n\n      // Uptime\n      uptime: uptimeSeconds,\n      uptimeFormatted: this._formatUptime(uptimeSeconds),\n      startTime: new Date(this.stats.startTime).toISOString(),\n\n      // Rates per second\n      hitsPerSecond: uptimeSeconds > 0 ? (this.stats.hits / uptimeSeconds).toFixed(2) : 0,\n      missesPerSecond: uptimeSeconds > 0 ? (this.stats.misses / uptimeSeconds).toFixed(2) : 0,\n      writesPerSecond: uptimeSeconds > 0 ? (this.stats.writes / uptimeSeconds).toFixed(2) : 0\n    };\n  }\n\n  /**\n   * Reset cache statistics\n   */\n  resetStats() {\n    this.stats = {\n      hits: 0,\n      misses: 0,\n      writes: 0,\n      deletes: 0,\n      errors: 0,\n      startTime: Date.now()\n    };\n  }\n\n  /**\n   * Format uptime in human-readable format\n   * @private\n   */\n  _formatUptime(seconds) {\n    const days = Math.floor(seconds / 86400);\n    const hours = Math.floor((seconds % 86400) / 3600);\n    const minutes = Math.floor((seconds % 3600) / 60);\n    const secs = seconds % 60;\n\n    const parts = [];\n    if (days > 0) parts.push(`${days}d`);\n    if (hours > 0) parts.push(`${hours}h`);\n    if (minutes > 0) parts.push(`${minutes}m`);\n    if (secs > 0 || parts.length === 0) parts.push(`${secs}s`);\n\n    return parts.join(' ');\n  }\n}\n\nexport default CachePlugin;\n","export const CostsPlugin = {\n  async setup (db, options = {}) {\n    if (!db || !db.client) {\n      return; // Handle null/invalid database gracefully\n    }\n\n    this.client = db.client\n    this.options = {\n      considerFreeTier: false,  // Flag to consider AWS free tier in calculations\n      region: 'us-east-1',      // AWS region for pricing (future use)\n      ...options\n    }\n\n    this.map = {\n      PutObjectCommand: 'put',\n      GetObjectCommand: 'get',\n      CopyObjectCommand: 'copy',\n      HeadObjectCommand: 'head',\n      DeleteObjectCommand: 'delete',\n      DeleteObjectsCommand: 'delete',\n      ListObjectsV2Command: 'list',\n    }\n\n    this.costs = {\n      total: 0,\n\n      // === REQUESTS PRICING ===\n      requests: {\n        prices: {\n          put: 0.005 / 1000,\n          copy: 0.005 / 1000,\n          list: 0.005 / 1000,\n          post: 0.005 / 1000,\n          get: 0.0004 / 1000,\n          select: 0.0004 / 1000,\n          delete: 0.0004 / 1000,\n          head: 0.0004 / 1000,\n        },\n        total: 0,\n        counts: {\n          put: 0,\n          post: 0,\n          copy: 0,\n          list: 0,\n          get: 0,\n          select: 0,\n          delete: 0,\n          head: 0,\n        },\n        totalEvents: 0,\n        events: {\n          PutObjectCommand: 0,\n          GetObjectCommand: 0,\n          CopyObjectCommand: 0,\n          HeadObjectCommand: 0,\n          DeleteObjectCommand: 0,\n          DeleteObjectsCommand: 0,\n          ListObjectsV2Command: 0,\n        },\n        subtotal: 0,\n      },\n\n      // === STORAGE PRICING ===\n      storage: {\n        totalBytes: 0,\n        totalGB: 0,\n        // Tiered pricing (S3 Standard - us-east-1)\n        tiers: [\n          { limit: 50 * 1024, pricePerGB: 0.023 },      // First 50 TB\n          { limit: 500 * 1024, pricePerGB: 0.022 },     // Next 450 TB\n          { limit: 999999999, pricePerGB: 0.021 }       // Over 500 TB (effectively unlimited)\n        ],\n        currentTier: 0,\n        subtotal: 0  // Monthly storage cost estimate\n      },\n\n      // === DATA TRANSFER PRICING ===\n      dataTransfer: {\n        // Upload (always free)\n        inBytes: 0,\n        inGB: 0,\n        inCost: 0,  // Always $0\n\n        // Download (charged with tiers)\n        outBytes: 0,\n        outGB: 0,\n        // Tiered pricing (out to internet)\n        tiers: [\n          { limit: 10 * 1024, pricePerGB: 0.09 },       // First 10 TB\n          { limit: 50 * 1024, pricePerGB: 0.085 },      // Next 40 TB\n          { limit: 150 * 1024, pricePerGB: 0.07 },      // Next 100 TB\n          { limit: 999999999, pricePerGB: 0.05 }        // Over 150 TB (effectively unlimited)\n        ],\n        // Free tier (100GB/month aggregated across AWS)\n        freeTierGB: 100,\n        freeTierUsed: 0,\n        currentTier: 0,\n        subtotal: 0  // Data transfer out cost\n      }\n    }\n\n    this.client.costs = JSON.parse(JSON.stringify(this.costs));\n  },\n  \n  async start () {\n    if (this.client) {\n      this.client.on(\"command.response\", (name, response, input) => this.addRequest(name, this.map[name], response, input));\n      this.client.on(\"command.error\", (name, response, input) => this.addRequest(name, this.map[name], response, input));\n    }\n  },\n\n  addRequest (name, method, response = {}, input = {}) {\n    if (!method) return; // Skip if no mapping found\n\n    // Track request counts\n    this.costs.requests.totalEvents++;\n    this.costs.requests.total++;\n    this.costs.requests.events[name]++;\n    this.costs.requests.counts[method]++;\n\n    // Calculate request cost\n    const requestCost = this.costs.requests.prices[method];\n    this.costs.requests.subtotal += requestCost;\n\n    // Track storage and data transfer based on ContentLength\n    let contentLength = 0;\n\n    if (['put', 'post', 'copy'].includes(method)) {\n      // For uploads, get size from input Body (AWS SDK uses capital B)\n      const body = input.Body || input.body;\n      if (body) {\n        if (typeof body === 'string') {\n          contentLength = Buffer.byteLength(body, 'utf8');\n        } else if (Buffer.isBuffer(body)) {\n          contentLength = body.length;\n        } else if (body.length !== undefined) {\n          contentLength = body.length;\n        }\n      }\n\n      if (contentLength > 0) {\n        this.trackStorage(contentLength);\n        this.trackDataTransferIn(contentLength);\n      }\n    }\n\n    if (method === 'get') {\n      // For downloads, get size from response\n      contentLength = response?.httpResponse?.headers?.['content-length'] ||\n                     response?.ContentLength ||\n                     0;\n\n      if (contentLength > 0) {\n        this.trackDataTransferOut(contentLength);\n      }\n    }\n\n    // Mirror request-related counters to client.costs BEFORE updateTotal()\n    // (Storage and data transfer are mirrored in tracking methods)\n    if (this.client && this.client.costs) {\n      this.client.costs.requests.totalEvents++;\n      this.client.costs.requests.total++;\n      this.client.costs.requests.events[name]++;\n      this.client.costs.requests.counts[method]++;\n      this.client.costs.requests.subtotal += requestCost;\n    }\n\n    // Update total cost (must be after mirroring request counters)\n    this.updateTotal();\n  },\n\n  trackStorage (bytes) {\n    this.costs.storage.totalBytes += bytes;\n    this.costs.storage.totalGB = this.costs.storage.totalBytes / (1024 * 1024 * 1024);\n    this.costs.storage.subtotal = this.calculateStorageCost(this.costs.storage);\n\n    // Mirror to client.costs\n    if (this.client && this.client.costs) {\n      this.client.costs.storage.totalBytes += bytes;\n      this.client.costs.storage.totalGB = this.client.costs.storage.totalBytes / (1024 * 1024 * 1024);\n      this.client.costs.storage.subtotal = this.calculateStorageCost(this.client.costs.storage);\n    }\n\n    // Update total cost\n    this.updateTotal();\n  },\n\n  trackDataTransferIn (bytes) {\n    this.costs.dataTransfer.inBytes += bytes;\n    this.costs.dataTransfer.inGB = this.costs.dataTransfer.inBytes / (1024 * 1024 * 1024);\n    // inCost is always $0\n\n    // Mirror to client.costs\n    if (this.client && this.client.costs) {\n      this.client.costs.dataTransfer.inBytes += bytes;\n      this.client.costs.dataTransfer.inGB = this.client.costs.dataTransfer.inBytes / (1024 * 1024 * 1024);\n    }\n\n    // Update total cost\n    this.updateTotal();\n  },\n\n  trackDataTransferOut (bytes) {\n    this.costs.dataTransfer.outBytes += bytes;\n    this.costs.dataTransfer.outGB = this.costs.dataTransfer.outBytes / (1024 * 1024 * 1024);\n    this.costs.dataTransfer.subtotal = this.calculateDataTransferCost(this.costs.dataTransfer);\n\n    // Mirror to client.costs\n    if (this.client && this.client.costs) {\n      this.client.costs.dataTransfer.outBytes += bytes;\n      this.client.costs.dataTransfer.outGB = this.client.costs.dataTransfer.outBytes / (1024 * 1024 * 1024);\n      this.client.costs.dataTransfer.subtotal = this.calculateDataTransferCost(this.client.costs.dataTransfer);\n    }\n\n    // Update total cost\n    this.updateTotal();\n  },\n\n  calculateStorageCost (storage) {\n    const totalGB = storage.totalGB;\n    let cost = 0;\n    let remaining = totalGB;\n\n    for (let i = 0; i < storage.tiers.length; i++) {\n      const tier = storage.tiers[i];\n      const prevLimit = i > 0 ? storage.tiers[i - 1].limit : 0;\n      const tierCapacity = tier.limit - prevLimit;\n\n      if (remaining <= 0) break;\n\n      const gbInTier = Math.min(remaining, tierCapacity);\n      cost += gbInTier * tier.pricePerGB;\n      remaining -= gbInTier;\n\n      if (remaining <= 0) {\n        storage.currentTier = i;\n        break;\n      }\n    }\n\n    return cost;\n  },\n\n  calculateDataTransferCost (dataTransfer) {\n    let totalGB = dataTransfer.outGB;\n    let cost = 0;\n\n    // Apply free tier if enabled\n    if (this.options && this.options.considerFreeTier) {\n      const freeTierRemaining = dataTransfer.freeTierGB - dataTransfer.freeTierUsed;\n\n      if (freeTierRemaining > 0 && totalGB > 0) {\n        const gbToDeduct = Math.min(totalGB, freeTierRemaining);\n        totalGB -= gbToDeduct;\n        dataTransfer.freeTierUsed += gbToDeduct;\n      }\n    }\n\n    // Calculate with tiers\n    let remaining = totalGB;\n    for (let i = 0; i < dataTransfer.tiers.length; i++) {\n      const tier = dataTransfer.tiers[i];\n      const prevLimit = i > 0 ? dataTransfer.tiers[i - 1].limit : 0;\n      const tierCapacity = tier.limit - prevLimit;\n\n      if (remaining <= 0) break;\n\n      const gbInTier = Math.min(remaining, tierCapacity);\n      cost += gbInTier * tier.pricePerGB;\n      remaining -= gbInTier;\n\n      if (remaining <= 0) {\n        dataTransfer.currentTier = i;\n        break;\n      }\n    }\n\n    return cost;\n  },\n\n  updateTotal () {\n    this.costs.total =\n      this.costs.requests.subtotal +\n      this.costs.storage.subtotal +\n      this.costs.dataTransfer.subtotal;\n\n    // Mirror to client.costs\n    if (this.client && this.client.costs) {\n      this.client.costs.total =\n        this.client.costs.requests.subtotal +\n        this.client.costs.storage.subtotal +\n        this.client.costs.dataTransfer.subtotal;\n    }\n  },\n}\n\nexport default CostsPlugin","/**\n * Configuration handling for EventualConsistencyPlugin\n * @module eventual-consistency/config\n */\n\n/**\n * Create default configuration with options\n * @param {Object} options - User-provided options (nested format)\n * @param {string} detectedTimezone - Auto-detected timezone\n * @returns {Object} Complete configuration object\n */\nexport function createConfig(options, detectedTimezone) {\n  // Extract nested configs with defaults\n  const consolidation = options.consolidation || {};\n  const locks = options.locks || {};\n  const gc = options.garbageCollection || {};\n  const analytics = options.analytics || {};\n  const batch = options.batch || {};\n  const lateArrivals = options.lateArrivals || {};\n  const checkpoints = options.checkpoints || {};\n\n  return {\n    // Cohort (timezone)\n    cohort: {\n      timezone: options.cohort?.timezone || detectedTimezone\n    },\n\n    // Reducer function\n    reducer: options.reducer || ((transactions) => {\n      let baseValue = 0;\n      for (const t of transactions) {\n        if (t.operation === 'set') {\n          baseValue = t.value;\n        } else if (t.operation === 'add') {\n          baseValue += t.value;\n        } else if (t.operation === 'sub') {\n          baseValue -= t.value;\n        }\n      }\n      return baseValue;\n    }),\n\n    // Consolidation settings\n    consolidationInterval: consolidation.interval ?? 300,\n    consolidationConcurrency: consolidation.concurrency ?? 5,\n    consolidationWindow: consolidation.window ?? 24,\n    autoConsolidate: consolidation.auto !== false,\n    mode: consolidation.mode || 'async',\n\n    // ✅ Performance tuning - Mark applied concurrency (default 50, up from 10)\n    markAppliedConcurrency: consolidation.markAppliedConcurrency ?? 50,\n\n    // ✅ Performance tuning - Recalculate concurrency (default 50, up from 10)\n    recalculateConcurrency: consolidation.recalculateConcurrency ?? 50,\n\n    // Late arrivals\n    lateArrivalStrategy: lateArrivals.strategy || 'warn',\n\n    // Batch transactions\n    batchTransactions: batch.enabled || false,\n    batchSize: batch.size || 100,\n\n    // Locks\n    lockTimeout: locks.timeout || 300,\n\n    // Garbage collection\n    transactionRetention: gc.retention ?? 30,\n    gcInterval: gc.interval ?? 86400,\n\n    // Analytics\n    enableAnalytics: analytics.enabled || false,\n    analyticsConfig: {\n      periods: analytics.periods || ['hour', 'day', 'month'],\n      metrics: analytics.metrics || ['count', 'sum', 'avg', 'min', 'max'],\n      rollupStrategy: analytics.rollupStrategy || 'incremental',\n      retentionDays: analytics.retentionDays ?? 365\n    },\n\n    // Checkpoints\n    enableCheckpoints: checkpoints.enabled !== false,\n    checkpointStrategy: checkpoints.strategy || 'hourly',\n    checkpointRetention: checkpoints.retention ?? 90,\n    checkpointThreshold: checkpoints.threshold ?? 1000,\n    deleteConsolidatedTransactions: checkpoints.deleteConsolidated !== false,\n    autoCheckpoint: checkpoints.auto !== false,\n\n    // Debug\n    verbose: options.verbose || false\n  };\n}\n\n/**\n * Validate resources configuration\n * @param {Object} resources - Resources configuration\n * @throws {Error} If configuration is invalid\n */\nexport function validateResourcesConfig(resources) {\n  if (!resources || typeof resources !== 'object') {\n    throw new Error(\n      \"EventualConsistencyPlugin requires 'resources' option.\\n\" +\n      \"Example: { resources: { urls: ['clicks', 'views'], posts: ['likes'] } }\"\n    );\n  }\n\n  for (const [resourceName, fields] of Object.entries(resources)) {\n    if (!Array.isArray(fields)) {\n      throw new Error(\n        `EventualConsistencyPlugin resources.${resourceName} must be an array of field names`\n      );\n    }\n  }\n}\n\n/**\n * Log configuration warnings\n * @param {Object} config - Configuration object\n */\nexport function logConfigWarnings(config) {\n  // Warn about batching in distributed environments\n  if (config.batchTransactions && !config.verbose) {\n    console.warn(\n      `[EventualConsistency] WARNING: batch.enabled is true. ` +\n      `This stores transactions in memory and will lose data if container crashes. ` +\n      `Not recommended for distributed/production environments.`\n    );\n  }\n\n  // Warn if checkpoints are disabled in high-volume scenarios\n  if (!config.enableCheckpoints && !config.verbose) {\n    console.warn(\n      `[EventualConsistency] INFO: checkpoints.enabled is false. ` +\n      `Checkpoints improve performance in high-volume scenarios by creating snapshots. ` +\n      `Consider enabling for production use.`\n    );\n  }\n}\n\n/**\n * Log initialization information\n * @param {Object} config - Configuration object\n * @param {Map} fieldHandlers - Field handlers map\n * @param {boolean} timezoneAutoDetected - Whether timezone was auto-detected\n */\nexport function logInitialization(config, fieldHandlers, timezoneAutoDetected) {\n  if (!config.verbose) return;\n\n  const totalFields = Array.from(fieldHandlers.values())\n    .reduce((sum, handlers) => sum + handlers.size, 0);\n\n  console.log(\n    `[EventualConsistency] Initialized with ${fieldHandlers.size} resource(s), ` +\n    `${totalFields} field(s) total`\n  );\n\n  // Log timezone if not explicitly set by user\n  if (timezoneAutoDetected) {\n    console.log(\n      `[EventualConsistency] Using timezone: ${config.cohort.timezone} ` +\n      `(${process.env.TZ ? 'from TZ env var' : 'default UTC'})`\n    );\n  }\n}\n","/**\n * Utility functions for EventualConsistencyPlugin\n * @module eventual-consistency/utils\n */\n\n/**\n * Get timezone (from environment or default to UTC)\n * @returns {string} Timezone (defaults to 'UTC')\n */\nexport function detectTimezone() {\n  // 1. Try TZ environment variable (common in Docker/K8s)\n  if (process.env.TZ) {\n    return process.env.TZ;\n  }\n\n  // 2. Default to UTC\n  return 'UTC';\n}\n\n/**\n * Get timezone offset in milliseconds\n * @param {string} timezone - IANA timezone name\n * @param {boolean} verbose - Whether to log warnings\n * @returns {number} Offset in milliseconds\n */\nexport function getTimezoneOffset(timezone, verbose = false) {\n  // Try to calculate offset using Intl API (handles DST automatically)\n  try {\n    const now = new Date();\n\n    // Get UTC time\n    const utcDate = new Date(now.toLocaleString('en-US', { timeZone: 'UTC' }));\n\n    // Get time in target timezone\n    const tzDate = new Date(now.toLocaleString('en-US', { timeZone: timezone }));\n\n    // Calculate offset in milliseconds\n    return tzDate.getTime() - utcDate.getTime();\n  } catch (err) {\n    // Intl API failed, fallback to manual offsets (without DST support)\n    const offsets = {\n      'UTC': 0,\n      'America/New_York': -5 * 3600000,\n      'America/Chicago': -6 * 3600000,\n      'America/Denver': -7 * 3600000,\n      'America/Los_Angeles': -8 * 3600000,\n      'America/Sao_Paulo': -3 * 3600000,\n      'Europe/London': 0,\n      'Europe/Paris': 1 * 3600000,\n      'Europe/Berlin': 1 * 3600000,\n      'Asia/Tokyo': 9 * 3600000,\n      'Asia/Shanghai': 8 * 3600000,\n      'Australia/Sydney': 10 * 3600000\n    };\n\n    if (verbose && !offsets[timezone]) {\n      console.warn(\n        `[EventualConsistency] Unknown timezone '${timezone}', using UTC. ` +\n        `Consider using a valid IANA timezone (e.g., 'America/New_York')`\n      );\n    }\n\n    return offsets[timezone] || 0;\n  }\n}\n\n/**\n * Calculate ISO 8601 week number for a date\n * @param {Date} date - Date to get week number for\n * @returns {Object} Year and week number { year, week }\n */\nfunction getISOWeek(date) {\n  // Copy date to avoid mutating original\n  const target = new Date(date.valueOf());\n\n  // ISO week starts on Monday (day 1)\n  // Find Thursday of this week (ISO week contains Jan 4th)\n  const dayNr = (date.getUTCDay() + 6) % 7; // Make Monday = 0 (use UTC)\n  target.setUTCDate(target.getUTCDate() - dayNr + 3); // Thursday of this week\n\n  // Get first Thursday of the year (use UTC)\n  const yearStart = new Date(Date.UTC(target.getUTCFullYear(), 0, 1));\n  const firstThursday = new Date(yearStart.valueOf());\n  if (yearStart.getUTCDay() !== 4) {\n    firstThursday.setUTCDate(yearStart.getUTCDate() + ((4 - yearStart.getUTCDay()) + 7) % 7);\n  }\n\n  // Calculate week number\n  const weekNumber = 1 + Math.round((target - firstThursday) / 604800000);\n\n  return {\n    year: target.getUTCFullYear(),\n    week: weekNumber\n  };\n}\n\n/**\n * Get cohort information for a date\n * @param {Date} date - Date to get cohort info for\n * @param {string} timezone - IANA timezone name\n * @param {boolean} verbose - Whether to log warnings\n * @returns {Object} Cohort information (date, hour, week, month)\n */\nexport function getCohortInfo(date, timezone, verbose = false) {\n  // Simple timezone offset calculation\n  const offset = getTimezoneOffset(timezone, verbose);\n  const localDate = new Date(date.getTime() + offset);\n\n  const year = localDate.getFullYear();\n  const month = String(localDate.getMonth() + 1).padStart(2, '0');\n  const day = String(localDate.getDate()).padStart(2, '0');\n  const hour = String(localDate.getHours()).padStart(2, '0');\n\n  // Calculate ISO week\n  const { year: weekYear, week: weekNumber } = getISOWeek(localDate);\n  const week = `${weekYear}-W${String(weekNumber).padStart(2, '0')}`;\n\n  return {\n    date: `${year}-${month}-${day}`,\n    hour: `${year}-${month}-${day}T${hour}`, // ISO-like format for hour partition\n    week: week, // ISO 8601 week format (e.g., '2025-W42')\n    month: `${year}-${month}`\n  };\n}\n\n/**\n * Create synthetic 'set' transaction from current value\n * @param {number} currentValue - Current value to create transaction for\n * @returns {Object} Synthetic transaction object\n */\nexport function createSyntheticSetTransaction(currentValue) {\n  return {\n    id: '__synthetic__',\n    operation: 'set',\n    value: currentValue,\n    timestamp: new Date(0).toISOString(),\n    synthetic: true\n  };\n}\n\n/**\n * Create a field handler for a specific resource/field combination\n * @param {string} resourceName - Resource name\n * @param {string} fieldName - Field name\n * @returns {Object} Field handler object\n */\nexport function createFieldHandler(resourceName, fieldName) {\n  return {\n    resource: resourceName,\n    field: fieldName,\n    transactionResource: null,\n    targetResource: null,\n    analyticsResource: null,\n    lockResource: null,\n    checkpointResource: null,\n    consolidationTimer: null,\n    gcTimer: null,\n    pendingTransactions: new Map(),\n    deferredSetup: false\n  };\n}\n\n/**\n * Validate nested path in resource schema\n * Allows 1 level of nesting after 'json' type fields\n *\n * @param {Object} resource - Resource object\n * @param {string} fieldPath - Dot-notation path (e.g., 'utmResults.medium.google')\n * @returns {Object} { valid: boolean, rootField: string, fullPath: string, error?: string }\n */\nexport function validateNestedPath(resource, fieldPath) {\n  const parts = fieldPath.split('.');\n  const rootField = parts[0];\n\n  // Root field must exist in resource attributes\n  if (!resource.attributes || !resource.attributes[rootField]) {\n    return {\n      valid: false,\n      rootField,\n      fullPath: fieldPath,\n      error: `Root field \"${rootField}\" not found in resource attributes`\n    };\n  }\n\n  // If no nesting, just return valid\n  if (parts.length === 1) {\n    return { valid: true, rootField, fullPath: fieldPath };\n  }\n\n  // Validate nested path\n  let current = resource.attributes[rootField];\n  let foundJson = false;\n  let levelsAfterJson = 0;\n\n  for (let i = 1; i < parts.length; i++) {\n    const part = parts[i];\n\n    // If we found 'json' before, count levels\n    if (foundJson) {\n      levelsAfterJson++;\n      // Only allow 1 level after 'json'\n      if (levelsAfterJson > 1) {\n        return {\n          valid: false,\n          rootField,\n          fullPath: fieldPath,\n          error: `Path \"${fieldPath}\" exceeds 1 level after 'json' field. Maximum nesting after 'json' is 1 level.`\n        };\n      }\n      // After 'json', we can't validate further, but we allow 1 level\n      continue;\n    }\n\n    // Check if current level is 'json' type\n    if (typeof current === 'string') {\n      if (current === 'json' || current.startsWith('json|')) {\n        foundJson = true;\n        levelsAfterJson++;\n        // Allow 1 level after json\n        if (levelsAfterJson > 1) {\n          return {\n            valid: false,\n            rootField,\n            fullPath: fieldPath,\n            error: `Path \"${fieldPath}\" exceeds 1 level after 'json' field`\n          };\n        }\n        continue;\n      }\n      // Other string types can't be nested\n      return {\n        valid: false,\n        rootField,\n        fullPath: fieldPath,\n        error: `Field \"${parts.slice(0, i).join('.')}\" is type \"${current}\" and cannot be nested`\n      };\n    }\n\n    // Check if current is an object with nested structure\n    if (typeof current === 'object') {\n      // Check for $$type\n      if (current.$$type) {\n        const type = current.$$type;\n        if (type === 'json' || type.includes('json')) {\n          foundJson = true;\n          levelsAfterJson++;\n          continue;\n        }\n        if (type !== 'object' && !type.includes('object')) {\n          return {\n            valid: false,\n            rootField,\n            fullPath: fieldPath,\n            error: `Field \"${parts.slice(0, i).join('.')}\" is type \"${type}\" and cannot be nested`\n          };\n        }\n      }\n\n      // Navigate to next level\n      if (!current[part]) {\n        return {\n          valid: false,\n          rootField,\n          fullPath: fieldPath,\n          error: `Field \"${part}\" not found in \"${parts.slice(0, i).join('.')}\"`\n        };\n      }\n      current = current[part];\n    } else {\n      return {\n        valid: false,\n        rootField,\n        fullPath: fieldPath,\n        error: `Invalid structure at \"${parts.slice(0, i).join('.')}\"`\n      };\n    }\n  }\n\n  return { valid: true, rootField, fullPath: fieldPath };\n}\n\n/**\n * Resolve field and plugin from arguments\n * Supports dot notation for nested fields (e.g., 'utmResults.medium.google')\n *\n * @param {Object} resource - Resource object\n * @param {string} field - Field name or path (supports dot notation)\n * @param {*} value - Value (for error reporting)\n * @returns {Object} Resolved field, path, and plugin handler\n * @throws {Error} If field or plugin not found, or path is invalid\n */\nexport function resolveFieldAndPlugin(resource, field, value) {\n  if (!resource._eventualConsistencyPlugins) {\n    throw new Error(`No eventual consistency plugins configured for this resource`);\n  }\n\n  // Check if field contains dot notation (nested path)\n  if (field.includes('.')) {\n    const validation = validateNestedPath(resource, field);\n\n    if (!validation.valid) {\n      throw new Error(validation.error);\n    }\n\n    // Get plugin for root field\n    const rootField = validation.rootField;\n    const fieldPlugin = resource._eventualConsistencyPlugins[rootField];\n\n    if (!fieldPlugin) {\n      const availableFields = Object.keys(resource._eventualConsistencyPlugins).join(', ');\n      throw new Error(\n        `No eventual consistency plugin found for root field \"${rootField}\". ` +\n        `Available fields: ${availableFields}`\n      );\n    }\n\n    return {\n      field: rootField,           // Root field for plugin lookup\n      fieldPath: field,            // Full path for nested access\n      value,\n      plugin: fieldPlugin\n    };\n  }\n\n  // Simple field (no nesting)\n  const fieldPlugin = resource._eventualConsistencyPlugins[field];\n\n  if (!fieldPlugin) {\n    const availableFields = Object.keys(resource._eventualConsistencyPlugins).join(', ');\n    throw new Error(\n      `No eventual consistency plugin found for field \"${field}\". ` +\n      `Available fields: ${availableFields}`\n    );\n  }\n\n  return { field, fieldPath: field, value, plugin: fieldPlugin };\n}\n\n/**\n * Group transactions by cohort field\n * @param {Array} transactions - Transactions to group\n * @param {string} cohortField - Field to group by (e.g., 'cohortHour')\n * @returns {Object} Grouped transactions\n */\nexport function groupByCohort(transactions, cohortField) {\n  const groups = {};\n  for (const txn of transactions) {\n    const cohort = txn[cohortField];\n    if (!cohort) continue;\n\n    if (!groups[cohort]) {\n      groups[cohort] = [];\n    }\n    groups[cohort].push(txn);\n  }\n  return groups;\n}\n\n/**\n * Ensure transaction has cohortHour field\n * ✅ FIX BUG #2: Calculate cohortHour from timestamp if missing\n *\n * @param {Object} transaction - Transaction to check/fix\n * @param {string} timezone - Timezone to use for cohort calculation\n * @param {boolean} verbose - Whether to log warnings\n * @returns {Object} Transaction with cohortHour populated\n */\nexport function ensureCohortHour(transaction, timezone = 'UTC', verbose = false) {\n  // If cohortHour already exists, return as-is\n  if (transaction.cohortHour) {\n    return transaction;\n  }\n\n  // Calculate cohortHour from timestamp\n  if (transaction.timestamp) {\n    const date = new Date(transaction.timestamp);\n    const cohortInfo = getCohortInfo(date, timezone, verbose);\n\n    if (verbose) {\n      console.log(\n        `[EventualConsistency] Transaction ${transaction.id} missing cohortHour, ` +\n        `calculated from timestamp: ${cohortInfo.hour}`\n      );\n    }\n\n    // Add cohortHour (and other cohort fields if missing)\n    transaction.cohortHour = cohortInfo.hour;\n\n    if (!transaction.cohortWeek) {\n      transaction.cohortWeek = cohortInfo.week;\n    }\n\n    if (!transaction.cohortMonth) {\n      transaction.cohortMonth = cohortInfo.month;\n    }\n  } else if (verbose) {\n    console.warn(\n      `[EventualConsistency] Transaction ${transaction.id} missing both cohortHour and timestamp, ` +\n      `cannot calculate cohort`\n    );\n  }\n\n  return transaction;\n}\n\n/**\n * Ensure all transactions in array have cohortHour\n * ✅ FIX BUG #2: Batch version of ensureCohortHour\n *\n * @param {Array} transactions - Transactions to check/fix\n * @param {string} timezone - Timezone to use for cohort calculation\n * @param {boolean} verbose - Whether to log warnings\n * @returns {Array} Transactions with cohortHour populated\n */\nexport function ensureCohortHours(transactions, timezone = 'UTC', verbose = false) {\n  if (!transactions || !Array.isArray(transactions)) {\n    return transactions;\n  }\n\n  return transactions.map(txn => ensureCohortHour(txn, timezone, verbose));\n}\n","/**\n * Partition configuration for EventualConsistencyPlugin\n * @module eventual-consistency/partitions\n */\n\n/**\n * Create partition configuration for transaction resources\n * This defines how transactions are organized in S3 for O(1) query performance\n *\n * @returns {Object} Partition configuration\n */\nexport function createPartitionConfig() {\n  // Create partitions for transactions\n  const partitions = {\n    // Composite partition by originalId + applied status\n    // This is THE MOST CRITICAL optimization for consolidation!\n    // Why: Consolidation always queries { originalId, applied: false }\n    // Without this: Reads ALL transactions (applied + pending) and filters manually\n    // With this: Reads ONLY pending transactions - can be 1000x faster!\n    byOriginalIdAndApplied: {\n      fields: {\n        originalId: 'string',\n        applied: 'boolean'\n      }\n    },\n    // Partition by time cohorts for batch consolidation across many records\n    byHour: {\n      fields: {\n        cohortHour: 'string'\n      }\n    },\n    byDay: {\n      fields: {\n        cohortDate: 'string'\n      }\n    },\n    byWeek: {\n      fields: {\n        cohortWeek: 'string'\n      }\n    },\n    byMonth: {\n      fields: {\n        cohortMonth: 'string'\n      }\n    }\n  };\n\n  return partitions;\n}\n","/**\n * Transaction management for EventualConsistencyPlugin\n * @module eventual-consistency/transactions\n */\n\nimport { idGenerator } from \"../../concerns/id.js\";\nimport { getCohortInfo } from \"./utils.js\";\n\n/**\n * Create a transaction for a field handler\n *\n * @param {Object} handler - Field handler\n * @param {Object} data - Transaction data\n * @param {Object} config - Plugin configuration\n * @returns {Promise<Object|null>} Created transaction or null if ignored\n */\nexport async function createTransaction(handler, data, config) {\n  const now = new Date();\n  const cohortInfo = getCohortInfo(now, config.cohort.timezone, config.verbose);\n\n  // Check for late arrivals (transaction older than watermark)\n  const watermarkMs = config.consolidationWindow * 60 * 60 * 1000;\n  const watermarkTime = now.getTime() - watermarkMs;\n  const cohortHourDate = new Date(cohortInfo.hour + ':00:00Z');\n\n  if (cohortHourDate.getTime() < watermarkTime) {\n    // Late arrival detected!\n    const hoursLate = Math.floor((now.getTime() - cohortHourDate.getTime()) / (60 * 60 * 1000));\n\n    if (config.lateArrivalStrategy === 'ignore') {\n      if (config.verbose) {\n        console.warn(\n          `[EventualConsistency] Late arrival ignored: transaction for ${cohortInfo.hour} ` +\n          `is ${hoursLate}h late (watermark: ${config.consolidationWindow}h)`\n        );\n      }\n      return null;\n    } else if (config.lateArrivalStrategy === 'warn') {\n      console.warn(\n        `[EventualConsistency] Late arrival detected: transaction for ${cohortInfo.hour} ` +\n        `is ${hoursLate}h late (watermark: ${config.consolidationWindow}h). ` +\n        `Processing anyway, but consolidation may not pick it up.`\n      );\n    }\n    // 'process' strategy: continue normally\n  }\n\n  const transaction = {\n    id: idGenerator(),\n    originalId: data.originalId,\n    field: handler.field,\n    value: data.value || 0,\n    operation: data.operation || 'set',\n    timestamp: now.toISOString(),\n    cohortDate: cohortInfo.date,\n    cohortHour: cohortInfo.hour,\n    cohortWeek: cohortInfo.week,\n    cohortMonth: cohortInfo.month,\n    source: data.source || 'unknown',\n    applied: false\n  };\n\n  // Batch transactions if configured\n  if (config.batchTransactions) {\n    handler.pendingTransactions.set(transaction.id, transaction);\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${handler.resource}.${handler.field} - ` +\n        `Transaction batched: ${data.operation} ${data.value} for ${data.originalId} ` +\n        `(batch: ${handler.pendingTransactions.size}/${config.batchSize})`\n      );\n    }\n\n    // Flush if batch size reached\n    if (handler.pendingTransactions.size >= config.batchSize) {\n      await flushPendingTransactions(handler);\n    }\n  } else {\n    await handler.transactionResource.insert(transaction);\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${handler.resource}.${handler.field} - ` +\n        `Transaction created: ${data.operation} ${data.value} for ${data.originalId} ` +\n        `(cohort: ${cohortInfo.hour}, applied: false)`\n      );\n    }\n  }\n\n  return transaction;\n}\n\n/**\n * Flush pending transactions for a handler\n *\n * @param {Object} handler - Field handler with pending transactions\n * @throws {Error} If flush fails\n */\nexport async function flushPendingTransactions(handler) {\n  if (handler.pendingTransactions.size === 0) return;\n\n  const transactions = Array.from(handler.pendingTransactions.values());\n\n  try {\n    // Insert all pending transactions in parallel\n    await Promise.all(\n      transactions.map(transaction =>\n        handler.transactionResource.insert(transaction)\n      )\n    );\n\n    // Only clear after successful inserts (prevents data loss on crashes)\n    handler.pendingTransactions.clear();\n  } catch (error) {\n    // Keep pending transactions for retry on next flush\n    console.error('Failed to flush pending transactions:', error);\n    throw error;\n  }\n}\n","/**\n * Consolidation logic for EventualConsistencyPlugin\n * @module eventual-consistency/consolidation\n */\n\nimport tryFn from \"../../concerns/try-fn.js\";\nimport { PromisePool } from \"@supercharge/promise-pool\";\nimport { idGenerator } from \"../../concerns/id.js\";\nimport { getCohortInfo, createSyntheticSetTransaction, ensureCohortHour } from \"./utils.js\";\n\n/**\n * Start consolidation timer for a handler\n *\n * @param {Object} handler - Field handler\n * @param {string} resourceName - Resource name\n * @param {string} fieldName - Field name\n * @param {Function} runConsolidationCallback - Callback to run consolidation\n * @param {Object} config - Plugin configuration\n * @returns {NodeJS.Timeout} Consolidation timer\n */\nexport function startConsolidationTimer(handler, resourceName, fieldName, runConsolidationCallback, config) {\n  const intervalMs = config.consolidationInterval * 1000; // Convert seconds to ms\n\n  if (config.verbose) {\n    const nextRun = new Date(Date.now() + intervalMs);\n    console.log(\n      `[EventualConsistency] ${resourceName}.${fieldName} - ` +\n      `Consolidation timer started. Next run at ${nextRun.toISOString()} ` +\n      `(every ${config.consolidationInterval}s)`\n    );\n  }\n\n  handler.consolidationTimer = setInterval(async () => {\n    await runConsolidationCallback(handler, resourceName, fieldName);\n  }, intervalMs);\n\n  return handler.consolidationTimer;\n}\n\n/**\n * Run consolidation for all pending transactions\n *\n * @param {Object} transactionResource - Transaction resource\n * @param {Function} consolidateRecordFn - Function to consolidate individual records\n * @param {Function} emitFn - Function to emit events\n * @param {Object} config - Plugin configuration\n * @returns {Promise<void>}\n */\nexport async function runConsolidation(transactionResource, consolidateRecordFn, emitFn, config) {\n  const startTime = Date.now();\n\n  if (config.verbose) {\n    console.log(\n      `[EventualConsistency] ${config.resource}.${config.field} - ` +\n      `Starting consolidation run at ${new Date().toISOString()}`\n    );\n  }\n\n  try {\n    // Query unapplied transactions from recent cohorts (last 24 hours by default)\n    // This uses hourly partition for O(1) performance instead of full scan\n    const now = new Date();\n    const hoursToCheck = config.consolidationWindow || 24; // Configurable lookback window (in hours)\n    const cohortHours = [];\n\n    for (let i = 0; i < hoursToCheck; i++) {\n      const date = new Date(now.getTime() - (i * 60 * 60 * 1000)); // Subtract hours\n      const cohortInfo = getCohortInfo(date, config.cohort.timezone, config.verbose);\n      cohortHours.push(cohortInfo.hour);\n    }\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Querying ${hoursToCheck} hour partitions for pending transactions...`\n      );\n    }\n\n    // Query transactions by partition for each hour (parallel for speed)\n    const transactionsByHour = await Promise.all(\n      cohortHours.map(async (cohortHour) => {\n        const [ok, err, txns] = await tryFn(() =>\n          transactionResource.query({\n            cohortHour,\n            applied: false\n          })\n        );\n        return ok ? txns : [];\n      })\n    );\n\n    // Flatten all transactions\n    const transactions = transactionsByHour.flat();\n\n    if (transactions.length === 0) {\n      if (config.verbose) {\n        console.log(\n          `[EventualConsistency] ${config.resource}.${config.field} - ` +\n          `No pending transactions found. Next run in ${config.consolidationInterval}s`\n        );\n      }\n      return;\n    }\n\n    // Get unique originalIds\n    const uniqueIds = [...new Set(transactions.map(t => t.originalId))];\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Found ${transactions.length} pending transactions for ${uniqueIds.length} records. ` +\n        `Consolidating with concurrency=${config.consolidationConcurrency}...`\n      );\n    }\n\n    // Consolidate each record in parallel with concurrency limit\n    const { results, errors } = await PromisePool\n      .for(uniqueIds)\n      .withConcurrency(config.consolidationConcurrency)\n      .process(async (id) => {\n        return await consolidateRecordFn(id);\n      });\n\n    const duration = Date.now() - startTime;\n\n    if (errors && errors.length > 0) {\n      console.error(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Consolidation completed with ${errors.length} errors in ${duration}ms:`,\n        errors\n      );\n    }\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Consolidation complete: ${results.length} records consolidated in ${duration}ms ` +\n        `(${errors.length} errors). Next run in ${config.consolidationInterval}s`\n      );\n    }\n\n    if (emitFn) {\n      emitFn('eventual-consistency.consolidated', {\n        resource: config.resource,\n        field: config.field,\n        recordCount: uniqueIds.length,\n        successCount: results.length,\n        errorCount: errors.length,\n        duration\n      });\n    }\n  } catch (error) {\n    const duration = Date.now() - startTime;\n    console.error(\n      `[EventualConsistency] ${config.resource}.${config.field} - ` +\n      `Consolidation error after ${duration}ms:`,\n      error\n    );\n    if (emitFn) {\n      emitFn('eventual-consistency.consolidation-error', error);\n    }\n  }\n}\n\n/**\n * Consolidate a single record\n *\n * @param {string} originalId - ID of the record to consolidate\n * @param {Object} transactionResource - Transaction resource\n * @param {Object} targetResource - Target resource\n * @param {Object} storage - PluginStorage instance for locks\n * @param {Object} analyticsResource - Analytics resource (optional)\n * @param {Function} updateAnalyticsFn - Function to update analytics (optional)\n * @param {Object} config - Plugin configuration\n * @returns {Promise<number>} Consolidated value\n */\nexport async function consolidateRecord(\n  originalId,\n  transactionResource,\n  targetResource,\n  storage,\n  analyticsResource,\n  updateAnalyticsFn,\n  config\n) {\n  // Acquire distributed lock with TTL to prevent concurrent consolidation\n  const lockKey = `consolidation-${config.resource}-${config.field}-${originalId}`;\n  const lock = await storage.acquireLock(lockKey, {\n    ttl: config.lockTimeout || 30,\n    timeout: 0, // Don't wait if locked\n    workerId: process.pid ? String(process.pid) : 'unknown'\n  });\n\n  // If lock couldn't be acquired, another worker is consolidating\n  if (!lock) {\n    if (config.verbose) {\n      console.log(`[EventualConsistency] Lock for ${originalId} already held, skipping`);\n    }\n    // Get current value and return (another worker will consolidate)\n    const [recordOk, recordErr, record] = await tryFn(() =>\n      targetResource.get(originalId)\n    );\n    return (recordOk && record) ? (record[config.field] || 0) : 0;\n  }\n\n  try {\n    // Get all unapplied transactions for this record\n    const [ok, err, transactions] = await tryFn(() =>\n      transactionResource.query({\n        originalId,\n        applied: false\n      })\n    );\n\n    if (!ok || !transactions || transactions.length === 0) {\n      // No pending transactions - try to get current value from record\n      const [recordOk, recordErr, record] = await tryFn(() =>\n        targetResource.get(originalId)\n      );\n      const currentValue = (recordOk && record) ? (record[config.field] || 0) : 0;\n\n      if (config.verbose) {\n        console.log(\n          `[EventualConsistency] ${config.resource}.${config.field} - ` +\n          `No pending transactions for ${originalId}, skipping`\n        );\n      }\n      return currentValue;\n    }\n\n    // Get the LAST APPLIED VALUE from transactions (not from record - avoids S3 eventual consistency issues)\n    // This is the source of truth for the current value\n    const [appliedOk, appliedErr, appliedTransactions] = await tryFn(() =>\n      transactionResource.query({\n        originalId,\n        applied: true\n      })\n    );\n\n    let currentValue = 0;\n\n    if (appliedOk && appliedTransactions && appliedTransactions.length > 0) {\n      // Check if record exists - if deleted, ignore old applied transactions\n      const [recordExistsOk, recordExistsErr, recordExists] = await tryFn(() =>\n        targetResource.get(originalId)\n      );\n\n      if (!recordExistsOk || !recordExists) {\n        // Record was deleted - ignore applied transactions and start fresh\n        // This prevents old values from being carried over after deletion\n        if (config.verbose) {\n          console.log(\n            `[EventualConsistency] ${config.resource}.${config.field} - ` +\n            `Record ${originalId} doesn't exist, deleting ${appliedTransactions.length} old applied transactions`\n          );\n        }\n\n        // Delete old applied transactions to prevent them from being used when record is recreated\n        const { results, errors } = await PromisePool\n          .for(appliedTransactions)\n          .withConcurrency(10)\n          .process(async (txn) => {\n            const [deleted] = await tryFn(() => transactionResource.delete(txn.id));\n            return deleted;\n          });\n\n        if (config.verbose && errors && errors.length > 0) {\n          console.warn(\n            `[EventualConsistency] ${config.resource}.${config.field} - ` +\n            `Failed to delete ${errors.length} old applied transactions`\n          );\n        }\n\n        currentValue = 0;\n        // Clear the applied transactions array since we deleted them\n        appliedTransactions.length = 0;\n      } else {\n        // Record exists - use applied transactions to calculate current value\n        // Sort by timestamp to get chronological order\n        appliedTransactions.sort((a, b) =>\n          new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime()\n        );\n\n        // Check if there's a 'set' operation in applied transactions\n        const hasSetInApplied = appliedTransactions.some(t => t.operation === 'set');\n\n        if (!hasSetInApplied) {\n          // No 'set' operation in applied transactions means we're missing the base value\n          // This can happen if record had an initial value before first transaction\n          // Solution: Get the current record value and create an anchor transaction now\n          const recordValue = recordExists[config.field] || 0;\n\n          // Only create anchor if recordValue is a number (not object/array for nested fields)\n          if (typeof recordValue === 'number') {\n            // Calculate what the base value was by subtracting all applied deltas\n            let appliedDelta = 0;\n            for (const t of appliedTransactions) {\n              if (t.operation === 'add') appliedDelta += t.value;\n              else if (t.operation === 'sub') appliedDelta -= t.value;\n            }\n\n            const baseValue = recordValue - appliedDelta;\n\n            // Create and save anchor transaction with the base value\n            // Only create if baseValue is non-zero AND we don't already have an anchor transaction\n            const hasExistingAnchor = appliedTransactions.some(t => t.source === 'anchor');\n            if (baseValue !== 0 && typeof baseValue === 'number' && !hasExistingAnchor) {\n              // Use the timestamp of the first applied transaction for cohort info\n              const firstTransactionDate = new Date(appliedTransactions[0].timestamp);\n              const cohortInfo = getCohortInfo(firstTransactionDate, config.cohort.timezone, config.verbose);\n              const anchorTransaction = {\n                id: idGenerator(),\n                originalId: originalId,\n                field: config.field,\n                fieldPath: config.field,  // Add fieldPath for consistency\n                value: baseValue,\n                operation: 'set',\n                timestamp: new Date(firstTransactionDate.getTime() - 1).toISOString(), // 1ms before first txn to ensure it's first\n                cohortDate: cohortInfo.date,\n                cohortHour: cohortInfo.hour,\n                cohortMonth: cohortInfo.month,\n                source: 'anchor',\n                applied: true\n              };\n\n              await transactionResource.insert(anchorTransaction);\n\n              // Prepend to applied transactions for this consolidation\n              appliedTransactions.unshift(anchorTransaction);\n            }\n          }\n        }\n\n        // Apply reducer to get the last consolidated value\n        currentValue = config.reducer(appliedTransactions);\n      }\n    } else {\n      // No applied transactions - this is the FIRST consolidation\n      // Try to get initial value from record\n      const [recordOk, recordErr, record] = await tryFn(() =>\n        targetResource.get(originalId)\n      );\n      currentValue = (recordOk && record) ? (record[config.field] || 0) : 0;\n\n      // If there's an initial value, create and save an anchor transaction\n      // This ensures all future consolidations have a reliable base value\n      // IMPORTANT: Only create anchor if currentValue is a number (not object/array for nested fields)\n      if (currentValue !== 0 && typeof currentValue === 'number') {\n        // Use timestamp of the first pending transaction (or current time if none)\n        let anchorTimestamp;\n        if (transactions && transactions.length > 0) {\n          const firstPendingDate = new Date(transactions[0].timestamp);\n          anchorTimestamp = new Date(firstPendingDate.getTime() - 1).toISOString();\n        } else {\n          anchorTimestamp = new Date().toISOString();\n        }\n\n        const cohortInfo = getCohortInfo(new Date(anchorTimestamp), config.cohort.timezone, config.verbose);\n        const anchorTransaction = {\n          id: idGenerator(),\n          originalId: originalId,\n          field: config.field,\n          fieldPath: config.field,  // Add fieldPath for consistency\n          value: currentValue,\n          operation: 'set',\n          timestamp: anchorTimestamp,\n          cohortDate: cohortInfo.date,\n          cohortHour: cohortInfo.hour,\n          cohortMonth: cohortInfo.month,\n          source: 'anchor',\n          applied: true\n        };\n\n        await transactionResource.insert(anchorTransaction);\n\n        if (config.verbose) {\n          console.log(\n            `[EventualConsistency] ${config.resource}.${config.field} - ` +\n            `Created anchor transaction for ${originalId} with base value ${currentValue}`\n          );\n        }\n      }\n    }\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Consolidating ${originalId}: ${transactions.length} pending transactions ` +\n        `(current: ${currentValue} from ${appliedOk && appliedTransactions?.length > 0 ? 'applied transactions' : 'record'})`\n      );\n    }\n\n    // Sort pending transactions by timestamp\n    transactions.sort((a, b) =>\n      new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime()\n    );\n\n    // Group PENDING transactions by fieldPath to support nested fields\n    const transactionsByPath = {};\n    for (const txn of transactions) {\n      const path = txn.fieldPath || txn.field || config.field;\n      if (!transactionsByPath[path]) {\n        transactionsByPath[path] = [];\n      }\n      transactionsByPath[path].push(txn);\n    }\n\n    // For each fieldPath, we need the currentValue from applied transactions\n    // Group APPLIED transactions by fieldPath\n    const appliedByPath = {};\n    if (appliedOk && appliedTransactions && appliedTransactions.length > 0) {\n      for (const txn of appliedTransactions) {\n        const path = txn.fieldPath || txn.field || config.field;\n        if (!appliedByPath[path]) {\n          appliedByPath[path] = [];\n        }\n        appliedByPath[path].push(txn);\n      }\n    }\n\n    // Consolidate each fieldPath group separately\n    const consolidatedValues = {};\n    const lodash = await import('lodash-es');\n\n    // Get current record to extract existing values for nested paths\n    const [currentRecordOk, currentRecordErr, currentRecord] = await tryFn(() =>\n      targetResource.get(originalId)\n    );\n\n    for (const [fieldPath, pathTransactions] of Object.entries(transactionsByPath)) {\n      // Calculate current value for this path from applied transactions\n      let pathCurrentValue = 0;\n      if (appliedByPath[fieldPath] && appliedByPath[fieldPath].length > 0) {\n        // Sort applied transactions by timestamp\n        appliedByPath[fieldPath].sort((a, b) =>\n          new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime()\n        );\n        // Apply reducer to get current value from applied transactions\n        pathCurrentValue = config.reducer(appliedByPath[fieldPath]);\n      } else {\n        // No applied transactions yet - use value from record (first consolidation)\n        // This happens when there's an initial value in the record before any consolidation\n        if (currentRecordOk && currentRecord) {\n          const recordValue = lodash.get(currentRecord, fieldPath, 0);\n          if (typeof recordValue === 'number') {\n            pathCurrentValue = recordValue;\n          }\n        }\n      }\n\n      // Prepend synthetic set transaction with current value\n      if (pathCurrentValue !== 0) {\n        pathTransactions.unshift(createSyntheticSetTransaction(pathCurrentValue));\n      }\n\n      // Apply reducer to get consolidated value for this path\n      const pathConsolidatedValue = config.reducer(pathTransactions);\n      consolidatedValues[fieldPath] = pathConsolidatedValue;\n\n      if (config.verbose) {\n        console.log(\n          `[EventualConsistency] ${config.resource}.${fieldPath} - ` +\n          `${originalId}: ${pathCurrentValue} → ${pathConsolidatedValue} ` +\n          `(${pathTransactions.length - (pathCurrentValue !== 0 ? 1 : 0)} pending txns)`\n        );\n      }\n    }\n\n    // 🔥 DEBUG: Log BEFORE update\n    if (config.verbose) {\n      console.log(\n        `🔥 [DEBUG] BEFORE targetResource.update() {` +\n        `\\n  originalId: '${originalId}',` +\n        `\\n  consolidatedValues: ${JSON.stringify(consolidatedValues, null, 2)}` +\n        `\\n}`\n      );\n    }\n\n    // Build update object using lodash.set for nested paths\n    // Get fresh record to avoid overwriting other fields\n    const [recordOk, recordErr, record] = await tryFn(() =>\n      targetResource.get(originalId)\n    );\n\n    let updateOk, updateErr, updateResult;\n\n    if (!recordOk || !record) {\n      // Record doesn't exist - we'll let the update fail and handle it below\n      // This ensures transactions remain pending until record is created\n      if (config.verbose) {\n        console.log(\n          `[EventualConsistency] ${config.resource}.${config.field} - ` +\n          `Record ${originalId} doesn't exist yet. Will attempt update anyway (expected to fail).`\n        );\n      }\n\n      // Create a minimal record object with just our field\n      const minimalRecord = { id: originalId };\n      for (const [fieldPath, value] of Object.entries(consolidatedValues)) {\n        lodash.set(minimalRecord, fieldPath, value);\n      }\n\n      // Try to update (will fail, handled below)\n      const result = await tryFn(() =>\n        targetResource.update(originalId, minimalRecord)\n      );\n      updateOk = result[0];\n      updateErr = result[1];\n      updateResult = result[2];\n    } else {\n      // Record exists - apply all consolidated values using lodash.set\n      for (const [fieldPath, value] of Object.entries(consolidatedValues)) {\n        lodash.set(record, fieldPath, value);\n      }\n\n      // Update the original record with all changes\n      // NOTE: We update the entire record to preserve nested structures\n      const result = await tryFn(() =>\n        targetResource.update(originalId, record)\n      );\n      updateOk = result[0];\n      updateErr = result[1];\n      updateResult = result[2];\n    }\n\n    const consolidatedValue = consolidatedValues[config.field] ||\n                             (record ? lodash.get(record, config.field, 0) : 0);\n\n    // 🔥 DEBUG: Log AFTER update\n    if (config.verbose) {\n      console.log(\n        `🔥 [DEBUG] AFTER targetResource.update() {` +\n        `\\n  updateOk: ${updateOk},` +\n        `\\n  updateErr: ${updateErr?.message || 'undefined'},` +\n        `\\n  consolidatedValue (main field): ${consolidatedValue}` +\n        `\\n}`\n      );\n    }\n\n    // 🔥 VERIFY: Check if update actually persisted for all fieldPaths\n    if (updateOk && config.verbose) {\n      // Bypass cache to get fresh data\n      const [verifyOk, verifyErr, verifiedRecord] = await tryFn(() =>\n        targetResource.get(originalId, { skipCache: true })\n      );\n\n      // Verify each fieldPath\n      for (const [fieldPath, expectedValue] of Object.entries(consolidatedValues)) {\n        const actualValue = lodash.get(verifiedRecord, fieldPath);\n        const match = actualValue === expectedValue;\n\n        console.log(\n          `🔥 [DEBUG] VERIFICATION ${fieldPath} {` +\n          `\\n  expectedValue: ${expectedValue},` +\n          `\\n  actualValue: ${actualValue},` +\n          `\\n  ${match ? '✅ MATCH' : '❌ MISMATCH'}` +\n          `\\n}`\n        );\n\n        // If verification fails, this is a critical bug\n        if (!match) {\n          console.error(\n            `❌ [CRITICAL BUG] Update reported success but value not persisted!` +\n            `\\n  Resource: ${config.resource}` +\n            `\\n  FieldPath: ${fieldPath}` +\n            `\\n  Record ID: ${originalId}` +\n            `\\n  Expected: ${expectedValue}` +\n            `\\n  Actually got: ${actualValue}` +\n            `\\n  This indicates a bug in s3db.js resource.update()`\n          );\n        }\n      }\n    }\n\n    if (!updateOk) {\n      // Check if record doesn't exist\n      if (updateErr?.message?.includes('does not exist')) {\n        // Record doesn't exist - skip consolidation and keep transactions pending\n        if (config.verbose) {\n          console.warn(\n            `[EventualConsistency] ${config.resource}.${config.field} - ` +\n            `Record ${originalId} doesn't exist. Skipping consolidation. ` +\n            `${transactions.length} transactions will remain pending until record is created.`\n          );\n        }\n\n        // Return the consolidated value (for informational purposes)\n        // Transactions remain pending and will be picked up when record exists\n        return consolidatedValue;\n      }\n\n      // Update failed for another reason - this is a real error\n      console.error(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `FAILED to update ${originalId}: ${updateErr?.message || updateErr}`,\n        { error: updateErr, consolidatedValue, currentValue }\n      );\n      throw updateErr;\n    }\n\n    if (updateOk) {\n      // Mark transactions as applied (skip synthetic ones) - use PromisePool for controlled concurrency\n      const transactionsToUpdate = transactions.filter(txn => txn.id !== '__synthetic__');\n\n      // ✅ OTIMIZAÇÃO: Usar concurrency do config (default aumentado de 10 para 50)\n      const markAppliedConcurrency = config.markAppliedConcurrency || 50;\n\n      const { results, errors } = await PromisePool\n        .for(transactionsToUpdate)\n        .withConcurrency(markAppliedConcurrency)\n        .process(async (txn) => {\n          const txnWithCohorts = ensureCohortHour(txn, config.cohort.timezone, false);\n\n          const updateData = { applied: true };\n\n          // Add missing cohort fields if they were calculated\n          if (txnWithCohorts.cohortHour && !txn.cohortHour) {\n            updateData.cohortHour = txnWithCohorts.cohortHour;\n          }\n          if (txnWithCohorts.cohortDate && !txn.cohortDate) {\n            updateData.cohortDate = txnWithCohorts.cohortDate;\n          }\n          if (txnWithCohorts.cohortWeek && !txn.cohortWeek) {\n            updateData.cohortWeek = txnWithCohorts.cohortWeek;\n          }\n          if (txnWithCohorts.cohortMonth && !txn.cohortMonth) {\n            updateData.cohortMonth = txnWithCohorts.cohortMonth;\n          }\n\n          const [ok, err] = await tryFn(() =>\n            transactionResource.update(txn.id, updateData)\n          );\n\n          if (!ok && config.verbose) {\n            console.warn(\n              `[EventualConsistency] Failed to mark transaction ${txn.id} as applied:`,\n              err?.message,\n              'Update data:',\n              updateData\n            );\n          }\n\n          return ok;\n        });\n\n      if (errors && errors.length > 0 && config.verbose) {\n        console.warn(`[EventualConsistency] ${errors.length} transactions failed to mark as applied`);\n      }\n\n      // Update analytics if enabled (only for real transactions, not synthetic)\n      if (config.enableAnalytics && transactionsToUpdate.length > 0 && updateAnalyticsFn) {\n        const [analyticsOk, analyticsErr] = await tryFn(() =>\n          updateAnalyticsFn(transactionsToUpdate)\n        );\n\n        if (!analyticsOk) {\n          // Analytics failure should NOT prevent consolidation success\n          // But we should log it prominently\n          console.error(\n            `[EventualConsistency] ${config.resource}.${config.field} - ` +\n            `CRITICAL: Analytics update failed for ${originalId}, but consolidation succeeded:`,\n            {\n              error: analyticsErr?.message || analyticsErr,\n              stack: analyticsErr?.stack,\n              originalId,\n              transactionCount: transactionsToUpdate.length\n            }\n          );\n        }\n      }\n\n      // Invalidate cache for this record after consolidation\n      if (targetResource && targetResource.cache && typeof targetResource.cache.delete === 'function') {\n        try {\n          const cacheKey = await targetResource.cacheKeyFor({ id: originalId });\n          await targetResource.cache.delete(cacheKey);\n\n          if (config.verbose) {\n            console.log(\n              `[EventualConsistency] ${config.resource}.${config.field} - ` +\n              `Cache invalidated for ${originalId}`\n            );\n          }\n        } catch (cacheErr) {\n          // Log but don't fail consolidation if cache invalidation fails\n          if (config.verbose) {\n            console.warn(\n              `[EventualConsistency] ${config.resource}.${config.field} - ` +\n              `Failed to invalidate cache for ${originalId}: ${cacheErr?.message}`\n            );\n          }\n        }\n      }\n    }\n\n    return consolidatedValue;\n  } finally {\n    // Always release the lock\n    const [lockReleased, lockReleaseErr] = await tryFn(() =>\n      storage.releaseLock(lockKey)\n    );\n\n    if (!lockReleased && config.verbose) {\n      console.warn(`[EventualConsistency] Failed to release lock ${lockKey}:`, lockReleaseErr?.message);\n    }\n  }\n}\n\n/**\n * Get consolidated value without applying\n *\n * @param {string} originalId - ID of the record\n * @param {Object} options - Query options\n * @param {Object} transactionResource - Transaction resource\n * @param {Object} targetResource - Target resource\n * @param {Object} config - Plugin configuration\n * @returns {Promise<number>} Consolidated value\n */\nexport async function getConsolidatedValue(originalId, options, transactionResource, targetResource, config) {\n  const includeApplied = options.includeApplied || false;\n  const startDate = options.startDate;\n  const endDate = options.endDate;\n\n  // Build query\n  const query = { originalId };\n  if (!includeApplied) {\n    query.applied = false;\n  }\n\n  // Get transactions\n  const [ok, err, transactions] = await tryFn(() =>\n    transactionResource.query(query)\n  );\n\n  if (!ok || !transactions || transactions.length === 0) {\n    // If no transactions, check if record exists and return its current value\n    const [recordOk, recordErr, record] = await tryFn(() =>\n      targetResource.get(originalId)\n    );\n\n    if (recordOk && record) {\n      return record[config.field] || 0;\n    }\n\n    return 0;\n  }\n\n  // Filter by date range if specified\n  let filtered = transactions;\n  if (startDate || endDate) {\n    filtered = transactions.filter(t => {\n      const timestamp = new Date(t.timestamp);\n      if (startDate && timestamp < new Date(startDate)) return false;\n      if (endDate && timestamp > new Date(endDate)) return false;\n      return true;\n    });\n  }\n\n  // Get current value from record\n  const [recordOk, recordErr, record] = await tryFn(() =>\n    targetResource.get(originalId)\n  );\n  const currentValue = (recordOk && record) ? (record[config.field] || 0) : 0;\n\n  // Check if there's a 'set' operation in filtered transactions\n  const hasSetOperation = filtered.some(t => t.operation === 'set');\n\n  // If current value exists and no 'set', prepend synthetic set transaction\n  if (currentValue !== 0 && !hasSetOperation) {\n    filtered.unshift(createSyntheticSetTransaction(currentValue));\n  }\n\n  // Sort by timestamp\n  filtered.sort((a, b) =>\n    new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime()\n  );\n\n  // Apply reducer\n  return config.reducer(filtered);\n}\n\n/**\n * Get cohort statistics\n *\n * @param {string} cohortDate - Cohort date to get stats for\n * @param {Object} transactionResource - Transaction resource\n * @returns {Promise<Object|null>} Cohort statistics\n */\nexport async function getCohortStats(cohortDate, transactionResource) {\n  const [ok, err, transactions] = await tryFn(() =>\n    transactionResource.query({\n      cohortDate\n    })\n  );\n\n  if (!ok) return null;\n\n  const stats = {\n    date: cohortDate,\n    transactionCount: transactions.length,\n    totalValue: 0,\n    byOperation: { set: 0, add: 0, sub: 0 },\n    byOriginalId: {}\n  };\n\n  for (const txn of transactions) {\n    stats.totalValue += txn.value || 0;\n    stats.byOperation[txn.operation] = (stats.byOperation[txn.operation] || 0) + 1;\n\n    if (!stats.byOriginalId[txn.originalId]) {\n      stats.byOriginalId[txn.originalId] = {\n        count: 0,\n        value: 0\n      };\n    }\n    stats.byOriginalId[txn.originalId].count++;\n    stats.byOriginalId[txn.originalId].value += txn.value || 0;\n  }\n\n  return stats;\n}\n\n/**\n * Recalculate from scratch by resetting all transactions to pending\n * This is useful for debugging, recovery, or when you want to recompute everything\n *\n * @param {string} originalId - ID of the record to recalculate\n * @param {Object} transactionResource - Transaction resource\n * @param {Object} targetResource - Target resource\n * @param {Object} storage - PluginStorage instance for locks\n * @param {Function} consolidateRecordFn - Function to consolidate the record\n * @param {Object} config - Plugin configuration\n * @returns {Promise<number>} Recalculated value\n */\nexport async function recalculateRecord(\n  originalId,\n  transactionResource,\n  targetResource,\n  storage,\n  consolidateRecordFn,\n  config\n) {\n  // Acquire distributed lock with TTL to prevent concurrent operations\n  const lockKey = `recalculate-${config.resource}-${config.field}-${originalId}`;\n  const lock = await storage.acquireLock(lockKey, {\n    ttl: config.lockTimeout || 30,\n    timeout: 0, // Don't wait if locked\n    workerId: process.pid ? String(process.pid) : 'unknown'\n  });\n\n  // If lock couldn't be acquired, another worker is operating on this record\n  if (!lock) {\n    if (config.verbose) {\n      console.log(`[EventualConsistency] Recalculate lock for ${originalId} already held, skipping`);\n    }\n    throw new Error(`Cannot recalculate ${originalId}: lock already held by another worker`);\n  }\n\n  try {\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Starting recalculation for ${originalId} (resetting all transactions to pending)`\n      );\n    }\n\n    // Get ALL transactions for this record (both applied and pending)\n    const [allOk, allErr, allTransactions] = await tryFn(() =>\n      transactionResource.query({\n        originalId\n      })\n    );\n\n    if (!allOk || !allTransactions || allTransactions.length === 0) {\n      if (config.verbose) {\n        console.log(\n          `[EventualConsistency] ${config.resource}.${config.field} - ` +\n          `No transactions found for ${originalId}, nothing to recalculate`\n        );\n      }\n      return 0;\n    }\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Found ${allTransactions.length} total transactions for ${originalId}, marking all as pending...`\n      );\n    }\n\n    // Check if there's an anchor transaction\n    const hasAnchor = allTransactions.some(txn => txn.source === 'anchor');\n\n    // If no anchor exists, create one with value 0 to serve as the baseline\n    // This ensures recalculate is idempotent - running it multiple times produces same result\n    if (!hasAnchor) {\n      const now = new Date();\n      const cohortInfo = getCohortInfo(now, config.cohort.timezone, config.verbose);\n\n      // Create anchor transaction with timestamp before all other transactions\n      const oldestTransaction = allTransactions.sort((a, b) =>\n        new Date(a.timestamp).getTime() - new Date(b.timestamp).getTime()\n      )[0];\n\n      const anchorTimestamp = oldestTransaction\n        ? new Date(new Date(oldestTransaction.timestamp).getTime() - 1).toISOString()\n        : now.toISOString();\n\n      const anchorCohortInfo = getCohortInfo(new Date(anchorTimestamp), config.cohort.timezone, config.verbose);\n\n      const anchorTransaction = {\n        id: idGenerator(),\n        originalId: originalId,\n        field: config.field,\n        fieldPath: config.field,\n        value: 0,  // Always 0 for recalculate - we start from scratch\n        operation: 'set',\n        timestamp: anchorTimestamp,\n        cohortDate: anchorCohortInfo.date,\n        cohortHour: anchorCohortInfo.hour,\n        cohortMonth: anchorCohortInfo.month,\n        source: 'anchor',\n        applied: true  // Anchor is always applied\n      };\n\n      await transactionResource.insert(anchorTransaction);\n\n      if (config.verbose) {\n        console.log(\n          `[EventualConsistency] ${config.resource}.${config.field} - ` +\n          `Created anchor transaction for ${originalId} with value 0`\n        );\n      }\n    }\n\n    // Mark ALL transactions as pending (applied: false)\n    // Exclude anchor transactions (they should always be applied)\n    const transactionsToReset = allTransactions.filter(txn => txn.source !== 'anchor');\n\n    // ✅ OPTIMIZATION: Use higher concurrency for recalculate (default 50 vs 10)\n    const recalculateConcurrency = config.recalculateConcurrency || 50;\n\n    const { results, errors } = await PromisePool\n      .for(transactionsToReset)\n      .withConcurrency(recalculateConcurrency)\n      .process(async (txn) => {\n        const [ok, err] = await tryFn(() =>\n          transactionResource.update(txn.id, { applied: false })\n        );\n\n        if (!ok && config.verbose) {\n          console.warn(`[EventualConsistency] Failed to reset transaction ${txn.id}:`, err?.message);\n        }\n\n        return ok;\n      });\n\n    if (errors && errors.length > 0) {\n      console.warn(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Failed to reset ${errors.length} transactions during recalculation`\n      );\n    }\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Reset ${results.length} transactions to pending, now resetting record value and running consolidation...`\n      );\n    }\n\n    // Reset the record's field value to 0 to prevent double-counting\n    // This ensures consolidation starts fresh without using the old value as an anchor\n    const [resetOk, resetErr] = await tryFn(() =>\n      targetResource.update(originalId, {\n        [config.field]: 0\n      })\n    );\n\n    if (!resetOk && config.verbose) {\n      console.warn(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Failed to reset record value for ${originalId}: ${resetErr?.message}`\n      );\n    }\n\n    // Now run normal consolidation which will process all pending transactions\n    const consolidatedValue = await consolidateRecordFn(originalId);\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Recalculation complete for ${originalId}: final value = ${consolidatedValue}`\n      );\n    }\n\n    return consolidatedValue;\n  } finally {\n    // Always release the lock\n    const [lockReleased, lockReleaseErr] = await tryFn(() =>\n      storage.releaseLock(lockKey)\n    );\n\n    if (!lockReleased && config.verbose) {\n      console.warn(`[EventualConsistency] Failed to release recalculate lock ${lockKey}:`, lockReleaseErr?.message);\n    }\n  }\n}\n","/**\n * Garbage collection for EventualConsistencyPlugin\n * @module eventual-consistency/garbage-collection\n */\n\nimport tryFn from \"../../concerns/try-fn.js\";\nimport { PromisePool } from \"@supercharge/promise-pool\";\n\n/**\n * Start garbage collection timer for a handler\n *\n * @param {Object} handler - Field handler\n * @param {string} resourceName - Resource name\n * @param {string} fieldName - Field name\n * @param {Function} runGCCallback - Callback to run GC\n * @param {Object} config - Plugin configuration\n * @returns {NodeJS.Timeout} GC timer\n */\nexport function startGarbageCollectionTimer(handler, resourceName, fieldName, runGCCallback, config) {\n  const gcIntervalMs = config.gcInterval * 1000; // Convert seconds to ms\n\n  handler.gcTimer = setInterval(async () => {\n    await runGCCallback(handler, resourceName, fieldName);\n  }, gcIntervalMs);\n\n  return handler.gcTimer;\n}\n\n/**\n * Delete old applied transactions based on retention policy\n * Uses distributed locking to prevent multiple containers from running GC simultaneously\n *\n * @param {Object} transactionResource - Transaction resource\n * @param {Object} storage - PluginStorage instance for locks\n * @param {Object} config - Plugin configuration\n * @param {Function} emitFn - Function to emit events\n * @returns {Promise<void>}\n */\nexport async function runGarbageCollection(transactionResource, storage, config, emitFn) {\n  // Acquire distributed lock with TTL for GC operation\n  const lockKey = `gc-${config.resource}-${config.field}`;\n  const lock = await storage.acquireLock(lockKey, {\n    ttl: 300, // 5 minutes for GC\n    timeout: 0, // Don't wait if locked\n    workerId: process.pid ? String(process.pid) : 'unknown'\n  });\n\n  // If another container is already running GC, skip\n  if (!lock) {\n    if (config.verbose) {\n      console.log(`[EventualConsistency] GC already running in another container`);\n    }\n    return;\n  }\n\n  try {\n    const now = Date.now();\n    const retentionMs = config.transactionRetention * 24 * 60 * 60 * 1000; // Days to ms\n    const cutoffDate = new Date(now - retentionMs);\n    const cutoffIso = cutoffDate.toISOString();\n\n    if (config.verbose) {\n      console.log(`[EventualConsistency] Running GC for transactions older than ${cutoffIso} (${config.transactionRetention} days)`);\n    }\n\n    // Query old applied transactions\n    const [ok, err, oldTransactions] = await tryFn(() =>\n      transactionResource.query({\n        applied: true,\n        timestamp: { '<': cutoffIso }\n      })\n    );\n\n    if (!ok) {\n      if (config.verbose) {\n        console.warn(`[EventualConsistency] GC failed to query transactions:`, err?.message);\n      }\n      return;\n    }\n\n    if (!oldTransactions || oldTransactions.length === 0) {\n      if (config.verbose) {\n        console.log(`[EventualConsistency] No old transactions to clean up`);\n      }\n      return;\n    }\n\n    if (config.verbose) {\n      console.log(`[EventualConsistency] Deleting ${oldTransactions.length} old transactions`);\n    }\n\n    // Delete old transactions using PromisePool\n    const { results, errors } = await PromisePool\n      .for(oldTransactions)\n      .withConcurrency(10)\n      .process(async (txn) => {\n        const [deleted] = await tryFn(() => transactionResource.delete(txn.id));\n        return deleted;\n      });\n\n    if (config.verbose) {\n      console.log(`[EventualConsistency] GC completed: ${results.length} deleted, ${errors.length} errors`);\n    }\n\n    if (emitFn) {\n      emitFn('eventual-consistency.gc-completed', {\n        resource: config.resource,\n        field: config.field,\n        deletedCount: results.length,\n        errorCount: errors.length\n      });\n    }\n  } catch (error) {\n    if (config.verbose) {\n      console.warn(`[EventualConsistency] GC error:`, error.message);\n    }\n    if (emitFn) {\n      emitFn('eventual-consistency.gc-error', error);\n    }\n  } finally {\n    // Always release GC lock\n    await tryFn(() => storage.releaseLock(lockKey));\n  }\n}\n","/**\n * Analytics for EventualConsistencyPlugin\n * @module eventual-consistency/analytics\n */\n\nimport tryFn from \"../../concerns/try-fn.js\";\nimport { groupByCohort, ensureCohortHours } from \"./utils.js\";\n\n/**\n * Update analytics with consolidated transactions\n *\n * @param {Array} transactions - Transactions that were just consolidated\n * @param {Object} analyticsResource - Analytics resource\n * @param {Object} config - Plugin configuration\n * @returns {Promise<void>}\n */\nexport async function updateAnalytics(transactions, analyticsResource, config) {\n  if (!analyticsResource || transactions.length === 0) return;\n\n  // CRITICAL VALIDATION: Ensure field is set in config\n  // This can be undefined due to race conditions when multiple handlers share config\n  if (!config.field) {\n    throw new Error(\n      `[EventualConsistency] CRITICAL BUG: config.field is undefined in updateAnalytics()!\\n` +\n      `This indicates a race condition in the plugin where multiple handlers are sharing the same config object.\\n` +\n      `Config: ${JSON.stringify({ resource: config.resource, field: config.field })}\\n` +\n      `Transactions count: ${transactions.length}\\n` +\n      `AnalyticsResource: ${analyticsResource?.name || 'unknown'}`\n    );\n  }\n\n  if (config.verbose) {\n    console.log(\n      `[EventualConsistency] ${config.resource}.${config.field} - ` +\n      `Updating analytics for ${transactions.length} transactions...`\n    );\n  }\n\n  try {\n    // Group transactions by cohort hour\n    const byHour = groupByCohort(transactions, 'cohortHour');\n    const cohortCount = Object.keys(byHour).length;\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Updating ${cohortCount} hourly analytics cohorts IN PARALLEL...`\n      );\n    }\n\n    // ✅ OTIMIZAÇÃO: Update hourly analytics EM PARALELO\n    await Promise.all(\n      Object.entries(byHour).map(([cohort, txns]) =>\n        upsertAnalytics('hour', cohort, txns, analyticsResource, config)\n      )\n    );\n\n    // Roll up to daily and monthly if configured\n    if (config.analyticsConfig.rollupStrategy === 'incremental') {\n      const uniqueHours = Object.keys(byHour);\n\n      if (config.verbose) {\n        console.log(\n          `[EventualConsistency] ${config.resource}.${config.field} - ` +\n          `Rolling up ${uniqueHours.length} hours to daily/weekly/monthly analytics IN PARALLEL...`\n        );\n      }\n\n      // ✅ OTIMIZAÇÃO: Rollup analytics EM PARALELO\n      await Promise.all(\n        uniqueHours.map(cohortHour =>\n          rollupAnalytics(cohortHour, analyticsResource, config)\n        )\n      );\n    }\n\n    if (config.verbose) {\n      console.log(\n        `[EventualConsistency] ${config.resource}.${config.field} - ` +\n        `Analytics update complete for ${cohortCount} cohorts`\n      );\n    }\n  } catch (error) {\n    console.error(\n      `[EventualConsistency] CRITICAL: ${config.resource}.${config.field} - ` +\n      `Analytics update failed:`,\n      {\n        error: error.message,\n        stack: error.stack,\n        field: config.field,\n        resource: config.resource,\n        transactionCount: transactions.length\n      }\n    );\n    // Re-throw to prevent silent failures\n    throw new Error(\n      `Analytics update failed for ${config.resource}.${config.field}: ${error.message}`\n    );\n  }\n}\n\n/**\n * Upsert analytics for a specific period and cohort\n * @private\n */\nasync function upsertAnalytics(period, cohort, transactions, analyticsResource, config) {\n  const id = `${period}-${cohort}`;\n\n  // Calculate metrics\n  const transactionCount = transactions.length;\n\n  // Calculate signed values (considering operation type)\n  const signedValues = transactions.map(t => {\n    if (t.operation === 'sub') return -t.value;\n    return t.value;\n  });\n\n  const totalValue = signedValues.reduce((sum, v) => sum + v, 0);\n  const avgValue = totalValue / transactionCount;\n  const minValue = Math.min(...signedValues);\n  const maxValue = Math.max(...signedValues);\n\n  // Calculate operation breakdown\n  const operations = calculateOperationBreakdown(transactions);\n\n  // Count distinct records\n  const recordCount = new Set(transactions.map(t => t.originalId)).size;\n\n  const now = new Date().toISOString();\n\n  // Try to get existing analytics\n  const [existingOk, existingErr, existing] = await tryFn(() =>\n    analyticsResource.get(id)\n  );\n\n  if (existingOk && existing) {\n    // Update existing analytics (incremental)\n    const newTransactionCount = existing.transactionCount + transactionCount;\n    const newTotalValue = existing.totalValue + totalValue;\n    const newAvgValue = newTotalValue / newTransactionCount;\n    const newMinValue = Math.min(existing.minValue, minValue);\n    const newMaxValue = Math.max(existing.maxValue, maxValue);\n\n    // Merge operation breakdown\n    const newOperations = { ...existing.operations };\n    for (const [op, stats] of Object.entries(operations)) {\n      if (!newOperations[op]) {\n        newOperations[op] = { count: 0, sum: 0 };\n      }\n      newOperations[op].count += stats.count;\n      newOperations[op].sum += stats.sum;\n    }\n\n    // Update record count (approximate - we don't track all unique IDs)\n    const newRecordCount = Math.max(existing.recordCount, recordCount);\n\n    await tryFn(() =>\n      analyticsResource.update(id, {\n        transactionCount: newTransactionCount,\n        totalValue: newTotalValue,\n        avgValue: newAvgValue,\n        minValue: newMinValue,\n        maxValue: newMaxValue,\n        operations: newOperations,\n        recordCount: newRecordCount,\n        updatedAt: now\n      })\n    );\n  } else {\n    // Create new analytics\n    await tryFn(() =>\n      analyticsResource.insert({\n        id,\n        field: config.field,\n        period,\n        cohort,\n        transactionCount,\n        totalValue,\n        avgValue,\n        minValue,\n        maxValue,\n        operations,\n        recordCount,\n        consolidatedAt: now,\n        updatedAt: now\n      })\n    );\n  }\n}\n\n/**\n * Calculate operation breakdown\n * @private\n */\nfunction calculateOperationBreakdown(transactions) {\n  const breakdown = {};\n\n  for (const txn of transactions) {\n    const op = txn.operation;\n    if (!breakdown[op]) {\n      breakdown[op] = { count: 0, sum: 0 };\n    }\n    breakdown[op].count++;\n\n    // Use signed value for sum (sub operations are negative)\n    const signedValue = op === 'sub' ? -txn.value : txn.value;\n    breakdown[op].sum += signedValue;\n  }\n\n  return breakdown;\n}\n\n/**\n * Roll up hourly analytics to daily, weekly, and monthly\n * @private\n */\nasync function rollupAnalytics(cohortHour, analyticsResource, config) {\n  // cohortHour format: '2025-10-09T14'\n  const cohortDate = cohortHour.substring(0, 10); // '2025-10-09'\n  const cohortMonth = cohortHour.substring(0, 7);  // '2025-10'\n\n  // Calculate week cohort (ISO 8601 format)\n  const date = new Date(cohortDate);\n  const cohortWeek = getCohortWeekFromDate(date);\n\n  // Roll up to day\n  await rollupPeriod('day', cohortDate, cohortDate, analyticsResource, config);\n\n  // Roll up to week\n  await rollupPeriod('week', cohortWeek, cohortWeek, analyticsResource, config);\n\n  // Roll up to month\n  await rollupPeriod('month', cohortMonth, cohortMonth, analyticsResource, config);\n}\n\n/**\n * Get cohort week string from a date\n * @private\n */\nfunction getCohortWeekFromDate(date) {\n  // ISO week calculation (use UTC methods)\n  const target = new Date(date.valueOf());\n  const dayNr = (date.getUTCDay() + 6) % 7;\n  target.setUTCDate(target.getUTCDate() - dayNr + 3);\n\n  const yearStart = new Date(Date.UTC(target.getUTCFullYear(), 0, 1));\n  const firstThursday = new Date(yearStart.valueOf());\n  if (yearStart.getUTCDay() !== 4) {\n    firstThursday.setUTCDate(yearStart.getUTCDate() + ((4 - yearStart.getUTCDay()) + 7) % 7);\n  }\n\n  const weekNumber = 1 + Math.round((target - firstThursday) / 604800000);\n  const weekYear = target.getUTCFullYear();\n\n  return `${weekYear}-W${String(weekNumber).padStart(2, '0')}`;\n}\n\n/**\n * Roll up analytics for a specific period\n * @private\n */\nasync function rollupPeriod(period, cohort, sourcePrefix, analyticsResource, config) {\n  // Get all source analytics (e.g., all hours for a day, all days for a week)\n  let sourcePeriod;\n  if (period === 'day') {\n    sourcePeriod = 'hour';\n  } else if (period === 'week') {\n    sourcePeriod = 'day';  // Week aggregates from days\n  } else if (period === 'month') {\n    sourcePeriod = 'day';  // ✅ Month aggregates from days AND hours (like week)\n  } else {\n    sourcePeriod = 'day'; // Fallback\n  }\n\n  const [ok, err, allAnalytics] = await tryFn(() =>\n    analyticsResource.list()\n  );\n\n  if (!ok || !allAnalytics) return;\n\n  // Filter to matching cohorts\n  let sourceAnalytics;\n  if (period === 'week') {\n    // For week, we need to find all days that belong to this week\n    sourceAnalytics = allAnalytics.filter(a => {\n      if (a.period !== sourcePeriod) return false;\n      // Check if this day's cohort belongs to the target week\n      const dayDate = new Date(a.cohort);\n      const dayWeek = getCohortWeekFromDate(dayDate);\n      return dayWeek === cohort;\n    });\n  } else {\n    // For day and month, simple prefix matching works\n    // day: aggregates from hours (cohort '2025-10-09' matches '2025-10-09T14', '2025-10-09T15', etc)\n    // month: aggregates from days (cohort '2025-10' matches '2025-10-01', '2025-10-02', etc)\n    sourceAnalytics = allAnalytics.filter(a =>\n      a.period === sourcePeriod && a.cohort.startsWith(sourcePrefix)\n    );\n  }\n\n  if (sourceAnalytics.length === 0) return;\n\n  // Aggregate metrics\n  const transactionCount = sourceAnalytics.reduce((sum, a) => sum + a.transactionCount, 0);\n  const totalValue = sourceAnalytics.reduce((sum, a) => sum + a.totalValue, 0);\n  const avgValue = totalValue / transactionCount;\n  const minValue = Math.min(...sourceAnalytics.map(a => a.minValue));\n  const maxValue = Math.max(...sourceAnalytics.map(a => a.maxValue));\n\n  // Merge operation breakdown\n  const operations = {};\n  for (const analytics of sourceAnalytics) {\n    for (const [op, stats] of Object.entries(analytics.operations || {})) {\n      if (!operations[op]) {\n        operations[op] = { count: 0, sum: 0 };\n      }\n      operations[op].count += stats.count;\n      operations[op].sum += stats.sum;\n    }\n  }\n\n  // Approximate record count (max of all periods)\n  const recordCount = Math.max(...sourceAnalytics.map(a => a.recordCount));\n\n  const id = `${period}-${cohort}`;\n  const now = new Date().toISOString();\n\n  // Upsert rolled-up analytics\n  const [existingOk, existingErr, existing] = await tryFn(() =>\n    analyticsResource.get(id)\n  );\n\n  if (existingOk && existing) {\n    await tryFn(() =>\n      analyticsResource.update(id, {\n        transactionCount,\n        totalValue,\n        avgValue,\n        minValue,\n        maxValue,\n        operations,\n        recordCount,\n        updatedAt: now\n      })\n    );\n  } else {\n    await tryFn(() =>\n      analyticsResource.insert({\n        id,\n        field: config.field,\n        period,\n        cohort,\n        transactionCount,\n        totalValue,\n        avgValue,\n        minValue,\n        maxValue,\n        operations,\n        recordCount,\n        consolidatedAt: now,\n        updatedAt: now\n      })\n    );\n  }\n}\n\n/**\n * Fill gaps in analytics data with zeros for continuous time series\n *\n * @param {Array} data - Sparse analytics data\n * @param {string} period - Period type ('hour', 'day', 'month')\n * @param {string} startDate - Start date (ISO format)\n * @param {string} endDate - End date (ISO format)\n * @returns {Array} Complete time series with gaps filled\n */\nexport function fillGaps(data, period, startDate, endDate) {\n  if (!data || data.length === 0) {\n    // If no data, still generate empty series\n    data = [];\n  }\n\n  // Create a map of existing data by cohort\n  const dataMap = new Map();\n  data.forEach(item => {\n    dataMap.set(item.cohort, item);\n  });\n\n  const result = [];\n  const emptyRecord = {\n    count: 0,\n    sum: 0,\n    avg: 0,\n    min: 0,\n    max: 0,\n    recordCount: 0\n  };\n\n  if (period === 'hour') {\n    // Generate all hours between startDate and endDate\n    const start = new Date(startDate + 'T00:00:00Z');\n    const end = new Date(endDate + 'T23:59:59Z');\n\n    for (let dt = new Date(start); dt <= end; dt.setHours(dt.getHours() + 1)) {\n      const cohort = dt.toISOString().substring(0, 13); // YYYY-MM-DDTHH\n      result.push(dataMap.get(cohort) || { cohort, ...emptyRecord });\n    }\n  } else if (period === 'day') {\n    // Generate all days between startDate and endDate\n    const start = new Date(startDate);\n    const end = new Date(endDate);\n\n    for (let dt = new Date(start); dt <= end; dt.setDate(dt.getDate() + 1)) {\n      const cohort = dt.toISOString().substring(0, 10); // YYYY-MM-DD\n      result.push(dataMap.get(cohort) || { cohort, ...emptyRecord });\n    }\n  } else if (period === 'month') {\n    // Generate all months between startDate and endDate\n    const startYear = parseInt(startDate.substring(0, 4));\n    const startMonth = parseInt(startDate.substring(5, 7));\n    const endYear = parseInt(endDate.substring(0, 4));\n    const endMonth = parseInt(endDate.substring(5, 7));\n\n    for (let year = startYear; year <= endYear; year++) {\n      const firstMonth = (year === startYear) ? startMonth : 1;\n      const lastMonth = (year === endYear) ? endMonth : 12;\n\n      for (let month = firstMonth; month <= lastMonth; month++) {\n        const cohort = `${year}-${month.toString().padStart(2, '0')}`;\n        result.push(dataMap.get(cohort) || { cohort, ...emptyRecord });\n      }\n    }\n  }\n\n  return result;\n}\n\n/**\n * Get analytics for a specific period\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {Object} options - Query options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Analytics data\n */\nexport async function getAnalytics(resourceName, field, options, fieldHandlers) {\n  // Get handler for this resource/field combination\n  const resourceHandlers = fieldHandlers.get(resourceName);\n  if (!resourceHandlers) {\n    throw new Error(`No eventual consistency configured for resource: ${resourceName}`);\n  }\n\n  const handler = resourceHandlers.get(field);\n  if (!handler) {\n    throw new Error(`No eventual consistency configured for field: ${resourceName}.${field}`);\n  }\n\n  if (!handler.analyticsResource) {\n    throw new Error('Analytics not enabled for this plugin');\n  }\n\n  const { period = 'day', date, startDate, endDate, month, year, breakdown = false, recordId } = options;\n\n  // ✅ FIX BUG #1: If recordId is specified, fetch from transactions directly\n  if (recordId) {\n    return await getAnalyticsForRecord(resourceName, field, recordId, options, handler);\n  }\n\n  // Original behavior: global analytics from pre-aggregated data\n  const [ok, err, allAnalytics] = await tryFn(() =>\n    handler.analyticsResource.list()\n  );\n\n  if (!ok || !allAnalytics) {\n    return [];\n  }\n\n  // Filter by period\n  let filtered = allAnalytics.filter(a => a.period === period);\n\n  // Filter by date/range\n  if (date) {\n    if (period === 'hour') {\n      // Match all hours of the date\n      filtered = filtered.filter(a => a.cohort.startsWith(date));\n    } else {\n      filtered = filtered.filter(a => a.cohort === date);\n    }\n  } else if (startDate && endDate) {\n    filtered = filtered.filter(a => a.cohort >= startDate && a.cohort <= endDate);\n  } else if (month) {\n    filtered = filtered.filter(a => a.cohort.startsWith(month));\n  } else if (year) {\n    filtered = filtered.filter(a => a.cohort.startsWith(String(year)));\n  }\n\n  // Sort by cohort\n  filtered.sort((a, b) => a.cohort.localeCompare(b.cohort));\n\n  // Return with or without breakdown\n  if (breakdown === 'operations') {\n    return filtered.map(a => ({\n      cohort: a.cohort,\n      ...a.operations\n    }));\n  }\n\n  return filtered.map(a => ({\n    cohort: a.cohort,\n    count: a.transactionCount,\n    sum: a.totalValue,\n    avg: a.avgValue,\n    min: a.minValue,\n    max: a.maxValue,\n    operations: a.operations,\n    recordCount: a.recordCount\n  }));\n}\n\n/**\n * Get analytics for a specific record from transactions\n * ✅ FIX BUG #1: Filter by recordId\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {string} recordId - Record ID to filter by\n * @param {Object} options - Query options\n * @param {Object} handler - Field handler\n * @returns {Promise<Array>} Analytics data for specific record\n * @private\n */\nasync function getAnalyticsForRecord(resourceName, field, recordId, options, handler) {\n  const { period = 'day', date, startDate, endDate, month, year } = options;\n\n  // Fetch transactions for this specific record\n  // Note: We need both applied: true and applied: false transactions for analytics\n  //  Same format as used in consolidation.js - the query() method auto-selects the partition\n  const [okTrue, errTrue, appliedTransactions] = await tryFn(() =>\n    handler.transactionResource.query({\n      originalId: recordId,\n      applied: true\n    })\n  );\n\n  const [okFalse, errFalse, pendingTransactions] = await tryFn(() =>\n    handler.transactionResource.query({\n      originalId: recordId,\n      applied: false\n    })\n  );\n\n  // Combine both applied and pending transactions\n  let allTransactions = [\n    ...(okTrue && appliedTransactions ? appliedTransactions : []),\n    ...(okFalse && pendingTransactions ? pendingTransactions : [])\n  ];\n\n  if (allTransactions.length === 0) {\n    return [];\n  }\n\n  allTransactions = ensureCohortHours(allTransactions, handler.config?.cohort?.timezone || 'UTC', false);\n\n  // Filter transactions by temporal range\n  let filtered = allTransactions;\n\n  if (date) {\n    if (period === 'hour') {\n      // Match all hours of the date\n      filtered = filtered.filter(t => t.cohortHour && t.cohortHour.startsWith(date));\n    } else if (period === 'day') {\n      filtered = filtered.filter(t => t.cohortDate === date);\n    } else if (period === 'month') {\n      filtered = filtered.filter(t => t.cohortMonth && t.cohortMonth.startsWith(date));\n    }\n  } else if (startDate && endDate) {\n    if (period === 'hour') {\n      filtered = filtered.filter(t => t.cohortHour && t.cohortHour >= startDate && t.cohortHour <= endDate);\n    } else if (period === 'day') {\n      filtered = filtered.filter(t => t.cohortDate && t.cohortDate >= startDate && t.cohortDate <= endDate);\n    } else if (period === 'month') {\n      filtered = filtered.filter(t => t.cohortMonth && t.cohortMonth >= startDate && t.cohortMonth <= endDate);\n    }\n  } else if (month) {\n    if (period === 'hour') {\n      filtered = filtered.filter(t => t.cohortHour && t.cohortHour.startsWith(month));\n    } else if (period === 'day') {\n      filtered = filtered.filter(t => t.cohortDate && t.cohortDate.startsWith(month));\n    }\n  } else if (year) {\n    if (period === 'hour') {\n      filtered = filtered.filter(t => t.cohortHour && t.cohortHour.startsWith(String(year)));\n    } else if (period === 'day') {\n      filtered = filtered.filter(t => t.cohortDate && t.cohortDate.startsWith(String(year)));\n    } else if (period === 'month') {\n      filtered = filtered.filter(t => t.cohortMonth && t.cohortMonth.startsWith(String(year)));\n    }\n  }\n\n  // Aggregate transactions by cohort\n  const cohortField = period === 'hour' ? 'cohortHour' : period === 'day' ? 'cohortDate' : 'cohortMonth';\n  const aggregated = aggregateTransactionsByCohort(filtered, cohortField);\n\n  return aggregated;\n}\n\n/**\n * Aggregate transactions by cohort field\n * ✅ Helper for BUG #1 fix\n *\n * @param {Array} transactions - Transactions to aggregate\n * @param {string} cohortField - Cohort field name ('cohortHour', 'cohortDate', 'cohortMonth')\n * @returns {Array} Aggregated analytics\n * @private\n */\nfunction aggregateTransactionsByCohort(transactions, cohortField) {\n  const groups = {};\n\n  for (const txn of transactions) {\n    const cohort = txn[cohortField];\n    if (!cohort) continue;\n\n    if (!groups[cohort]) {\n      groups[cohort] = {\n        cohort,\n        count: 0,\n        sum: 0,\n        min: Infinity,\n        max: -Infinity,\n        recordCount: new Set(),\n        operations: {}\n      };\n    }\n\n    const group = groups[cohort];\n    const signedValue = txn.operation === 'sub' ? -txn.value : txn.value;\n\n    group.count++;\n    group.sum += signedValue;\n    group.min = Math.min(group.min, signedValue);\n    group.max = Math.max(group.max, signedValue);\n    group.recordCount.add(txn.originalId);\n\n    // Track operation breakdown\n    const op = txn.operation;\n    if (!group.operations[op]) {\n      group.operations[op] = { count: 0, sum: 0 };\n    }\n    group.operations[op].count++;\n    group.operations[op].sum += signedValue;\n  }\n\n  // Convert to array and finalize\n  return Object.values(groups)\n    .map(g => ({\n      cohort: g.cohort,\n      count: g.count,\n      sum: g.sum,\n      avg: g.sum / g.count,\n      min: g.min === Infinity ? 0 : g.min,\n      max: g.max === -Infinity ? 0 : g.max,\n      recordCount: g.recordCount.size,\n      operations: g.operations\n    }))\n    .sort((a, b) => a.cohort.localeCompare(b.cohort));\n}\n\n/**\n * Get analytics for entire month, broken down by days\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {string} month - Month in YYYY-MM format\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Daily analytics for the month\n */\nexport async function getMonthByDay(resourceName, field, month, options, fieldHandlers) {\n  // month format: '2025-10'\n  const year = parseInt(month.substring(0, 4));\n  const monthNum = parseInt(month.substring(5, 7));\n\n  // Get first and last day of month\n  const firstDay = new Date(year, monthNum - 1, 1);\n  const lastDay = new Date(year, monthNum, 0);\n\n  const startDate = firstDay.toISOString().substring(0, 10);\n  const endDate = lastDay.toISOString().substring(0, 10);\n\n  const data = await getAnalytics(resourceName, field, {\n    period: 'day',\n    startDate,\n    endDate\n  }, fieldHandlers);\n\n  if (options.fillGaps) {\n    return fillGaps(data, 'day', startDate, endDate);\n  }\n\n  return data;\n}\n\n/**\n * Get analytics for entire day, broken down by hours\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {string} date - Date in YYYY-MM-DD format\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Hourly analytics for the day\n */\nexport async function getDayByHour(resourceName, field, date, options, fieldHandlers) {\n  // date format: '2025-10-09'\n  const data = await getAnalytics(resourceName, field, {\n    period: 'hour',\n    date\n  }, fieldHandlers);\n\n  if (options.fillGaps) {\n    return fillGaps(data, 'hour', date, date);\n  }\n\n  return data;\n}\n\n/**\n * Get analytics for last N days, broken down by days\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {number} days - Number of days to look back (default: 7)\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Daily analytics\n */\nexport async function getLastNDays(resourceName, field, days, options, fieldHandlers) {\n  const dates = Array.from({ length: days }, (_, i) => {\n    const date = new Date();\n    date.setDate(date.getDate() - i);\n    return date.toISOString().substring(0, 10);\n  }).reverse();\n\n  // ✅ FIX BUG #1: Pass through recordId and other options\n  const data = await getAnalytics(resourceName, field, {\n    ...options,  // ✅ Include all options (recordId, etc.)\n    period: 'day',\n    startDate: dates[0],\n    endDate: dates[dates.length - 1]\n  }, fieldHandlers);\n\n  if (options.fillGaps) {\n    return fillGaps(data, 'day', dates[0], dates[dates.length - 1]);\n  }\n\n  return data;\n}\n\n/**\n * Get analytics for entire year, broken down by months\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {number} year - Year (e.g., 2025)\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Monthly analytics for the year\n */\nexport async function getYearByMonth(resourceName, field, year, options, fieldHandlers) {\n  const data = await getAnalytics(resourceName, field, {\n    period: 'month',\n    year\n  }, fieldHandlers);\n\n  if (options.fillGaps) {\n    const startDate = `${year}-01`;\n    const endDate = `${year}-12`;\n    return fillGaps(data, 'month', startDate, endDate);\n  }\n\n  return data;\n}\n\n/**\n * Get analytics for entire year, broken down by weeks\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {number} year - Year (e.g., 2025)\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Weekly analytics for the year (up to 53 weeks)\n */\nexport async function getYearByWeek(resourceName, field, year, options, fieldHandlers) {\n  const data = await getAnalytics(resourceName, field, {\n    period: 'week',\n    year\n  }, fieldHandlers);\n\n  // Week data doesn't need gap filling as much as daily/hourly\n  // But we can still provide it if requested\n  if (options.fillGaps) {\n    // ISO weeks: typically 52-53 weeks per year\n    const startWeek = `${year}-W01`;\n    const endWeek = `${year}-W53`;\n    return fillGaps(data, 'week', startWeek, endWeek);\n  }\n\n  return data;\n}\n\n/**\n * Get analytics for entire month, broken down by weeks\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {string} month - Month in YYYY-MM format\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Weekly analytics for the month\n */\nexport async function getMonthByWeek(resourceName, field, month, options, fieldHandlers) {\n  // month format: '2025-10'\n  const year = parseInt(month.substring(0, 4));\n  const monthNum = parseInt(month.substring(5, 7));\n\n  // Get first and last day of month\n  const firstDay = new Date(year, monthNum - 1, 1);\n  const lastDay = new Date(year, monthNum, 0);\n\n  // Find which weeks this month spans\n  const firstWeek = getCohortWeekFromDate(firstDay);\n  const lastWeek = getCohortWeekFromDate(lastDay);\n\n  const data = await getAnalytics(resourceName, field, {\n    period: 'week',\n    startDate: firstWeek,\n    endDate: lastWeek\n  }, fieldHandlers);\n\n  return data;\n}\n\n/**\n * Get analytics for entire month, broken down by hours\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {string} month - Month in YYYY-MM format (or 'last' for previous month)\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Hourly analytics for the month (up to 24*31=744 records)\n */\nexport async function getMonthByHour(resourceName, field, month, options, fieldHandlers) {\n  // month format: '2025-10' or 'last'\n  let year, monthNum;\n\n  if (month === 'last') {\n    const now = new Date();\n    now.setMonth(now.getMonth() - 1);\n    year = now.getFullYear();\n    monthNum = now.getMonth() + 1;\n  } else {\n    year = parseInt(month.substring(0, 4));\n    monthNum = parseInt(month.substring(5, 7));\n  }\n\n  // Get first and last day of month\n  const firstDay = new Date(year, monthNum - 1, 1);\n  const lastDay = new Date(year, monthNum, 0);\n\n  const startDate = firstDay.toISOString().substring(0, 10);\n  const endDate = lastDay.toISOString().substring(0, 10);\n\n  const data = await getAnalytics(resourceName, field, {\n    period: 'hour',\n    startDate,\n    endDate\n  }, fieldHandlers);\n\n  if (options.fillGaps) {\n    return fillGaps(data, 'hour', startDate, endDate);\n  }\n\n  return data;\n}\n\n/**\n * Get top records by volume\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {Object} options - Query options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Top records\n */\nexport async function getTopRecords(resourceName, field, options, fieldHandlers) {\n  // Get handler for this resource/field combination\n  const resourceHandlers = fieldHandlers.get(resourceName);\n  if (!resourceHandlers) {\n    throw new Error(`No eventual consistency configured for resource: ${resourceName}`);\n  }\n\n  const handler = resourceHandlers.get(field);\n  if (!handler) {\n    throw new Error(`No eventual consistency configured for field: ${resourceName}.${field}`);\n  }\n\n  if (!handler.transactionResource) {\n    throw new Error('Transaction resource not initialized');\n  }\n\n  const { period = 'day', date, metric = 'transactionCount', limit = 10 } = options;\n\n  // Get all transactions for the period\n  const [ok, err, transactions] = await tryFn(() =>\n    handler.transactionResource.list()\n  );\n\n  if (!ok || !transactions) {\n    return [];\n  }\n\n  // Filter by date\n  let filtered = transactions;\n  if (date) {\n    if (period === 'hour') {\n      filtered = transactions.filter(t => t.cohortHour && t.cohortHour.startsWith(date));\n    } else if (period === 'day') {\n      filtered = transactions.filter(t => t.cohortDate === date);\n    } else if (period === 'month') {\n      filtered = transactions.filter(t => t.cohortMonth && t.cohortMonth.startsWith(date));\n    }\n  }\n\n  // Group by originalId\n  const byRecord = {};\n  for (const txn of filtered) {\n    const recordId = txn.originalId;\n    if (!byRecord[recordId]) {\n      byRecord[recordId] = { count: 0, sum: 0 };\n    }\n    byRecord[recordId].count++;\n    byRecord[recordId].sum += txn.value;\n  }\n\n  // Convert to array and sort\n  const records = Object.entries(byRecord).map(([recordId, stats]) => ({\n    recordId,\n    count: stats.count,\n    sum: stats.sum\n  }));\n\n  // Sort by metric\n  records.sort((a, b) => {\n    if (metric === 'transactionCount') {\n      return b.count - a.count;\n    } else if (metric === 'totalValue') {\n      return b.sum - a.sum;\n    }\n    return 0;\n  });\n\n  // Limit results\n  return records.slice(0, limit);\n}\n\n/**\n * Get analytics for entire year, broken down by days\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {number} year - Year (e.g., 2025)\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Daily analytics for the year (up to 365/366 records)\n */\nexport async function getYearByDay(resourceName, field, year, options, fieldHandlers) {\n  const startDate = `${year}-01-01`;\n  const endDate = `${year}-12-31`;\n\n  const data = await getAnalytics(resourceName, field, {\n    period: 'day',\n    startDate,\n    endDate\n  }, fieldHandlers);\n\n  if (options.fillGaps) {\n    return fillGaps(data, 'day', startDate, endDate);\n  }\n\n  return data;\n}\n\n/**\n * Get analytics for entire week, broken down by days\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {string} week - Week in YYYY-Www format (e.g., '2025-W42')\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Daily analytics for the week (7 records)\n */\nexport async function getWeekByDay(resourceName, field, week, options, fieldHandlers) {\n  // week format: '2025-W42'\n  const year = parseInt(week.substring(0, 4));\n  const weekNum = parseInt(week.substring(6, 8));\n\n  // Calculate the first day of the week (Monday) using ISO 8601 - use UTC\n  const jan4 = new Date(Date.UTC(year, 0, 4));\n  const jan4Day = jan4.getUTCDay() || 7; // Sunday = 7\n  const firstMonday = new Date(Date.UTC(year, 0, 4 - jan4Day + 1));\n  const weekStart = new Date(firstMonday);\n  weekStart.setUTCDate(weekStart.getUTCDate() + (weekNum - 1) * 7);\n\n  // Get all 7 days of the week\n  const days = [];\n  for (let i = 0; i < 7; i++) {\n    const day = new Date(weekStart);\n    day.setUTCDate(weekStart.getUTCDate() + i);\n    days.push(day.toISOString().substring(0, 10));\n  }\n\n  const startDate = days[0];\n  const endDate = days[6];\n\n  const data = await getAnalytics(resourceName, field, {\n    period: 'day',\n    startDate,\n    endDate\n  }, fieldHandlers);\n\n  if (options.fillGaps) {\n    return fillGaps(data, 'day', startDate, endDate);\n  }\n\n  return data;\n}\n\n/**\n * Get analytics for entire week, broken down by hours\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {string} week - Week in YYYY-Www format (e.g., '2025-W42')\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Hourly analytics for the week (168 records)\n */\nexport async function getWeekByHour(resourceName, field, week, options, fieldHandlers) {\n  // week format: '2025-W42'\n  const year = parseInt(week.substring(0, 4));\n  const weekNum = parseInt(week.substring(6, 8));\n\n  // Calculate the first day of the week (Monday) using ISO 8601 - use UTC\n  const jan4 = new Date(Date.UTC(year, 0, 4));\n  const jan4Day = jan4.getUTCDay() || 7; // Sunday = 7\n  const firstMonday = new Date(Date.UTC(year, 0, 4 - jan4Day + 1));\n  const weekStart = new Date(firstMonday);\n  weekStart.setUTCDate(weekStart.getUTCDate() + (weekNum - 1) * 7);\n\n  // Get first and last day of week\n  const weekEnd = new Date(weekStart);\n  weekEnd.setUTCDate(weekEnd.getUTCDate() + 6);\n\n  const startDate = weekStart.toISOString().substring(0, 10);\n  const endDate = weekEnd.toISOString().substring(0, 10);\n\n  const data = await getAnalytics(resourceName, field, {\n    period: 'hour',\n    startDate,\n    endDate\n  }, fieldHandlers);\n\n  if (options.fillGaps) {\n    return fillGaps(data, 'hour', startDate, endDate);\n  }\n\n  return data;\n}\n\n/**\n * Get analytics for last N hours\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {number} hours - Number of hours to look back (default: 24)\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Hourly analytics\n */\nexport async function getLastNHours(resourceName, field, hours = 24, options, fieldHandlers) {\n  const now = new Date();\n  const hoursAgo = new Date(now);\n  hoursAgo.setHours(hoursAgo.getHours() - hours + 1); // +1 to include current hour\n\n  const startHour = hoursAgo.toISOString().substring(0, 13); // YYYY-MM-DDTHH\n  const endHour = now.toISOString().substring(0, 13);\n\n  // ✅ FIX BUG #1: Pass through recordId and other options\n  const data = await getAnalytics(resourceName, field, {\n    ...options,  // ✅ Include all options (recordId, etc.)\n    period: 'hour',\n    startDate: startHour,\n    endDate: endHour\n  }, fieldHandlers);\n\n  if (options.fillGaps) {\n    // For hour-level gaps, we need to manually generate the exact hours requested\n    const result = [];\n    const emptyRecord = { count: 0, sum: 0, avg: 0, min: 0, max: 0, recordCount: 0 };\n    const dataMap = new Map(data.map(d => [d.cohort, d]));\n\n    const current = new Date(hoursAgo);\n    for (let i = 0; i < hours; i++) {\n      const cohort = current.toISOString().substring(0, 13);\n      result.push(dataMap.get(cohort) || { cohort, ...emptyRecord });\n      current.setHours(current.getHours() + 1);\n    }\n\n    return result;\n  }\n\n  return data;\n}\n\n/**\n * Get analytics for last N weeks\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {number} weeks - Number of weeks to look back (default: 4)\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Weekly analytics\n */\nexport async function getLastNWeeks(resourceName, field, weeks = 4, options, fieldHandlers) {\n  const now = new Date();\n  const weeksAgo = new Date(now);\n  weeksAgo.setDate(weeksAgo.getDate() - (weeks * 7));\n\n  // Get week cohorts for the range\n  const weekCohorts = [];\n  const currentDate = new Date(weeksAgo);\n  while (currentDate <= now) {\n    const weekCohort = getCohortWeekFromDate(currentDate);\n    if (!weekCohorts.includes(weekCohort)) {\n      weekCohorts.push(weekCohort);\n    }\n    currentDate.setDate(currentDate.getDate() + 7);\n  }\n\n  const startWeek = weekCohorts[0];\n  const endWeek = weekCohorts[weekCohorts.length - 1];\n\n  const data = await getAnalytics(resourceName, field, {\n    period: 'week',\n    startDate: startWeek,\n    endDate: endWeek\n  }, fieldHandlers);\n\n  return data;\n}\n\n/**\n * Get analytics for last N months\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {number} months - Number of months to look back (default: 12)\n * @param {Object} options - Options\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Monthly analytics\n */\nexport async function getLastNMonths(resourceName, field, months = 12, options, fieldHandlers) {\n  const now = new Date();\n  const monthsAgo = new Date(now);\n  monthsAgo.setMonth(monthsAgo.getMonth() - months + 1); // +1 to include current month\n\n  const startDate = monthsAgo.toISOString().substring(0, 7); // YYYY-MM\n  const endDate = now.toISOString().substring(0, 7);\n\n  // ✅ FIX BUG #1: Pass through recordId and other options\n  const data = await getAnalytics(resourceName, field, {\n    ...options,  // ✅ Include all options (recordId, etc.)\n    period: 'month',\n    startDate,\n    endDate\n  }, fieldHandlers);\n\n  if (options.fillGaps) {\n    // Generate exact months requested\n    const result = [];\n    const emptyRecord = { count: 0, sum: 0, avg: 0, min: 0, max: 0, recordCount: 0 };\n    const dataMap = new Map(data.map(d => [d.cohort, d]));\n\n    const current = new Date(monthsAgo);\n    for (let i = 0; i < months; i++) {\n      const cohort = current.toISOString().substring(0, 7);\n      result.push(dataMap.get(cohort) || { cohort, ...emptyRecord });\n      current.setMonth(current.getMonth() + 1);\n    }\n\n    return result;\n  }\n\n  return data;\n}\n\n/**\n * Get raw transaction events for custom aggregation\n *\n * This method provides direct access to the underlying transaction events,\n * allowing developers to perform custom aggregations beyond the pre-built analytics.\n * Useful for complex queries, custom metrics, or when you need the raw event data.\n *\n * @param {string} resourceName - Resource name\n * @param {string} field - Field name\n * @param {Object} options - Query options\n * @param {string} options.recordId - Filter by specific record ID\n * @param {string} options.startDate - Start date filter (YYYY-MM-DD or YYYY-MM-DDTHH)\n * @param {string} options.endDate - End date filter (YYYY-MM-DD or YYYY-MM-DDTHH)\n * @param {string} options.cohortDate - Filter by cohort date (YYYY-MM-DD)\n * @param {string} options.cohortHour - Filter by cohort hour (YYYY-MM-DDTHH)\n * @param {string} options.cohortMonth - Filter by cohort month (YYYY-MM)\n * @param {boolean} options.applied - Filter by applied status (true/false/undefined for both)\n * @param {string} options.operation - Filter by operation type ('add', 'sub', 'set')\n * @param {number} options.limit - Maximum number of events to return\n * @param {Object} fieldHandlers - Field handlers map\n * @returns {Promise<Array>} Raw transaction events\n *\n * @example\n * // Get all events for a specific record\n * const events = await plugin.getRawEvents('wallets', 'balance', {\n *   recordId: 'wallet1'\n * });\n *\n * @example\n * // Get events for a specific time range\n * const events = await plugin.getRawEvents('wallets', 'balance', {\n *   startDate: '2025-10-01',\n *   endDate: '2025-10-31'\n * });\n *\n * @example\n * // Get only pending (unapplied) transactions\n * const pending = await plugin.getRawEvents('wallets', 'balance', {\n *   applied: false\n * });\n */\nexport async function getRawEvents(resourceName, field, options, fieldHandlers) {\n  // Get handler for this resource/field combination\n  const resourceHandlers = fieldHandlers.get(resourceName);\n  if (!resourceHandlers) {\n    throw new Error(`No eventual consistency configured for resource: ${resourceName}`);\n  }\n\n  const handler = resourceHandlers.get(field);\n  if (!handler) {\n    throw new Error(`No eventual consistency configured for field: ${resourceName}.${field}`);\n  }\n\n  if (!handler.transactionResource) {\n    throw new Error('Transaction resource not initialized');\n  }\n\n  const {\n    recordId,\n    startDate,\n    endDate,\n    cohortDate,\n    cohortHour,\n    cohortMonth,\n    applied,\n    operation,\n    limit\n  } = options;\n\n  // Build query object for partition-based filtering\n  const query = {};\n\n  // Filter by recordId (uses partition if available)\n  if (recordId !== undefined) {\n    query.originalId = recordId;\n  }\n\n  // Filter by applied status (uses partition)\n  if (applied !== undefined) {\n    query.applied = applied;\n  }\n\n  // Fetch transactions using partition-aware query\n  const [ok, err, allTransactions] = await tryFn(() =>\n    handler.transactionResource.query(query)\n  );\n\n  if (!ok || !allTransactions) {\n    return [];\n  }\n\n  // Ensure all transactions have cohort fields\n  let filtered = allTransactions;\n\n  // Filter by operation type\n  if (operation !== undefined) {\n    filtered = filtered.filter(t => t.operation === operation);\n  }\n\n  // Filter by temporal fields (these are in-memory filters after partition query)\n  if (cohortDate) {\n    filtered = filtered.filter(t => t.cohortDate === cohortDate);\n  }\n\n  if (cohortHour) {\n    filtered = filtered.filter(t => t.cohortHour === cohortHour);\n  }\n\n  if (cohortMonth) {\n    filtered = filtered.filter(t => t.cohortMonth === cohortMonth);\n  }\n\n  if (startDate && endDate) {\n    // Determine which cohort field to use based on format\n    const isHourly = startDate.length > 10; // YYYY-MM-DDTHH vs YYYY-MM-DD\n    const cohortField = isHourly ? 'cohortHour' : 'cohortDate';\n\n    filtered = filtered.filter(t =>\n      t[cohortField] && t[cohortField] >= startDate && t[cohortField] <= endDate\n    );\n  } else if (startDate) {\n    const isHourly = startDate.length > 10;\n    const cohortField = isHourly ? 'cohortHour' : 'cohortDate';\n    filtered = filtered.filter(t => t[cohortField] && t[cohortField] >= startDate);\n  } else if (endDate) {\n    const isHourly = endDate.length > 10;\n    const cohortField = isHourly ? 'cohortHour' : 'cohortDate';\n    filtered = filtered.filter(t => t[cohortField] && t[cohortField] <= endDate);\n  }\n\n  // Sort by timestamp (newest first by default)\n  filtered.sort((a, b) => {\n    const aTime = new Date(a.timestamp || a.createdAt).getTime();\n    const bTime = new Date(b.timestamp || b.createdAt).getTime();\n    return bTime - aTime;\n  });\n\n  // Apply limit\n  if (limit && limit > 0) {\n    filtered = filtered.slice(0, limit);\n  }\n\n  return filtered;\n}\n","/**\n * Helper methods added to resources for EventualConsistencyPlugin\n * @module eventual-consistency/helpers\n */\n\nimport { idGenerator } from \"../../concerns/id.js\";\nimport tryFn from \"../../concerns/try-fn.js\";\nimport { getCohortInfo, resolveFieldAndPlugin } from \"./utils.js\";\n\n/**\n * Add helper methods to resources\n * This adds: set(), add(), sub(), increment(), decrement(), consolidate(), getConsolidatedValue(), recalculate()\n *\n * @param {Object} resource - Resource to add methods to\n * @param {Object} plugin - Plugin instance\n * @param {Object} config - Plugin configuration\n */\nexport function addHelperMethods(resource, plugin, config) {\n  // Add method to set value (replaces current value)\n  // Signature: set(id, field, value)\n  // Supports dot notation: set(id, 'utmResults.medium', 10)\n  resource.set = async (id, field, value) => {\n    const { field: rootField, fieldPath, plugin: handler } = resolveFieldAndPlugin(resource, field, value);\n\n    // Create transaction inline\n    const now = new Date();\n    const cohortInfo = getCohortInfo(now, config.cohort.timezone, config.verbose);\n\n    const transaction = {\n      id: idGenerator(),\n      originalId: id,\n      field: handler.field,\n      fieldPath: fieldPath,  // Store full path for nested access\n      value: value,\n      operation: 'set',\n      timestamp: now.toISOString(),\n      cohortDate: cohortInfo.date,\n      cohortHour: cohortInfo.hour,\n      cohortMonth: cohortInfo.month,\n      source: 'set',\n      applied: false\n    };\n\n    await handler.transactionResource.insert(transaction);\n\n    // In sync mode, immediately consolidate\n    if (config.mode === 'sync') {\n      return await plugin._syncModeConsolidate(handler, id, fieldPath);\n    }\n\n    return value;\n  };\n\n  // Add method to increment value\n  // Signature: add(id, field, amount)\n  // Supports dot notation: add(id, 'utmResults.medium', 5)\n  resource.add = async (id, field, amount) => {\n    const { field: rootField, fieldPath, plugin: handler } = resolveFieldAndPlugin(resource, field, amount);\n\n    // Create transaction inline\n    const now = new Date();\n    const cohortInfo = getCohortInfo(now, config.cohort.timezone, config.verbose);\n\n    const transaction = {\n      id: idGenerator(),\n      originalId: id,\n      field: handler.field,\n      fieldPath: fieldPath,  // Store full path for nested access\n      value: amount,\n      operation: 'add',\n      timestamp: now.toISOString(),\n      cohortDate: cohortInfo.date,\n      cohortHour: cohortInfo.hour,\n      cohortMonth: cohortInfo.month,\n      source: 'add',\n      applied: false\n    };\n\n    await handler.transactionResource.insert(transaction);\n\n    // In sync mode, immediately consolidate\n    if (config.mode === 'sync') {\n      return await plugin._syncModeConsolidate(handler, id, fieldPath);\n    }\n\n    // Async mode - return current value (optimistic)\n    // Note: For nested paths, we need to use lodash get\n    const [ok, err, record] = await tryFn(() => handler.targetResource.get(id));\n    if (!ok || !record) return amount;\n\n    // Get current value from nested path\n    const lodash = await import('lodash-es');\n    const currentValue = lodash.get(record, fieldPath, 0);\n    return currentValue + amount;\n  };\n\n  // Add method to decrement value\n  // Signature: sub(id, field, amount)\n  // Supports dot notation: sub(id, 'utmResults.medium', 3)\n  resource.sub = async (id, field, amount) => {\n    const { field: rootField, fieldPath, plugin: handler } = resolveFieldAndPlugin(resource, field, amount);\n\n    // Create transaction inline\n    const now = new Date();\n    const cohortInfo = getCohortInfo(now, config.cohort.timezone, config.verbose);\n\n    const transaction = {\n      id: idGenerator(),\n      originalId: id,\n      field: handler.field,\n      fieldPath: fieldPath,  // Store full path for nested access\n      value: amount,\n      operation: 'sub',\n      timestamp: now.toISOString(),\n      cohortDate: cohortInfo.date,\n      cohortHour: cohortInfo.hour,\n      cohortMonth: cohortInfo.month,\n      source: 'sub',\n      applied: false\n    };\n\n    await handler.transactionResource.insert(transaction);\n\n    // In sync mode, immediately consolidate\n    if (config.mode === 'sync') {\n      return await plugin._syncModeConsolidate(handler, id, fieldPath);\n    }\n\n    // Async mode - return current value (optimistic)\n    // Note: For nested paths, we need to use lodash get\n    const [ok, err, record] = await tryFn(() => handler.targetResource.get(id));\n    if (!ok || !record) return -amount;\n\n    // Get current value from nested path\n    const lodash = await import('lodash-es');\n    const currentValue = lodash.get(record, fieldPath, 0);\n    return currentValue - amount;\n  };\n\n  // Add method to increment value by 1 (shorthand for add(id, field, 1))\n  // Signature: increment(id, field)\n  // Supports dot notation: increment(id, 'loginCount')\n  resource.increment = async (id, field) => {\n    return await resource.add(id, field, 1);\n  };\n\n  // Add method to decrement value by 1 (shorthand for sub(id, field, 1))\n  // Signature: decrement(id, field)\n  // Supports dot notation: decrement(id, 'remainingAttempts')\n  resource.decrement = async (id, field) => {\n    return await resource.sub(id, field, 1);\n  };\n\n  // Add method to manually trigger consolidation\n  // Signature: consolidate(id, field)\n  resource.consolidate = async (id, field) => {\n    if (!field) {\n      throw new Error(`Field parameter is required: consolidate(id, field)`);\n    }\n\n    const handler = resource._eventualConsistencyPlugins[field];\n\n    if (!handler) {\n      const availableFields = Object.keys(resource._eventualConsistencyPlugins).join(', ');\n      throw new Error(\n        `No eventual consistency plugin found for field \"${field}\". ` +\n        `Available fields: ${availableFields}`\n      );\n    }\n\n    return await plugin._consolidateWithHandler(handler, id);\n  };\n\n  // Add method to get consolidated value without applying\n  // Signature: getConsolidatedValue(id, field, options)\n  resource.getConsolidatedValue = async (id, field, options = {}) => {\n    const handler = resource._eventualConsistencyPlugins[field];\n\n    if (!handler) {\n      const availableFields = Object.keys(resource._eventualConsistencyPlugins).join(', ');\n      throw new Error(\n        `No eventual consistency plugin found for field \"${field}\". ` +\n        `Available fields: ${availableFields}`\n      );\n    }\n\n    return await plugin._getConsolidatedValueWithHandler(handler, id, options);\n  };\n\n  // Add method to recalculate from scratch\n  // Signature: recalculate(id, field)\n  resource.recalculate = async (id, field) => {\n    if (!field) {\n      throw new Error(`Field parameter is required: recalculate(id, field)`);\n    }\n\n    const handler = resource._eventualConsistencyPlugins[field];\n\n    if (!handler) {\n      const availableFields = Object.keys(resource._eventualConsistencyPlugins).join(', ');\n      throw new Error(\n        `No eventual consistency plugin found for field \"${field}\". ` +\n        `Available fields: ${availableFields}`\n      );\n    }\n\n    return await plugin._recalculateWithHandler(handler, id);\n  };\n}\n","/**\n * Install logic for EventualConsistencyPlugin\n * @module eventual-consistency/install\n */\n\nimport tryFn from \"../../concerns/try-fn.js\";\nimport { createPartitionConfig } from \"./partitions.js\";\nimport { addHelperMethods } from \"./helpers.js\";\nimport { flushPendingTransactions } from \"./transactions.js\";\nimport { startConsolidationTimer } from \"./consolidation.js\";\nimport { startGarbageCollectionTimer } from \"./garbage-collection.js\";\n\n/**\n * Install plugin for all configured resources\n *\n * @param {Object} database - Database instance\n * @param {Map} fieldHandlers - Field handlers map\n * @param {Function} completeFieldSetupFn - Function to complete field setup for a field\n * @param {Function} watchForResourceFn - Function to watch for resource creation\n */\nexport async function onInstall(database, fieldHandlers, completeFieldSetupFn, watchForResourceFn) {\n  // Iterate over all resource/field combinations\n  for (const [resourceName, resourceHandlers] of fieldHandlers) {\n    const targetResource = database.resources[resourceName];\n\n    if (!targetResource) {\n      // Resource doesn't exist yet - mark for deferred setup\n      for (const handler of resourceHandlers.values()) {\n        handler.deferredSetup = true;\n      }\n      // Watch for this resource to be created\n      watchForResourceFn(resourceName);\n      continue;\n    }\n\n    // Resource exists - setup all fields for this resource\n    for (const [fieldName, handler] of resourceHandlers) {\n      handler.targetResource = targetResource;\n      await completeFieldSetupFn(handler);\n    }\n  }\n}\n\n/**\n * Watch for a specific resource creation\n *\n * @param {string} resourceName - Resource name to watch for\n * @param {Object} database - Database instance\n * @param {Map} fieldHandlers - Field handlers map\n * @param {Function} completeFieldSetupFn - Function to complete setup for a field\n */\nexport function watchForResource(resourceName, database, fieldHandlers, completeFieldSetupFn) {\n  const hookCallback = async ({ resource, config }) => {\n    if (config.name === resourceName) {\n      const resourceHandlers = fieldHandlers.get(resourceName);\n      if (!resourceHandlers) return;\n\n      // Setup all fields for this resource\n      for (const [fieldName, handler] of resourceHandlers) {\n        if (handler.deferredSetup) {\n          handler.targetResource = resource;\n          handler.deferredSetup = false;\n          await completeFieldSetupFn(handler);\n        }\n      }\n    }\n  };\n\n  database.addHook('afterCreateResource', hookCallback);\n}\n\n/**\n * Complete field setup for a single field handler\n *\n * @param {Object} handler - Field handler\n * @param {Object} database - Database instance\n * @param {Object} config - Plugin configuration\n * @param {Object} plugin - Plugin instance (for adding helper methods)\n * @returns {Promise<void>}\n */\nexport async function completeFieldSetup(handler, database, config, plugin) {\n  if (!handler.targetResource) return;\n\n  const resourceName = handler.resource;\n  const fieldName = handler.field;\n\n  // Create transaction resource with partitions (plg_ prefix for plugin resources)\n  const transactionResourceName = `plg_${resourceName}_tx_${fieldName}`;\n  const partitionConfig = createPartitionConfig();\n\n  const [ok, err, transactionResource] = await tryFn(() =>\n    database.createResource({\n      name: transactionResourceName,\n      attributes: {\n        id: 'string|required',\n        originalId: 'string|required',\n        field: 'string|required',\n        fieldPath: 'string|optional',  // Support for nested field paths (e.g., 'utmResults.medium')\n        value: 'number|required',\n        operation: 'string|required',\n        timestamp: 'string|required',\n        cohortDate: 'string|required',\n        cohortHour: 'string|required',\n        cohortWeek: 'string|optional',\n        cohortMonth: 'string|optional',\n        source: 'string|optional',\n        applied: 'boolean|optional'\n      },\n      behavior: 'body-overflow',\n      timestamps: true,\n      partitions: partitionConfig,\n      asyncPartitions: true,\n      createdBy: 'EventualConsistencyPlugin'\n    })\n  );\n\n  if (!ok && !database.resources[transactionResourceName]) {\n    throw new Error(`Failed to create transaction resource for ${resourceName}.${fieldName}: ${err?.message}`);\n  }\n\n  handler.transactionResource = ok ? transactionResource : database.resources[transactionResourceName];\n\n  // Locks are now managed by PluginStorage with TTL - no Resource needed\n  // Lock acquisition is handled via storage.acquireLock() with automatic expiration\n\n  // Create analytics resource if enabled\n  if (config.enableAnalytics) {\n    await createAnalyticsResource(handler, database, resourceName, fieldName);\n  }\n\n  // Add helper methods to the target resource\n  addHelperMethodsForHandler(handler, plugin, config);\n\n  if (config.verbose) {\n    console.log(\n      `[EventualConsistency] ${resourceName}.${fieldName} - ` +\n      `Setup complete. Resources: ${transactionResourceName}` +\n      `${config.enableAnalytics ? `, plg_${resourceName}_an_${fieldName}` : ''}` +\n      ` (locks via PluginStorage TTL)`\n    );\n  }\n}\n\n/**\n * Create analytics resource for a field handler\n *\n * @param {Object} handler - Field handler\n * @param {Object} database - Database instance\n * @param {string} resourceName - Resource name\n * @param {string} fieldName - Field name\n * @returns {Promise<void>}\n */\nasync function createAnalyticsResource(handler, database, resourceName, fieldName) {\n  const analyticsResourceName = `plg_${resourceName}_an_${fieldName}`;\n\n  const [ok, err, analyticsResource] = await tryFn(() =>\n    database.createResource({\n      name: analyticsResourceName,\n      attributes: {\n        id: 'string|required',\n        field: 'string|required',\n        period: 'string|required',\n        cohort: 'string|required',\n        transactionCount: 'number|required',\n        totalValue: 'number|required',\n        avgValue: 'number|required',\n        minValue: 'number|required',\n        maxValue: 'number|required',\n        operations: 'object|optional',\n        recordCount: 'number|required',\n        consolidatedAt: 'string|required',\n        updatedAt: 'string|required'\n      },\n      behavior: 'body-overflow',\n      timestamps: false,\n      asyncPartitions: true,\n      // ✅ Multi-attribute partitions for optimal analytics query performance\n      partitions: {\n        // Query by period (hour/day/week/month)\n        byPeriod: {\n          fields: { period: 'string' }\n        },\n        // Query by period + cohort (e.g., all hour records for specific hours)\n        byPeriodCohort: {\n          fields: {\n            period: 'string',\n            cohort: 'string'\n          }\n        },\n        // Query by field + period (e.g., all daily analytics for clicks field)\n        byFieldPeriod: {\n          fields: {\n            field: 'string',\n            period: 'string'\n          }\n        }\n      },\n      createdBy: 'EventualConsistencyPlugin'\n    })\n  );\n\n  if (!ok && !database.resources[analyticsResourceName]) {\n    throw new Error(`Failed to create analytics resource for ${resourceName}.${fieldName}: ${err?.message}`);\n  }\n\n  handler.analyticsResource = ok ? analyticsResource : database.resources[analyticsResourceName];\n}\n\n/**\n * Add helper methods to the target resource for a field handler\n *\n * @param {Object} handler - Field handler\n * @param {Object} plugin - Plugin instance\n * @param {Object} config - Plugin configuration\n */\nfunction addHelperMethodsForHandler(handler, plugin, config) {\n  const resource = handler.targetResource;\n  const fieldName = handler.field;\n\n  // Store handler reference on the resource for later access\n  if (!resource._eventualConsistencyPlugins) {\n    resource._eventualConsistencyPlugins = {};\n  }\n  resource._eventualConsistencyPlugins[fieldName] = handler;\n\n  // Add helper methods if not already added\n  if (!resource.add) {\n    addHelperMethods(resource, plugin, config);\n  }\n}\n\n/**\n * Start timers and emit events for all field handlers\n *\n * @param {Map} fieldHandlers - Field handlers map\n * @param {Object} config - Plugin configuration\n * @param {Function} runConsolidationFn - Function to run consolidation for a handler\n * @param {Function} runGCFn - Function to run GC for a handler\n * @param {Function} emitFn - Function to emit events\n * @returns {Promise<void>}\n */\nexport async function onStart(fieldHandlers, config, runConsolidationFn, runGCFn, emitFn) {\n  // Start timers and emit events for all field handlers\n  for (const [resourceName, resourceHandlers] of fieldHandlers) {\n    for (const [fieldName, handler] of resourceHandlers) {\n      if (!handler.deferredSetup) {\n        // Start auto-consolidation timer if enabled\n        if (config.autoConsolidate && config.mode === 'async') {\n          startConsolidationTimer(handler, resourceName, fieldName, runConsolidationFn, config);\n        }\n\n        // Start garbage collection timer\n        if (config.transactionRetention && config.transactionRetention > 0) {\n          startGarbageCollectionTimer(handler, resourceName, fieldName, runGCFn, config);\n        }\n\n        if (emitFn) {\n          emitFn('eventual-consistency.started', {\n            resource: resourceName,\n            field: fieldName,\n            cohort: config.cohort\n          });\n        }\n      }\n    }\n  }\n}\n\n/**\n * Stop all timers and flush pending transactions\n *\n * @param {Map} fieldHandlers - Field handlers map\n * @param {Function} emitFn - Function to emit events\n * @returns {Promise<void>}\n */\nexport async function onStop(fieldHandlers, emitFn) {\n  // Stop all timers for all handlers\n  for (const [resourceName, resourceHandlers] of fieldHandlers) {\n    for (const [fieldName, handler] of resourceHandlers) {\n      // Stop consolidation timer\n      if (handler.consolidationTimer) {\n        clearInterval(handler.consolidationTimer);\n        handler.consolidationTimer = null;\n      }\n\n      // Stop garbage collection timer\n      if (handler.gcTimer) {\n        clearInterval(handler.gcTimer);\n        handler.gcTimer = null;\n      }\n\n      // Flush pending transactions\n      if (handler.pendingTransactions && handler.pendingTransactions.size > 0) {\n        await flushPendingTransactions(handler);\n      }\n\n      if (emitFn) {\n        emitFn('eventual-consistency.stopped', {\n          resource: resourceName,\n          field: fieldName\n        });\n      }\n    }\n  }\n}\n","/**\n * EventualConsistencyPlugin - Main export\n * Provides eventually consistent counters using transaction log pattern\n * @module eventual-consistency\n */\n\nimport Plugin from \"../plugin.class.js\";\nimport { createConfig, validateResourcesConfig, logConfigWarnings, logInitialization } from \"./config.js\";\nimport { detectTimezone, getCohortInfo, createFieldHandler } from \"./utils.js\";\nimport { createPartitionConfig } from \"./partitions.js\";\nimport { createTransaction } from \"./transactions.js\";\nimport {\n  consolidateRecord,\n  getConsolidatedValue,\n  getCohortStats,\n  recalculateRecord,\n  runConsolidation\n} from \"./consolidation.js\";\nimport { runGarbageCollection } from \"./garbage-collection.js\";\nimport { updateAnalytics, getAnalytics, getMonthByDay, getDayByHour, getLastNDays, getYearByMonth, getYearByWeek, getMonthByWeek, getMonthByHour, getTopRecords, getYearByDay, getWeekByDay, getWeekByHour, getLastNHours, getLastNWeeks, getLastNMonths, getRawEvents } from \"./analytics.js\";\nimport { onInstall, onStart, onStop, watchForResource, completeFieldSetup } from \"./install.js\";\n\nexport class EventualConsistencyPlugin extends Plugin {\n  constructor(options = {}) {\n    super(options);\n\n    // Validate resources structure\n    validateResourcesConfig(options.resources);\n\n    // Auto-detect timezone\n    const detectedTimezone = detectTimezone();\n    const timezoneAutoDetected = !options.cohort?.timezone;\n\n    // Create shared configuration\n    this.config = createConfig(options, detectedTimezone);\n\n    // Create field handlers map\n    this.fieldHandlers = new Map(); // Map<resourceName, Map<fieldName, handler>>\n\n    // Parse resources configuration\n    for (const [resourceName, fields] of Object.entries(options.resources)) {\n      const resourceHandlers = new Map();\n      for (const fieldName of fields) {\n        // Create a field handler for each resource/field combination\n        resourceHandlers.set(fieldName, createFieldHandler(resourceName, fieldName));\n      }\n      this.fieldHandlers.set(resourceName, resourceHandlers);\n    }\n\n    // Log warnings and initialization\n    logConfigWarnings(this.config);\n    logInitialization(this.config, this.fieldHandlers, timezoneAutoDetected);\n  }\n\n  /**\n   * Install hook - create resources and register helpers\n   */\n  async onInstall() {\n    await onInstall(\n      this.database,\n      this.fieldHandlers,\n      (handler) => completeFieldSetup(handler, this.database, this.config, this),\n      (resourceName) => watchForResource(resourceName, this.database, this.fieldHandlers,\n        (handler) => completeFieldSetup(handler, this.database, this.config, this))\n    );\n  }\n\n  /**\n   * Start hook - begin timers and emit events\n   */\n  async onStart() {\n    await onStart(\n      this.fieldHandlers,\n      this.config,\n      (handler, resourceName, fieldName) => this._runConsolidationForHandler(handler, resourceName, fieldName),\n      (handler, resourceName, fieldName) => this._runGarbageCollectionForHandler(handler, resourceName, fieldName),\n      (event, data) => this.emit(event, data)\n    );\n  }\n\n  /**\n   * Stop hook - stop timers and flush pending\n   */\n  async onStop() {\n    await onStop(\n      this.fieldHandlers,\n      (event, data) => this.emit(event, data)\n    );\n  }\n\n  /**\n   * Create partition configuration\n   * @returns {Object} Partition configuration\n   */\n  createPartitionConfig() {\n    return createPartitionConfig();\n  }\n\n  /**\n   * Get cohort information for a date\n   * @param {Date} date - Date to get cohort info for\n   * @returns {Object} Cohort information\n   */\n  getCohortInfo(date) {\n    return getCohortInfo(date, this.config.cohort.timezone, this.config.verbose);\n  }\n\n  /**\n   * Create a transaction for a field handler\n   * @param {Object} handler - Field handler\n   * @param {Object} data - Transaction data\n   * @returns {Promise<Object|null>} Created transaction\n   */\n  async createTransaction(handler, data) {\n    return await createTransaction(handler, data, this.config);\n  }\n\n  /**\n   * Consolidate a single record (internal method)\n   * This is used internally by consolidation timers and helper methods\n   * @private\n   */\n  async consolidateRecord(originalId) {\n    return await consolidateRecord(\n      originalId,\n      this.transactionResource,\n      this.targetResource,\n      this.getStorage(),\n      this.analyticsResource,\n      (transactions) => this.updateAnalytics(transactions),\n      this.config\n    );\n  }\n\n  /**\n   * Get consolidated value without applying (internal method)\n   * @private\n   */\n  async getConsolidatedValue(originalId, options = {}) {\n    return await getConsolidatedValue(\n      originalId,\n      options,\n      this.transactionResource,\n      this.targetResource,\n      this.config\n    );\n  }\n\n  /**\n   * Get cohort statistics\n   * @param {string} cohortDate - Cohort date\n   * @returns {Promise<Object|null>} Cohort statistics\n   */\n  async getCohortStats(cohortDate) {\n    return await getCohortStats(cohortDate, this.transactionResource);\n  }\n\n  /**\n   * Recalculate from scratch (internal method)\n   * @private\n   */\n  async recalculateRecord(originalId) {\n    return await recalculateRecord(\n      originalId,\n      this.transactionResource,\n      this.targetResource,\n      this.getStorage(),\n      (id) => this.consolidateRecord(id),\n      this.config\n    );\n  }\n\n  /**\n   * Update analytics\n   * @private\n   */\n  async updateAnalytics(transactions) {\n    return await updateAnalytics(transactions, this.analyticsResource, this.config);\n  }\n\n  /**\n   * Helper method for sync mode consolidation\n   * @private\n   */\n  async _syncModeConsolidate(handler, id, field) {\n    const oldResource = this.config.resource;\n    const oldField = this.config.field;\n    const oldTransactionResource = this.transactionResource;\n    const oldTargetResource = this.targetResource;\n    const oldAnalyticsResource = this.analyticsResource;\n\n    this.config.resource = handler.resource;\n    this.config.field = handler.field;\n    this.transactionResource = handler.transactionResource;\n    this.targetResource = handler.targetResource;\n    this.analyticsResource = handler.analyticsResource;\n\n    const result = await this.consolidateRecord(id);\n\n    // Restore\n    this.config.resource = oldResource;\n    this.config.field = oldField;\n    this.transactionResource = oldTransactionResource;\n    this.targetResource = oldTargetResource;\n    this.analyticsResource = oldAnalyticsResource;\n\n    return result;\n  }\n\n  /**\n   * Helper method for consolidate with handler\n   * @private\n   */\n  async _consolidateWithHandler(handler, id) {\n    const oldResource = this.config.resource;\n    const oldField = this.config.field;\n    const oldTransactionResource = this.transactionResource;\n    const oldTargetResource = this.targetResource;\n    const oldAnalyticsResource = this.analyticsResource;\n\n    this.config.resource = handler.resource;\n    this.config.field = handler.field;\n    this.transactionResource = handler.transactionResource;\n    this.targetResource = handler.targetResource;\n    this.analyticsResource = handler.analyticsResource;\n\n    const result = await this.consolidateRecord(id);\n\n    this.config.resource = oldResource;\n    this.config.field = oldField;\n    this.transactionResource = oldTransactionResource;\n    this.targetResource = oldTargetResource;\n    this.analyticsResource = oldAnalyticsResource;\n\n    return result;\n  }\n\n  /**\n   * Helper method for getConsolidatedValue with handler\n   * @private\n   */\n  async _getConsolidatedValueWithHandler(handler, id, options) {\n    const oldResource = this.config.resource;\n    const oldField = this.config.field;\n    const oldTransactionResource = this.transactionResource;\n    const oldTargetResource = this.targetResource;\n\n    this.config.resource = handler.resource;\n    this.config.field = handler.field;\n    this.transactionResource = handler.transactionResource;\n    this.targetResource = handler.targetResource;\n\n    const result = await this.getConsolidatedValue(id, options);\n\n    this.config.resource = oldResource;\n    this.config.field = oldField;\n    this.transactionResource = oldTransactionResource;\n    this.targetResource = oldTargetResource;\n\n    return result;\n  }\n\n  /**\n   * Helper method for recalculate with handler\n   * @private\n   */\n  async _recalculateWithHandler(handler, id) {\n    const oldResource = this.config.resource;\n    const oldField = this.config.field;\n    const oldTransactionResource = this.transactionResource;\n    const oldTargetResource = this.targetResource;\n    const oldAnalyticsResource = this.analyticsResource;\n\n    this.config.resource = handler.resource;\n    this.config.field = handler.field;\n    this.transactionResource = handler.transactionResource;\n    this.targetResource = handler.targetResource;\n    this.analyticsResource = handler.analyticsResource;\n\n    const result = await this.recalculateRecord(id);\n\n    this.config.resource = oldResource;\n    this.config.field = oldField;\n    this.transactionResource = oldTransactionResource;\n    this.targetResource = oldTargetResource;\n    this.analyticsResource = oldAnalyticsResource;\n\n    return result;\n  }\n\n  /**\n   * Run consolidation for a handler\n   * @private\n   */\n  async _runConsolidationForHandler(handler, resourceName, fieldName) {\n    const oldResource = this.config.resource;\n    const oldField = this.config.field;\n    const oldTransactionResource = this.transactionResource;\n    const oldTargetResource = this.targetResource;\n    const oldAnalyticsResource = this.analyticsResource;\n\n    this.config.resource = resourceName;\n    this.config.field = fieldName;\n    this.transactionResource = handler.transactionResource;\n    this.targetResource = handler.targetResource;\n    this.analyticsResource = handler.analyticsResource;\n\n    try {\n      await runConsolidation(\n        this.transactionResource,\n        (id) => this.consolidateRecord(id),\n        (event, data) => this.emit(event, data),\n        this.config\n      );\n    } finally {\n      this.config.resource = oldResource;\n      this.config.field = oldField;\n      this.transactionResource = oldTransactionResource;\n      this.targetResource = oldTargetResource;\n      this.analyticsResource = oldAnalyticsResource;\n    }\n  }\n\n  /**\n   * Run garbage collection for a handler\n   * @private\n   */\n  async _runGarbageCollectionForHandler(handler, resourceName, fieldName) {\n    const oldResource = this.config.resource;\n    const oldField = this.config.field;\n    const oldTransactionResource = this.transactionResource;\n    const oldTargetResource = this.targetResource;\n\n    this.config.resource = resourceName;\n    this.config.field = fieldName;\n    this.transactionResource = handler.transactionResource;\n    this.targetResource = handler.targetResource;\n\n    try {\n      await runGarbageCollection(\n        this.transactionResource,\n        this.getStorage(),\n        this.config,\n        (event, data) => this.emit(event, data)\n      );\n    } finally {\n      this.config.resource = oldResource;\n      this.config.field = oldField;\n      this.transactionResource = oldTransactionResource;\n      this.targetResource = oldTargetResource;\n    }\n  }\n\n  // Public Analytics API\n\n  /**\n   * Get analytics for a specific period\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {Object} options - Query options\n   * @returns {Promise<Array>} Analytics data\n   */\n  async getAnalytics(resourceName, field, options = {}) {\n    return await getAnalytics(resourceName, field, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for entire month, broken down by days\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {string} month - Month in YYYY-MM format\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Daily analytics for the month\n   */\n  async getMonthByDay(resourceName, field, month, options = {}) {\n    return await getMonthByDay(resourceName, field, month, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for entire day, broken down by hours\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {string} date - Date in YYYY-MM-DD format\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Hourly analytics for the day\n   */\n  async getDayByHour(resourceName, field, date, options = {}) {\n    return await getDayByHour(resourceName, field, date, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for last N days, broken down by days\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {number} days - Number of days to look back (default: 7)\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Daily analytics\n   */\n  async getLastNDays(resourceName, field, days = 7, options = {}) {\n    return await getLastNDays(resourceName, field, days, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for entire year, broken down by months\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {number} year - Year (e.g., 2025)\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Monthly analytics for the year\n   */\n  async getYearByMonth(resourceName, field, year, options = {}) {\n    return await getYearByMonth(resourceName, field, year, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for entire month, broken down by hours\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {string} month - Month in YYYY-MM format (or 'last' for previous month)\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Hourly analytics for the month\n   */\n  async getMonthByHour(resourceName, field, month, options = {}) {\n    return await getMonthByHour(resourceName, field, month, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for entire year, broken down by weeks\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {number} year - Year (e.g., 2025)\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Weekly analytics for the year (up to 53 weeks)\n   */\n  async getYearByWeek(resourceName, field, year, options = {}) {\n    return await getYearByWeek(resourceName, field, year, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for entire month, broken down by weeks\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {string} month - Month in YYYY-MM format\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Weekly analytics for the month\n   */\n  async getMonthByWeek(resourceName, field, month, options = {}) {\n    return await getMonthByWeek(resourceName, field, month, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get top records by volume\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {Object} options - Query options\n   * @returns {Promise<Array>} Top records\n   */\n  async getTopRecords(resourceName, field, options = {}) {\n    return await getTopRecords(resourceName, field, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for entire year, broken down by days\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {number} year - Year (e.g., 2025)\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Daily analytics for the year (up to 365/366 records)\n   */\n  async getYearByDay(resourceName, field, year, options = {}) {\n    return await getYearByDay(resourceName, field, year, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for entire week, broken down by days\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {string} week - Week in YYYY-Www format (e.g., '2025-W42')\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Daily analytics for the week (7 records)\n   */\n  async getWeekByDay(resourceName, field, week, options = {}) {\n    return await getWeekByDay(resourceName, field, week, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for entire week, broken down by hours\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {string} week - Week in YYYY-Www format (e.g., '2025-W42')\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Hourly analytics for the week (168 records)\n   */\n  async getWeekByHour(resourceName, field, week, options = {}) {\n    return await getWeekByHour(resourceName, field, week, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for last N hours\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {number} hours - Number of hours to look back (default: 24)\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Hourly analytics\n   */\n  async getLastNHours(resourceName, field, hours = 24, options = {}) {\n    return await getLastNHours(resourceName, field, hours, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for last N weeks\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {number} weeks - Number of weeks to look back (default: 4)\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Weekly analytics\n   */\n  async getLastNWeeks(resourceName, field, weeks = 4, options = {}) {\n    return await getLastNWeeks(resourceName, field, weeks, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get analytics for last N months\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {number} months - Number of months to look back (default: 12)\n   * @param {Object} options - Options\n   * @returns {Promise<Array>} Monthly analytics\n   */\n  async getLastNMonths(resourceName, field, months = 12, options = {}) {\n    return await getLastNMonths(resourceName, field, months, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get raw transaction events for custom aggregation\n   *\n   * This method provides direct access to the underlying transaction events,\n   * allowing developers to perform custom aggregations beyond the pre-built analytics.\n   * Useful for complex queries, custom metrics, or when you need the raw event data.\n   *\n   * @param {string} resourceName - Resource name\n   * @param {string} field - Field name\n   * @param {Object} options - Query options\n   * @param {string} options.recordId - Filter by specific record ID\n   * @param {string} options.startDate - Start date filter (YYYY-MM-DD or YYYY-MM-DDTHH)\n   * @param {string} options.endDate - End date filter (YYYY-MM-DD or YYYY-MM-DDTHH)\n   * @param {string} options.cohortDate - Filter by cohort date (YYYY-MM-DD)\n   * @param {string} options.cohortHour - Filter by cohort hour (YYYY-MM-DDTHH)\n   * @param {string} options.cohortMonth - Filter by cohort month (YYYY-MM)\n   * @param {boolean} options.applied - Filter by applied status (true/false/undefined for both)\n   * @param {string} options.operation - Filter by operation type ('add', 'sub', 'set')\n   * @param {number} options.limit - Maximum number of events to return\n   * @returns {Promise<Array>} Raw transaction events\n   *\n   * @example\n   * // Get all events for a specific record\n   * const events = await plugin.getRawEvents('wallets', 'balance', {\n   *   recordId: 'wallet1'\n   * });\n   *\n   * @example\n   * // Get events for a specific time range\n   * const events = await plugin.getRawEvents('wallets', 'balance', {\n   *   startDate: '2025-10-01',\n   *   endDate: '2025-10-31'\n   * });\n   *\n   * @example\n   * // Get only pending (unapplied) transactions\n   * const pending = await plugin.getRawEvents('wallets', 'balance', {\n   *   applied: false\n   * });\n   */\n  async getRawEvents(resourceName, field, options = {}) {\n    return await getRawEvents(resourceName, field, options, this.fieldHandlers);\n  }\n\n  /**\n   * Get diagnostics information about the plugin state\n   *\n   * This method provides comprehensive diagnostic information about the EventualConsistencyPlugin,\n   * including configured resources, field handlers, timers, and overall health status.\n   * Useful for debugging initialization issues, configuration problems, or runtime errors.\n   *\n   * @param {Object} options - Diagnostic options\n   * @param {string} options.resourceName - Optional: limit diagnostics to specific resource\n   * @param {string} options.field - Optional: limit diagnostics to specific field\n   * @param {boolean} options.includeStats - Include transaction statistics (default: false)\n   * @returns {Promise<Object>} Diagnostic information\n   *\n   * @example\n   * // Get overall plugin diagnostics\n   * const diagnostics = await plugin.getDiagnostics();\n   * console.log(diagnostics);\n   *\n   * @example\n   * // Get diagnostics for specific resource/field with stats\n   * const diagnostics = await plugin.getDiagnostics({\n   *   resourceName: 'wallets',\n   *   field: 'balance',\n   *   includeStats: true\n   * });\n   */\n  async getDiagnostics(options = {}) {\n    const { resourceName, field, includeStats = false } = options;\n\n    const diagnostics = {\n      plugin: {\n        name: 'EventualConsistencyPlugin',\n        initialized: this.database !== null && this.database !== undefined,\n        verbose: this.config.verbose || false,\n        timezone: this.config.cohort?.timezone || 'UTC',\n        consolidation: {\n          mode: this.config.consolidation?.mode || 'timer',\n          interval: this.config.consolidation?.interval || 60000,\n          batchSize: this.config.consolidation?.batchSize || 100\n        },\n        garbageCollection: {\n          enabled: this.config.garbageCollection?.enabled !== false,\n          retentionDays: this.config.garbageCollection?.retentionDays || 30,\n          interval: this.config.garbageCollection?.interval || 3600000\n        }\n      },\n      resources: [],\n      errors: [],\n      warnings: []\n    };\n\n    // Iterate through configured resources\n    for (const [resName, resourceHandlers] of this.fieldHandlers.entries()) {\n      // Skip if filtering by resource and this isn't it\n      if (resourceName && resName !== resourceName) {\n        continue;\n      }\n\n      const resourceDiag = {\n        name: resName,\n        fields: []\n      };\n\n      for (const [fieldName, handler] of resourceHandlers.entries()) {\n        // Skip if filtering by field and this isn't it\n        if (field && fieldName !== field) {\n          continue;\n        }\n\n        const fieldDiag = {\n          name: fieldName,\n          type: handler.type || 'counter',\n          analyticsEnabled: handler.analyticsResource !== null && handler.analyticsResource !== undefined,\n          resources: {\n            transaction: handler.transactionResource?.name || null,\n            target: handler.targetResource?.name || null,\n            analytics: handler.analyticsResource?.name || null\n          },\n          timers: {\n            consolidation: handler.consolidationTimer !== null && handler.consolidationTimer !== undefined,\n            garbageCollection: handler.garbageCollectionTimer !== null && handler.garbageCollectionTimer !== undefined\n          }\n        };\n\n        // Check for common issues\n        if (!handler.transactionResource) {\n          diagnostics.errors.push({\n            resource: resName,\n            field: fieldName,\n            issue: 'Missing transaction resource',\n            suggestion: 'Ensure plugin is installed and resources are created after plugin installation'\n          });\n        }\n\n        if (!handler.targetResource) {\n          diagnostics.warnings.push({\n            resource: resName,\n            field: fieldName,\n            issue: 'Missing target resource',\n            suggestion: 'Target resource may not have been created yet'\n          });\n        }\n\n        if (handler.analyticsResource && !handler.analyticsResource.name) {\n          diagnostics.errors.push({\n            resource: resName,\n            field: fieldName,\n            issue: 'Invalid analytics resource',\n            suggestion: 'Analytics resource exists but has no name - possible initialization failure'\n          });\n        }\n\n        // Include statistics if requested\n        if (includeStats && handler.transactionResource) {\n          try {\n            const [okPending, errPending, pendingTxns] = await handler.transactionResource.query({ applied: false }).catch(() => [false, null, []]);\n            const [okApplied, errApplied, appliedTxns] = await handler.transactionResource.query({ applied: true }).catch(() => [false, null, []]);\n\n            fieldDiag.stats = {\n              pendingTransactions: okPending ? (pendingTxns?.length || 0) : 'error',\n              appliedTransactions: okApplied ? (appliedTxns?.length || 0) : 'error',\n              totalTransactions: (okPending && okApplied) ? ((pendingTxns?.length || 0) + (appliedTxns?.length || 0)) : 'error'\n            };\n\n            if (handler.analyticsResource) {\n              const [okAnalytics, errAnalytics, analyticsRecords] = await handler.analyticsResource.list().catch(() => [false, null, []]);\n              fieldDiag.stats.analyticsRecords = okAnalytics ? (analyticsRecords?.length || 0) : 'error';\n            }\n          } catch (error) {\n            diagnostics.warnings.push({\n              resource: resName,\n              field: fieldName,\n              issue: 'Failed to fetch statistics',\n              error: error.message\n            });\n          }\n        }\n\n        resourceDiag.fields.push(fieldDiag);\n      }\n\n      if (resourceDiag.fields.length > 0) {\n        diagnostics.resources.push(resourceDiag);\n      }\n    }\n\n    // Overall health check\n    diagnostics.health = {\n      status: diagnostics.errors.length === 0 ? (diagnostics.warnings.length === 0 ? 'healthy' : 'warning') : 'error',\n      totalResources: diagnostics.resources.length,\n      totalFields: diagnostics.resources.reduce((sum, r) => sum + r.fields.length, 0),\n      errorCount: diagnostics.errors.length,\n      warningCount: diagnostics.warnings.length\n    };\n\n    return diagnostics;\n  }\n}\n\nexport default EventualConsistencyPlugin;\n","import { S3dbError } from '../errors.js';\n\n/**\n * FulltextError - Errors related to fulltext search operations\n *\n * Used for fulltext search operations including:\n * - Index creation and updates\n * - Search query execution\n * - Index configuration\n * - Text analysis and tokenization\n * - Search result ranking\n *\n * @extends S3dbError\n */\nexport class FulltextError extends S3dbError {\n  constructor(message, details = {}) {\n    const { resourceName, query, operation = 'unknown', ...rest } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nFulltext Search Operation Error\n\nOperation: ${operation}\n${resourceName ? `Resource: ${resourceName}` : ''}\n${query ? `Query: ${query}` : ''}\n\nCommon causes:\n1. Resource not indexed for fulltext search\n2. Invalid query syntax\n3. Index not built yet\n4. Search configuration missing\n5. Field not indexed\n\nSolution:\nEnsure resource is configured for fulltext search and index is built.\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/fulltext.md\n`.trim();\n    }\n\n    super(message, { ...rest, resourceName, query, operation, description });\n  }\n}\n\nexport default FulltextError;\n","import Plugin from \"./plugin.class.js\";\nimport tryFn from \"../concerns/try-fn.js\";\nimport { FulltextError } from \"./fulltext.errors.js\";\n\nexport class FullTextPlugin extends Plugin {\n  constructor(options = {}) {\n    super();\n    this.indexResource = null;\n    this.config = {\n      minWordLength: options.minWordLength || 3,\n      maxResults: options.maxResults || 100,\n      ...options\n    };\n    this.indexes = new Map(); // In-memory index for simplicity\n    this.dirtyIndexes = new Set(); // Track changed index keys for incremental saves\n    this.deletedIndexes = new Set(); // Track deleted index keys\n  }\n\n  async onInstall() {\n    \n    // Create index resource if it doesn't exist\n    const [ok, err, indexResource] = await tryFn(() => this.database.createResource({\n        name: 'plg_fulltext_indexes',\n        attributes: {\n          id: 'string|required',\n          resourceName: 'string|required',\n          fieldName: 'string|required',\n          word: 'string|required',\n          recordIds: 'json|required', // Array of record IDs containing this word\n          count: 'number|required',\n          lastUpdated: 'string|required'\n        },\n        partitions: {\n          byResource: { fields: { resourceName: 'string' } }\n        },\n        behavior: 'body-overflow'\n      }));\n    this.indexResource = ok ? indexResource : this.database.resources.fulltext_indexes;\n\n    // Load existing indexes\n    await this.loadIndexes();\n    \n    // Use database hooks for automatic resource discovery\n    this.installDatabaseHooks();\n    \n    // Install hooks for existing resources\n    this.installIndexingHooks();\n  }\n\n  async start() {\n    // Plugin is ready\n  }\n\n  async stop() {\n    // Save indexes before stopping\n    await this.saveIndexes();\n    \n    // Remove database hooks\n    this.removeDatabaseHooks();\n  }\n\n  async loadIndexes() {\n    if (!this.indexResource) return;\n    \n    const [ok, err, allIndexes] = await tryFn(() => this.indexResource.getAll());\n    if (ok) {\n      for (const indexRecord of allIndexes) {\n        const key = `${indexRecord.resourceName}:${indexRecord.fieldName}:${indexRecord.word}`;\n        this.indexes.set(key, {\n          recordIds: indexRecord.recordIds || [],\n          count: indexRecord.count || 0\n        });\n      }\n    }\n  }\n\n  async saveIndexes() {\n    if (!this.indexResource) return;\n\n    const [ok, err] = await tryFn(async () => {\n      // Delete indexes that were removed\n      for (const key of this.deletedIndexes) {\n        // Find and delete the index record using partition-aware query\n        const [resourceName] = key.split(':');\n        const [queryOk, queryErr, results] = await tryFn(() =>\n          this.indexResource.query({ resourceName })\n        );\n\n        if (queryOk && results) {\n          for (const index of results) {\n            const indexKey = `${index.resourceName}:${index.fieldName}:${index.word}`;\n            if (indexKey === key) {\n              await this.indexResource.delete(index.id);\n            }\n          }\n        }\n      }\n\n      // Save or update dirty indexes\n      for (const key of this.dirtyIndexes) {\n        const [resourceName, fieldName, word] = key.split(':');\n        const data = this.indexes.get(key);\n\n        if (!data) continue; // Skip if index was deleted\n\n        // Try to find existing index record\n        const [queryOk, queryErr, results] = await tryFn(() =>\n          this.indexResource.query({ resourceName })\n        );\n\n        let existingRecord = null;\n        if (queryOk && results) {\n          existingRecord = results.find(\n            (index) => index.resourceName === resourceName &&\n                      index.fieldName === fieldName &&\n                      index.word === word\n          );\n        }\n\n        if (existingRecord) {\n          // Update existing record\n          await this.indexResource.update(existingRecord.id, {\n            recordIds: data.recordIds,\n            count: data.count,\n            lastUpdated: new Date().toISOString()\n          });\n        } else {\n          // Insert new record\n          await this.indexResource.insert({\n            id: `index-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n            resourceName,\n            fieldName,\n            word,\n            recordIds: data.recordIds,\n            count: data.count,\n            lastUpdated: new Date().toISOString()\n          });\n        }\n      }\n\n      // Clear tracking sets after successful save\n      this.dirtyIndexes.clear();\n      this.deletedIndexes.clear();\n    });\n  }\n\n  installDatabaseHooks() {\n    // Use the new database hooks system for automatic resource discovery\n    this.database.addHook('afterCreateResource', (resource) => {\n      if (resource.name !== 'plg_fulltext_indexes') {\n        this.installResourceHooks(resource);\n      }\n    });\n  }\n\n  removeDatabaseHooks() {\n    // Remove the hook we added\n    this.database.removeHook('afterCreateResource', this.installResourceHooks.bind(this));\n  }\n\n  installIndexingHooks() {\n    // Register plugin with database\n    if (!this.database.plugins) {\n      this.database.plugins = {};\n    }\n    this.database.plugins.fulltext = this;\n\n    for (const resource of Object.values(this.database.resources)) {\n      if (resource.name === 'plg_fulltext_indexes') continue;\n      \n      this.installResourceHooks(resource);\n    }\n\n    // Hook into database proxy for new resources (check if already installed)\n    if (!this.database._fulltextProxyInstalled) {\n      // Store the previous createResource (could be another plugin's proxy)\n      this.database._previousCreateResourceForFullText = this.database.createResource;\n      this.database.createResource = async function (...args) {\n        const resource = await this._previousCreateResourceForFullText(...args);\n        if (this.plugins?.fulltext && resource.name !== 'plg_fulltext_indexes') {\n          this.plugins.fulltext.installResourceHooks(resource);\n        }\n        return resource;\n      };\n      this.database._fulltextProxyInstalled = true;\n    }\n\n    // Ensure all existing resources have hooks (even if created before plugin setup)\n    for (const resource of Object.values(this.database.resources)) {\n      if (resource.name !== 'plg_fulltext_indexes') {\n        this.installResourceHooks(resource);\n      }\n    }\n  }\n\n  installResourceHooks(resource) {\n    // Store original methods\n    resource._insert = resource.insert;\n    resource._update = resource.update;\n    resource._delete = resource.delete;\n    resource._deleteMany = resource.deleteMany;\n\n    // Use wrapResourceMethod for all hooks so _pluginWrappers is set\n    this.wrapResourceMethod(resource, 'insert', async (result, args, methodName) => {\n      const [data] = args;\n      // Index the new record\n      this.indexRecord(resource.name, result.id, data).catch(() => {});\n      return result;\n    });\n\n    this.wrapResourceMethod(resource, 'update', async (result, args, methodName) => {\n      const [id, data] = args;\n      // Remove old index entries\n      this.removeRecordFromIndex(resource.name, id).catch(() => {});\n      // Index the updated record\n      this.indexRecord(resource.name, id, result).catch(() => {});\n      return result;\n    });\n\n    this.wrapResourceMethod(resource, 'delete', async (result, args, methodName) => {\n      const [id] = args;\n      // Remove from index\n      this.removeRecordFromIndex(resource.name, id).catch(() => {});\n      return result;\n    });\n\n    this.wrapResourceMethod(resource, 'deleteMany', async (result, args, methodName) => {\n      const [ids] = args;\n      // Remove from index\n      for (const id of ids) {\n        this.removeRecordFromIndex(resource.name, id).catch(() => {});\n      }\n      return result;\n    });\n  }\n\n  async indexRecord(resourceName, recordId, data) {\n    const indexedFields = this.getIndexedFields(resourceName);\n    if (!indexedFields || indexedFields.length === 0) {\n      return;\n    }\n\n    for (const fieldName of indexedFields) {\n      const fieldValue = this.getFieldValue(data, fieldName);\n      if (!fieldValue) {\n        continue;\n      }\n\n      const words = this.tokenize(fieldValue);\n\n      for (const word of words) {\n        if (word.length < this.config.minWordLength) {\n          continue;\n        }\n\n        const key = `${resourceName}:${fieldName}:${word.toLowerCase()}`;\n        const existing = this.indexes.get(key) || { recordIds: [], count: 0 };\n\n        if (!existing.recordIds.includes(recordId)) {\n          existing.recordIds.push(recordId);\n          existing.count = existing.recordIds.length;\n        }\n\n        this.indexes.set(key, existing);\n        this.dirtyIndexes.add(key); // Mark as dirty for incremental save\n      }\n    }\n  }\n\n  async removeRecordFromIndex(resourceName, recordId) {\n    for (const [key, data] of this.indexes.entries()) {\n      if (key.startsWith(`${resourceName}:`)) {\n        const index = data.recordIds.indexOf(recordId);\n        if (index > -1) {\n          data.recordIds.splice(index, 1);\n          data.count = data.recordIds.length;\n\n          if (data.recordIds.length === 0) {\n            this.indexes.delete(key);\n            this.deletedIndexes.add(key); // Track deletion for incremental save\n          } else {\n            this.indexes.set(key, data);\n            this.dirtyIndexes.add(key); // Mark as dirty for incremental save\n          }\n        }\n      }\n    }\n  }\n\n  getFieldValue(data, fieldPath) {\n    if (!fieldPath.includes('.')) {\n      return data && data[fieldPath] !== undefined ? data[fieldPath] : null;\n    }\n    \n    const keys = fieldPath.split('.');\n    let value = data;\n    \n    for (const key of keys) {\n      if (value && typeof value === 'object' && key in value) {\n        value = value[key];\n      } else {\n        return null;\n      }\n    }\n    \n    return value;\n  }\n\n  tokenize(text) {\n    if (!text) return [];\n    \n    // Convert to string and normalize\n    const str = String(text).toLowerCase();\n    \n    // Remove special characters but preserve accented characters\n    return str\n      .replace(/[^\\w\\s\\u00C0-\\u017F]/g, ' ') // Allow accented characters\n      .split(/\\s+/)\n      .filter(word => word.length > 0);\n  }\n\n  getIndexedFields(resourceName) {\n    // Use configured fields if available, otherwise fall back to defaults\n    if (this.config.fields) {\n      return this.config.fields;\n    }\n    \n    // Default field mappings\n    const fieldMappings = {\n      users: ['name', 'email'],\n      products: ['name', 'description'],\n      articles: ['title', 'content'],\n      // Add more mappings as needed\n    };\n    \n    return fieldMappings[resourceName] || [];\n  }\n\n  // Main search method\n  async search(resourceName, query, options = {}) {\n    const {\n      fields = null, // Specific fields to search in\n      limit = this.config.maxResults,\n      offset = 0,\n      exactMatch = false\n    } = options;\n\n    if (!query || query.trim().length === 0) {\n      return [];\n    }\n\n    const searchWords = this.tokenize(query);\n    const results = new Map(); // recordId -> score\n\n    // Get fields to search in\n    const searchFields = fields || this.getIndexedFields(resourceName);\n    if (searchFields.length === 0) {\n      return [];\n    }\n\n    // Search for each word\n    for (const word of searchWords) {\n      if (word.length < this.config.minWordLength) continue;\n      \n      for (const fieldName of searchFields) {\n        if (exactMatch) {\n          // Exact match - look for the exact word\n          const key = `${resourceName}:${fieldName}:${word.toLowerCase()}`;\n          const indexData = this.indexes.get(key);\n          \n          if (indexData) {\n            for (const recordId of indexData.recordIds) {\n              const currentScore = results.get(recordId) || 0;\n              results.set(recordId, currentScore + 1);\n            }\n          }\n        } else {\n          // Partial match - look for words that start with the search term\n          for (const [key, indexData] of this.indexes.entries()) {\n            if (key.startsWith(`${resourceName}:${fieldName}:${word.toLowerCase()}`)) {\n              for (const recordId of indexData.recordIds) {\n                const currentScore = results.get(recordId) || 0;\n                results.set(recordId, currentScore + 1);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    // Convert to sorted results\n    const sortedResults = Array.from(results.entries())\n      .map(([recordId, score]) => ({ recordId, score }))\n      .sort((a, b) => b.score - a.score)\n      .slice(offset, offset + limit);\n\n    return sortedResults;\n  }\n\n  // Search and return full records\n  async searchRecords(resourceName, query, options = {}) {\n    const searchResults = await this.search(resourceName, query, options);\n\n    if (searchResults.length === 0) {\n      return [];\n    }\n\n    const resource = this.database.resources[resourceName];\n    if (!resource) {\n      throw new FulltextError(`Resource '${resourceName}' not found`, {\n        operation: 'searchRecords',\n        resourceName,\n        query,\n        availableResources: Object.keys(this.database.resources),\n        suggestion: 'Check resource name or ensure resource is created before searching'\n      });\n    }\n\n    const recordIds = searchResults.map(result => result.recordId);\n    const records = await resource.getMany(recordIds);\n\n    // Filter out undefined/null records (in case getMany returns missing records)\n    const result = records\n      .filter(record => record && typeof record === 'object')\n      .map(record => {\n        const searchResult = searchResults.find(sr => sr.recordId === record.id);\n        return {\n          ...record,\n          _searchScore: searchResult ? searchResult.score : 0\n        };\n      })\n      .sort((a, b) => b._searchScore - a._searchScore);\n    return result;\n  }\n\n  // Utility methods\n  async rebuildIndex(resourceName) {\n    const resource = this.database.resources[resourceName];\n    if (!resource) {\n      throw new FulltextError(`Resource '${resourceName}' not found`, {\n        operation: 'rebuildIndex',\n        resourceName,\n        availableResources: Object.keys(this.database.resources),\n        suggestion: 'Check resource name or ensure resource is created before rebuilding index'\n      });\n    }\n\n    // Clear existing indexes for this resource\n    for (const [key] of this.indexes.entries()) {\n      if (key.startsWith(`${resourceName}:`)) {\n        this.indexes.delete(key);\n      }\n    }\n\n    // Rebuild index in larger batches for better performance\n    const allRecords = await resource.getAll();\n    const batchSize = 100; // Increased batch size for faster processing\n    \n    for (let i = 0; i < allRecords.length; i += batchSize) {\n      const batch = allRecords.slice(i, i + batchSize);\n      // Process batch sequentially to avoid overwhelming the system\n      for (const record of batch) {\n        const [ok, err] = await tryFn(() => this.indexRecord(resourceName, record.id, record));\n        if (!ok) {\n        }\n      }\n    }\n\n    // Save indexes\n    await this.saveIndexes();\n  }\n\n  async getIndexStats() {\n    const stats = {\n      totalIndexes: this.indexes.size,\n      resources: {},\n      totalWords: 0\n    };\n\n    for (const [key, data] of this.indexes.entries()) {\n      const [resourceName, fieldName] = key.split(':');\n      \n      if (!stats.resources[resourceName]) {\n        stats.resources[resourceName] = {\n          fields: {},\n          totalRecords: new Set(),\n          totalWords: 0\n        };\n      }\n      \n      if (!stats.resources[resourceName].fields[fieldName]) {\n        stats.resources[resourceName].fields[fieldName] = {\n          words: 0,\n          totalOccurrences: 0\n        };\n      }\n      \n      stats.resources[resourceName].fields[fieldName].words++;\n      stats.resources[resourceName].fields[fieldName].totalOccurrences += data.count;\n      stats.resources[resourceName].totalWords++;\n      \n      for (const recordId of data.recordIds) {\n        stats.resources[resourceName].totalRecords.add(recordId);\n      }\n      \n      stats.totalWords++;\n    }\n\n    // Convert Sets to counts\n    for (const resourceName in stats.resources) {\n      stats.resources[resourceName].totalRecords = stats.resources[resourceName].totalRecords.size;\n    }\n\n    return stats;\n  }\n\n  async rebuildAllIndexes({ timeout } = {}) {\n    if (timeout) {\n      return Promise.race([\n        this._rebuildAllIndexesInternal(),\n        new Promise((_, reject) => setTimeout(() => reject(new Error('Timeout')), timeout))\n      ]);\n    }\n    return this._rebuildAllIndexesInternal();\n  }\n\n  async _rebuildAllIndexesInternal() {\n    const resourceNames = Object.keys(this.database.resources).filter(name => name !== 'plg_fulltext_indexes');\n    \n    // Process resources sequentially to avoid overwhelming the system\n    for (const resourceName of resourceNames) {\n      const [ok, err] = await tryFn(() => this.rebuildIndex(resourceName));\n      if (!ok) {\n      }\n    }\n  }\n\n  async clearIndex(resourceName) {\n    // Clear indexes for specific resource\n    for (const [key] of this.indexes.entries()) {\n      if (key.startsWith(`${resourceName}:`)) {\n        this.indexes.delete(key);\n      }\n    }\n    \n    // Save changes\n    await this.saveIndexes();\n  }\n\n  async clearAllIndexes() {\n    // Clear all indexes\n    this.indexes.clear();\n    \n    // Save changes\n    await this.saveIndexes();\n  }\n}\n\nexport default FullTextPlugin; ","import Plugin from \"./plugin.class.js\";\nimport tryFn from \"../concerns/try-fn.js\";\n\nexport class MetricsPlugin extends Plugin {\n  constructor(options = {}) {\n    super();\n    this.config = {\n      collectPerformance: options.collectPerformance !== false,\n      collectErrors: options.collectErrors !== false,\n      collectUsage: options.collectUsage !== false,\n      retentionDays: options.retentionDays || 30,\n      flushInterval: options.flushInterval || 60000, // 1 minute\n\n      // Prometheus configuration\n      prometheus: {\n        enabled: options.prometheus?.enabled !== false, // Enabled by default\n        mode: options.prometheus?.mode || 'auto',       // 'auto' | 'integrated' | 'standalone'\n        port: options.prometheus?.port || 9090,         // Standalone server port\n        path: options.prometheus?.path || '/metrics',   // Metrics endpoint path\n        includeResourceLabels: options.prometheus?.includeResourceLabels !== false\n      },\n\n      ...options\n    };\n\n    this.metrics = {\n      operations: {\n        insert: { count: 0, totalTime: 0, errors: 0 },\n        update: { count: 0, totalTime: 0, errors: 0 },\n        delete: { count: 0, totalTime: 0, errors: 0 },\n        get: { count: 0, totalTime: 0, errors: 0 },\n        list: { count: 0, totalTime: 0, errors: 0 },\n        count: { count: 0, totalTime: 0, errors: 0 }\n      },\n      resources: {},\n      errors: [],\n      performance: [],\n      startTime: new Date().toISOString()\n    };\n\n    this.flushTimer = null;\n    this.metricsServer = null; // Standalone HTTP server (if needed)\n  }\n\n  async onInstall() {\n    if (typeof process !== 'undefined' && process.env.NODE_ENV === 'test') return;\n\n    const [ok, err] = await tryFn(async () => {\n      const [ok1, err1, metricsResource] = await tryFn(() => this.database.createResource({\n        name: 'plg_metrics',\n        attributes: {\n          id: 'string|required',\n          type: 'string|required', // 'operation', 'error', 'performance'\n          resourceName: 'string',\n          operation: 'string',\n          count: 'number|required',\n          totalTime: 'number|required',\n          errors: 'number|required',\n          avgTime: 'number|required',\n          timestamp: 'string|required',\n          metadata: 'json',\n          createdAt: 'string|required' // YYYY-MM-DD for partitioning\n        },\n        partitions: {\n          byDate: { fields: { createdAt: 'string|maxlength:10' } }\n        },\n        behavior: 'body-overflow'\n      }));\n      this.metricsResource = ok1 ? metricsResource : this.database.resources.plg_metrics;\n\n      const [ok2, err2, errorsResource] = await tryFn(() => this.database.createResource({\n        name: 'plg_error_logs',\n        attributes: {\n          id: 'string|required',\n          resourceName: 'string|required',\n          operation: 'string|required',\n          error: 'string|required',\n          timestamp: 'string|required',\n          metadata: 'json',\n          createdAt: 'string|required' // YYYY-MM-DD for partitioning\n        },\n        partitions: {\n          byDate: { fields: { createdAt: 'string|maxlength:10' } }\n        },\n        behavior: 'body-overflow'\n      }));\n      this.errorsResource = ok2 ? errorsResource : this.database.resources.plg_error_logs;\n\n      const [ok3, err3, performanceResource] = await tryFn(() => this.database.createResource({\n        name: 'plg_performance_logs',\n        attributes: {\n          id: 'string|required',\n          resourceName: 'string|required',\n          operation: 'string|required',\n          duration: 'number|required',\n          timestamp: 'string|required',\n          metadata: 'json',\n          createdAt: 'string|required' // YYYY-MM-DD for partitioning\n        },\n        partitions: {\n          byDate: { fields: { createdAt: 'string|maxlength:10' } }\n        },\n        behavior: 'body-overflow'\n      }));\n      this.performanceResource = ok3 ? performanceResource : this.database.resources.plg_performance_logs;\n    });\n    if (!ok) {\n      // Resources might already exist\n      this.metricsResource = this.database.resources.plg_metrics;\n      this.errorsResource = this.database.resources.plg_error_logs;\n      this.performanceResource = this.database.resources.plg_performance_logs;\n    }\n\n    // Use database hooks for automatic resource discovery\n    this.installDatabaseHooks();\n    \n    // Install hooks for existing resources\n    this.installMetricsHooks();\n    \n    // Disable flush timer during tests to avoid side effects\n    if (typeof process !== 'undefined' && process.env.NODE_ENV !== 'test') {\n      this.startFlushTimer();\n    }\n  }\n\n  async start() {\n    // Setup Prometheus metrics exporter\n    await this._setupPrometheusExporter();\n  }\n\n  async stop() {\n    // Stop flush timer\n    if (this.flushTimer) {\n      clearInterval(this.flushTimer);\n      this.flushTimer = null;\n    }\n\n    // Stop standalone metrics server if running\n    if (this.metricsServer) {\n      await new Promise((resolve) => {\n        this.metricsServer.close(() => {\n          console.log('[Metrics Plugin] Standalone metrics server stopped');\n          this.metricsServer = null;\n          resolve();\n        });\n      });\n    }\n\n    // Remove database hooks\n    this.removeDatabaseHooks();\n  }\n\n  installDatabaseHooks() {\n    // Use the new database hooks system for automatic resource discovery\n    this.database.addHook('afterCreateResource', (resource) => {\n      if (resource.name !== 'plg_metrics' && resource.name !== 'plg_error_logs' && resource.name !== 'plg_performance_logs') {\n        this.installResourceHooks(resource);\n      }\n    });\n  }\n\n  removeDatabaseHooks() {\n    // Remove the hook we added\n    this.database.removeHook('afterCreateResource', this.installResourceHooks.bind(this));\n  }\n\n  installMetricsHooks() {\n    // Only hook into non-metrics resources\n    for (const resource of Object.values(this.database.resources)) {\n      if (['plg_metrics', 'plg_error_logs', 'plg_performance_logs'].includes(resource.name)) {\n        continue; // Skip metrics resources to avoid recursion\n      }\n\n      this.installResourceHooks(resource);\n    }\n\n    // Hook into database proxy for new resources\n    this.database._createResource = this.database.createResource;\n    this.database.createResource = async function (...args) {\n      const resource = await this._createResource(...args);\n      if (this.plugins?.metrics && !['plg_metrics', 'plg_error_logs', 'plg_performance_logs'].includes(resource.name)) {\n        this.plugins.metrics.installResourceHooks(resource);\n      }\n      return resource;\n    };\n  }\n\n  installResourceHooks(resource) {\n    // Store original methods\n    resource._insert = resource.insert;\n    resource._update = resource.update;\n    resource._delete = resource.delete;\n    resource._deleteMany = resource.deleteMany;\n    resource._get = resource.get;\n    resource._getMany = resource.getMany;\n    resource._getAll = resource.getAll;\n    resource._list = resource.list;\n    resource._listIds = resource.listIds;\n    resource._count = resource.count;\n    resource._page = resource.page;\n\n    // Hook insert operations\n    resource.insert = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._insert(...args));\n      this.recordOperation(resource.name, 'insert', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'insert', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n\n    // Hook update operations\n    resource.update = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._update(...args));\n      this.recordOperation(resource.name, 'update', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'update', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n\n    // Hook delete operations\n    resource.delete = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._delete(...args));\n      this.recordOperation(resource.name, 'delete', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'delete', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n\n    // Hook deleteMany operations\n    resource.deleteMany = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._deleteMany(...args));\n      this.recordOperation(resource.name, 'delete', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'delete', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n\n    // Hook get operations\n    resource.get = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._get(...args));\n      this.recordOperation(resource.name, 'get', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'get', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n\n    // Hook getMany operations\n    resource.getMany = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._getMany(...args));\n      this.recordOperation(resource.name, 'get', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'get', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n\n    // Hook getAll operations\n    resource.getAll = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._getAll(...args));\n      this.recordOperation(resource.name, 'list', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'list', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n\n    // Hook list operations\n    resource.list = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._list(...args));\n      this.recordOperation(resource.name, 'list', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'list', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n\n    // Hook listIds operations\n    resource.listIds = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._listIds(...args));\n      this.recordOperation(resource.name, 'list', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'list', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n\n    // Hook count operations\n    resource.count = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._count(...args));\n      this.recordOperation(resource.name, 'count', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'count', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n\n    // Hook page operations\n    resource.page = async function (...args) {\n      const startTime = Date.now();\n      const [ok, err, result] = await tryFn(() => resource._page(...args));\n      this.recordOperation(resource.name, 'list', Date.now() - startTime, !ok);\n      if (!ok) this.recordError(resource.name, 'list', err);\n      if (!ok) throw err;\n      return result;\n    }.bind(this);\n  }\n\n  recordOperation(resourceName, operation, duration, isError) {\n    // Update global metrics\n    if (this.metrics.operations[operation]) {\n      this.metrics.operations[operation].count++;\n      this.metrics.operations[operation].totalTime += duration;\n      if (isError) {\n        this.metrics.operations[operation].errors++;\n      }\n    }\n\n    // Update resource-specific metrics\n    if (!this.metrics.resources[resourceName]) {\n      this.metrics.resources[resourceName] = {\n        insert: { count: 0, totalTime: 0, errors: 0 },\n        update: { count: 0, totalTime: 0, errors: 0 },\n        delete: { count: 0, totalTime: 0, errors: 0 },\n        get: { count: 0, totalTime: 0, errors: 0 },\n        list: { count: 0, totalTime: 0, errors: 0 },\n        count: { count: 0, totalTime: 0, errors: 0 }\n      };\n    }\n\n    if (this.metrics.resources[resourceName][operation]) {\n      this.metrics.resources[resourceName][operation].count++;\n      this.metrics.resources[resourceName][operation].totalTime += duration;\n      if (isError) {\n        this.metrics.resources[resourceName][operation].errors++;\n      }\n    }\n\n    // Record performance data if enabled\n    if (this.config.collectPerformance) {\n      this.metrics.performance.push({\n        resourceName,\n        operation,\n        duration,\n        timestamp: new Date().toISOString()\n      });\n    }\n  }\n\n  recordError(resourceName, operation, error) {\n    if (!this.config.collectErrors) return;\n\n    this.metrics.errors.push({\n      resourceName,\n      operation,\n      error: error.message,\n      stack: error.stack,\n      timestamp: new Date().toISOString()\n    });\n  }\n\n  startFlushTimer() {\n    if (this.flushTimer) {\n      clearInterval(this.flushTimer);\n    }\n    \n    // Only start timer if flushInterval is greater than 0\n    if (this.config.flushInterval > 0) {\n      this.flushTimer = setInterval(() => {\n        this.flushMetrics().catch(() => {});\n      }, this.config.flushInterval);\n    }\n  }\n\n  async flushMetrics() {\n    if (!this.metricsResource) return;\n\n    const [ok, err] = await tryFn(async () => {\n      let metadata, perfMetadata, errorMetadata, resourceMetadata;\n      \n      if (typeof process !== 'undefined' && process.env.NODE_ENV === 'test') {\n        // Use empty metadata during tests to avoid header issues\n        metadata = {};\n        perfMetadata = {};\n        errorMetadata = {};\n        resourceMetadata = {};\n      } else {\n        // Use empty metadata during tests to avoid header issues\n        metadata = { global: 'true' };\n        perfMetadata = { perf: 'true' };\n        errorMetadata = { error: 'true' };\n        resourceMetadata = { resource: 'true' };\n      }\n\n      // Flush operation metrics\n      const now = new Date();\n      const createdAt = now.toISOString().slice(0, 10); // YYYY-MM-DD\n\n      for (const [operation, data] of Object.entries(this.metrics.operations)) {\n        if (data.count > 0) {\n          await this.metricsResource.insert({\n            id: `metrics-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n            type: 'operation',\n            resourceName: 'global',\n            operation,\n            count: data.count,\n            totalTime: data.totalTime,\n            errors: data.errors,\n            avgTime: data.count > 0 ? data.totalTime / data.count : 0,\n            timestamp: now.toISOString(),\n            createdAt,\n            metadata\n          });\n        }\n      }\n\n      // Flush resource-specific metrics\n      for (const [resourceName, operations] of Object.entries(this.metrics.resources)) {\n        for (const [operation, data] of Object.entries(operations)) {\n          if (data.count > 0) {\n            await this.metricsResource.insert({\n              id: `metrics-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n              type: 'operation',\n              resourceName,\n              operation,\n              count: data.count,\n              totalTime: data.totalTime,\n              errors: data.errors,\n              avgTime: data.count > 0 ? data.totalTime / data.count : 0,\n              timestamp: now.toISOString(),\n              createdAt,\n              metadata: resourceMetadata\n            });\n          }\n        }\n      }\n\n      // Flush performance logs\n      if (this.config.collectPerformance && this.metrics.performance.length > 0) {\n        for (const perf of this.metrics.performance) {\n          await this.performanceResource.insert({\n            id: `perf-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n            resourceName: perf.resourceName,\n            operation: perf.operation,\n            duration: perf.duration,\n            timestamp: perf.timestamp,\n            createdAt: perf.timestamp.slice(0, 10), // YYYY-MM-DD from timestamp\n            metadata: perfMetadata\n          });\n        }\n      }\n\n      // Flush error logs\n      if (this.config.collectErrors && this.metrics.errors.length > 0) {\n        for (const error of this.metrics.errors) {\n          await this.errorsResource.insert({\n            id: `error-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`,\n            resourceName: error.resourceName,\n            operation: error.operation,\n            error: error.error,\n            stack: error.stack,\n            timestamp: error.timestamp,\n            createdAt: error.timestamp.slice(0, 10), // YYYY-MM-DD from timestamp\n            metadata: errorMetadata\n          });\n        }\n      }\n\n      // Reset metrics after flushing\n      this.resetMetrics();\n    });\n    if (!ok) {\n      // Silent error handling\n    }\n  }\n\n  resetMetrics() {\n    // Reset operation metrics\n    for (const operation of Object.keys(this.metrics.operations)) {\n      this.metrics.operations[operation] = { count: 0, totalTime: 0, errors: 0 };\n    }\n\n    // Reset resource metrics\n    for (const resourceName of Object.keys(this.metrics.resources)) {\n      for (const operation of Object.keys(this.metrics.resources[resourceName])) {\n        this.metrics.resources[resourceName][operation] = { count: 0, totalTime: 0, errors: 0 };\n      }\n    }\n\n    // Clear performance and error arrays\n    this.metrics.performance = [];\n    this.metrics.errors = [];\n  }\n\n  // Utility methods\n  async getMetrics(options = {}) {\n    const {\n      type = 'operation',\n      resourceName,\n      operation,\n      startDate,\n      endDate,\n      limit = 100,\n      offset = 0\n    } = options;\n\n    if (!this.metricsResource) return [];\n\n    const allMetrics = await this.metricsResource.getAll();\n    \n    let filtered = allMetrics.filter(metric => {\n      if (type && metric.type !== type) return false;\n      if (resourceName && metric.resourceName !== resourceName) return false;\n      if (operation && metric.operation !== operation) return false;\n      if (startDate && new Date(metric.timestamp) < new Date(startDate)) return false;\n      if (endDate && new Date(metric.timestamp) > new Date(endDate)) return false;\n      return true;\n    });\n\n    // Sort by timestamp descending\n    filtered.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\n    \n    return filtered.slice(offset, offset + limit);\n  }\n\n  async getErrorLogs(options = {}) {\n    if (!this.errorsResource) return [];\n\n    const {\n      resourceName,\n      operation,\n      startDate,\n      endDate,\n      limit = 100,\n      offset = 0\n    } = options;\n\n    const allErrors = await this.errorsResource.getAll();\n    \n    let filtered = allErrors.filter(error => {\n      if (resourceName && error.resourceName !== resourceName) return false;\n      if (operation && error.operation !== operation) return false;\n      if (startDate && new Date(error.timestamp) < new Date(startDate)) return false;\n      if (endDate && new Date(error.timestamp) > new Date(endDate)) return false;\n      return true;\n    });\n\n    // Sort by timestamp descending\n    filtered.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\n    \n    return filtered.slice(offset, offset + limit);\n  }\n\n  async getPerformanceLogs(options = {}) {\n    if (!this.performanceResource) return [];\n\n    const {\n      resourceName,\n      operation,\n      startDate,\n      endDate,\n      limit = 100,\n      offset = 0\n    } = options;\n\n    const allPerformance = await this.performanceResource.getAll();\n    \n    let filtered = allPerformance.filter(perf => {\n      if (resourceName && perf.resourceName !== resourceName) return false;\n      if (operation && perf.operation !== operation) return false;\n      if (startDate && new Date(perf.timestamp) < new Date(startDate)) return false;\n      if (endDate && new Date(perf.timestamp) > new Date(endDate)) return false;\n      return true;\n    });\n\n    // Sort by timestamp descending\n    filtered.sort((a, b) => new Date(b.timestamp) - new Date(a.timestamp));\n    \n    return filtered.slice(offset, offset + limit);\n  }\n\n  async getStats() {\n    const now = new Date();\n    const startDate = new Date(now.getTime() - (24 * 60 * 60 * 1000)); // Last 24 hours\n\n    const [metrics, errors, performance] = await Promise.all([\n      this.getMetrics({ startDate: startDate.toISOString() }),\n      this.getErrorLogs({ startDate: startDate.toISOString() }),\n      this.getPerformanceLogs({ startDate: startDate.toISOString() })\n    ]);\n\n    // Calculate summary statistics\n    const stats = {\n      period: '24h',\n      totalOperations: 0,\n      totalErrors: errors.length,\n      avgResponseTime: 0,\n      operationsByType: {},\n      resources: {},\n      uptime: {\n        startTime: this.metrics.startTime,\n        duration: now.getTime() - new Date(this.metrics.startTime).getTime()\n      }\n    };\n\n    // Aggregate metrics\n    for (const metric of metrics) {\n      if (metric.type === 'operation') {\n        stats.totalOperations += metric.count;\n        \n        if (!stats.operationsByType[metric.operation]) {\n          stats.operationsByType[metric.operation] = {\n            count: 0,\n            errors: 0,\n            avgTime: 0\n          };\n        }\n        \n        stats.operationsByType[metric.operation].count += metric.count;\n        stats.operationsByType[metric.operation].errors += metric.errors;\n        \n        // Calculate weighted average\n        const current = stats.operationsByType[metric.operation];\n        const totalCount = current.count;\n        const newAvg = ((current.avgTime * (totalCount - metric.count)) + metric.totalTime) / totalCount;\n        current.avgTime = newAvg;\n      }\n    }\n\n    // Calculate overall average response time\n    const totalTime = metrics.reduce((sum, m) => sum + m.totalTime, 0);\n    const totalCount = metrics.reduce((sum, m) => sum + m.count, 0);\n    stats.avgResponseTime = totalCount > 0 ? totalTime / totalCount : 0;\n\n    return stats;\n  }\n\n  async cleanupOldData() {\n    const cutoffDate = new Date();\n    cutoffDate.setDate(cutoffDate.getDate() - this.config.retentionDays);\n    const cutoffDateStr = cutoffDate.toISOString().slice(0, 10); // YYYY-MM-DD\n\n    // Generate list of dates to delete (all dates before cutoff)\n    const datesToDelete = [];\n    const startDate = new Date(cutoffDate);\n    startDate.setDate(startDate.getDate() - 365); // Go back up to 1 year to catch old data\n\n    for (let d = new Date(startDate); d < cutoffDate; d.setDate(d.getDate() + 1)) {\n      datesToDelete.push(d.toISOString().slice(0, 10));\n    }\n\n    // Clean up old metrics using partition-aware deletion\n    if (this.metricsResource) {\n      for (const dateStr of datesToDelete) {\n        const [ok, err, oldMetrics] = await tryFn(() =>\n          this.metricsResource.query({ createdAt: dateStr })\n        );\n        if (ok && oldMetrics) {\n          for (const metric of oldMetrics) {\n            await tryFn(() => this.metricsResource.delete(metric.id));\n          }\n        }\n      }\n    }\n\n    // Clean up old error logs using partition-aware deletion\n    if (this.errorsResource) {\n      for (const dateStr of datesToDelete) {\n        const [ok, err, oldErrors] = await tryFn(() =>\n          this.errorsResource.query({ createdAt: dateStr })\n        );\n        if (ok && oldErrors) {\n          for (const error of oldErrors) {\n            await tryFn(() => this.errorsResource.delete(error.id));\n          }\n        }\n      }\n    }\n\n    // Clean up old performance logs using partition-aware deletion\n    if (this.performanceResource) {\n      for (const dateStr of datesToDelete) {\n        const [ok, err, oldPerformance] = await tryFn(() =>\n          this.performanceResource.query({ createdAt: dateStr })\n        );\n        if (ok && oldPerformance) {\n          for (const perf of oldPerformance) {\n            await tryFn(() => this.performanceResource.delete(perf.id));\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Get metrics in Prometheus format\n   * @returns {Promise<string>} Prometheus metrics text\n   */\n  async getPrometheusMetrics() {\n    const { formatPrometheusMetrics } = await import('./concerns/prometheus-formatter.js');\n    return formatPrometheusMetrics(this);\n  }\n\n  /**\n   * Setup Prometheus metrics exporter\n   * Chooses mode based on configuration and API Plugin availability\n   * @private\n   */\n  async _setupPrometheusExporter() {\n    if (!this.config.prometheus.enabled) {\n      return; // Prometheus export disabled\n    }\n\n    const mode = this.config.prometheus.mode;\n    const apiPlugin = this.database.plugins?.api || this.database.plugins?.ApiPlugin;\n\n    // AUTO mode: detect API Plugin\n    if (mode === 'auto') {\n      if (apiPlugin && apiPlugin.server) {\n        await this._setupIntegratedMetrics(apiPlugin);\n      } else {\n        await this._setupStandaloneMetrics();\n      }\n    }\n\n    // INTEGRATED mode: requires API Plugin\n    else if (mode === 'integrated') {\n      if (!apiPlugin || !apiPlugin.server) {\n        throw new Error(\n          '[Metrics Plugin] prometheus.mode=integrated requires API Plugin to be active'\n        );\n      }\n      await this._setupIntegratedMetrics(apiPlugin);\n    }\n\n    // STANDALONE mode: always separate server\n    else if (mode === 'standalone') {\n      await this._setupStandaloneMetrics();\n    }\n\n    else {\n      console.warn(\n        `[Metrics Plugin] Unknown prometheus.mode=\"${mode}\". Valid modes: auto, integrated, standalone`\n      );\n    }\n  }\n\n  /**\n   * Setup integrated metrics (uses API Plugin's server)\n   * @param {ApiPlugin} apiPlugin - API Plugin instance\n   * @private\n   */\n  async _setupIntegratedMetrics(apiPlugin) {\n    const app = apiPlugin.getApp();\n    const path = this.config.prometheus.path;\n\n    if (!app) {\n      console.error('[Metrics Plugin] Failed to get Hono app from API Plugin');\n      return;\n    }\n\n    // Add /metrics route to Hono app\n    app.get(path, async (c) => {\n      try {\n        const metrics = await this.getPrometheusMetrics();\n        return c.text(metrics, 200, {\n          'Content-Type': 'text/plain; version=0.0.4; charset=utf-8'\n        });\n      } catch (err) {\n        console.error('[Metrics Plugin] Error generating Prometheus metrics:', err);\n        return c.text('Internal Server Error', 500);\n      }\n    });\n\n    const port = apiPlugin.config?.port || 3000;\n    console.log(\n      `[Metrics Plugin] Prometheus metrics available at http://localhost:${port}${path} (integrated mode)`\n    );\n  }\n\n  /**\n   * Setup standalone metrics server (separate HTTP server)\n   * @private\n   */\n  async _setupStandaloneMetrics() {\n    const { createServer } = await import('http');\n    const port = this.config.prometheus.port;\n    const path = this.config.prometheus.path;\n\n    this.metricsServer = createServer(async (req, res) => {\n      // CORS headers to allow scraping from anywhere\n      res.setHeader('Access-Control-Allow-Origin', '*');\n      res.setHeader('Access-Control-Allow-Methods', 'GET');\n      res.setHeader('Access-Control-Allow-Headers', 'Content-Type');\n\n      if (req.url === path && req.method === 'GET') {\n        try {\n          const metrics = await this.getPrometheusMetrics();\n          res.writeHead(200, {\n            'Content-Type': 'text/plain; version=0.0.4; charset=utf-8',\n            'Content-Length': Buffer.byteLength(metrics, 'utf8')\n          });\n          res.end(metrics);\n        } catch (err) {\n          console.error('[Metrics Plugin] Error generating Prometheus metrics:', err);\n          res.writeHead(500, { 'Content-Type': 'text/plain' });\n          res.end('Internal Server Error');\n        }\n      } else if (req.method === 'OPTIONS') {\n        // Handle preflight requests\n        res.writeHead(204);\n        res.end();\n      } else {\n        res.writeHead(404, { 'Content-Type': 'text/plain' });\n        res.end('Not Found');\n      }\n    });\n\n    this.metricsServer.listen(port, '0.0.0.0', () => {\n      console.log(\n        `[Metrics Plugin] Prometheus metrics available at http://0.0.0.0:${port}${path} (standalone mode)`\n      );\n    });\n\n    // Handle server errors\n    this.metricsServer.on('error', (err) => {\n      console.error('[Metrics Plugin] Standalone metrics server error:', err);\n    });\n  }\n}\n\nexport default MetricsPlugin; ","import tryFn from \"../../concerns/try-fn.js\";\nimport requirePluginDependency from \"../concerns/plugin-dependencies.js\";\n// Remove static SDK import\n// import { SQSClient, ReceiveMessageCommand, DeleteMessageCommand } from '@aws-sdk/client-sqs';\n\nexport class SqsConsumer {\n  constructor({ queueUrl, onMessage, onError, poolingInterval = 5000, maxMessages = 10, region = 'us-east-1', credentials, endpoint, driver = 'sqs' }) {\n    this.driver = driver;\n    this.queueUrl = queueUrl;\n    this.onMessage = onMessage;\n    this.onError = onError;\n    this.poolingInterval = poolingInterval;\n    this.maxMessages = maxMessages;\n    this.region = region;\n    this.credentials = credentials;\n    this.endpoint = endpoint;\n    this.sqs = null; // will be initialized dynamically\n    this._stopped = false;\n    this._timer = null;\n    this._pollPromise = null;\n    this._pollResolve = null;\n    // SDK classes\n    this._SQSClient = null;\n    this._ReceiveMessageCommand = null;\n    this._DeleteMessageCommand = null;\n  }\n\n  async start() {\n    // Validate plugin dependencies are installed\n    await requirePluginDependency('sqs-consumer');\n\n    // Carregar SDK dinamicamente\n    const [ok, err, sdk] = await tryFn(() => import('@aws-sdk/client-sqs'));\n    if (!ok) throw new Error('SqsConsumer: @aws-sdk/client-sqs is not installed. Please install it to use the SQS consumer.');\n    const { SQSClient, ReceiveMessageCommand, DeleteMessageCommand } = sdk;\n    this._SQSClient = SQSClient;\n    this._ReceiveMessageCommand = ReceiveMessageCommand;\n    this._DeleteMessageCommand = DeleteMessageCommand;\n    this.sqs = new SQSClient({ region: this.region, credentials: this.credentials, endpoint: this.endpoint });\n    this._stopped = false;\n    this._pollPromise = new Promise((resolve) => { this._pollResolve = resolve; });\n    this._poll();\n  }\n\n  async stop() {\n    this._stopped = true;\n    if (this._timer) {\n      clearTimeout(this._timer);\n      this._timer = null;\n    }\n    // Don't wait for poll promise as it might hang for up to 10 seconds\n    // The _poll method checks _stopped and will resolve the promise\n    if (this._pollResolve) {\n      this._pollResolve();\n    }\n  }\n\n  async _poll() {\n    if (this._stopped) {\n      if (this._pollResolve) this._pollResolve();\n      return;\n    }\n    const [ok, err, result] = await tryFn(async () => {\n      const cmd = new this._ReceiveMessageCommand({\n        QueueUrl: this.queueUrl,\n        MaxNumberOfMessages: this.maxMessages,\n        WaitTimeSeconds: 10,\n        MessageAttributeNames: ['All'],\n      });\n      const { Messages } = await this.sqs.send(cmd);\n      if (Messages && Messages.length > 0) {\n        for (const msg of Messages) {\n          const [okMsg, errMsg] = await tryFn(async () => {\n            const parsedMsg = this._parseMessage(msg);\n            await this.onMessage(parsedMsg, msg);\n            // Delete after successful processing\n            await this.sqs.send(new this._DeleteMessageCommand({\n              QueueUrl: this.queueUrl,\n              ReceiptHandle: msg.ReceiptHandle\n            }));\n          });\n          if (!okMsg && this.onError) {\n            this.onError(errMsg, msg);\n          }\n        }\n      }\n    });\n    if (!ok && this.onError) {\n      this.onError(err);\n    }\n    this._timer = setTimeout(() => this._poll(), this.poolingInterval);\n  }\n\n  _parseMessage(msg) {\n    let body;\n    const [ok, err, parsed] = tryFn(() => JSON.parse(msg.Body));\n    body = ok ? parsed : msg.Body;\n    const attributes = {};\n    if (msg.MessageAttributes) {\n      for (const [k, v] of Object.entries(msg.MessageAttributes)) {\n        attributes[k] = v.StringValue;\n      }\n    }\n    return { $body: body, $attributes: attributes, $raw: msg };\n  }\n} ","import tryFn from \"../../concerns/try-fn.js\";\nimport requirePluginDependency from \"../concerns/plugin-dependencies.js\";\n\nexport class RabbitMqConsumer {\n  constructor({ amqpUrl, queue, prefetch = 10, reconnectInterval = 2000, onMessage, onError, driver = 'rabbitmq' }) {\n    this.amqpUrl = amqpUrl;\n    this.queue = queue;\n    this.prefetch = prefetch;\n    this.reconnectInterval = reconnectInterval;\n    this.onMessage = onMessage;\n    this.onError = onError;\n    this.driver = driver;\n    this.connection = null;\n    this.channel = null;\n    this._stopped = false;\n  }\n\n  async start() {\n    // Validate plugin dependencies are installed\n    await requirePluginDependency('rabbitmq-consumer');\n\n    this._stopped = false;\n    await this._connect();\n  }\n\n  async stop() {\n    this._stopped = true;\n    if (this.channel) await this.channel.close();\n    if (this.connection) await this.connection.close();\n  }\n\n  async _connect() {\n    const [ok, err] = await tryFn(async () => {\n      const amqp = (await import('amqplib')).default;\n      this.connection = await amqp.connect(this.amqpUrl);\n      this.channel = await this.connection.createChannel();\n      await this.channel.assertQueue(this.queue, { durable: true });\n      this.channel.prefetch(this.prefetch);\n      this.channel.consume(this.queue, async (msg) => {\n        if (msg !== null) {\n          const [okMsg, errMsg] = await tryFn(async () => {\n            const content = JSON.parse(msg.content.toString());\n            await this.onMessage({ $body: content, $raw: msg });\n            this.channel.ack(msg);\n          });\n          if (!okMsg) {\n            if (this.onError) this.onError(errMsg, msg);\n            this.channel.nack(msg, false, false);\n          }\n        }\n      });\n    });\n    if (!ok) {\n      if (this.onError) this.onError(err);\n      if (!this._stopped) {\n        setTimeout(() => this._connect(), this.reconnectInterval);\n      }\n    }\n  }\n} ","import { SqsConsumer } from './sqs-consumer.js';\nimport { RabbitMqConsumer } from './rabbitmq-consumer.js';\n\nexport { SqsConsumer, RabbitMqConsumer };\n\nexport const CONSUMER_DRIVERS = {\n  sqs: SqsConsumer,\n  rabbitmq: RabbitMqConsumer,\n  // kafka: KafkaConsumer, // futuro\n};\n\n/**\n * Creates a consumer instance based on the driver\n * @param {string} driver - Driver type (sqs, rabbitmq, kafka...)\n * @param {Object} config - Consumer configuration\n * @returns {SqsConsumer|RabbitMqConsumer|KafkaConsumer}\n */\nexport function createConsumer(driver, config) {\n  const ConsumerClass = CONSUMER_DRIVERS[driver];\n  if (!ConsumerClass) {\n    throw new Error(`Unknown consumer driver: ${driver}. Available: ${Object.keys(CONSUMER_DRIVERS).join(', ')}`);\n  }\n  return new ConsumerClass(config);\n} ","import { S3dbError } from '../errors.js';\n\n/**\n * QueueError - Errors related to queue operations\n *\n * Used for queue operations including:\n * - Message enqueueing and dequeueing\n * - Queue consumer registration\n * - Message processing\n * - Dead letter queue handling\n * - Queue configuration and management\n *\n * @extends S3dbError\n */\nexport class QueueError extends S3dbError {\n  constructor(message, details = {}) {\n    const { queueName, operation = 'unknown', messageId, ...rest } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nQueue Operation Error\n\nOperation: ${operation}\n${queueName ? `Queue: ${queueName}` : ''}\n${messageId ? `Message ID: ${messageId}` : ''}\n\nCommon causes:\n1. Queue not properly configured\n2. Message handler not registered\n3. Queue resource not found\n4. SQS/RabbitMQ connection failed\n5. Message processing timeout\n\nSolution:\nCheck queue configuration and message handler registration.\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/queue.md\n`.trim();\n    }\n\n    super(message, { ...rest, queueName, operation, messageId, description });\n  }\n}\n\nexport default QueueError;\n","import { Plugin } from './plugin.class.js';\nimport { createConsumer } from './consumers/index.js';\nimport tryFn from \"../concerns/try-fn.js\";\nimport { QueueError } from \"./queue.errors.js\";\n\n// Example configuration for SQS:\n// const plugin = new QueueConsumerPlugin({\n//   driver: 'sqs',\n//   queues: { users: 'https://sqs.us-east-1.amazonaws.com/123456789012/my-queue' },\n//   region: 'us-east-1',\n//   credentials: { accessKeyId: '...', secretAccessKey: '...' },\n//   poolingInterval: 1000,\n//   maxMessages: 10,\n// });\n//\n// Example configuration for RabbitMQ:\n// const plugin = new QueueConsumerPlugin({\n//   driver: 'rabbitmq',\n//   queues: { users: 'users-queue' },\n//   amqpUrl: 'amqp://user:pass@localhost:5672',\n//   prefetch: 10,\n//   reconnectInterval: 2000,\n// });\n\nexport class QueueConsumerPlugin extends Plugin {\n  constructor(options = {}) {\n    super(options);\n    this.options = options;\n    // New pattern: consumers = [{ driver, config, consumers: [{ queueUrl, resources, ... }] }]\n    this.driversConfig = Array.isArray(options.consumers) ? options.consumers : [];\n    this.consumers = [];\n  }\n\n  async onInstall() {\n    \n    for (const driverDef of this.driversConfig) {\n      const { driver, config: driverConfig = {}, consumers: consumerDefs = [] } = driverDef;\n\n      // Structured format: { driver: 'sqs', config: {...}, consumers: [{ resources: 'users', ... }] }\n      for (const consumerDef of consumerDefs) {\n        const { resources, ...consumerConfig } = consumerDef;\n        const resourceList = Array.isArray(resources) ? resources : [resources];\n        for (const resource of resourceList) {\n          const mergedConfig = { ...driverConfig, ...consumerConfig };\n          const consumer = createConsumer(driver, {\n            ...mergedConfig,\n            onMessage: (msg) => this._handleMessage(msg, resource),\n            onError: (err, raw) => this._handleError(err, raw, resource)\n          });\n          await consumer.start();\n          this.consumers.push(consumer);\n        }\n      }\n    }\n  }\n\n  async stop() {\n    if (!Array.isArray(this.consumers)) this.consumers = [];\n    for (const consumer of this.consumers) {\n      if (consumer && typeof consumer.stop === 'function') {\n        await consumer.stop();\n      }\n    }\n    this.consumers = [];\n  }\n\n  async _handleMessage(msg, configuredResource) {\n    const opt = this.options;\n    // Permitir resource/action/data tanto na raiz quanto em $body\n    // Handle double nesting from SQS parsing\n    let body = msg.$body || msg;\n    if (body.$body && !body.resource && !body.action && !body.data) {\n      // Double nested case - use the inner $body\n      body = body.$body;\n    }\n    \n    let resource = body.resource || msg.resource;\n    let action = body.action || msg.action;\n    let data = body.data || msg.data;\n    \n\n    \n    if (!resource) {\n      throw new QueueError('Resource not found in message', {\n        operation: 'handleMessage',\n        queueName: configuredResource,\n        messageBody: body,\n        suggestion: 'Ensure message includes a \"resource\" field specifying the target resource name'\n      });\n    }\n    if (!action) {\n      throw new QueueError('Action not found in message', {\n        operation: 'handleMessage',\n        queueName: configuredResource,\n        resource,\n        messageBody: body,\n        suggestion: 'Ensure message includes an \"action\" field (insert, update, or delete)'\n      });\n    }\n    const resourceObj = this.database.resources[resource];\n    if (!resourceObj) {\n      throw new QueueError(`Resource '${resource}' not found`, {\n        operation: 'handleMessage',\n        queueName: configuredResource,\n        resource,\n        availableResources: Object.keys(this.database.resources),\n        suggestion: 'Check resource name or ensure resource is created before consuming messages'\n      });\n    }\n    \n    let result;\n    const [ok, err, res] = await tryFn(async () => {\n      if (action === 'insert') {\n        result = await resourceObj.insert(data);\n      } else if (action === 'update') {\n        const { id: updateId, ...updateAttributes } = data;\n        result = await resourceObj.update(updateId, updateAttributes);\n      } else if (action === 'delete') {\n        result = await resourceObj.delete(data.id);\n      } else {\n        throw new QueueError(`Unsupported action '${action}'`, {\n          operation: 'handleMessage',\n          queueName: configuredResource,\n          resource,\n          action,\n          supportedActions: ['insert', 'update', 'delete'],\n          suggestion: 'Use one of the supported actions: insert, update, or delete'\n        });\n      }\n      return result;\n    });\n    \n    if (!ok) {\n      throw err;\n    }\n    return res;\n  }\n\n  _handleError(err, raw, resourceName) {\n  }\n}\n\nexport default QueueConsumerPlugin;","/**\n * RelationPlugin Error Classes\n * Custom errors for relation operations\n */\n\n/**\n * Base error for all relation operations\n */\nexport class RelationError extends Error {\n  constructor(message, context = {}) {\n    super(message);\n    this.name = 'RelationError';\n    this.context = context;\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\n\n/**\n * Thrown when relation configuration is invalid\n */\nexport class RelationConfigError extends RelationError {\n  constructor(message, context = {}) {\n    super(message, context);\n    this.name = 'RelationConfigError';\n  }\n}\n\n/**\n * Thrown when a relation type is not supported\n */\nexport class UnsupportedRelationTypeError extends RelationError {\n  constructor(type, context = {}) {\n    super(`Unsupported relation type: ${type}. Supported types: hasOne, hasMany, belongsTo, belongsToMany`, context);\n    this.name = 'UnsupportedRelationTypeError';\n    this.relationType = type;\n  }\n}\n\n/**\n * Thrown when a related resource is not found\n */\nexport class RelatedResourceNotFoundError extends RelationError {\n  constructor(resourceName, context = {}) {\n    super(`Related resource \"${resourceName}\" not found`, context);\n    this.name = 'RelatedResourceNotFoundError';\n    this.resourceName = resourceName;\n  }\n}\n\n/**\n * Thrown when a junction table is missing for belongsToMany\n */\nexport class JunctionTableNotFoundError extends RelationError {\n  constructor(junctionTable, context = {}) {\n    super(`Junction table \"${junctionTable}\" not found for belongsToMany relation`, context);\n    this.name = 'JunctionTableNotFoundError';\n    this.junctionTable = junctionTable;\n  }\n}\n\n/**\n * Thrown when cascade operation fails\n */\nexport class CascadeError extends RelationError {\n  constructor(operation, resourceName, recordId, originalError, context = {}) {\n    super(\n      `Cascade ${operation} failed for resource \"${resourceName}\" record \"${recordId}\": ${originalError.message}`,\n      context\n    );\n    this.name = 'CascadeError';\n    this.operation = operation;\n    this.resourceName = resourceName;\n    this.recordId = recordId;\n    this.originalError = originalError;\n  }\n}\n\n/**\n * Thrown when foreign key is missing\n */\nexport class MissingForeignKeyError extends RelationError {\n  constructor(foreignKey, resourceName, context = {}) {\n    super(`Foreign key \"${foreignKey}\" not found in resource \"${resourceName}\"`, context);\n    this.name = 'MissingForeignKeyError';\n    this.foreignKey = foreignKey;\n    this.resourceName = resourceName;\n  }\n}\n\n/**\n * Thrown when trying to load relations on non-existent record\n */\nexport class RecordNotFoundError extends RelationError {\n  constructor(recordId, resourceName, context = {}) {\n    super(`Record \"${recordId}\" not found in resource \"${resourceName}\"`, context);\n    this.name = 'RecordNotFoundError';\n    this.recordId = recordId;\n    this.resourceName = resourceName;\n  }\n}\n\n/**\n * Thrown when circular relation is detected\n */\nexport class CircularRelationError extends RelationError {\n  constructor(path, context = {}) {\n    super(`Circular relation detected in path: ${path.join(' -> ')}`, context);\n    this.name = 'CircularRelationError';\n    this.relationPath = path;\n  }\n}\n\n/**\n * Thrown when include path is invalid\n */\nexport class InvalidIncludePathError extends RelationError {\n  constructor(path, reason, context = {}) {\n    super(`Invalid include path \"${path}\": ${reason}`, context);\n    this.name = 'InvalidIncludePathError';\n    this.includePath = path;\n    this.reason = reason;\n  }\n}\n\n/**\n * Thrown when batch loading fails\n */\nexport class BatchLoadError extends RelationError {\n  constructor(relation, batchSize, failedCount, context = {}) {\n    super(\n      `Batch loading failed for relation \"${relation}\". Failed ${failedCount} out of ${batchSize} records`,\n      context\n    );\n    this.name = 'BatchLoadError';\n    this.relation = relation;\n    this.batchSize = batchSize;\n    this.failedCount = failedCount;\n  }\n}\n","import Plugin from \"./plugin.class.js\";\nimport tryFn from \"../concerns/try-fn.js\";\nimport {\n  RelationError,\n  RelationConfigError,\n  UnsupportedRelationTypeError,\n  RelatedResourceNotFoundError,\n  JunctionTableNotFoundError,\n  CascadeError,\n  MissingForeignKeyError,\n  CircularRelationError,\n  InvalidIncludePathError,\n  BatchLoadError\n} from \"./relation.errors.js\";\n\n/**\n * RelationPlugin - High-Performance Relationship Support for S3DB\n *\n * Enables defining and querying relationships between resources with automatic partition optimization:\n * - **hasOne** (1:1): User → Profile\n * - **hasMany** (1:n): User → Posts\n * - **belongsTo** (n:1): Post → User\n * - **belongsToMany** (m:n): Post ↔ Tags (via junction table)\n *\n * === 🚀 Key Features ===\n * ✅ **Eager loading** with `include` option (load relations in advance)\n * ✅ **Lazy loading** with dynamic methods (load on demand)\n * ✅ **Cascade operations** (delete/update related records automatically)\n * ✅ **N+1 prevention** with intelligent batch loading\n * ✅ **Nested relations** (load relations of relations)\n * ✅ **Cache integration** (works with CachePlugin)\n * ✅ **Automatic partition detection** (10-100x faster queries)\n * ✅ **Partition caching** (eliminates repeated lookups)\n * ✅ **Query deduplication** (avoids redundant S3 calls)\n * ✅ **Explicit partition hints** (fine-grained control when needed)\n *\n * === ⚡ Performance Optimizations (Auto-Applied) ===\n * 1. **Auto-detection**: Automatically finds and uses partitions when available\n * 2. **Smart preference**: Prefers single-field partitions over multi-field (more specific = faster)\n * 3. **Partition caching**: Caches partition lookups to avoid repeated discovery (100% faster on cache hits)\n * 4. **Query deduplication**: Removes duplicate keys before querying (30-80% fewer queries)\n * 5. **Controlled parallelism**: Batch loading with configurable parallelism (default: 10 concurrent)\n * 6. **Cascade optimization**: Uses partitions in cascade delete/update operations (10-100x faster)\n * 7. **Zero-config**: All optimizations work automatically - no configuration required!\n *\n * === 📊 Performance Benchmarks ===\n *\n * **Without Partitions**:\n * - hasMany(100 records): ~5000ms (O(n) full scan)\n * - belongsTo(100 records): ~5000ms (O(n) full scan)\n * - belongsToMany(50 posts, 200 tags): ~15000ms (O(n) scans)\n *\n * **With Partitions** (automatic):\n * - hasMany(100 records): ~50ms (O(1) partition lookup) → **100x faster**\n * - belongsTo(100 records): ~50ms (O(1) partition lookup) → **100x faster**\n * - belongsToMany(50 posts, 200 tags): ~150ms (O(1) lookups) → **100x faster**\n *\n * **With Deduplication**:\n * - 100 users loading same author: 1 query instead of 100 → **30-80% reduction**\n *\n * === 🎯 Best Practices for Maximum Performance ===\n *\n * 1. **Always create partitions on foreign keys**:\n *    ```javascript\n *    // posts resource\n *    partitions: {\n *      byUserId: { fields: { userId: 'string' } }  // ← Critical for hasMany/belongsTo\n *    }\n *    ```\n *\n * 2. **Use single-field partitions for relations**:\n *    ✅ GOOD: `{ byUserId: { fields: { userId: 'string' } } }`\n *    ❌ AVOID: `{ byUserAndDate: { fields: { userId: 'string', createdAt: 'number' } } }`\n *    (Multi-field partitions are slower for simple lookups)\n *\n * 3. **For m:n, partition junction tables on both foreign keys**:\n *    ```javascript\n *    // post_tags junction table\n *    partitions: {\n *      byPost: { fields: { postId: 'string' } },   // ← For loading tags of a post\n *      byTag: { fields: { tagId: 'string' } }      // ← For loading posts of a tag\n *    }\n *    ```\n *\n * 4. **Monitor partition usage** (verbose mode):\n *    ```javascript\n *    const plugin = new RelationPlugin({ verbose: true });\n *    // Logs when partitions are used vs full scans\n *    ```\n *\n * 5. **Check stats regularly**:\n *    ```javascript\n *    const stats = plugin.getStats();\n *    console.log(`Cache hits: ${stats.partitionCacheHits}`);\n *    console.log(`Deduped queries: ${stats.deduplicatedQueries}`);\n *    console.log(`Batch loads: ${stats.batchLoads}`);\n *    ```\n *\n * === 📝 Configuration Example ===\n *\n * new RelationPlugin({\n *   relations: {\n *     users: {\n *       profile: {\n *         type: 'hasOne',\n *         resource: 'profiles',\n *         foreignKey: 'userId',\n *         localKey: 'id',\n *         partitionHint: 'byUserId', // Optional: explicit partition\n *         eager: false,\n *         cascade: []\n *       },\n *       posts: {\n *         type: 'hasMany',\n *         resource: 'posts',\n *         foreignKey: 'userId',\n *         localKey: 'id',\n *         partitionHint: 'byAuthor', // Optional: explicit partition\n *         cascade: ['delete']\n *       }\n *     },\n *     posts: {\n *       author: {\n *         type: 'belongsTo',\n *         resource: 'users',\n *         foreignKey: 'userId',\n *         localKey: 'id'\n *       },\n *       tags: {\n *         type: 'belongsToMany',\n *         resource: 'tags',\n *         through: 'post_tags',\n *         foreignKey: 'postId',\n *         otherKey: 'tagId',\n *         junctionPartitionHint: 'byPost', // Optional: junction table partition\n *         partitionHint: 'byId' // Optional: related resource partition\n *       }\n *     }\n *   },\n *   cache: true,\n *   batchSize: 100,\n *   preventN1: true,\n *   verbose: false,\n *   fallbackLimit: null,  // null = no limit (recommended), number = max records in fallback queries\n *   cascadeBatchSize: 10,  // Parallel operations in cascade delete/update (default: 10)\n *   cascadeTransactions: false  // Enable rollback on cascade failures (default: false)\n * })\n *\n * === 💡 Usage Examples ===\n *\n * **Basic Eager Loading** (load relations upfront):\n * ```javascript\n * const user = await users.get('u1', { include: ['profile', 'posts'] });\n * console.log(user.profile.bio);\n * console.log(user.posts.length); // Already loaded, no additional query\n * ```\n *\n * **Nested Includes** (load relations of relations):\n * ```javascript\n * const user = await users.get('u1', {\n *   include: {\n *     posts: {\n *       include: ['comments', 'tags']  // Load posts → comments and posts → tags\n *     }\n *   }\n * });\n * user.posts.forEach(post => {\n *   console.log(`${post.title}: ${post.comments.length} comments`);\n * });\n * ```\n *\n * **Lazy Loading** (load on demand):\n * ```javascript\n * const user = await users.get('u1');\n * const posts = await user.posts();      // Loaded only when needed\n * const profile = await user.profile();  // Uses partition automatically\n * ```\n *\n * **Batch Loading** (N+1 prevention):\n * ```javascript\n * // Load 100 users with their posts - only 2 queries total (not 101)!\n * const users = await users.list({ limit: 100, include: ['posts'] });\n * // Plugin automatically batches the post queries\n * ```\n *\n * **Cascade Delete** (automatic cleanup):\n * ```javascript\n * // Delete user and all related posts automatically\n * await users.delete('u1');\n * // Uses partition for efficient cascade (10-100x faster than full scan)\n * ```\n *\n * **Many-to-Many** (via junction table):\n * ```javascript\n * const post = await posts.get('p1', { include: ['tags'] });\n * console.log(post.tags); // ['nodejs', 'database', 's3']\n * ```\n *\n * **Partition Hints** (explicit control):\n * ```javascript\n * // When you have multiple partitions and want to specify which one to use\n * relations: {\n *   posts: {\n *     type: 'hasMany',\n *     resource: 'posts',\n *     foreignKey: 'userId',\n *     partitionHint: 'byAuthor'  // Use this specific partition\n *   }\n * }\n * ```\n *\n * **Monitor Performance** (debugging):\n * ```javascript\n * const plugin = new RelationPlugin({ verbose: true });\n * await database.usePlugin(plugin);\n *\n * // Later, check stats\n * const stats = plugin.getStats();\n * console.log('Performance Stats:');\n * console.log(`- Partition cache hits: ${stats.partitionCacheHits}`);\n * console.log(`- Deduped queries: ${stats.deduplicatedQueries}`);\n * console.log(`- Batch loads: ${stats.batchLoads}`);\n * console.log(`- Total relation loads: ${stats.totalRelationLoads}`);\n * ```\n *\n * === 🔧 Troubleshooting ===\n *\n * **\"No partition found\" warnings**:\n * - Create partitions on foreign keys for optimal performance\n * - Example: `partitions: { byUserId: { fields: { userId: 'string' } } }`\n *\n * **Slow relation loading**:\n * - Enable verbose mode to see which queries use partitions\n * - Check `partitionCacheHits` - should be > 0 for repeated operations\n * - Verify partition exists on the foreign key field\n *\n * **High query counts**:\n * - Check `deduplicatedQueries` stat - should show eliminated duplicates\n * - Ensure `preventN1: true` (default) is enabled\n * - Use eager loading instead of lazy loading for bulk operations\n *\n * === 🎓 Real-World Use Cases ===\n *\n * **Blog System**:\n * ```javascript\n * // Load blog post with author, comments, and tags - 4 partitioned queries\n * const post = await posts.get('post-123', {\n *   include: {\n *     author: true,\n *     comments: { include: ['author'] },\n *     tags: true\n *   }\n * });\n * // Total time: ~100ms (vs ~20s without partitions)\n * ```\n *\n * **E-commerce**:\n * ```javascript\n * // Load user with orders, order items, and products\n * const user = await users.get('user-456', {\n *   include: {\n *     orders: {\n *       include: {\n *         items: { include: ['product'] }\n *       }\n *     }\n *   }\n * });\n * ```\n *\n * **Social Network**:\n * ```javascript\n * // Load user profile with followers, following, and posts\n * const profile = await users.get('user-789', {\n *   include: ['followers', 'following', 'posts']\n * });\n * ```\n */\nclass RelationPlugin extends Plugin {\n  constructor(config = {}) {\n    super(config);\n\n    this.relations = config.relations || {};\n    this.cache = config.cache !== undefined ? config.cache : true;\n    this.batchSize = config.batchSize || 100;\n    this.preventN1 = config.preventN1 !== undefined ? config.preventN1 : true;\n    this.verbose = config.verbose || false;\n\n    // Fallback limit for non-partitioned queries\n    // null = no limit (load all records, slower but correct)\n    // number = max records to load (faster but may truncate)\n    // WARNING: Setting a limit may cause silent data loss if you have more related records!\n    this.fallbackLimit = config.fallbackLimit !== undefined ? config.fallbackLimit : null;\n\n    // Cascade batch size for parallel delete/update operations\n    // Higher = faster but more memory/connections (default: 10)\n    this.cascadeBatchSize = config.cascadeBatchSize || 10;\n\n    // Enable transaction/rollback support for cascade operations (default: false)\n    // When enabled, tracks all cascade operations and rolls back on failure\n    // Note: Best-effort rollback (S3 doesn't support true transactions)\n    this.cascadeTransactions = config.cascadeTransactions !== undefined ? config.cascadeTransactions : false;\n\n    // Track loaded relations per request to prevent N+1\n    this._loaderCache = new Map();\n\n    // Cache partition lookups (resourceName:fieldName -> partitionName)\n    this._partitionCache = new Map();\n\n    // Statistics\n    this.stats = {\n      totalRelationLoads: 0,\n      cachedLoads: 0,\n      batchLoads: 0,\n      cascadeOperations: 0,\n      partitionCacheHits: 0,\n      deduplicatedQueries: 0,\n      fallbackLimitWarnings: 0\n    };\n  }\n\n  /**\n   * Install the plugin (lifecycle hook)\n   * @override\n   */\n  async onInstall() {\n    console.log('[RelationPlugin] onInstall() called');\n    console.log('[RelationPlugin] Database connected:', !!this.database);\n    console.log('[RelationPlugin] Relations:', Object.keys(this.relations));\n\n    // Validate all relations upfront\n    this._validateRelationsConfig();\n\n    // Setup each resource with its relations\n    for (const [resourceName, relationsDef] of Object.entries(this.relations)) {\n      await this._setupResourceRelations(resourceName, relationsDef);\n    }\n\n    // Watch for resources created after plugin installation\n    this.database.addHook('afterCreateResource', async (context) => {\n      const { resource } = context;\n      const relationsDef = this.relations[resource.name];\n\n      if (relationsDef) {\n        await this._setupResourceRelations(resource.name, relationsDef);\n      }\n    });\n\n    if (this.verbose) {\n      console.log(`[RelationPlugin] Installed with ${Object.keys(this.relations).length} resources`);\n    }\n\n    this.emit('installed', {\n      plugin: 'RelationPlugin',\n      resources: Object.keys(this.relations)\n    });\n  }\n\n  /**\n   * Validate all relations configuration\n   * @private\n   */\n  _validateRelationsConfig() {\n    for (const [resourceName, relationsDef] of Object.entries(this.relations)) {\n      for (const [relationName, config] of Object.entries(relationsDef)) {\n        // Validate relation type\n        const validTypes = ['hasOne', 'hasMany', 'belongsTo', 'belongsToMany'];\n        if (!validTypes.includes(config.type)) {\n          throw new UnsupportedRelationTypeError(config.type, {\n            resource: resourceName,\n            relation: relationName\n          });\n        }\n\n        // Validate required fields\n        if (!config.resource) {\n          throw new RelationConfigError(\n            `Relation \"${relationName}\" on resource \"${resourceName}\" must have \"resource\" field`,\n            { resource: resourceName, relation: relationName }\n          );\n        }\n\n        if (!config.foreignKey) {\n          throw new RelationConfigError(\n            `Relation \"${relationName}\" on resource \"${resourceName}\" must have \"foreignKey\" field`,\n            { resource: resourceName, relation: relationName }\n          );\n        }\n\n        // Validate belongsToMany specific fields\n        if (config.type === 'belongsToMany') {\n          if (!config.through) {\n            throw new RelationConfigError(\n              `belongsToMany relation \"${relationName}\" must have \"through\" (junction table) configured`,\n              { resource: resourceName, relation: relationName }\n            );\n          }\n          if (!config.otherKey) {\n            throw new RelationConfigError(\n              `belongsToMany relation \"${relationName}\" must have \"otherKey\" configured`,\n              { resource: resourceName, relation: relationName }\n            );\n          }\n        }\n\n        // Set defaults\n        config.localKey = config.localKey || 'id';\n        config.eager = config.eager !== undefined ? config.eager : false;\n        config.cascade = config.cascade || [];\n      }\n    }\n  }\n\n  /**\n   * Setup a resource with relation capabilities\n   * @private\n   */\n  async _setupResourceRelations(resourceName, relationsDef) {\n    const resource = this.database.resources[resourceName];\n    if (!resource) {\n      if (this.verbose) {\n        console.warn(`[RelationPlugin] Resource \"${resourceName}\" not found, will setup when created`);\n      }\n      return;\n    }\n\n    // Store relations config on resource\n    resource._relations = relationsDef;\n\n    // Intercept get() to support eager loading\n    this._interceptGet(resource);\n\n    // Intercept list() to support eager loading\n    this._interceptList(resource);\n\n    // Intercept delete() to support cascade\n    this._interceptDelete(resource);\n\n    // Intercept update() to support cascade\n    this._interceptUpdate(resource);\n\n    if (this.verbose) {\n      console.log(\n        `[RelationPlugin] Setup ${Object.keys(relationsDef).length} relations for \"${resourceName}\"`\n      );\n    }\n  }\n\n  /**\n   * Intercept get() to add eager loading support\n   * @private\n   */\n  _interceptGet(resource) {\n    if (this.verbose) {\n      console.log(`[RelationPlugin] Intercepting get() for resource \"${resource.name}\"`);\n    }\n\n    this.wrapResourceMethod(resource, 'get', async (result, args) => {\n      const [id, options = {}] = args;\n\n      if (this.verbose) {\n        console.log(`[RelationPlugin] get() wrapper called for \"${resource.name}\" with options:`, options);\n      }\n\n      if (!result || !options.include) {\n        return result;\n      }\n\n      // Load eager relations\n      return await this._eagerLoad([result], options.include, resource).then(results => results[0]);\n    });\n  }\n\n  /**\n   * Intercept list() to add eager loading support\n   * @private\n   */\n  _interceptList(resource) {\n    this.wrapResourceMethod(resource, 'list', async (result, args) => {\n      const [options = {}] = args;\n\n      if (!result || result.length === 0 || !options.include) {\n        return result;\n      }\n\n      // Load eager relations\n      return await this._eagerLoad(result, options.include, resource);\n    });\n  }\n\n  /**\n   * Intercept delete() to add cascade support\n   * @private\n   */\n  _interceptDelete(resource) {\n    this.addMiddleware(resource, 'delete', async (next, id, options = {}) => {\n      // First get the record to know what to cascade\n      const record = await resource.get(id);\n      if (!record) {\n        return await next(id, options);\n      }\n\n      // Execute cascade deletes BEFORE deleting the main record\n      if (resource._relations) {\n        for (const [relationName, config] of Object.entries(resource._relations)) {\n          if (config.cascade && config.cascade.includes('delete')) {\n            await this._cascadeDelete(record, resource, relationName, config);\n          }\n        }\n      }\n\n      // Delete the main record\n      return await next(id, options);\n    });\n  }\n\n  /**\n   * Intercept update() to add cascade support (for foreign key updates)\n   * @private\n   */\n  _interceptUpdate(resource) {\n    this.wrapResourceMethod(resource, 'update', async (result, args) => {\n      const [id, changes, options = {}] = args;\n\n      // Check if local key was updated (rare but possible)\n      const localKeyChanged = resource._relations &&\n        Object.values(resource._relations).some(config => changes[config.localKey]);\n\n      if (localKeyChanged && !options.skipCascade) {\n        // Handle cascade updates for foreign key changes\n        for (const [relationName, config] of Object.entries(resource._relations)) {\n          if (config.cascade && config.cascade.includes('update') && changes[config.localKey]) {\n            await this._cascadeUpdate(result, changes, resource, relationName, config);\n          }\n        }\n      }\n\n      return result;\n    });\n  }\n\n  /**\n   * Eager load relations\n   * @private\n   */\n  async _eagerLoad(records, includes, resource) {\n    if (!records || records.length === 0) {\n      return records;\n    }\n\n    // Normalize includes to object format\n    const normalizedIncludes = this._normalizeIncludes(includes);\n\n    // Load each relation\n    for (const [relationName, subIncludes] of Object.entries(normalizedIncludes)) {\n      const config = resource._relations?.[relationName];\n      if (!config) {\n        throw new InvalidIncludePathError(\n          relationName,\n          `Relation \"${relationName}\" not defined on resource \"${resource.name}\"`\n        );\n      }\n\n      // Load this level of relation\n      records = await this._loadRelation(records, relationName, config, resource);\n\n      // Recursively load nested relations\n      if (subIncludes && typeof subIncludes === 'object' && subIncludes !== true) {\n        // Extract the actual includes from { include: [...] } format\n        const nestedIncludes = subIncludes.include || subIncludes;\n\n        for (const record of records) {\n          const relatedData = record[relationName];\n          if (relatedData) {\n            const relatedResource = this.database.resources[config.resource];\n            const relatedArray = Array.isArray(relatedData) ? relatedData : [relatedData];\n\n            if (relatedArray.length > 0) {\n              await this._eagerLoad(relatedArray, nestedIncludes, relatedResource);\n            }\n          }\n        }\n      }\n    }\n\n    return records;\n  }\n\n  /**\n   * Normalize includes format\n   * @private\n   */\n  _normalizeIncludes(includes) {\n    if (Array.isArray(includes)) {\n      // ['profile', 'posts'] => { profile: true, posts: true }\n      return includes.reduce((acc, rel) => ({ ...acc, [rel]: true }), {});\n    }\n\n    if (typeof includes === 'object') {\n      // Already normalized: { posts: { include: ['comments'] }, profile: true }\n      return includes;\n    }\n\n    if (typeof includes === 'string') {\n      // 'profile' => { profile: true }\n      return { [includes]: true };\n    }\n\n    return {};\n  }\n\n  /**\n   * Load a relation for an array of records\n   * @private\n   */\n  async _loadRelation(records, relationName, config, sourceResource) {\n    this.stats.totalRelationLoads++;\n\n    switch (config.type) {\n      case 'hasOne':\n        return await this._loadHasOne(records, relationName, config, sourceResource);\n      case 'hasMany':\n        return await this._loadHasMany(records, relationName, config, sourceResource);\n      case 'belongsTo':\n        return await this._loadBelongsTo(records, relationName, config, sourceResource);\n      case 'belongsToMany':\n        return await this._loadBelongsToMany(records, relationName, config, sourceResource);\n      default:\n        throw new UnsupportedRelationTypeError(config.type);\n    }\n  }\n\n  /**\n   * Load hasOne relation (User → Profile)\n   * @private\n   */\n  async _loadHasOne(records, relationName, config, sourceResource) {\n    const relatedResource = this.database.resources[config.resource];\n    if (!relatedResource) {\n      throw new RelatedResourceNotFoundError(config.resource, {\n        sourceResource: sourceResource.name,\n        relation: relationName\n      });\n    }\n\n    // Collect all unique local keys\n    const localKeys = [...new Set(records.map(r => r[config.localKey]).filter(Boolean))];\n\n    if (localKeys.length === 0) {\n      records.forEach(r => r[relationName] = null);\n      return records;\n    }\n\n    // Batch load related records - use partitions if available for efficiency\n    // Support explicit partition hint or auto-detect\n    const partitionName = config.partitionHint || this._findPartitionByField(relatedResource, config.foreignKey);\n    let relatedRecords;\n\n    if (partitionName) {\n      // Efficient: Use partition queries with controlled parallelism\n      relatedRecords = await this._batchLoadWithPartitions(\n        relatedResource,\n        partitionName,\n        config.foreignKey,\n        localKeys\n      );\n    } else {\n      // Fallback: Load all and filter (less efficient but works)\n      relatedRecords = await this._fallbackLoad(relatedResource, config.foreignKey, localKeys);\n    }\n\n    // Create lookup map\n    const relatedMap = new Map();\n    relatedRecords.forEach(related => {\n      relatedMap.set(related[config.foreignKey], related);\n    });\n\n    // Attach to records\n    records.forEach(record => {\n      const localKeyValue = record[config.localKey];\n      record[relationName] = relatedMap.get(localKeyValue) || null;\n    });\n\n    return records;\n  }\n\n  /**\n   * Load hasMany relation (User → Posts)\n   * @private\n   */\n  async _loadHasMany(records, relationName, config, sourceResource) {\n    const relatedResource = this.database.resources[config.resource];\n    if (!relatedResource) {\n      throw new RelatedResourceNotFoundError(config.resource, {\n        sourceResource: sourceResource.name,\n        relation: relationName\n      });\n    }\n\n    // Collect all unique local keys\n    const localKeys = [...new Set(records.map(r => r[config.localKey]).filter(Boolean))];\n\n    if (localKeys.length === 0) {\n      records.forEach(r => r[relationName] = []);\n      return records;\n    }\n\n    // Batch load related records - use partitions if available for efficiency\n    // Support explicit partition hint or auto-detect\n    const partitionName = config.partitionHint || this._findPartitionByField(relatedResource, config.foreignKey);\n    let relatedRecords;\n\n    if (partitionName) {\n      // Efficient: Use partition queries with controlled parallelism\n      relatedRecords = await this._batchLoadWithPartitions(\n        relatedResource,\n        partitionName,\n        config.foreignKey,\n        localKeys\n      );\n    } else {\n      // Fallback: Load all and filter (less efficient but works)\n      relatedRecords = await this._fallbackLoad(relatedResource, config.foreignKey, localKeys);\n    }\n\n    // Create lookup map (one-to-many)\n    const relatedMap = new Map();\n    relatedRecords.forEach(related => {\n      const fkValue = related[config.foreignKey];\n      if (!relatedMap.has(fkValue)) {\n        relatedMap.set(fkValue, []);\n      }\n      relatedMap.get(fkValue).push(related);\n    });\n\n    // Attach to records\n    records.forEach(record => {\n      const localKeyValue = record[config.localKey];\n      record[relationName] = relatedMap.get(localKeyValue) || [];\n    });\n\n    if (this.preventN1) {\n      this.stats.batchLoads++;\n    }\n\n    return records;\n  }\n\n  /**\n   * Load belongsTo relation (Post → User)\n   * @private\n   */\n  async _loadBelongsTo(records, relationName, config, sourceResource) {\n    const relatedResource = this.database.resources[config.resource];\n    if (!relatedResource) {\n      throw new RelatedResourceNotFoundError(config.resource, {\n        sourceResource: sourceResource.name,\n        relation: relationName\n      });\n    }\n\n    // Collect all unique foreign keys\n    const foreignKeys = [...new Set(records.map(r => r[config.foreignKey]).filter(Boolean))];\n\n    if (foreignKeys.length === 0) {\n      records.forEach(r => r[relationName] = null);\n      return records;\n    }\n\n    // Batch load parent records - use partitions if available for efficiency\n    const [ok, err, parentRecords] = await tryFn(async () => {\n      // Support explicit partition hint or auto-detect\n      const partitionName = config.partitionHint || this._findPartitionByField(relatedResource, config.localKey);\n\n      if (partitionName) {\n        // Efficient: Use partition queries with controlled parallelism\n        return await this._batchLoadWithPartitions(\n          relatedResource,\n          partitionName,\n          config.localKey,\n          foreignKeys\n        );\n      } else {\n        // Fallback: Load all and filter (less efficient but works)\n        return await this._fallbackLoad(relatedResource, config.localKey, foreignKeys);\n      }\n    });\n\n    if (!ok) {\n      throw new RelationError(`Failed to load belongsTo relation \"${relationName}\": ${err.message}`, {\n        sourceResource: sourceResource.name,\n        relatedResource: config.resource,\n        error: err\n      });\n    }\n\n    // Create lookup map\n    const parentMap = new Map();\n    parentRecords.forEach(parent => {\n      parentMap.set(parent[config.localKey], parent);\n    });\n\n    // Attach to records\n    records.forEach(record => {\n      const foreignKeyValue = record[config.foreignKey];\n      record[relationName] = parentMap.get(foreignKeyValue) || null;\n    });\n\n    if (this.preventN1) {\n      this.stats.batchLoads++;\n    }\n\n    return records;\n  }\n\n  /**\n   * Load belongsToMany relation via junction table (Post ↔ Tags)\n   * @private\n   */\n  async _loadBelongsToMany(records, relationName, config, sourceResource) {\n    const relatedResource = this.database.resources[config.resource];\n    if (!relatedResource) {\n      throw new RelatedResourceNotFoundError(config.resource, {\n        sourceResource: sourceResource.name,\n        relation: relationName\n      });\n    }\n\n    const junctionResource = this.database.resources[config.through];\n    if (!junctionResource) {\n      throw new JunctionTableNotFoundError(config.through, {\n        sourceResource: sourceResource.name,\n        relation: relationName\n      });\n    }\n\n    // Collect all unique local keys\n    const localKeys = [...new Set(records.map(r => r[config.localKey]).filter(Boolean))];\n\n    if (localKeys.length === 0) {\n      records.forEach(r => r[relationName] = []);\n      return records;\n    }\n\n    // Step 1: Load junction table records - use partitions if available for efficiency\n    // Support explicit partition hints or auto-detect\n    const junctionPartitionName = config.junctionPartitionHint || this._findPartitionByField(junctionResource, config.foreignKey);\n    let junctionRecords;\n\n    if (junctionPartitionName) {\n      // Efficient: Use partition queries with controlled parallelism\n      junctionRecords = await this._batchLoadWithPartitions(\n        junctionResource,\n        junctionPartitionName,\n        config.foreignKey,\n        localKeys\n      );\n    } else {\n      // Fallback: Load all and filter (less efficient but works)\n      junctionRecords = await this._fallbackLoad(junctionResource, config.foreignKey, localKeys);\n    }\n\n    if (junctionRecords.length === 0) {\n      records.forEach(r => r[relationName] = []);\n      return records;\n    }\n\n    // Step 2: Collect other keys (tag IDs)\n    const otherKeys = [...new Set(junctionRecords.map(j => j[config.otherKey]).filter(Boolean))];\n\n    // Step 3: Load related records (tags) - use partitions if available for efficiency\n    // Support explicit partition hint or auto-detect\n    const relatedPartitionName = config.partitionHint || this._findPartitionByField(relatedResource, config.localKey);\n    let relatedRecords;\n\n    if (relatedPartitionName) {\n      // Efficient: Use partition queries with controlled parallelism\n      relatedRecords = await this._batchLoadWithPartitions(\n        relatedResource,\n        relatedPartitionName,\n        config.localKey,\n        otherKeys\n      );\n    } else {\n      // Fallback: Load all and filter (less efficient but works)\n      relatedRecords = await this._fallbackLoad(relatedResource, config.localKey, otherKeys);\n    }\n\n    // Create maps\n    const relatedMap = new Map();\n    relatedRecords.forEach(related => {\n      relatedMap.set(related[config.localKey], related);\n    });\n\n    const junctionMap = new Map();\n    junctionRecords.forEach(junction => {\n      const fkValue = junction[config.foreignKey];\n      if (!junctionMap.has(fkValue)) {\n        junctionMap.set(fkValue, []);\n      }\n      junctionMap.get(fkValue).push(junction[config.otherKey]);\n    });\n\n    // Attach to records\n    records.forEach(record => {\n      const localKeyValue = record[config.localKey];\n      const otherKeyValues = junctionMap.get(localKeyValue) || [];\n\n      record[relationName] = otherKeyValues\n        .map(otherKey => relatedMap.get(otherKey))\n        .filter(Boolean);\n    });\n\n    if (this.preventN1) {\n      this.stats.batchLoads++;\n    }\n\n    return records;\n  }\n\n  /**\n   * Batch process operations with controlled parallelism\n   * @private\n   */\n  async _batchProcess(items, operation, batchSize = null) {\n    if (items.length === 0) return [];\n\n    const actualBatchSize = batchSize || this.cascadeBatchSize;\n    const results = [];\n\n    // Process in chunks to control parallelism\n    for (let i = 0; i < items.length; i += actualBatchSize) {\n      const chunk = items.slice(i, i + actualBatchSize);\n      const chunkPromises = chunk.map(item => operation(item));\n      const chunkResults = await Promise.all(chunkPromises);\n      results.push(...chunkResults);\n    }\n\n    return results;\n  }\n\n  /**\n   * Load records using fallback (full scan) when no partition is available\n   * Issues warnings when limit is reached to prevent silent data loss\n   * @private\n   */\n  async _fallbackLoad(resource, fieldName, filterValues) {\n    const options = this.fallbackLimit !== null ? { limit: this.fallbackLimit } : {};\n\n    if (this.verbose) {\n      console.log(\n        `[RelationPlugin] No partition found for ${resource.name}.${fieldName}, using full scan` +\n        (this.fallbackLimit ? ` (limited to ${this.fallbackLimit} records)` : ' (no limit)')\n      );\n    }\n\n    const allRecords = await resource.list(options);\n    const filteredRecords = allRecords.filter(r => filterValues.includes(r[fieldName]));\n\n    // WARNING: If we hit the limit, we may have missed some records!\n    if (this.fallbackLimit && allRecords.length >= this.fallbackLimit) {\n      this.stats.fallbackLimitWarnings++;\n      console.warn(\n        `[RelationPlugin] WARNING: Fallback query for ${resource.name}.${fieldName} hit the limit of ${this.fallbackLimit} records. ` +\n        `Some related records may be missing! Consider:\\n` +\n        `  1. Adding a partition on field \"${fieldName}\" for better performance\\n` +\n        `  2. Increasing fallbackLimit in plugin config (or set to null for no limit)\\n` +\n        `  Partition example: partitions: { by${fieldName.charAt(0).toUpperCase() + fieldName.slice(1)}: { fields: { ${fieldName}: 'string' } } }`\n      );\n    }\n\n    return filteredRecords;\n  }\n\n  /**\n   * Find partition by field name (for efficient relation loading)\n   * Uses cache to avoid repeated lookups\n   * @private\n   */\n  _findPartitionByField(resource, fieldName) {\n    if (!resource.config.partitions) return null;\n\n    // Check cache first\n    const cacheKey = `${resource.name}:${fieldName}`;\n    if (this._partitionCache.has(cacheKey)) {\n      this.stats.partitionCacheHits++;\n      return this._partitionCache.get(cacheKey);\n    }\n\n    // Find best partition for this field\n    // Prefer single-field partitions over multi-field ones (more specific)\n    let bestPartition = null;\n    let bestFieldCount = Infinity;\n\n    for (const [partitionName, partitionConfig] of Object.entries(resource.config.partitions)) {\n      if (partitionConfig.fields && fieldName in partitionConfig.fields) {\n        const fieldCount = Object.keys(partitionConfig.fields).length;\n\n        // Prefer partitions with fewer fields (more specific)\n        if (fieldCount < bestFieldCount) {\n          bestPartition = partitionName;\n          bestFieldCount = fieldCount;\n        }\n      }\n    }\n\n    // Cache the result (even if null, to avoid repeated lookups)\n    this._partitionCache.set(cacheKey, bestPartition);\n\n    return bestPartition;\n  }\n\n  /**\n   * Batch load records using partitions with controlled parallelism\n   * Deduplicates keys to avoid redundant queries\n   * @private\n   */\n  async _batchLoadWithPartitions(resource, partitionName, fieldName, keys) {\n    if (keys.length === 0) return [];\n\n    // Deduplicate keys to avoid redundant queries\n    const uniqueKeys = [...new Set(keys)];\n    const deduplicatedCount = keys.length - uniqueKeys.length;\n\n    if (deduplicatedCount > 0) {\n      this.stats.deduplicatedQueries += deduplicatedCount;\n      if (this.verbose) {\n        console.log(\n          `[RelationPlugin] Deduplicated ${deduplicatedCount} queries (${keys.length} -> ${uniqueKeys.length} unique keys)`\n        );\n      }\n    }\n\n    // Special case: single key - no batching needed\n    if (uniqueKeys.length === 1) {\n      return await resource.list({\n        partition: partitionName,\n        partitionValues: { [fieldName]: uniqueKeys[0] }\n      });\n    }\n\n    // Chunk keys to control parallelism (process in batches)\n    const chunkSize = this.batchSize || 10;\n    const chunks = [];\n    for (let i = 0; i < uniqueKeys.length; i += chunkSize) {\n      chunks.push(uniqueKeys.slice(i, i + chunkSize));\n    }\n\n    if (this.verbose) {\n      console.log(\n        `[RelationPlugin] Batch loading ${uniqueKeys.length} keys from ${resource.name} using partition ${partitionName} (${chunks.length} batches)`\n      );\n    }\n\n    // Process chunks sequentially to avoid overwhelming S3\n    const allResults = [];\n    for (const chunk of chunks) {\n      const chunkPromises = chunk.map(key =>\n        resource.list({\n          partition: partitionName,\n          partitionValues: { [fieldName]: key }\n        })\n      );\n      const chunkResults = await Promise.all(chunkPromises);\n      allResults.push(...chunkResults.flat());\n    }\n\n    return allResults;\n  }\n\n  /**\n   * Cascade delete operation\n   * Uses partitions when available for efficient cascade\n   * Supports transaction/rollback when enabled\n   * @private\n   */\n  async _cascadeDelete(record, resource, relationName, config) {\n    this.stats.cascadeOperations++;\n\n    const relatedResource = this.database.resources[config.resource];\n    if (!relatedResource) {\n      throw new RelatedResourceNotFoundError(config.resource, {\n        sourceResource: resource.name,\n        relation: relationName\n      });\n    }\n\n    // Track deleted records for rollback (if transactions enabled)\n    const deletedRecords = [];\n    const junctionResource = config.type === 'belongsToMany' ? this.database.resources[config.through] : null;\n\n    try {\n      if (config.type === 'hasMany') {\n        // Delete all related records - use partition if available\n        let relatedRecords;\n        const partitionName = this._findPartitionByField(relatedResource, config.foreignKey);\n\n        if (partitionName) {\n          // Efficient: Use partition query\n          relatedRecords = await relatedResource.list({\n            partition: partitionName,\n            partitionValues: { [config.foreignKey]: record[config.localKey] }\n          });\n          if (this.verbose) {\n            console.log(\n              `[RelationPlugin] Cascade delete using partition ${partitionName} for ${config.foreignKey}`\n            );\n          }\n        } else {\n          // Fallback: Use query()\n          relatedRecords = await relatedResource.query({\n            [config.foreignKey]: record[config.localKey]\n          });\n        }\n\n        // Track records for rollback if transactions enabled\n        if (this.cascadeTransactions) {\n          deletedRecords.push(...relatedRecords.map(r => ({ type: 'delete', resource: relatedResource, record: r })));\n        }\n\n        // Batch delete for better performance (10-100x faster than sequential)\n        await this._batchProcess(relatedRecords, async (related) => {\n          return await relatedResource.delete(related.id);\n        });\n\n        if (this.verbose) {\n          console.log(\n            `[RelationPlugin] Cascade deleted ${relatedRecords.length} ${config.resource} for ${resource.name}:${record.id} ` +\n            `(batched in ${Math.ceil(relatedRecords.length / this.cascadeBatchSize)} chunks)`\n          );\n        }\n      } else if (config.type === 'hasOne') {\n        // Delete single related record - use partition if available\n        let relatedRecords;\n        const partitionName = this._findPartitionByField(relatedResource, config.foreignKey);\n\n        if (partitionName) {\n          // Efficient: Use partition query\n          relatedRecords = await relatedResource.list({\n            partition: partitionName,\n            partitionValues: { [config.foreignKey]: record[config.localKey] }\n          });\n        } else {\n          // Fallback: Use query()\n          relatedRecords = await relatedResource.query({\n            [config.foreignKey]: record[config.localKey]\n          });\n        }\n\n        if (relatedRecords.length > 0) {\n          // Track for rollback if transactions enabled\n          if (this.cascadeTransactions) {\n            deletedRecords.push({ type: 'delete', resource: relatedResource, record: relatedRecords[0] });\n          }\n          await relatedResource.delete(relatedRecords[0].id);\n        }\n      } else if (config.type === 'belongsToMany') {\n        // Delete junction table entries - use partition if available\n        const junctionResource = this.database.resources[config.through];\n        if (junctionResource) {\n          let junctionRecords;\n          const partitionName = this._findPartitionByField(junctionResource, config.foreignKey);\n\n          if (partitionName) {\n            // Efficient: Use partition query\n            junctionRecords = await junctionResource.list({\n              partition: partitionName,\n              partitionValues: { [config.foreignKey]: record[config.localKey] }\n            });\n            if (this.verbose) {\n              console.log(\n                `[RelationPlugin] Cascade delete junction using partition ${partitionName}`\n              );\n            }\n          } else {\n            // Fallback: Use query()\n            junctionRecords = await junctionResource.query({\n              [config.foreignKey]: record[config.localKey]\n            });\n          }\n\n          // Track for rollback if transactions enabled\n          if (this.cascadeTransactions) {\n            deletedRecords.push(...junctionRecords.map(j => ({ type: 'delete', resource: junctionResource, record: j })));\n          }\n\n          // Batch delete for better performance (10-100x faster than sequential)\n          await this._batchProcess(junctionRecords, async (junction) => {\n            return await junctionResource.delete(junction.id);\n          });\n\n          if (this.verbose) {\n            console.log(\n              `[RelationPlugin] Cascade deleted ${junctionRecords.length} junction records from ${config.through} ` +\n              `(batched in ${Math.ceil(junctionRecords.length / this.cascadeBatchSize)} chunks)`\n            );\n          }\n        }\n      }\n    } catch (error) {\n      // Attempt rollback if transactions enabled\n      if (this.cascadeTransactions && deletedRecords.length > 0) {\n        console.error(\n          `[RelationPlugin] Cascade delete failed, attempting rollback of ${deletedRecords.length} records...`\n        );\n\n        const rollbackErrors = [];\n        // Rollback in reverse order (LIFO)\n        for (const { resource: res, record: rec } of deletedRecords.reverse()) {\n          try {\n            await res.insert(rec);\n          } catch (rollbackError) {\n            rollbackErrors.push({ record: rec.id, error: rollbackError.message });\n          }\n        }\n\n        if (rollbackErrors.length > 0) {\n          console.error(\n            `[RelationPlugin] Rollback partially failed for ${rollbackErrors.length} records:`,\n            rollbackErrors\n          );\n        } else if (this.verbose) {\n          console.log(`[RelationPlugin] Rollback successful, restored ${deletedRecords.length} records`);\n        }\n      }\n\n      throw new CascadeError('delete', resource.name, record.id, error, {\n        relation: relationName,\n        relatedResource: config.resource\n      });\n    }\n  }\n\n  /**\n   * Cascade update operation (update foreign keys when local key changes)\n   * Uses partitions when available for efficient cascade\n   * Supports transaction/rollback when enabled\n   * @private\n   */\n  async _cascadeUpdate(record, changes, resource, relationName, config) {\n    this.stats.cascadeOperations++;\n\n    const relatedResource = this.database.resources[config.resource];\n    if (!relatedResource) {\n      return;\n    }\n\n    // Track updated records for rollback (if transactions enabled)\n    const updatedRecords = [];\n\n    try {\n      const oldLocalKeyValue = record[config.localKey];\n      const newLocalKeyValue = changes[config.localKey];\n\n      if (oldLocalKeyValue === newLocalKeyValue) {\n        return;\n      }\n\n      // Update all related records' foreign keys - use partition if available\n      let relatedRecords;\n      const partitionName = this._findPartitionByField(relatedResource, config.foreignKey);\n\n      if (partitionName) {\n        // Efficient: Use partition query\n        relatedRecords = await relatedResource.list({\n          partition: partitionName,\n          partitionValues: { [config.foreignKey]: oldLocalKeyValue }\n        });\n        if (this.verbose) {\n          console.log(\n            `[RelationPlugin] Cascade update using partition ${partitionName} for ${config.foreignKey}`\n          );\n        }\n      } else {\n        // Fallback: Use query()\n        relatedRecords = await relatedResource.query({\n          [config.foreignKey]: oldLocalKeyValue\n        });\n      }\n\n      // Track old values for rollback if transactions enabled\n      if (this.cascadeTransactions) {\n        updatedRecords.push(...relatedRecords.map(r => ({\n          type: 'update',\n          resource: relatedResource,\n          id: r.id,\n          oldValue: r[config.foreignKey],\n          newValue: newLocalKeyValue,\n          field: config.foreignKey\n        })));\n      }\n\n      // Batch update for better performance (10-100x faster than sequential)\n      await this._batchProcess(relatedRecords, async (related) => {\n        return await relatedResource.update(related.id, {\n          [config.foreignKey]: newLocalKeyValue\n        }, { skipCascade: true }); // Prevent infinite cascade loop\n      });\n\n      if (this.verbose) {\n        console.log(\n          `[RelationPlugin] Cascade updated ${relatedRecords.length} ${config.resource} records ` +\n          `(batched in ${Math.ceil(relatedRecords.length / this.cascadeBatchSize)} chunks)`\n        );\n      }\n    } catch (error) {\n      // Attempt rollback if transactions enabled\n      if (this.cascadeTransactions && updatedRecords.length > 0) {\n        console.error(\n          `[RelationPlugin] Cascade update failed, attempting rollback of ${updatedRecords.length} records...`\n        );\n\n        const rollbackErrors = [];\n        // Rollback in reverse order (LIFO)\n        for (const { resource: res, id, field, oldValue } of updatedRecords.reverse()) {\n          try {\n            await res.update(id, { [field]: oldValue }, { skipCascade: true });\n          } catch (rollbackError) {\n            rollbackErrors.push({ id, error: rollbackError.message });\n          }\n        }\n\n        if (rollbackErrors.length > 0) {\n          console.error(\n            `[RelationPlugin] Rollback partially failed for ${rollbackErrors.length} records:`,\n            rollbackErrors\n          );\n        } else if (this.verbose) {\n          console.log(`[RelationPlugin] Rollback successful, restored ${updatedRecords.length} records`);\n        }\n      }\n\n      throw new CascadeError('update', resource.name, record.id, error, {\n        relation: relationName,\n        relatedResource: config.resource\n      });\n    }\n  }\n\n  /**\n   * Get plugin statistics\n   */\n  getStats() {\n    return {\n      ...this.stats,\n      configuredResources: Object.keys(this.relations).length,\n      totalRelations: Object.values(this.relations).reduce(\n        (sum, rels) => sum + Object.keys(rels).length,\n        0\n      )\n    };\n  }\n\n  /**\n   * Clear loader cache and partition cache (useful between requests)\n   */\n  clearCache() {\n    this._loaderCache.clear();\n    this._partitionCache.clear();\n  }\n\n  /**\n   * Cleanup on plugin stop\n   */\n  async onStop() {\n    this.clearCache();\n  }\n\n  /**\n   * Cleanup on plugin uninstall\n   */\n  async onUninstall() {\n    this.clearCache();\n  }\n}\n\nexport { RelationPlugin };\nexport default RelationPlugin;\n","import { S3dbError } from '../errors.js';\n\n/**\n * ReplicationError - Errors related to replication operations\n *\n * Used for replicator operations including:\n * - Replicator initialization and setup\n * - Data replication to target systems\n * - Resource mapping and transformation\n * - Connection management\n * - Batch replication operations\n *\n * @extends S3dbError\n */\nexport class ReplicationError extends S3dbError {\n  constructor(message, details = {}) {\n    const { replicatorClass = 'unknown', operation = 'unknown', resourceName, ...rest } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nReplication Operation Error\n\nReplicator: ${replicatorClass}\nOperation: ${operation}\n${resourceName ? `Resource: ${resourceName}` : ''}\n\nCommon causes:\n1. Invalid replicator configuration\n2. Target system not accessible\n3. Resource not configured for replication\n4. Invalid operation type\n5. Transformation function errors\n\nSolution:\nCheck replicator configuration and ensure target system is accessible.\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/replicator.md\n`.trim();\n    }\n\n    super(message, { ...rest, replicatorClass, operation, resourceName, description });\n  }\n}\n\nexport default ReplicationError;\n","import EventEmitter from 'events';\nimport { ReplicationError } from '../replicator.errors.js';\n\n/**\n * Base class for all replicator drivers\n * Defines the interface that all replicators must implement\n */\nexport class BaseReplicator extends EventEmitter {\n  constructor(config = {}) {\n    super();\n    this.config = config;\n    this.name = this.constructor.name;\n    this.enabled = config.enabled !== false; // Default to enabled unless explicitly disabled\n  }\n\n  /**\n   * Initialize the replicator\n   * @param {Object} database - The s3db database instance\n   * @returns {Promise<void>}\n   */\n  async initialize(database) {\n    this.database = database;\n    this.emit('initialized', { replicator: this.name });\n  }\n\n  /**\n   * Replicate data to the target\n   * @param {string} resourceName - Name of the resource being replicated\n   * @param {string} operation - Operation type (insert, update, delete)\n   * @param {Object} data - The data to replicate\n   * @param {string} id - Record ID\n   * @returns {Promise<Object>} replicator result\n   */\n  async replicate(resourceName, operation, data, id) {\n    throw new ReplicationError('replicate() method must be implemented by subclass', {\n      operation: 'replicate',\n      replicatorClass: this.name,\n      resourceName,\n      suggestion: 'Extend BaseReplicator and implement the replicate() method'\n    });\n  }\n\n  /**\n   * Replicate multiple records in batch\n   * @param {string} resourceName - Name of the resource being replicated\n   * @param {Array} records - Array of records to replicate\n   * @returns {Promise<Object>} Batch replicator result\n   */\n  async replicateBatch(resourceName, records) {\n    throw new ReplicationError('replicateBatch() method must be implemented by subclass', {\n      operation: 'replicateBatch',\n      replicatorClass: this.name,\n      resourceName,\n      batchSize: records?.length,\n      suggestion: 'Extend BaseReplicator and implement the replicateBatch() method'\n    });\n  }\n\n  /**\n   * Test the connection to the target\n   * @returns {Promise<boolean>} True if connection is successful\n   */\n  async testConnection() {\n    throw new ReplicationError('testConnection() method must be implemented by subclass', {\n      operation: 'testConnection',\n      replicatorClass: this.name,\n      suggestion: 'Extend BaseReplicator and implement the testConnection() method'\n    });\n  }\n\n  /**\n   * Get replicator status and statistics\n   * @returns {Promise<Object>} Status information\n   */\n  async getStatus() {\n    return {\n      name: this.name,\n      // Removed: enabled: this.enabled,\n      config: this.config,\n      connected: false\n    };\n  }\n\n  /**\n   * Cleanup resources\n   * @returns {Promise<void>}\n   */\n  async cleanup() {\n    this.emit('cleanup', { replicator: this.name });\n  }\n\n  /**\n   * Validate replicator configuration\n   * @returns {Object} Validation result\n   */\n  validateConfig() {\n    return { isValid: true, errors: [] };\n  }\n}\n\nexport default BaseReplicator; ","/**\n * Schema Sync Helper - Convert S3DB resource schemas to SQL DDL\n *\n * This module provides utilities to automatically create and sync database tables\n * based on S3DB resource schemas.\n */\n\nimport tryFn from \"#src/concerns/try-fn.js\";\n\n/**\n * Parse s3db field type notation (e.g., 'string|required|maxlength:50')\n */\nexport function parseFieldType(typeNotation) {\n  if (typeof typeNotation !== 'string') {\n    return { type: 'string', required: false, maxLength: null, options: {} };\n  }\n\n  const parts = typeNotation.split('|');\n  const baseType = parts[0];\n  const options = {};\n  let required = false;\n  let maxLength = null;\n\n  for (const part of parts.slice(1)) {\n    if (part === 'required') {\n      required = true;\n    } else if (part.startsWith('maxlength:')) {\n      maxLength = parseInt(part.split(':')[1]);\n    } else if (part.startsWith('min:')) {\n      options.min = parseFloat(part.split(':')[1]);\n    } else if (part.startsWith('max:')) {\n      options.max = parseFloat(part.split(':')[1]);\n    } else if (part.startsWith('length:')) {\n      options.length = parseInt(part.split(':')[1]);\n    }\n  }\n\n  return { type: baseType, required, maxLength, options };\n}\n\n/**\n * Convert S3DB type to PostgreSQL type\n */\nexport function s3dbTypeToPostgres(fieldType, fieldOptions = {}) {\n  const { type, maxLength, options } = parseFieldType(fieldType);\n\n  switch (type) {\n    case 'string':\n      if (maxLength) return `VARCHAR(${maxLength})`;\n      return 'TEXT';\n\n    case 'number':\n      if (options.min !== undefined && options.min >= 0 && options.max !== undefined && options.max <= 2147483647) {\n        return 'INTEGER';\n      }\n      return 'DOUBLE PRECISION';\n\n    case 'boolean':\n      return 'BOOLEAN';\n\n    case 'object':\n    case 'json':\n      return 'JSONB';\n\n    case 'array':\n      return 'JSONB';\n\n    case 'embedding':\n      // Vector embeddings - store as JSONB or use pgvector extension\n      return 'JSONB';\n\n    case 'ip4':\n    case 'ip6':\n      return 'INET';\n\n    case 'secret':\n      return 'TEXT';\n\n    case 'uuid':\n      return 'UUID';\n\n    case 'date':\n    case 'datetime':\n      return 'TIMESTAMP WITH TIME ZONE';\n\n    default:\n      return 'TEXT';\n  }\n}\n\n/**\n * Convert S3DB type to BigQuery type\n */\nexport function s3dbTypeToBigQuery(fieldType, fieldOptions = {}) {\n  const { type, maxLength, options } = parseFieldType(fieldType);\n\n  switch (type) {\n    case 'string':\n      return 'STRING';\n\n    case 'number':\n      // BigQuery has INTEGER, FLOAT, NUMERIC\n      if (options.min !== undefined && options.min >= 0 && options.max !== undefined && options.max <= 2147483647) {\n        return 'INT64';\n      }\n      return 'FLOAT64';\n\n    case 'boolean':\n      return 'BOOL';\n\n    case 'object':\n    case 'json':\n      return 'JSON';\n\n    case 'array':\n      // BigQuery supports ARRAY types, but we'll use JSON for flexibility\n      return 'JSON';\n\n    case 'embedding':\n      // Vector embeddings stored as ARRAY<FLOAT64> or JSON\n      return 'JSON';\n\n    case 'ip4':\n    case 'ip6':\n      return 'STRING';\n\n    case 'secret':\n      return 'STRING';\n\n    case 'uuid':\n      return 'STRING';\n\n    case 'date':\n      return 'DATE';\n\n    case 'datetime':\n      return 'TIMESTAMP';\n\n    default:\n      return 'STRING';\n  }\n}\n\n/**\n * Convert S3DB type to MySQL type\n */\nexport function s3dbTypeToMySQL(fieldType, fieldOptions = {}) {\n  const { type, maxLength, options } = parseFieldType(fieldType);\n\n  switch (type) {\n    case 'string':\n      if (maxLength && maxLength <= 255) return `VARCHAR(${maxLength})`;\n      return 'TEXT';\n\n    case 'number':\n      if (options.min !== undefined && options.min >= 0 && options.max !== undefined && options.max <= 2147483647) {\n        return 'INT';\n      }\n      return 'DOUBLE';\n\n    case 'boolean':\n      return 'TINYINT(1)';\n\n    case 'object':\n    case 'json':\n    case 'array':\n      return 'JSON';\n\n    case 'embedding':\n      return 'JSON';\n\n    case 'ip4':\n      return 'VARCHAR(15)';\n\n    case 'ip6':\n      return 'VARCHAR(45)';\n\n    case 'secret':\n      return 'TEXT';\n\n    case 'uuid':\n      return 'CHAR(36)';\n\n    case 'date':\n    case 'datetime':\n      return 'DATETIME';\n\n    default:\n      return 'TEXT';\n  }\n}\n\n/**\n * Generate PostgreSQL CREATE TABLE statement from S3DB resource schema\n */\nexport function generatePostgresCreateTable(tableName, attributes) {\n  const columns = [];\n\n  // Always add id as primary key\n  columns.push('id VARCHAR(255) PRIMARY KEY');\n\n  for (const [fieldName, fieldConfig] of Object.entries(attributes)) {\n    if (fieldName === 'id') continue; // Skip id, already added\n\n    const fieldType = typeof fieldConfig === 'string' ? fieldConfig : fieldConfig.type;\n    const { required } = parseFieldType(fieldType);\n\n    const sqlType = s3dbTypeToPostgres(fieldType);\n    const nullConstraint = required ? 'NOT NULL' : 'NULL';\n\n    columns.push(`\"${fieldName}\" ${sqlType} ${nullConstraint}`);\n  }\n\n  // Add timestamps if they exist in attributes\n  if (!attributes.createdAt) {\n    columns.push('created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()');\n  }\n  if (!attributes.updatedAt) {\n    columns.push('updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()');\n  }\n\n  return `CREATE TABLE IF NOT EXISTS ${tableName} (\\n  ${columns.join(',\\n  ')}\\n)`;\n}\n\n/**\n * Generate MySQL CREATE TABLE statement from S3DB resource schema\n */\nexport function generateMySQLCreateTable(tableName, attributes) {\n  const columns = [];\n\n  // Always add id as primary key\n  columns.push('id VARCHAR(255) PRIMARY KEY');\n\n  for (const [fieldName, fieldConfig] of Object.entries(attributes)) {\n    if (fieldName === 'id') continue;\n\n    const fieldType = typeof fieldConfig === 'string' ? fieldConfig : fieldConfig.type;\n    const { required } = parseFieldType(fieldType);\n\n    const sqlType = s3dbTypeToMySQL(fieldType);\n    const nullConstraint = required ? 'NOT NULL' : 'NULL';\n\n    columns.push(`\\`${fieldName}\\` ${sqlType} ${nullConstraint}`);\n  }\n\n  // Add timestamps\n  if (!attributes.createdAt) {\n    columns.push('created_at DATETIME DEFAULT CURRENT_TIMESTAMP');\n  }\n  if (!attributes.updatedAt) {\n    columns.push('updated_at DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP');\n  }\n\n  return `CREATE TABLE IF NOT EXISTS ${tableName} (\\n  ${columns.join(',\\n  ')}\\n) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci`;\n}\n\n/**\n * Get existing table schema from PostgreSQL\n */\nexport async function getPostgresTableSchema(client, tableName) {\n  const [ok, err, result] = await tryFn(async () => {\n    return await client.query(`\n      SELECT column_name, data_type, is_nullable, character_maximum_length\n      FROM information_schema.columns\n      WHERE table_name = $1\n      ORDER BY ordinal_position\n    `, [tableName]);\n  });\n\n  if (!ok) return null;\n\n  const schema = {};\n  for (const row of result.rows) {\n    schema[row.column_name] = {\n      type: row.data_type,\n      nullable: row.is_nullable === 'YES',\n      maxLength: row.character_maximum_length\n    };\n  }\n\n  return schema;\n}\n\n/**\n * Get existing table schema from MySQL\n */\nexport async function getMySQLTableSchema(connection, tableName) {\n  const [ok, err, [rows]] = await tryFn(async () => {\n    return await connection.query(`\n      SELECT COLUMN_NAME, DATA_TYPE, IS_NULLABLE, CHARACTER_MAXIMUM_LENGTH\n      FROM INFORMATION_SCHEMA.COLUMNS\n      WHERE TABLE_NAME = ?\n      ORDER BY ORDINAL_POSITION\n    `, [tableName]);\n  });\n\n  if (!ok) return null;\n\n  const schema = {};\n  for (const row of rows) {\n    schema[row.COLUMN_NAME] = {\n      type: row.DATA_TYPE,\n      nullable: row.IS_NULLABLE === 'YES',\n      maxLength: row.CHARACTER_MAXIMUM_LENGTH\n    };\n  }\n\n  return schema;\n}\n\n/**\n * Compare two schemas and return differences\n */\nexport function compareSchemas(expectedSchema, actualSchema) {\n  const missingColumns = [];\n  const extraColumns = [];\n  const typeMismatches = [];\n\n  // Find missing columns\n  for (const column of Object.keys(expectedSchema)) {\n    if (!actualSchema[column]) {\n      missingColumns.push(column);\n    }\n  }\n\n  // Find extra columns\n  for (const column of Object.keys(actualSchema)) {\n    if (!expectedSchema[column]) {\n      extraColumns.push(column);\n    }\n  }\n\n  // Find type mismatches (simplified - just check if types exist)\n  for (const column of Object.keys(expectedSchema)) {\n    if (actualSchema[column] && actualSchema[column].type !== expectedSchema[column].type) {\n      typeMismatches.push({\n        column,\n        expected: expectedSchema[column].type,\n        actual: actualSchema[column].type\n      });\n    }\n  }\n\n  return {\n    missingColumns,\n    extraColumns,\n    typeMismatches,\n    hasChanges: missingColumns.length > 0 || extraColumns.length > 0 || typeMismatches.length > 0\n  };\n}\n\n/**\n * Generate ALTER TABLE statements for PostgreSQL\n */\nexport function generatePostgresAlterTable(tableName, attributes, existingSchema) {\n  const alterStatements = [];\n\n  for (const [fieldName, fieldConfig] of Object.entries(attributes)) {\n    if (fieldName === 'id') continue;\n    if (existingSchema[fieldName]) continue; // Column exists\n\n    const fieldType = typeof fieldConfig === 'string' ? fieldConfig : fieldConfig.type;\n    const { required } = parseFieldType(fieldType);\n    const sqlType = s3dbTypeToPostgres(fieldType);\n    const nullConstraint = required ? 'NOT NULL' : 'NULL';\n\n    alterStatements.push(`ALTER TABLE ${tableName} ADD COLUMN IF NOT EXISTS \"${fieldName}\" ${sqlType} ${nullConstraint}`);\n  }\n\n  return alterStatements;\n}\n\n/**\n * Generate ALTER TABLE statements for MySQL\n */\nexport function generateMySQLAlterTable(tableName, attributes, existingSchema) {\n  const alterStatements = [];\n\n  for (const [fieldName, fieldConfig] of Object.entries(attributes)) {\n    if (fieldName === 'id') continue;\n    if (existingSchema[fieldName]) continue;\n\n    const fieldType = typeof fieldConfig === 'string' ? fieldConfig : fieldConfig.type;\n    const { required } = parseFieldType(fieldType);\n    const sqlType = s3dbTypeToMySQL(fieldType);\n    const nullConstraint = required ? 'NOT NULL' : 'NULL';\n\n    alterStatements.push(`ALTER TABLE ${tableName} ADD COLUMN \\`${fieldName}\\` ${sqlType} ${nullConstraint}`);\n  }\n\n  return alterStatements;\n}\n\n/**\n * Generate BigQuery table schema from S3DB resource schema\n */\nexport function generateBigQuerySchema(attributes) {\n  const fields = [];\n\n  // Always add id field\n  fields.push({\n    name: 'id',\n    type: 'STRING',\n    mode: 'REQUIRED'\n  });\n\n  for (const [fieldName, fieldConfig] of Object.entries(attributes)) {\n    if (fieldName === 'id') continue;\n\n    const fieldType = typeof fieldConfig === 'string' ? fieldConfig : fieldConfig.type;\n    const { required } = parseFieldType(fieldType);\n\n    const bqType = s3dbTypeToBigQuery(fieldType);\n\n    fields.push({\n      name: fieldName,\n      type: bqType,\n      mode: required ? 'REQUIRED' : 'NULLABLE'\n    });\n  }\n\n  // Add timestamps if they don't exist\n  if (!attributes.createdAt) {\n    fields.push({ name: 'created_at', type: 'TIMESTAMP', mode: 'NULLABLE' });\n  }\n  if (!attributes.updatedAt) {\n    fields.push({ name: 'updated_at', type: 'TIMESTAMP', mode: 'NULLABLE' });\n  }\n\n  return fields;\n}\n\n/**\n * Get existing BigQuery table schema\n */\nexport async function getBigQueryTableSchema(bigqueryClient, datasetId, tableId) {\n  const [ok, err, table] = await tryFn(async () => {\n    const dataset = bigqueryClient.dataset(datasetId);\n    const table = dataset.table(tableId);\n    const [metadata] = await table.getMetadata();\n    return metadata;\n  });\n\n  if (!ok) return null;\n\n  const schema = {};\n  if (table.schema && table.schema.fields) {\n    for (const field of table.schema.fields) {\n      schema[field.name] = {\n        type: field.type,\n        mode: field.mode\n      };\n    }\n  }\n\n  return schema;\n}\n\n/**\n * Generate BigQuery schema update (add missing fields)\n */\nexport function generateBigQuerySchemaUpdate(attributes, existingSchema) {\n  const newFields = [];\n\n  for (const [fieldName, fieldConfig] of Object.entries(attributes)) {\n    if (fieldName === 'id') continue;\n    if (existingSchema[fieldName]) continue; // Field exists\n\n    const fieldType = typeof fieldConfig === 'string' ? fieldConfig : fieldConfig.type;\n    const { required } = parseFieldType(fieldType);\n    const bqType = s3dbTypeToBigQuery(fieldType);\n\n    newFields.push({\n      name: fieldName,\n      type: bqType,\n      mode: required ? 'REQUIRED' : 'NULLABLE'\n    });\n  }\n\n  return newFields;\n}\n\n/**\n * Convert S3DB type to SQLite type (for Turso)\n */\nexport function s3dbTypeToSQLite(fieldType, fieldOptions = {}) {\n  const { type, maxLength, options } = parseFieldType(fieldType);\n\n  switch (type) {\n    case 'string':\n      return 'TEXT';\n\n    case 'number':\n      // SQLite uses REAL for floating point, INTEGER for integers\n      if (options.min !== undefined && options.min >= 0 && options.max !== undefined && options.max <= 2147483647) {\n        return 'INTEGER';\n      }\n      return 'REAL';\n\n    case 'boolean':\n      return 'INTEGER'; // 0 or 1\n\n    case 'object':\n    case 'json':\n    case 'array':\n      return 'TEXT'; // Store as JSON string\n\n    case 'embedding':\n      return 'TEXT'; // Store as JSON array\n\n    case 'ip4':\n    case 'ip6':\n      return 'TEXT';\n\n    case 'secret':\n      return 'TEXT';\n\n    case 'uuid':\n      return 'TEXT';\n\n    case 'date':\n    case 'datetime':\n      return 'TEXT'; // SQLite stores dates as ISO strings or Unix timestamps\n\n    default:\n      return 'TEXT';\n  }\n}\n\n/**\n * Generate SQLite CREATE TABLE statement from S3DB resource schema\n */\nexport function generateSQLiteCreateTable(tableName, attributes) {\n  const columns = [];\n\n  // Always add id as primary key\n  columns.push('id TEXT PRIMARY KEY');\n\n  for (const [fieldName, fieldConfig] of Object.entries(attributes)) {\n    if (fieldName === 'id') continue;\n\n    const fieldType = typeof fieldConfig === 'string' ? fieldConfig : fieldConfig.type;\n    const { required } = parseFieldType(fieldType);\n\n    const sqlType = s3dbTypeToSQLite(fieldType);\n    const nullConstraint = required ? 'NOT NULL' : 'NULL';\n\n    columns.push(`${fieldName} ${sqlType} ${nullConstraint}`);\n  }\n\n  // Add timestamps\n  if (!attributes.createdAt) {\n    columns.push('created_at TEXT DEFAULT (datetime(\\'now\\'))');\n  }\n  if (!attributes.updatedAt) {\n    columns.push('updated_at TEXT DEFAULT (datetime(\\'now\\'))');\n  }\n\n  return `CREATE TABLE IF NOT EXISTS ${tableName} (\\n  ${columns.join(',\\n  ')}\\n)`;\n}\n\n/**\n * Generate ALTER TABLE statements for SQLite\n */\nexport function generateSQLiteAlterTable(tableName, attributes, existingSchema) {\n  const alterStatements = [];\n\n  for (const [fieldName, fieldConfig] of Object.entries(attributes)) {\n    if (fieldName === 'id') continue;\n    if (existingSchema[fieldName]) continue;\n\n    const fieldType = typeof fieldConfig === 'string' ? fieldConfig : fieldConfig.type;\n    const { required } = parseFieldType(fieldType);\n    const sqlType = s3dbTypeToSQLite(fieldType);\n    const nullConstraint = required ? 'NOT NULL' : 'NULL';\n\n    alterStatements.push(`ALTER TABLE ${tableName} ADD COLUMN ${fieldName} ${sqlType} ${nullConstraint}`);\n  }\n\n  return alterStatements;\n}\n\nexport default {\n  parseFieldType,\n  s3dbTypeToPostgres,\n  s3dbTypeToMySQL,\n  s3dbTypeToBigQuery,\n  s3dbTypeToSQLite,\n  generatePostgresCreateTable,\n  generateMySQLCreateTable,\n  generateBigQuerySchema,\n  generateSQLiteCreateTable,\n  getPostgresTableSchema,\n  getMySQLTableSchema,\n  getBigQueryTableSchema,\n  compareSchemas,\n  generatePostgresAlterTable,\n  generateMySQLAlterTable,\n  generateBigQuerySchemaUpdate,\n  generateSQLiteAlterTable\n};\n","import tryFn from \"#src/concerns/try-fn.js\";\nimport requirePluginDependency from \"#src/plugins/concerns/plugin-dependencies.js\";\nimport BaseReplicator from './base-replicator.class.js';\nimport {\n  generateBigQuerySchema,\n  getBigQueryTableSchema,\n  generateBigQuerySchemaUpdate\n} from './schema-sync.helper.js';\n\n/**\n * BigQuery Replicator - Replicate data to Google BigQuery tables\n *\n * ⚠️  REQUIRED DEPENDENCY: You must install the Google Cloud BigQuery SDK:\n * ```bash\n * pnpm add @google-cloud/bigquery\n * ```\n *\n * Configuration:\n * @param {string} projectId - Google Cloud project ID (required)\n * @param {string} datasetId - BigQuery dataset ID (required)\n * @param {Object} credentials - Service account credentials object (optional)\n * @param {string} location - BigQuery dataset location/region (default: 'US')\n * @param {string} logTable - Table name for operation logging (optional)\n * @param {Object} schemaSync - Schema synchronization configuration\n * @param {boolean} schemaSync.enabled - Enable automatic schema management (default: false)\n * @param {string} schemaSync.strategy - Sync strategy: 'alter' | 'drop-create' | 'validate-only' (default: 'alter')\n * @param {string} schemaSync.onMismatch - Action on schema mismatch: 'error' | 'warn' | 'ignore' (default: 'error')\n * @param {boolean} schemaSync.autoCreateTable - Auto-create table if not exists (default: true)\n * @param {boolean} schemaSync.autoCreateColumns - Auto-add missing columns (default: true, only with strategy: 'alter')\n *\n * @example\n * new BigqueryReplicator({\n *   projectId: 'my-gcp-project',\n *   datasetId: 'analytics',\n *   credentials: JSON.parse(Buffer.from(GOOGLE_CREDENTIALS, 'base64').toString()),\n *   schemaSync: {\n *     enabled: true,\n *     strategy: 'alter',\n *     onMismatch: 'error'\n *   }\n * }, {\n *   users: {\n *     table: 'users_table',\n *     transform: (data) => ({ ...data, ip: data.ip || 'unknown' })\n *   },\n *   orders: 'orders_table'\n * })\n *\n * See PLUGINS.md for comprehensive configuration documentation.\n */\nclass BigqueryReplicator extends BaseReplicator {\n  constructor(config = {}, resources = {}) {\n    super(config);\n    this.projectId = config.projectId;\n    this.datasetId = config.datasetId;\n    this.bigqueryClient = null;\n    this.credentials = config.credentials;\n    this.location = config.location || 'US';\n    this.logTable = config.logTable;\n\n    // Schema sync configuration\n    this.schemaSync = {\n      enabled: config.schemaSync?.enabled || false,\n      strategy: config.schemaSync?.strategy || 'alter',\n      onMismatch: config.schemaSync?.onMismatch || 'error',\n      autoCreateTable: config.schemaSync?.autoCreateTable !== false,\n      autoCreateColumns: config.schemaSync?.autoCreateColumns !== false\n    };\n\n    // Parse resources configuration\n    this.resources = this.parseResourcesConfig(resources);\n  }\n\n  parseResourcesConfig(resources) {\n    const parsed = {};\n\n    for (const [resourceName, config] of Object.entries(resources)) {\n      if (typeof config === 'string') {\n        // Short form: just table name\n        parsed[resourceName] = [{\n          table: config,\n          actions: ['insert'],\n          transform: null\n        }];\n      } else if (Array.isArray(config)) {\n        // Array form: multiple table mappings\n        parsed[resourceName] = config.map(item => {\n          if (typeof item === 'string') {\n            return { table: item, actions: ['insert'], transform: null };\n          }\n          return {\n            table: item.table,\n            actions: item.actions || ['insert'],\n            transform: item.transform || null\n          };\n        });\n      } else if (typeof config === 'object') {\n        // Single object form\n        parsed[resourceName] = [{\n          table: config.table,\n          actions: config.actions || ['insert'],\n          transform: config.transform || null\n        }];\n      }\n    }\n\n    return parsed;\n  }\n\n  validateConfig() {\n    const errors = [];\n    if (!this.projectId) errors.push('projectId is required');\n    if (!this.datasetId) errors.push('datasetId is required');\n    if (Object.keys(this.resources).length === 0) errors.push('At least one resource must be configured');\n\n    // Validate resource configurations\n    for (const [resourceName, tables] of Object.entries(this.resources)) {\n      for (const tableConfig of tables) {\n        if (!tableConfig.table) {\n          errors.push(`Table name is required for resource '${resourceName}'`);\n        }\n        if (!Array.isArray(tableConfig.actions) || tableConfig.actions.length === 0) {\n          errors.push(`Actions array is required for resource '${resourceName}'`);\n        }\n        const validActions = ['insert', 'update', 'delete'];\n        const invalidActions = tableConfig.actions.filter(action => !validActions.includes(action));\n        if (invalidActions.length > 0) {\n          errors.push(`Invalid actions for resource '${resourceName}': ${invalidActions.join(', ')}. Valid actions: ${validActions.join(', ')}`);\n        }\n        if (tableConfig.transform && typeof tableConfig.transform !== 'function') {\n          errors.push(`Transform must be a function for resource '${resourceName}'`);\n        }\n      }\n    }\n\n    return { isValid: errors.length === 0, errors };\n  }\n\n  async initialize(database) {\n    await super.initialize(database);\n\n    // Validate plugin dependencies are installed\n    await requirePluginDependency('bigquery-replicator');\n\n    const [ok, err, sdk] = await tryFn(() => import('@google-cloud/bigquery'));\n    if (!ok) {\n      if (this.config.verbose) {\n        console.warn(`[BigqueryReplicator] Failed to import BigQuery SDK: ${err.message}`);\n      }\n      this.emit('initialization_error', { replicator: this.name, error: err.message });\n      throw err;\n    }\n    const { BigQuery } = sdk;\n    this.bigqueryClient = new BigQuery({\n      projectId: this.projectId,\n      credentials: this.credentials,\n      location: this.location\n    });\n\n    // Sync schemas if enabled\n    if (this.schemaSync.enabled) {\n      await this.syncSchemas(database);\n    }\n\n    this.emit('initialized', {\n      replicator: this.name,\n      projectId: this.projectId,\n      datasetId: this.datasetId,\n      resources: Object.keys(this.resources)\n    });\n  }\n\n  /**\n   * Sync table schemas based on S3DB resource definitions\n   */\n  async syncSchemas(database) {\n    for (const [resourceName, tableConfigs] of Object.entries(this.resources)) {\n      const [okRes, errRes, resource] = await tryFn(async () => {\n        return await database.getResource(resourceName);\n      });\n\n      if (!okRes) {\n        if (this.config.verbose) {\n          console.warn(`[BigQueryReplicator] Could not get resource ${resourceName} for schema sync: ${errRes.message}`);\n        }\n        continue;\n      }\n\n      const attributes = resource.config.versions[resource.config.currentVersion]?.attributes || {};\n\n      for (const tableConfig of tableConfigs) {\n        const tableName = tableConfig.table;\n\n        const [okSync, errSync] = await tryFn(async () => {\n          await this.syncTableSchema(tableName, attributes);\n        });\n\n        if (!okSync) {\n          const message = `Schema sync failed for table ${tableName}: ${errSync.message}`;\n\n          if (this.schemaSync.onMismatch === 'error') {\n            throw new Error(message);\n          } else if (this.schemaSync.onMismatch === 'warn') {\n            console.warn(`[BigQueryReplicator] ${message}`);\n          }\n        }\n      }\n    }\n\n    this.emit('schema_sync_completed', {\n      replicator: this.name,\n      resources: Object.keys(this.resources)\n    });\n  }\n\n  /**\n   * Sync a single table schema in BigQuery\n   */\n  async syncTableSchema(tableName, attributes) {\n    const dataset = this.bigqueryClient.dataset(this.datasetId);\n    const table = dataset.table(tableName);\n\n    // Check if table exists\n    const [exists] = await table.exists();\n\n    if (!exists) {\n      if (!this.schemaSync.autoCreateTable) {\n        throw new Error(`Table ${tableName} does not exist and autoCreateTable is disabled`);\n      }\n\n      if (this.schemaSync.strategy === 'validate-only') {\n        throw new Error(`Table ${tableName} does not exist (validate-only mode)`);\n      }\n\n      // Create table with schema\n      const schema = generateBigQuerySchema(attributes);\n\n      if (this.config.verbose) {\n        console.log(`[BigQueryReplicator] Creating table ${tableName} with schema:`, schema);\n      }\n\n      await dataset.createTable(tableName, { schema });\n\n      this.emit('table_created', {\n        replicator: this.name,\n        tableName,\n        attributes: Object.keys(attributes)\n      });\n\n      return;\n    }\n\n    // Table exists - check for schema changes\n    if (this.schemaSync.strategy === 'drop-create') {\n      if (this.config.verbose) {\n        console.warn(`[BigQueryReplicator] Dropping and recreating table ${tableName}`);\n      }\n\n      await table.delete();\n      const schema = generateBigQuerySchema(attributes);\n      await dataset.createTable(tableName, { schema });\n\n      this.emit('table_recreated', {\n        replicator: this.name,\n        tableName,\n        attributes: Object.keys(attributes)\n      });\n\n      return;\n    }\n\n    if (this.schemaSync.strategy === 'alter' && this.schemaSync.autoCreateColumns) {\n      const existingSchema = await getBigQueryTableSchema(this.bigqueryClient, this.datasetId, tableName);\n      const newFields = generateBigQuerySchemaUpdate(attributes, existingSchema);\n\n      if (newFields.length > 0) {\n        if (this.config.verbose) {\n          console.log(`[BigQueryReplicator] Adding ${newFields.length} field(s) to table ${tableName}:`, newFields);\n        }\n\n        // Get current schema\n        const [metadata] = await table.getMetadata();\n        const currentSchema = metadata.schema.fields;\n\n        // Add new fields to existing schema\n        const updatedSchema = [...currentSchema, ...newFields];\n\n        // Update table schema\n        await table.setMetadata({ schema: updatedSchema });\n\n        this.emit('table_altered', {\n          replicator: this.name,\n          tableName,\n          addedColumns: newFields.length\n        });\n      }\n    }\n\n    if (this.schemaSync.strategy === 'validate-only') {\n      const existingSchema = await getBigQueryTableSchema(this.bigqueryClient, this.datasetId, tableName);\n      const newFields = generateBigQuerySchemaUpdate(attributes, existingSchema);\n\n      if (newFields.length > 0) {\n        throw new Error(`Table ${tableName} schema mismatch. Missing columns: ${newFields.length}`);\n      }\n    }\n  }\n\n  shouldReplicateResource(resourceName) {\n    return this.resources.hasOwnProperty(resourceName);\n  }\n\n  shouldReplicateAction(resourceName, operation) {\n    if (!this.resources[resourceName]) return false;\n\n    return this.resources[resourceName].some(tableConfig =>\n      tableConfig.actions.includes(operation)\n    );\n  }\n\n  getTablesForResource(resourceName, operation) {\n    if (!this.resources[resourceName]) return [];\n\n    return this.resources[resourceName]\n      .filter(tableConfig => tableConfig.actions.includes(operation))\n      .map(tableConfig => ({\n        table: tableConfig.table,\n        transform: tableConfig.transform\n      }));\n  }\n\n  applyTransform(data, transformFn) {\n    // First, clean internal fields that shouldn't go to BigQuery\n    let cleanData = this._cleanInternalFields(data);\n\n    if (!transformFn) return cleanData;\n\n    let transformedData = JSON.parse(JSON.stringify(cleanData));\n    return transformFn(transformedData);\n  }\n\n  _cleanInternalFields(data) {\n    if (!data || typeof data !== 'object') return data;\n\n    const cleanData = { ...data };\n\n    // Remove internal fields that start with $ or _\n    Object.keys(cleanData).forEach(key => {\n      if (key.startsWith('$') || key.startsWith('_')) {\n        delete cleanData[key];\n      }\n    });\n\n    return cleanData;\n  }\n\n  async replicate(resourceName, operation, data, id, beforeData = null) {\n\n    if (!this.enabled || !this.shouldReplicateResource(resourceName)) {\n      return { skipped: true, reason: 'resource_not_included' };\n    }\n\n    if (!this.shouldReplicateAction(resourceName, operation)) {\n      return { skipped: true, reason: 'action_not_included' };\n    }\n\n    const tableConfigs = this.getTablesForResource(resourceName, operation);\n    if (tableConfigs.length === 0) {\n      return { skipped: true, reason: 'no_tables_for_action' };\n    }\n\n    const results = [];\n    const errors = [];\n\n    const [ok, err, result] = await tryFn(async () => {\n      const dataset = this.bigqueryClient.dataset(this.datasetId);\n\n      // Replicate to all applicable tables\n      for (const tableConfig of tableConfigs) {\n        const [okTable, errTable] = await tryFn(async () => {\n          const table = dataset.table(tableConfig.table);\n          let job;\n\n          if (operation === 'insert') {\n            const transformedData = this.applyTransform(data, tableConfig.transform);\n            try {\n              job = await table.insert([transformedData]);\n            } catch (error) {\n              // Extract detailed BigQuery error information\n              const { errors, response } = error;\n              if (this.config.verbose) {\n                console.error('[BigqueryReplicator] BigQuery insert error details:');\n                if (errors) console.error(JSON.stringify(errors, null, 2));\n                if (response) console.error(JSON.stringify(response, null, 2));\n              }\n              throw error;\n            }\n          } else if (operation === 'update') {\n            const transformedData = this.applyTransform(data, tableConfig.transform);\n            const keys = Object.keys(transformedData).filter(k => k !== 'id');\n            const setClause = keys.map(k => `${k} = @${k}`).join(', ');\n            const params = { id, ...transformedData };\n            const query = `UPDATE \\`${this.projectId}.${this.datasetId}.${tableConfig.table}\\` SET ${setClause} WHERE id = @id`;\n\n            // Retry logic for streaming buffer issues\n            const maxRetries = 2;\n            let lastError = null;\n\n            for (let attempt = 1; attempt <= maxRetries; attempt++) {\n              const [ok, error] = await tryFn(async () => {\n                const [updateJob] = await this.bigqueryClient.createQueryJob({\n                  query,\n                  params,\n                  location: this.location\n                });\n                await updateJob.getQueryResults();\n                return [updateJob];\n              });\n\n              if (ok) {\n                job = ok;\n                break;\n              } else {\n                lastError = error;\n\n                // Enhanced error logging for BigQuery update operations\n                if (this.config.verbose) {\n                  console.warn(`[BigqueryReplicator] Update attempt ${attempt} failed: ${error.message}`);\n                  if (error.errors) {\n                    console.error('[BigqueryReplicator] BigQuery update error details:');\n                    console.error('Errors:', JSON.stringify(error.errors, null, 2));\n                  }\n                }\n\n                // If it's streaming buffer error and not the last attempt\n                if (error?.message?.includes('streaming buffer') && attempt < maxRetries) {\n                  const delaySeconds = 30;\n                  if (this.config.verbose) {\n                    console.warn(`[BigqueryReplicator] Retrying in ${delaySeconds} seconds due to streaming buffer issue`);\n                  }\n                  await new Promise(resolve => setTimeout(resolve, delaySeconds * 1000));\n                  continue;\n                }\n\n                throw error;\n              }\n            }\n\n            if (!job) throw lastError;\n          } else if (operation === 'delete') {\n            const query = `DELETE FROM \\`${this.projectId}.${this.datasetId}.${tableConfig.table}\\` WHERE id = @id`;\n            try {\n              const [deleteJob] = await this.bigqueryClient.createQueryJob({\n                query,\n                params: { id },\n                location: this.location\n              });\n              await deleteJob.getQueryResults();\n              job = [deleteJob];\n            } catch (error) {\n              // Enhanced error logging for BigQuery delete operations\n              if (this.config.verbose) {\n                console.error('[BigqueryReplicator] BigQuery delete error details:');\n                console.error('Query:', query);\n                if (error.errors) console.error('Errors:', JSON.stringify(error.errors, null, 2));\n                if (error.response) console.error('Response:', JSON.stringify(error.response, null, 2));\n              }\n              throw error;\n            }\n          } else {\n            throw new Error(`Unsupported operation: ${operation}`);\n          }\n\n          results.push({\n            table: tableConfig.table,\n            success: true,\n            jobId: job[0]?.id\n          });\n        });\n\n        if (!okTable) {\n          errors.push({\n            table: tableConfig.table,\n            error: errTable.message\n          });\n        }\n      }\n\n      // Log operation if logTable is configured\n      if (this.logTable) {\n        const [okLog, errLog] = await tryFn(async () => {\n          const logTable = dataset.table(this.logTable);\n          await logTable.insert([{\n            resource_name: resourceName,\n            operation,\n            record_id: id,\n            data: JSON.stringify(data),\n            timestamp: new Date().toISOString(),\n            source: 's3db-replicator'\n          }]);\n        });\n        if (!okLog) {\n          // Don't fail the main operation if logging fails\n        }\n      }\n\n      const success = errors.length === 0;\n\n      // Log errors if any occurred\n      if (errors.length > 0) {\n        console.warn(`[BigqueryReplicator] Replication completed with errors for ${resourceName}:`, errors);\n      }\n\n      this.emit('replicated', {\n        replicator: this.name,\n        resourceName,\n        operation,\n        id,\n        tables: tableConfigs.map(t => t.table),\n        results,\n        errors,\n        success\n      });\n\n      return {\n        success,\n        results,\n        errors,\n        tables: tableConfigs.map(t => t.table)\n      };\n    });\n\n    if (ok) return result;\n\n    if (this.config.verbose) {\n      console.warn(`[BigqueryReplicator] Replication failed for ${resourceName}: ${err.message}`);\n    }\n    this.emit('replicator_error', {\n      replicator: this.name,\n      resourceName,\n      operation,\n      id,\n      error: err.message\n    });\n\n    return { success: false, error: err.message };\n  }\n\n  async replicateBatch(resourceName, records) {\n    const results = [];\n    const errors = [];\n\n    for (const record of records) {\n      const [ok, err, res] = await tryFn(() => this.replicate(\n        resourceName,\n        record.operation,\n        record.data,\n        record.id,\n        record.beforeData\n      ));\n      if (ok) {\n        results.push(res);\n      } else {\n        if (this.config.verbose) {\n          console.warn(`[BigqueryReplicator] Batch replication failed for record ${record.id}: ${err.message}`);\n        }\n        errors.push({ id: record.id, error: err.message });\n      }\n    }\n\n    // Log errors if any occurred during batch processing\n    if (errors.length > 0) {\n      console.warn(`[BigqueryReplicator] Batch replication completed with ${errors.length} error(s) for ${resourceName}:`, errors);\n    }\n\n    return {\n      success: errors.length === 0,\n      results,\n      errors\n    };\n  }\n\n  async testConnection() {\n    const [ok, err] = await tryFn(async () => {\n      if (!this.bigqueryClient) await this.initialize();\n      const dataset = this.bigqueryClient.dataset(this.datasetId);\n      await dataset.getMetadata();\n      return true;\n    });\n    if (ok) return true;\n    if (this.config.verbose) {\n      console.warn(`[BigqueryReplicator] Connection test failed: ${err.message}`);\n    }\n    this.emit('connection_error', { replicator: this.name, error: err.message });\n    return false;\n  }\n\n  async cleanup() {\n    // BigQuery SDK doesn't need cleanup\n  }\n\n  getStatus() {\n    return {\n      ...super.getStatus(),\n      projectId: this.projectId,\n      datasetId: this.datasetId,\n      resources: this.resources,\n      logTable: this.logTable,\n      schemaSync: this.schemaSync\n    };\n  }\n}\n\nexport default BigqueryReplicator; ","import tryFn from \"#src/concerns/try-fn.js\";\nimport requirePluginDependency from \"#src/plugins/concerns/plugin-dependencies.js\";\nimport BaseReplicator from './base-replicator.class.js';\nimport { ReplicationError } from '../replicator.errors.js';\n\n/**\n * DynamoDB Replicator - Replicate data to AWS DynamoDB tables\n *\n * ⚠️  REQUIRED DEPENDENCY: You must install the AWS SDK:\n * ```bash\n * pnpm add @aws-sdk/client-dynamodb @aws-sdk/lib-dynamodb\n * ```\n *\n * Configuration:\n * @param {string} region - AWS region (required)\n * @param {string} accessKeyId - AWS access key (optional, uses AWS SDK default chain)\n * @param {string} secretAccessKey - AWS secret key (optional)\n * @param {string} endpoint - Custom endpoint for DynamoDB Local (optional)\n * @param {Object} credentials - AWS credentials object (optional)\n *\n * @example\n * new DynamoDBReplicator({\n *   region: 'us-east-1',\n *   accessKeyId: 'YOUR_ACCESS_KEY',\n *   secretAccessKey: 'YOUR_SECRET_KEY'\n * }, {\n *   users: [{ actions: ['insert', 'update', 'delete'], table: 'UsersTable' }],\n *   orders: 'OrdersTable'\n * })\n *\n * // DynamoDB Local example\n * new DynamoDBReplicator({\n *   region: 'us-east-1',\n *   endpoint: 'http://localhost:8000'\n * }, {\n *   users: 'Users'\n * })\n *\n * See PLUGINS.md for comprehensive configuration documentation.\n */\nclass DynamoDBReplicator extends BaseReplicator {\n  constructor(config = {}, resources = {}) {\n    super(config);\n    this.region = config.region || 'us-east-1';\n    this.accessKeyId = config.accessKeyId;\n    this.secretAccessKey = config.secretAccessKey;\n    this.endpoint = config.endpoint;\n    this.credentials = config.credentials;\n    this.client = null;\n    this.docClient = null;\n\n    // Parse resources configuration\n    this.resources = this.parseResourcesConfig(resources);\n  }\n\n  parseResourcesConfig(resources) {\n    const parsed = {};\n\n    for (const [resourceName, config] of Object.entries(resources)) {\n      if (typeof config === 'string') {\n        // Short form: just table name\n        parsed[resourceName] = [{\n          table: config,\n          actions: ['insert'],\n          primaryKey: 'id' // Default primary key\n        }];\n      } else if (Array.isArray(config)) {\n        // Array form: multiple table mappings\n        parsed[resourceName] = config.map(item => {\n          if (typeof item === 'string') {\n            return { table: item, actions: ['insert'], primaryKey: 'id' };\n          }\n          return {\n            table: item.table,\n            actions: item.actions || ['insert'],\n            primaryKey: item.primaryKey || 'id',\n            sortKey: item.sortKey // Optional sort key\n          };\n        });\n      } else if (typeof config === 'object') {\n        // Single object form\n        parsed[resourceName] = [{\n          table: config.table,\n          actions: config.actions || ['insert'],\n          primaryKey: config.primaryKey || 'id',\n          sortKey: config.sortKey\n        }];\n      }\n    }\n\n    return parsed;\n  }\n\n  validateConfig() {\n    const errors = [];\n    // Region defaults to us-east-1, so it's always set\n    // Only validate if explicitly set to empty string\n    if (this.region === '') {\n      errors.push('AWS region is required');\n    }\n    if (Object.keys(this.resources).length === 0) {\n      errors.push('At least one resource must be configured');\n    }\n\n    // Validate resource configurations\n    for (const [resourceName, tables] of Object.entries(this.resources)) {\n      for (const tableConfig of tables) {\n        if (!tableConfig.table) {\n          errors.push(`Table name is required for resource '${resourceName}'`);\n        }\n        if (!Array.isArray(tableConfig.actions) || tableConfig.actions.length === 0) {\n          errors.push(`Actions array is required for resource '${resourceName}'`);\n        }\n      }\n    }\n\n    return { isValid: errors.length === 0, errors };\n  }\n\n  async initialize(database) {\n    await super.initialize(database);\n\n    // Load AWS SDK dependencies\n    const { DynamoDBClient } = requirePluginDependency('@aws-sdk/client-dynamodb', 'DynamoDBReplicator');\n    const { DynamoDBDocumentClient, PutCommand, UpdateCommand, DeleteCommand } = requirePluginDependency('@aws-sdk/lib-dynamodb', 'DynamoDBReplicator');\n\n    // Store command constructors for later use\n    this.PutCommand = PutCommand;\n    this.UpdateCommand = UpdateCommand;\n    this.DeleteCommand = DeleteCommand;\n\n    const [ok, err] = await tryFn(async () => {\n      const clientConfig = {\n        region: this.region\n      };\n\n      if (this.endpoint) {\n        clientConfig.endpoint = this.endpoint;\n      }\n\n      if (this.credentials) {\n        clientConfig.credentials = this.credentials;\n      } else if (this.accessKeyId && this.secretAccessKey) {\n        clientConfig.credentials = {\n          accessKeyId: this.accessKeyId,\n          secretAccessKey: this.secretAccessKey\n        };\n      }\n\n      this.client = new DynamoDBClient(clientConfig);\n      this.docClient = DynamoDBDocumentClient.from(this.client);\n\n      // Test connection by listing tables\n      const { ListTablesCommand } = requirePluginDependency('@aws-sdk/client-dynamodb', 'DynamoDBReplicator');\n      await this.client.send(new ListTablesCommand({ Limit: 1 }));\n    });\n\n    if (!ok) {\n      throw new ReplicationError('Failed to connect to DynamoDB', {\n        operation: 'initialize',\n        replicatorClass: 'DynamoDBReplicator',\n        region: this.region,\n        endpoint: this.endpoint,\n        original: err,\n        suggestion: 'Check AWS credentials and ensure DynamoDB is accessible'\n      });\n    }\n\n    this.emit('connected', {\n      replicator: 'DynamoDBReplicator',\n      region: this.region,\n      endpoint: this.endpoint || 'default'\n    });\n  }\n\n  shouldReplicateResource(resourceName) {\n    return this.resources.hasOwnProperty(resourceName);\n  }\n\n  async replicate(resourceName, operation, data, id) {\n    if (!this.resources[resourceName]) {\n      throw new ReplicationError('Resource not configured for replication', {\n        operation: 'replicate',\n        replicatorClass: 'DynamoDBReplicator',\n        resourceName,\n        configuredResources: Object.keys(this.resources),\n        suggestion: 'Add resource to replicator resources configuration'\n      });\n    }\n\n    const results = [];\n\n    for (const tableConfig of this.resources[resourceName]) {\n      if (!tableConfig.actions.includes(operation)) {\n        continue; // Skip if operation not allowed for this table\n      }\n\n      const [ok, error, result] = await tryFn(async () => {\n        switch (operation) {\n          case 'insert':\n            return await this._putItem(tableConfig.table, data);\n          case 'update':\n            return await this._updateItem(tableConfig.table, id, data, tableConfig);\n          case 'delete':\n            return await this._deleteItem(tableConfig.table, id, tableConfig);\n          default:\n            throw new ReplicationError(`Unsupported operation: ${operation}`, {\n              operation: 'replicate',\n              replicatorClass: 'DynamoDBReplicator',\n              invalidOperation: operation,\n              supportedOperations: ['insert', 'update', 'delete']\n            });\n        }\n      });\n\n      if (ok) {\n        results.push(result);\n      } else {\n        this.emit('replication_error', {\n          resource: resourceName,\n          operation,\n          table: tableConfig.table,\n          error: error.message\n        });\n\n        if (this.config.verbose) {\n          console.error(`[DynamoDBReplicator] Failed to replicate ${operation} for ${resourceName}:`, error);\n        }\n      }\n    }\n\n    return results.length > 0 ? results[0] : null;\n  }\n\n  async _putItem(table, data) {\n    const cleanData = this._cleanInternalFields(data);\n\n    const command = new this.PutCommand({\n      TableName: table,\n      Item: cleanData\n    });\n\n    const result = await this.docClient.send(command);\n    return result;\n  }\n\n  async _updateItem(table, id, data, tableConfig) {\n    const cleanData = this._cleanInternalFields(data);\n\n    // Build update expression\n    const updateExpressions = [];\n    const expressionAttributeNames = {};\n    const expressionAttributeValues = {};\n\n    let index = 0;\n    for (const [key, value] of Object.entries(cleanData)) {\n      // Skip primary key and sort key\n      if (key === tableConfig.primaryKey || key === tableConfig.sortKey) {\n        continue;\n      }\n\n      const attrName = `#attr${index}`;\n      const attrValue = `:val${index}`;\n\n      expressionAttributeNames[attrName] = key;\n      expressionAttributeValues[attrValue] = value;\n      updateExpressions.push(`${attrName} = ${attrValue}`);\n      index++;\n    }\n\n    // Build key\n    const key = { [tableConfig.primaryKey]: id };\n    if (tableConfig.sortKey && cleanData[tableConfig.sortKey]) {\n      key[tableConfig.sortKey] = cleanData[tableConfig.sortKey];\n    }\n\n    const command = new this.UpdateCommand({\n      TableName: table,\n      Key: key,\n      UpdateExpression: `SET ${updateExpressions.join(', ')}`,\n      ExpressionAttributeNames: expressionAttributeNames,\n      ExpressionAttributeValues: expressionAttributeValues,\n      ReturnValues: 'ALL_NEW'\n    });\n\n    const result = await this.docClient.send(command);\n    return result;\n  }\n\n  async _deleteItem(table, id, tableConfig) {\n    const key = { [tableConfig.primaryKey]: id };\n\n    const command = new this.DeleteCommand({\n      TableName: table,\n      Key: key\n    });\n\n    const result = await this.docClient.send(command);\n    return result;\n  }\n\n  _cleanInternalFields(data) {\n    if (!data || typeof data !== 'object') return data;\n\n    const cleanData = { ...data };\n\n    // Remove internal s3db fields\n    Object.keys(cleanData).forEach(key => {\n      if (key.startsWith('$') || key.startsWith('_')) {\n        delete cleanData[key];\n      }\n    });\n\n    return cleanData;\n  }\n\n  async replicateBatch(resourceName, records) {\n    const results = [];\n    const errors = [];\n\n    // DynamoDB batch operations (up to 25 items)\n    // For now, process sequentially (can be optimized with BatchWriteItem)\n    for (const record of records) {\n      const [ok, err, result] = await tryFn(() =>\n        this.replicate(resourceName, record.operation, record.data, record.id)\n      );\n\n      if (ok) {\n        results.push(result);\n      } else {\n        errors.push({ id: record.id, error: err.message });\n      }\n    }\n\n    return {\n      success: errors.length === 0,\n      results,\n      errors,\n      total: records.length\n    };\n  }\n\n  async testConnection() {\n    const [ok, err] = await tryFn(async () => {\n      if (!this.client) {\n        throw new Error('Client not initialized');\n      }\n\n      const { ListTablesCommand } = requirePluginDependency('@aws-sdk/client-dynamodb', 'DynamoDBReplicator');\n      await this.client.send(new ListTablesCommand({ Limit: 1 }));\n      return true;\n    });\n\n    if (!ok) {\n      this.emit('connection_error', { replicator: 'DynamoDBReplicator', error: err.message });\n      return false;\n    }\n\n    return true;\n  }\n\n  async getStatus() {\n    const baseStatus = await super.getStatus();\n    return {\n      ...baseStatus,\n      connected: !!this.client,\n      region: this.region,\n      endpoint: this.endpoint || 'default',\n      resources: Object.keys(this.resources)\n    };\n  }\n\n  async cleanup() {\n    if (this.client) {\n      this.client.destroy();\n      this.client = null;\n      this.docClient = null;\n    }\n    await super.cleanup();\n  }\n}\n\nexport default DynamoDBReplicator;\n","import tryFn from \"#src/concerns/try-fn.js\";\nimport requirePluginDependency from \"#src/plugins/concerns/plugin-dependencies.js\";\nimport BaseReplicator from './base-replicator.class.js';\nimport { ReplicationError } from '../replicator.errors.js';\n\n/**\n * MongoDB Replicator - Replicate data to MongoDB collections\n *\n * ⚠️  REQUIRED DEPENDENCY: You must install the MongoDB driver:\n * ```bash\n * pnpm add mongodb\n * ```\n *\n * Configuration:\n * @param {string} connectionString - MongoDB connection string (optional)\n * @param {string} host - Database host (default: localhost)\n * @param {number} port - Database port (default: 27017)\n * @param {string} database - Database name (required)\n * @param {string} username - Database username (optional)\n * @param {string} password - Database password (optional)\n * @param {Object} options - Additional MongoDB client options (optional)\n * @param {string} logCollection - Collection name for operation logging (optional)\n *\n * @example\n * new MongoDBReplicator({\n *   host: 'localhost',\n *   port: 27017,\n *   database: 'analytics',\n *   username: 'replicator',\n *   password: 'secret',\n *   logCollection: 'replication_log'\n * }, {\n *   users: [{ actions: ['insert', 'update'], collection: 'users_collection' }],\n *   orders: 'orders_collection'\n * })\n *\n * // Connection string example\n * new MongoDBReplicator({\n *   connectionString: 'mongodb://user:pass@localhost:27017/analytics',\n *   logCollection: 'replication_log'\n * }, {\n *   users: 'users_collection'\n * })\n *\n * See PLUGINS.md for comprehensive configuration documentation.\n */\nclass MongoDBReplicator extends BaseReplicator {\n  constructor(config = {}, resources = {}) {\n    super(config);\n    this.connectionString = config.connectionString;\n    this.host = config.host || 'localhost';\n    this.port = config.port || 27017;\n    this.database = config.database;\n    this.username = config.username;\n    this.password = config.password;\n    this.options = config.options || {};\n    this.client = null;\n    this.db = null;\n    this.logCollection = config.logCollection;\n\n    // Parse resources configuration\n    this.resources = this.parseResourcesConfig(resources);\n  }\n\n  parseResourcesConfig(resources) {\n    const parsed = {};\n\n    for (const [resourceName, config] of Object.entries(resources)) {\n      if (typeof config === 'string') {\n        // Short form: just collection name\n        parsed[resourceName] = [{\n          collection: config,\n          actions: ['insert']\n        }];\n      } else if (Array.isArray(config)) {\n        // Array form: multiple collection mappings\n        parsed[resourceName] = config.map(item => {\n          if (typeof item === 'string') {\n            return { collection: item, actions: ['insert'] };\n          }\n          return {\n            collection: item.collection,\n            actions: item.actions || ['insert']\n          };\n        });\n      } else if (typeof config === 'object') {\n        // Single object form\n        parsed[resourceName] = [{\n          collection: config.collection,\n          actions: config.actions || ['insert']\n        }];\n      }\n    }\n\n    return parsed;\n  }\n\n  validateConfig() {\n    const errors = [];\n    if (!this.connectionString && !this.database) {\n      errors.push('Database name or connection string is required');\n    }\n    if (Object.keys(this.resources).length === 0) {\n      errors.push('At least one resource must be configured');\n    }\n\n    // Validate resource configurations\n    for (const [resourceName, collections] of Object.entries(this.resources)) {\n      for (const collectionConfig of collections) {\n        if (!collectionConfig.collection) {\n          errors.push(`Collection name is required for resource '${resourceName}'`);\n        }\n        if (!Array.isArray(collectionConfig.actions) || collectionConfig.actions.length === 0) {\n          errors.push(`Actions array is required for resource '${resourceName}'`);\n        }\n      }\n    }\n\n    return { isValid: errors.length === 0, errors };\n  }\n\n  async initialize(database) {\n    await super.initialize(database);\n\n    // Load mongodb dependency\n    const { MongoClient } = requirePluginDependency('mongodb', 'MongoDBReplicator');\n\n    // Create connection\n    const [ok, err] = await tryFn(async () => {\n      let uri;\n      if (this.connectionString) {\n        uri = this.connectionString;\n      } else {\n        const auth = this.username && this.password\n          ? `${encodeURIComponent(this.username)}:${encodeURIComponent(this.password)}@`\n          : '';\n        uri = `mongodb://${auth}${this.host}:${this.port}/${this.database}`;\n      }\n\n      this.client = new MongoClient(uri, {\n        ...this.options,\n        useUnifiedTopology: true,\n        useNewUrlParser: true\n      });\n\n      await this.client.connect();\n      this.db = this.client.db(this.database);\n\n      // Test connection\n      await this.db.admin().ping();\n    });\n\n    if (!ok) {\n      throw new ReplicationError('Failed to connect to MongoDB database', {\n        operation: 'initialize',\n        replicatorClass: 'MongoDBReplicator',\n        host: this.host,\n        port: this.port,\n        database: this.database,\n        original: err,\n        suggestion: 'Check MongoDB connection credentials and ensure database is accessible'\n      });\n    }\n\n    // Create log collection if configured\n    if (this.logCollection) {\n      await this._createLogCollection();\n    }\n\n    this.emit('connected', {\n      replicator: 'MongoDBReplicator',\n      host: this.host,\n      database: this.database\n    });\n  }\n\n  async _createLogCollection() {\n    const [ok] = await tryFn(async () => {\n      const collections = await this.db.listCollections({ name: this.logCollection }).toArray();\n\n      if (collections.length === 0) {\n        await this.db.createCollection(this.logCollection);\n\n        // Create indexes for better query performance\n        await this.db.collection(this.logCollection).createIndexes([\n          { key: { resource_name: 1 } },\n          { key: { timestamp: 1 } }\n        ]);\n      }\n    });\n\n    if (!ok && this.config.verbose) {\n      console.warn('[MongoDBReplicator] Failed to create log collection');\n    }\n  }\n\n  async replicate(resourceName, operation, data, id) {\n    if (!this.resources[resourceName]) {\n      throw new ReplicationError('Resource not configured for replication', {\n        operation: 'replicate',\n        replicatorClass: 'MongoDBReplicator',\n        resourceName,\n        configuredResources: Object.keys(this.resources),\n        suggestion: 'Add resource to replicator resources configuration'\n      });\n    }\n\n    const results = [];\n\n    for (const collectionConfig of this.resources[resourceName]) {\n      if (!collectionConfig.actions.includes(operation)) {\n        continue; // Skip if operation not allowed for this collection\n      }\n\n      const [ok, error, result] = await tryFn(async () => {\n        switch (operation) {\n          case 'insert':\n            return await this._insertDocument(collectionConfig.collection, data);\n          case 'update':\n            return await this._updateDocument(collectionConfig.collection, id, data);\n          case 'delete':\n            return await this._deleteDocument(collectionConfig.collection, id);\n          default:\n            throw new ReplicationError(`Unsupported operation: ${operation}`, {\n              operation: 'replicate',\n              replicatorClass: 'MongoDBReplicator',\n              invalidOperation: operation,\n              supportedOperations: ['insert', 'update', 'delete']\n            });\n        }\n      });\n\n      if (ok) {\n        results.push(result);\n\n        // Log to replication log collection if configured\n        if (this.logCollection) {\n          await this._logOperation(resourceName, operation, id, data);\n        }\n      } else {\n        this.emit('replication_error', {\n          resource: resourceName,\n          operation,\n          collection: collectionConfig.collection,\n          error: error.message\n        });\n\n        if (this.config.verbose) {\n          console.error(`[MongoDBReplicator] Failed to replicate ${operation} for ${resourceName}:`, error);\n        }\n      }\n    }\n\n    return results.length > 0 ? results[0] : null;\n  }\n\n  async _insertDocument(collectionName, data) {\n    const cleanData = this._cleanInternalFields(data);\n    const collection = this.db.collection(collectionName);\n\n    const result = await collection.insertOne(cleanData);\n    return result;\n  }\n\n  async _updateDocument(collectionName, id, data) {\n    const cleanData = this._cleanInternalFields(data);\n    const collection = this.db.collection(collectionName);\n\n    // Remove _id from update data if present\n    delete cleanData._id;\n\n    const result = await collection.updateOne(\n      { _id: id },\n      { $set: cleanData }\n    );\n\n    return result;\n  }\n\n  async _deleteDocument(collectionName, id) {\n    const collection = this.db.collection(collectionName);\n    const result = await collection.deleteOne({ _id: id });\n    return result;\n  }\n\n  async _logOperation(resourceName, operation, id, data) {\n    const [ok] = await tryFn(async () => {\n      const collection = this.db.collection(this.logCollection);\n      await collection.insertOne({\n        resource_name: resourceName,\n        operation,\n        record_id: id,\n        data,\n        timestamp: new Date()\n      });\n    });\n\n    if (!ok && this.config.verbose) {\n      console.warn('[MongoDBReplicator] Failed to log operation');\n    }\n  }\n\n  shouldReplicateResource(resourceName) {\n    return this.resources.hasOwnProperty(resourceName);\n  }\n\n  _cleanInternalFields(data) {\n    if (!data || typeof data !== 'object') return data;\n\n    const cleanData = { ...data };\n\n    // Remove internal s3db fields\n    // Preserve _id as it's the MongoDB primary key\n    Object.keys(cleanData).forEach(key => {\n      if (key === '_id') {\n        return; // Keep _id field for MongoDB\n      }\n      if (key.startsWith('$') || key.startsWith('_')) {\n        delete cleanData[key];\n      }\n    });\n\n    return cleanData;\n  }\n\n  async replicateBatch(resourceName, records) {\n    const results = [];\n    const errors = [];\n\n    // MongoDB supports bulk operations, but for consistency with other replicators\n    // and error handling, we process sequentially\n    for (const record of records) {\n      const [ok, err, result] = await tryFn(() =>\n        this.replicate(resourceName, record.operation, record.data, record.id)\n      );\n\n      if (ok) {\n        results.push(result);\n      } else {\n        errors.push({ id: record.id, error: err.message });\n      }\n    }\n\n    return {\n      success: errors.length === 0,\n      results,\n      errors,\n      total: records.length\n    };\n  }\n\n  async testConnection() {\n    const [ok, err] = await tryFn(async () => {\n      if (!this.client) {\n        throw new Error('Client not initialized');\n      }\n\n      await this.db.admin().ping();\n      return true;\n    });\n\n    if (!ok) {\n      this.emit('connection_error', { replicator: 'MongoDBReplicator', error: err.message });\n      return false;\n    }\n\n    return true;\n  }\n\n  async getStatus() {\n    const baseStatus = await super.getStatus();\n    return {\n      ...baseStatus,\n      connected: !!this.client && !!this.db,\n      host: this.host,\n      database: this.database,\n      resources: Object.keys(this.resources)\n    };\n  }\n\n  async cleanup() {\n    if (this.client) {\n      await this.client.close();\n      this.client = null;\n      this.db = null;\n    }\n    await super.cleanup();\n  }\n}\n\nexport default MongoDBReplicator;\n","import tryFn from \"#src/concerns/try-fn.js\";\nimport requirePluginDependency from \"#src/plugins/concerns/plugin-dependencies.js\";\nimport BaseReplicator from './base-replicator.class.js';\nimport { ReplicationError } from '../replicator.errors.js';\nimport {\n  generateMySQLCreateTable,\n  getMySQLTableSchema,\n  generateMySQLAlterTable\n} from './schema-sync.helper.js';\n\n/**\n * MySQL/MariaDB Replicator - Replicate data to MySQL or MariaDB tables\n *\n * ⚠️  REQUIRED DEPENDENCY: You must install the MySQL client library:\n * ```bash\n * pnpm add mysql2\n * ```\n *\n * Configuration:\n * @param {string} connectionString - MySQL connection string (optional)\n * @param {string} host - Database host (default: localhost)\n * @param {number} port - Database port (default: 3306)\n * @param {string} database - Database name (required)\n * @param {string} user - Database user (required)\n * @param {string} password - Database password (required)\n * @param {Object} ssl - SSL configuration (optional)\n * @param {number} connectionLimit - Max connections in pool (default: 10)\n * @param {string} logTable - Table name for operation logging (optional)\n * @param {Object} schemaSync - Schema synchronization configuration\n * @param {boolean} schemaSync.enabled - Enable automatic schema management (default: false)\n * @param {string} schemaSync.strategy - Sync strategy: 'alter' | 'drop-create' | 'validate-only' (default: 'alter')\n * @param {string} schemaSync.onMismatch - Action on schema mismatch: 'error' | 'warn' | 'ignore' (default: 'error')\n * @param {boolean} schemaSync.autoCreateTable - Auto-create table if not exists (default: true)\n * @param {boolean} schemaSync.autoCreateColumns - Auto-add missing columns (default: true, only with strategy: 'alter')\n * @param {boolean} schemaSync.dropMissingColumns - Remove extra columns (default: false, dangerous!)\n *\n * @example\n * new MySQLReplicator({\n *   host: 'localhost',\n *   port: 3306,\n *   database: 'analytics',\n *   user: 'replicator',\n *   password: 'secret',\n *   logTable: 'replication_log',\n *   schemaSync: {\n *     enabled: true,\n *     strategy: 'alter',\n *     onMismatch: 'error'\n *   }\n * }, {\n *   users: [{ actions: ['insert', 'update'], table: 'users_table' }],\n *   orders: 'orders_table'\n * })\n *\n * See PLUGINS.md for comprehensive configuration documentation.\n */\nclass MySQLReplicator extends BaseReplicator {\n  constructor(config = {}, resources = {}) {\n    super(config);\n    this.connectionString = config.connectionString;\n    this.host = config.host || 'localhost';\n    this.port = config.port || 3306;\n    this.database = config.database;\n    this.user = config.user;\n    this.password = config.password;\n    this.pool = null;\n    this.ssl = config.ssl;\n    this.connectionLimit = config.connectionLimit || 10;\n    this.logTable = config.logTable;\n\n    // Schema sync configuration\n    this.schemaSync = {\n      enabled: config.schemaSync?.enabled || false,\n      strategy: config.schemaSync?.strategy || 'alter',\n      onMismatch: config.schemaSync?.onMismatch || 'error',\n      autoCreateTable: config.schemaSync?.autoCreateTable !== false,\n      autoCreateColumns: config.schemaSync?.autoCreateColumns !== false,\n      dropMissingColumns: config.schemaSync?.dropMissingColumns || false\n    };\n\n    // Parse resources configuration\n    this.resources = this.parseResourcesConfig(resources);\n  }\n\n  parseResourcesConfig(resources) {\n    const parsed = {};\n\n    for (const [resourceName, config] of Object.entries(resources)) {\n      if (typeof config === 'string') {\n        // Short form: just table name\n        parsed[resourceName] = [{\n          table: config,\n          actions: ['insert']\n        }];\n      } else if (Array.isArray(config)) {\n        // Array form: multiple table mappings\n        parsed[resourceName] = config.map(item => {\n          if (typeof item === 'string') {\n            return { table: item, actions: ['insert'] };\n          }\n          return {\n            table: item.table,\n            actions: item.actions || ['insert']\n          };\n        });\n      } else if (typeof config === 'object') {\n        // Single object form\n        parsed[resourceName] = [{\n          table: config.table,\n          actions: config.actions || ['insert']\n        }];\n      }\n    }\n\n    return parsed;\n  }\n\n  validateConfig() {\n    const errors = [];\n    if (!this.database) {\n      errors.push('Database name is required');\n    }\n    if (!this.user) {\n      errors.push('Database user is required');\n    }\n    if (!this.password) {\n      errors.push('Database password is required');\n    }\n    if (Object.keys(this.resources).length === 0) {\n      errors.push('At least one resource must be configured');\n    }\n\n    // Validate resource configurations\n    for (const [resourceName, tables] of Object.entries(this.resources)) {\n      for (const tableConfig of tables) {\n        if (!tableConfig.table) {\n          errors.push(`Table name is required for resource '${resourceName}'`);\n        }\n        if (!Array.isArray(tableConfig.actions) || tableConfig.actions.length === 0) {\n          errors.push(`Actions array is required for resource '${resourceName}'`);\n        }\n      }\n    }\n\n    return { isValid: errors.length === 0, errors };\n  }\n\n  async initialize(database) {\n    await super.initialize(database);\n\n    // Load mysql2 dependency\n    const mysql = requirePluginDependency('mysql2', 'MySQLReplicator');\n\n    // Create connection pool\n    const [ok, err] = await tryFn(async () => {\n      const poolConfig = {\n        host: this.host,\n        port: this.port,\n        user: this.user,\n        password: this.password,\n        database: this.database,\n        connectionLimit: this.connectionLimit,\n        waitForConnections: true,\n        queueLimit: 0\n      };\n\n      if (this.ssl) {\n        poolConfig.ssl = this.ssl;\n      }\n\n      this.pool = mysql.createPool(poolConfig);\n\n      // Test connection\n      const connection = await this.pool.promise().getConnection();\n      await connection.ping();\n      connection.release();\n    });\n\n    if (!ok) {\n      throw new ReplicationError('Failed to connect to MySQL database', {\n        operation: 'initialize',\n        replicatorClass: 'MySQLReplicator',\n        host: this.host,\n        port: this.port,\n        database: this.database,\n        original: err,\n        suggestion: 'Check MySQL connection credentials and ensure database is accessible'\n      });\n    }\n\n    // Create log table if configured\n    if (this.logTable) {\n      await this._createLogTable();\n    }\n\n    // Sync schemas if enabled\n    if (this.schemaSync.enabled) {\n      await this.syncSchemas(database);\n    }\n\n    this.emit('connected', {\n      replicator: 'MySQLReplicator',\n      host: this.host,\n      database: this.database\n    });\n  }\n\n  /**\n   * Sync table schemas based on S3DB resource definitions\n   */\n  async syncSchemas(database) {\n    for (const [resourceName, tableConfigs] of Object.entries(this.resources)) {\n      const [okRes, errRes, resource] = await tryFn(async () => {\n        return await database.getResource(resourceName);\n      });\n\n      if (!okRes) {\n        if (this.config.verbose) {\n          console.warn(`[MySQLReplicator] Could not get resource ${resourceName} for schema sync: ${errRes.message}`);\n        }\n        continue;\n      }\n\n      const attributes = resource.config.versions[resource.config.currentVersion]?.attributes || {};\n\n      for (const tableConfig of tableConfigs) {\n        const tableName = tableConfig.table;\n\n        const [okSync, errSync] = await tryFn(async () => {\n          await this.syncTableSchema(tableName, attributes);\n        });\n\n        if (!okSync) {\n          const message = `Schema sync failed for table ${tableName}: ${errSync.message}`;\n\n          if (this.schemaSync.onMismatch === 'error') {\n            throw new Error(message);\n          } else if (this.schemaSync.onMismatch === 'warn') {\n            console.warn(`[MySQLReplicator] ${message}`);\n          }\n        }\n      }\n    }\n\n    this.emit('schema_sync_completed', {\n      replicator: this.name,\n      resources: Object.keys(this.resources)\n    });\n  }\n\n  /**\n   * Sync a single table schema\n   */\n  async syncTableSchema(tableName, attributes) {\n    const connection = await this.pool.promise().getConnection();\n\n    try {\n      // Check if table exists\n      const existingSchema = await getMySQLTableSchema(connection, tableName);\n\n      if (!existingSchema) {\n        if (!this.schemaSync.autoCreateTable) {\n          throw new Error(`Table ${tableName} does not exist and autoCreateTable is disabled`);\n        }\n\n        if (this.schemaSync.strategy === 'validate-only') {\n          throw new Error(`Table ${tableName} does not exist (validate-only mode)`);\n        }\n\n        // Create table\n        const createSQL = generateMySQLCreateTable(tableName, attributes);\n\n        if (this.config.verbose) {\n          console.log(`[MySQLReplicator] Creating table ${tableName}:\\n${createSQL}`);\n        }\n\n        await connection.query(createSQL);\n\n        this.emit('table_created', {\n          replicator: this.name,\n          tableName,\n          attributes: Object.keys(attributes)\n        });\n\n        return;\n      }\n\n      // Table exists - check for schema changes\n      if (this.schemaSync.strategy === 'drop-create') {\n        if (this.config.verbose) {\n          console.warn(`[MySQLReplicator] Dropping and recreating table ${tableName}`);\n        }\n\n        await connection.query(`DROP TABLE IF EXISTS ${tableName}`);\n        const createSQL = generateMySQLCreateTable(tableName, attributes);\n        await connection.query(createSQL);\n\n        this.emit('table_recreated', {\n          replicator: this.name,\n          tableName,\n          attributes: Object.keys(attributes)\n        });\n\n        return;\n      }\n\n      if (this.schemaSync.strategy === 'alter' && this.schemaSync.autoCreateColumns) {\n        const alterStatements = generateMySQLAlterTable(tableName, attributes, existingSchema);\n\n        if (alterStatements.length > 0) {\n          if (this.config.verbose) {\n            console.log(`[MySQLReplicator] Altering table ${tableName}:`, alterStatements);\n          }\n\n          for (const stmt of alterStatements) {\n            await connection.query(stmt);\n          }\n\n          this.emit('table_altered', {\n            replicator: this.name,\n            tableName,\n            addedColumns: alterStatements.length\n          });\n        }\n      }\n\n      if (this.schemaSync.strategy === 'validate-only') {\n        const alterStatements = generateMySQLAlterTable(tableName, attributes, existingSchema);\n\n        if (alterStatements.length > 0) {\n          throw new Error(`Table ${tableName} schema mismatch. Missing columns: ${alterStatements.length}`);\n        }\n      }\n    } finally {\n      connection.release();\n    }\n  }\n\n  shouldReplicateResource(resourceName) {\n    return this.resources.hasOwnProperty(resourceName);\n  }\n\n  async _createLogTable() {\n    const mysql = requirePluginDependency('mysql2', 'MySQLReplicator');\n\n    const [ok] = await tryFn(async () => {\n      await this.pool.promise().query(`\n        CREATE TABLE IF NOT EXISTS ${mysql.escapeId(this.logTable)} (\n          id INT AUTO_INCREMENT PRIMARY KEY,\n          resource_name VARCHAR(255) NOT NULL,\n          operation VARCHAR(50) NOT NULL,\n          record_id VARCHAR(255),\n          data JSON,\n          timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP,\n          INDEX idx_resource (resource_name),\n          INDEX idx_timestamp (timestamp)\n        ) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci\n      `);\n    });\n\n    if (!ok && this.config.verbose) {\n      console.warn('[MySQLReplicator] Failed to create log table');\n    }\n  }\n\n  async replicate(resourceName, operation, data, id) {\n    if (!this.resources[resourceName]) {\n      throw new ReplicationError('Resource not configured for replication', {\n        operation: 'replicate',\n        replicatorClass: 'MySQLReplicator',\n        resourceName,\n        configuredResources: Object.keys(this.resources),\n        suggestion: 'Add resource to replicator resources configuration'\n      });\n    }\n\n    const results = [];\n\n    for (const tableConfig of this.resources[resourceName]) {\n      if (!tableConfig.actions.includes(operation)) {\n        continue; // Skip if operation not allowed for this table\n      }\n\n      const [ok, error, result] = await tryFn(async () => {\n        switch (operation) {\n          case 'insert':\n            return await this._insertRecord(tableConfig.table, data);\n          case 'update':\n            return await this._updateRecord(tableConfig.table, id, data);\n          case 'delete':\n            return await this._deleteRecord(tableConfig.table, id);\n          default:\n            throw new ReplicationError(`Unsupported operation: ${operation}`, {\n              operation: 'replicate',\n              replicatorClass: 'MySQLReplicator',\n              invalidOperation: operation,\n              supportedOperations: ['insert', 'update', 'delete']\n            });\n        }\n      });\n\n      if (ok) {\n        results.push(result);\n\n        // Log to replication log table if configured\n        if (this.logTable) {\n          await this._logOperation(resourceName, operation, id, data);\n        }\n      } else {\n        this.emit('replication_error', {\n          resource: resourceName,\n          operation,\n          table: tableConfig.table,\n          error: error.message\n        });\n\n        if (this.config.verbose) {\n          console.error(`[MySQLReplicator] Failed to replicate ${operation} for ${resourceName}:`, error);\n        }\n      }\n    }\n\n    return results.length > 0 ? results[0] : null;\n  }\n\n  async _insertRecord(table, data) {\n    const mysql = requirePluginDependency('mysql2', 'MySQLReplicator');\n    const cleanData = this._cleanInternalFields(data);\n\n    const columns = Object.keys(cleanData);\n    const values = Object.values(cleanData);\n    const placeholders = values.map(() => '?').join(', ');\n\n    const query = `INSERT INTO ${mysql.escapeId(table)} (${columns.map(c => mysql.escapeId(c)).join(', ')}) VALUES (${placeholders})`;\n\n    const [result] = await this.pool.promise().query(query, values);\n    return result;\n  }\n\n  async _updateRecord(table, id, data) {\n    const mysql = requirePluginDependency('mysql2', 'MySQLReplicator');\n    const cleanData = this._cleanInternalFields(data);\n\n    const updates = Object.keys(cleanData)\n      .map(col => `${mysql.escapeId(col)} = ?`)\n      .join(', ');\n\n    const values = [...Object.values(cleanData), id];\n\n    const query = `UPDATE ${mysql.escapeId(table)} SET ${updates} WHERE id = ?`;\n\n    const [result] = await this.pool.promise().query(query, values);\n    return result;\n  }\n\n  async _deleteRecord(table, id) {\n    const mysql = requirePluginDependency('mysql2', 'MySQLReplicator');\n    const query = `DELETE FROM ${mysql.escapeId(table)} WHERE id = ?`;\n\n    const [result] = await this.pool.promise().query(query, [id]);\n    return result;\n  }\n\n  async _logOperation(resourceName, operation, id, data) {\n    const mysql = requirePluginDependency('mysql2', 'MySQLReplicator');\n\n    const [ok] = await tryFn(async () => {\n      const query = `INSERT INTO ${mysql.escapeId(this.logTable)} (resource_name, operation, record_id, data) VALUES (?, ?, ?, ?)`;\n      await this.pool.promise().query(query, [resourceName, operation, id, JSON.stringify(data)]);\n    });\n\n    if (!ok && this.config.verbose) {\n      console.warn('[MySQLReplicator] Failed to log operation');\n    }\n  }\n\n  _cleanInternalFields(data) {\n    if (!data || typeof data !== 'object') return data;\n\n    const cleanData = { ...data };\n\n    // Remove internal s3db fields\n    Object.keys(cleanData).forEach(key => {\n      if (key.startsWith('$') || key.startsWith('_')) {\n        delete cleanData[key];\n      }\n    });\n\n    return cleanData;\n  }\n\n  async replicateBatch(resourceName, records) {\n    const results = [];\n    const errors = [];\n\n    for (const record of records) {\n      const [ok, err, result] = await tryFn(() =>\n        this.replicate(resourceName, record.operation, record.data, record.id)\n      );\n\n      if (ok) {\n        results.push(result);\n      } else {\n        errors.push({ id: record.id, error: err.message });\n      }\n    }\n\n    return {\n      success: errors.length === 0,\n      results,\n      errors,\n      total: records.length\n    };\n  }\n\n  async testConnection() {\n    const [ok, err] = await tryFn(async () => {\n      if (!this.pool) {\n        throw new Error('Pool not initialized');\n      }\n\n      const connection = await this.pool.promise().getConnection();\n      await connection.ping();\n      connection.release();\n      return true;\n    });\n\n    if (!ok) {\n      this.emit('connection_error', { replicator: 'MySQLReplicator', error: err.message });\n      return false;\n    }\n\n    return true;\n  }\n\n  async getStatus() {\n    const baseStatus = await super.getStatus();\n    return {\n      ...baseStatus,\n      connected: !!this.pool,\n      host: this.host,\n      database: this.database,\n      resources: Object.keys(this.resources),\n      poolConnections: this.pool ? this.pool.pool.allConnections.length : 0,\n      schemaSync: this.schemaSync\n    };\n  }\n\n  async cleanup() {\n    if (this.pool) {\n      await this.pool.end();\n      this.pool = null;\n    }\n    await super.cleanup();\n  }\n}\n\nexport default MySQLReplicator;\n","import tryFn from \"#src/concerns/try-fn.js\";\nimport requirePluginDependency from \"#src/plugins/concerns/plugin-dependencies.js\";\nimport BaseReplicator from './base-replicator.class.js';\nimport { ReplicationError } from '../replicator.errors.js';\nimport {\n  generateMySQLCreateTable,\n  getMySQLTableSchema,\n  generateMySQLAlterTable\n} from './schema-sync.helper.js';\n\n/**\n * PlanetScale Replicator - Replicate data to PlanetScale (MySQL serverless)\n *\n * ⚠️  REQUIRED DEPENDENCY: You must install the PlanetScale client library:\n * ```bash\n * pnpm add @planetscale/database\n * ```\n *\n * Configuration:\n * @param {string} host - PlanetScale database host (required) - e.g., 'aws.connect.psdb.cloud'\n * @param {string} username - Database username (required)\n * @param {string} password - Database password (required)\n * @param {Object} schemaSync - Schema synchronization configuration\n * @param {boolean} schemaSync.enabled - Enable automatic schema management (default: false)\n * @param {string} schemaSync.strategy - Sync strategy: 'alter' | 'drop-create' | 'validate-only' (default: 'alter')\n * @param {string} schemaSync.onMismatch - Action on schema mismatch: 'error' | 'warn' | 'ignore' (default: 'error')\n * @param {boolean} schemaSync.autoCreateTable - Auto-create table if not exists (default: true)\n * @param {boolean} schemaSync.autoCreateColumns - Auto-add missing columns (default: true, only with strategy: 'alter')\n *\n * @example\n * new PlanetScaleReplicator({\n *   host: 'aws.connect.psdb.cloud',\n *   username: process.env.PLANETSCALE_USERNAME,\n *   password: process.env.PLANETSCALE_PASSWORD,\n *   schemaSync: {\n *     enabled: true,\n *     strategy: 'alter',\n *     onMismatch: 'error'\n *   }\n * }, {\n *   users: [{ actions: ['insert', 'update'], table: 'users_table' }],\n *   orders: 'orders_table'\n * })\n *\n * See docs/plugins/replicator.md for comprehensive configuration documentation.\n */\nclass PlanetScaleReplicator extends BaseReplicator {\n  constructor(config = {}, resources = {}) {\n    super(config);\n    this.host = config.host;\n    this.username = config.username;\n    this.password = config.password;\n    this.connection = null;\n\n    // Schema sync configuration\n    this.schemaSync = {\n      enabled: config.schemaSync?.enabled || false,\n      strategy: config.schemaSync?.strategy || 'alter',\n      onMismatch: config.schemaSync?.onMismatch || 'error',\n      autoCreateTable: config.schemaSync?.autoCreateTable !== false,\n      autoCreateColumns: config.schemaSync?.autoCreateColumns !== false\n    };\n\n    // Parse resources configuration\n    this.resources = this.parseResourcesConfig(resources);\n  }\n\n  parseResourcesConfig(resources) {\n    const parsed = {};\n\n    for (const [resourceName, config] of Object.entries(resources)) {\n      if (typeof config === 'string') {\n        parsed[resourceName] = [{\n          table: config,\n          actions: ['insert']\n        }];\n      } else if (Array.isArray(config)) {\n        parsed[resourceName] = config.map(item => {\n          if (typeof item === 'string') {\n            return { table: item, actions: ['insert'] };\n          }\n          return {\n            table: item.table,\n            actions: item.actions || ['insert']\n          };\n        });\n      } else if (typeof config === 'object') {\n        parsed[resourceName] = [{\n          table: config.table,\n          actions: config.actions || ['insert']\n        }];\n      }\n    }\n\n    return parsed;\n  }\n\n  validateConfig() {\n    const errors = [];\n    if (!this.host) errors.push('Host is required');\n    if (!this.username) errors.push('Username is required');\n    if (!this.password) errors.push('Password is required');\n    if (Object.keys(this.resources).length === 0) {\n      errors.push('At least one resource must be configured');\n    }\n\n    for (const [resourceName, tables] of Object.entries(this.resources)) {\n      for (const tableConfig of tables) {\n        if (!tableConfig.table) {\n          errors.push(`Table name is required for resource '${resourceName}'`);\n        }\n        if (!Array.isArray(tableConfig.actions) || tableConfig.actions.length === 0) {\n          errors.push(`Actions array is required for resource '${resourceName}'`);\n        }\n      }\n    }\n\n    return { isValid: errors.length === 0, errors };\n  }\n\n  async initialize(database) {\n    await super.initialize(database);\n\n    // Validate plugin dependencies are installed\n    await requirePluginDependency('planetscale-replicator');\n\n    const [ok, err, sdk] = await tryFn(() => import('@planetscale/database'));\n    if (!ok) {\n      throw new ReplicationError('Failed to import PlanetScale SDK', {\n        operation: 'initialize',\n        replicatorClass: 'PlanetScaleReplicator',\n        original: err,\n        suggestion: 'Install @planetscale/database: pnpm add @planetscale/database'\n      });\n    }\n\n    const { connect } = sdk;\n    this.connection = connect({\n      host: this.host,\n      username: this.username,\n      password: this.password\n    });\n\n    // Test connection\n    const [okTest, errTest] = await tryFn(async () => {\n      await this.connection.execute('SELECT 1');\n    });\n\n    if (!okTest) {\n      throw new ReplicationError('Failed to connect to PlanetScale database', {\n        operation: 'initialize',\n        replicatorClass: 'PlanetScaleReplicator',\n        host: this.host,\n        original: errTest,\n        suggestion: 'Check PlanetScale credentials'\n      });\n    }\n\n    // Sync schemas if enabled\n    if (this.schemaSync.enabled) {\n      await this.syncSchemas(database);\n    }\n\n    this.emit('connected', {\n      replicator: 'PlanetScaleReplicator',\n      host: this.host\n    });\n  }\n\n  /**\n   * Sync table schemas based on S3DB resource definitions\n   */\n  async syncSchemas(database) {\n    for (const [resourceName, tableConfigs] of Object.entries(this.resources)) {\n      const [okRes, errRes, resource] = await tryFn(async () => {\n        return await database.getResource(resourceName);\n      });\n\n      if (!okRes) {\n        if (this.config.verbose) {\n          console.warn(`[PlanetScaleReplicator] Could not get resource ${resourceName} for schema sync: ${errRes.message}`);\n        }\n        continue;\n      }\n\n      const attributes = resource.config.versions[resource.config.currentVersion]?.attributes || {};\n\n      for (const tableConfig of tableConfigs) {\n        const tableName = tableConfig.table;\n\n        const [okSync, errSync] = await tryFn(async () => {\n          await this.syncTableSchema(tableName, attributes);\n        });\n\n        if (!okSync) {\n          const message = `Schema sync failed for table ${tableName}: ${errSync.message}`;\n\n          if (this.schemaSync.onMismatch === 'error') {\n            throw new Error(message);\n          } else if (this.schemaSync.onMismatch === 'warn') {\n            console.warn(`[PlanetScaleReplicator] ${message}`);\n          }\n        }\n      }\n    }\n\n    this.emit('schema_sync_completed', {\n      replicator: this.name,\n      resources: Object.keys(this.resources)\n    });\n  }\n\n  /**\n   * Sync a single table schema\n   */\n  async syncTableSchema(tableName, attributes) {\n    // Check if table exists using PlanetScale execute\n    const existingSchema = await getMySQLTableSchema(this.connection, tableName);\n\n    if (!existingSchema) {\n      if (!this.schemaSync.autoCreateTable) {\n        throw new Error(`Table ${tableName} does not exist and autoCreateTable is disabled`);\n      }\n\n      if (this.schemaSync.strategy === 'validate-only') {\n        throw new Error(`Table ${tableName} does not exist (validate-only mode)`);\n      }\n\n      // Create table\n      const createSQL = generateMySQLCreateTable(tableName, attributes);\n\n      if (this.config.verbose) {\n        console.log(`[PlanetScaleReplicator] Creating table ${tableName}:\\n${createSQL}`);\n      }\n\n      await this.connection.execute(createSQL);\n\n      this.emit('table_created', {\n        replicator: this.name,\n        tableName,\n        attributes: Object.keys(attributes)\n      });\n\n      return;\n    }\n\n    // Table exists - check for schema changes\n    if (this.schemaSync.strategy === 'drop-create') {\n      if (this.config.verbose) {\n        console.warn(`[PlanetScaleReplicator] Dropping and recreating table ${tableName}`);\n      }\n\n      await this.connection.execute(`DROP TABLE IF EXISTS ${tableName}`);\n      const createSQL = generateMySQLCreateTable(tableName, attributes);\n      await this.connection.execute(createSQL);\n\n      this.emit('table_recreated', {\n        replicator: this.name,\n        tableName,\n        attributes: Object.keys(attributes)\n      });\n\n      return;\n    }\n\n    if (this.schemaSync.strategy === 'alter' && this.schemaSync.autoCreateColumns) {\n      const alterStatements = generateMySQLAlterTable(tableName, attributes, existingSchema);\n\n      if (alterStatements.length > 0) {\n        if (this.config.verbose) {\n          console.log(`[PlanetScaleReplicator] Altering table ${tableName}:`, alterStatements);\n        }\n\n        for (const stmt of alterStatements) {\n          await this.connection.execute(stmt);\n        }\n\n        this.emit('table_altered', {\n          replicator: this.name,\n          tableName,\n          addedColumns: alterStatements.length\n        });\n      }\n    }\n\n    if (this.schemaSync.strategy === 'validate-only') {\n      const alterStatements = generateMySQLAlterTable(tableName, attributes, existingSchema);\n\n      if (alterStatements.length > 0) {\n        throw new Error(`Table ${tableName} schema mismatch. Missing columns: ${alterStatements.length}`);\n      }\n    }\n  }\n\n  shouldReplicateResource(resourceName) {\n    return this.resources.hasOwnProperty(resourceName);\n  }\n\n  shouldReplicateAction(resourceName, operation) {\n    if (!this.resources[resourceName]) return false;\n\n    return this.resources[resourceName].some(tableConfig =>\n      tableConfig.actions.includes(operation)\n    );\n  }\n\n  getTablesForResource(resourceName, operation) {\n    if (!this.resources[resourceName]) return [];\n\n    return this.resources[resourceName]\n      .filter(tableConfig => tableConfig.actions.includes(operation))\n      .map(tableConfig => tableConfig.table);\n  }\n\n  async replicate(resourceName, operation, data, id, beforeData = null) {\n    if (!this.enabled || !this.shouldReplicateResource(resourceName)) {\n      return { skipped: true, reason: 'resource_not_included' };\n    }\n\n    if (!this.shouldReplicateAction(resourceName, operation)) {\n      return { skipped: true, reason: 'action_not_included' };\n    }\n\n    const tables = this.getTablesForResource(resourceName, operation);\n    if (tables.length === 0) {\n      return { skipped: true, reason: 'no_tables_for_action' };\n    }\n\n    const results = [];\n    const errors = [];\n\n    for (const table of tables) {\n      const [okTable, errTable] = await tryFn(async () => {\n        if (operation === 'insert') {\n          const cleanData = this._cleanInternalFields(data);\n          const keys = Object.keys(cleanData);\n          const values = keys.map(k => cleanData[k]);\n          const placeholders = keys.map(() => '?').join(', ');\n          const sql = `INSERT INTO ${table} (${keys.map(k => `\\`${k}\\``).join(', ')}) VALUES (${placeholders}) ON DUPLICATE KEY UPDATE id=id`;\n          await this.connection.execute(sql, values);\n        } else if (operation === 'update') {\n          const cleanData = this._cleanInternalFields(data);\n          const keys = Object.keys(cleanData).filter(k => k !== 'id');\n          const setClause = keys.map(k => `\\`${k}\\`=?`).join(', ');\n          const values = keys.map(k => cleanData[k]);\n          values.push(id);\n          const sql = `UPDATE ${table} SET ${setClause} WHERE id=?`;\n          await this.connection.execute(sql, values);\n        } else if (operation === 'delete') {\n          const sql = `DELETE FROM ${table} WHERE id=?`;\n          await this.connection.execute(sql, [id]);\n        }\n\n        results.push({ table, success: true });\n      });\n\n      if (!okTable) {\n        errors.push({ table, error: errTable.message });\n      }\n    }\n\n    const success = errors.length === 0;\n\n    this.emit('replicated', {\n      replicator: this.name,\n      resourceName,\n      operation,\n      id,\n      tables,\n      results,\n      errors,\n      success\n    });\n\n    return { success, results, errors, tables };\n  }\n\n  _cleanInternalFields(data) {\n    if (!data || typeof data !== 'object') return data;\n\n    const cleanData = { ...data };\n\n    Object.keys(cleanData).forEach(key => {\n      if (key.startsWith('$') || key.startsWith('_')) {\n        delete cleanData[key];\n      }\n    });\n\n    return cleanData;\n  }\n\n  async cleanup() {\n    // PlanetScale SDK doesn't need explicit cleanup\n    this.connection = null;\n  }\n\n  async getStatus() {\n    const baseStatus = await super.getStatus();\n    return {\n      ...baseStatus,\n      connected: !!this.connection,\n      host: this.host,\n      resources: Object.keys(this.resources),\n      schemaSync: this.schemaSync\n    };\n  }\n}\n\nexport default PlanetScaleReplicator;\n","import tryFn from \"#src/concerns/try-fn.js\";\nimport requirePluginDependency from \"#src/plugins/concerns/plugin-dependencies.js\";\nimport BaseReplicator from './base-replicator.class.js';\nimport {\n  generatePostgresCreateTable,\n  getPostgresTableSchema,\n  generatePostgresAlterTable\n} from './schema-sync.helper.js';\n\n/**\n * PostgreSQL Replicator - Replicate data to PostgreSQL tables\n *\n * ⚠️  REQUIRED DEPENDENCY: You must install the PostgreSQL client library:\n * ```bash\n * pnpm add pg\n * ```\n *\n * Configuration:\n * @param {string} connectionString - PostgreSQL connection string (required)\n * @param {string} host - Database host (alternative to connectionString)\n * @param {number} port - Database port (default: 5432)\n * @param {string} database - Database name\n * @param {string} user - Database user\n * @param {string} password - Database password\n * @param {Object} ssl - SSL configuration (optional)\n * @param {string} logTable - Table name for operation logging (optional)\n * @param {Object} schemaSync - Schema synchronization configuration\n * @param {boolean} schemaSync.enabled - Enable automatic schema management (default: false)\n * @param {string} schemaSync.strategy - Sync strategy: 'alter' | 'drop-create' | 'validate-only' (default: 'alter')\n * @param {string} schemaSync.onMismatch - Action on schema mismatch: 'error' | 'warn' | 'ignore' (default: 'error')\n * @param {boolean} schemaSync.autoCreateTable - Auto-create table if not exists (default: true)\n * @param {boolean} schemaSync.autoCreateColumns - Auto-add missing columns (default: true, only with strategy: 'alter')\n * @param {boolean} schemaSync.dropMissingColumns - Remove extra columns (default: false, dangerous!)\n *\n * @example\n * new PostgresReplicator({\n *   connectionString: 'postgresql://user:password@localhost:5432/analytics',\n *   logTable: 'replication_log',\n *   schemaSync: {\n *     enabled: true,\n *     strategy: 'alter',\n *     onMismatch: 'error',\n *     autoCreateTable: true\n *   }\n * }, {\n *   users: [{ actions: ['insert', 'update'], table: 'users_table' }],\n *   orders: 'orders_table'\n * })\n *\n * See PLUGINS.md for comprehensive configuration documentation.\n */\nclass PostgresReplicator extends BaseReplicator {\n  constructor(config = {}, resources = {}) {\n    super(config);\n    this.connectionString = config.connectionString;\n    this.host = config.host;\n    this.port = config.port || 5432;\n    this.database = config.database;\n    this.user = config.user;\n    this.password = config.password;\n    this.client = null;\n    this.ssl = config.ssl;\n    this.logTable = config.logTable;\n\n    // Schema sync configuration\n    this.schemaSync = {\n      enabled: config.schemaSync?.enabled || false,\n      strategy: config.schemaSync?.strategy || 'alter',\n      onMismatch: config.schemaSync?.onMismatch || 'error',\n      autoCreateTable: config.schemaSync?.autoCreateTable !== false,\n      autoCreateColumns: config.schemaSync?.autoCreateColumns !== false,\n      dropMissingColumns: config.schemaSync?.dropMissingColumns || false\n    };\n\n    // Parse resources configuration\n    this.resources = this.parseResourcesConfig(resources);\n  }\n\n  parseResourcesConfig(resources) {\n    const parsed = {};\n    \n    for (const [resourceName, config] of Object.entries(resources)) {\n      if (typeof config === 'string') {\n        // Short form: just table name\n        parsed[resourceName] = [{\n          table: config,\n          actions: ['insert']\n        }];\n      } else if (Array.isArray(config)) {\n        // Array form: multiple table mappings\n        parsed[resourceName] = config.map(item => {\n          if (typeof item === 'string') {\n            return { table: item, actions: ['insert'] };\n          }\n          return {\n            table: item.table,\n            actions: item.actions || ['insert']\n          };\n        });\n      } else if (typeof config === 'object') {\n        // Single object form\n        parsed[resourceName] = [{\n          table: config.table,\n          actions: config.actions || ['insert']\n        }];\n      }\n    }\n    \n    return parsed;\n  }\n\n  validateConfig() {\n    const errors = [];\n    if (!this.connectionString && (!this.host || !this.database)) {\n      errors.push('Either connectionString or host+database must be provided');\n    }\n    if (Object.keys(this.resources).length === 0) {\n      errors.push('At least one resource must be configured');\n    }\n    \n    // Validate resource configurations\n    for (const [resourceName, tables] of Object.entries(this.resources)) {\n      for (const tableConfig of tables) {\n        if (!tableConfig.table) {\n          errors.push(`Table name is required for resource '${resourceName}'`);\n        }\n        if (!Array.isArray(tableConfig.actions) || tableConfig.actions.length === 0) {\n          errors.push(`Actions array is required for resource '${resourceName}'`);\n        }\n        const validActions = ['insert', 'update', 'delete'];\n        const invalidActions = tableConfig.actions.filter(action => !validActions.includes(action));\n        if (invalidActions.length > 0) {\n          errors.push(`Invalid actions for resource '${resourceName}': ${invalidActions.join(', ')}. Valid actions: ${validActions.join(', ')}`);\n        }\n      }\n    }\n    \n    return { isValid: errors.length === 0, errors };\n  }\n\n  async initialize(database) {\n    await super.initialize(database);\n\n    // Validate plugin dependencies are installed\n    await requirePluginDependency('postgresql-replicator');\n\n    const [ok, err, sdk] = await tryFn(() => import('pg'));\n    if (!ok) {\n      if (this.config.verbose) {\n        console.warn(`[PostgresReplicator] Failed to import pg SDK: ${err.message}`);\n      }\n      this.emit('initialization_error', {\n        replicator: this.name,\n        error: err.message\n      });\n      throw err;\n    }\n    const { Client } = sdk;\n    const config = this.connectionString ? {\n      connectionString: this.connectionString,\n      ssl: this.ssl\n    } : {\n      host: this.host,\n      port: this.port,\n      database: this.database,\n      user: this.user,\n      password: this.password,\n      ssl: this.ssl\n    };\n    this.client = new Client(config);\n    await this.client.connect();\n\n    // Create log table if configured\n    if (this.logTable) {\n      await this.createLogTableIfNotExists();\n    }\n\n    // Sync schemas if enabled\n    if (this.schemaSync.enabled) {\n      await this.syncSchemas(database);\n    }\n\n    this.emit('initialized', {\n      replicator: this.name,\n      database: this.database || 'postgres',\n      resources: Object.keys(this.resources)\n    });\n  }\n\n  async createLogTableIfNotExists() {\n    const createTableQuery = `\n      CREATE TABLE IF NOT EXISTS ${this.logTable} (\n        id SERIAL PRIMARY KEY,\n        resource_name VARCHAR(255) NOT NULL,\n        operation VARCHAR(50) NOT NULL,\n        record_id VARCHAR(255) NOT NULL,\n        data JSONB,\n        timestamp TIMESTAMP WITH TIME ZONE DEFAULT NOW(),\n        source VARCHAR(100) DEFAULT 's3db-replicator',\n        created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()\n      );\n      CREATE INDEX IF NOT EXISTS idx_${this.logTable}_resource_name ON ${this.logTable}(resource_name);\n      CREATE INDEX IF NOT EXISTS idx_${this.logTable}_operation ON ${this.logTable}(operation);\n      CREATE INDEX IF NOT EXISTS idx_${this.logTable}_record_id ON ${this.logTable}(record_id);\n      CREATE INDEX IF NOT EXISTS idx_${this.logTable}_timestamp ON ${this.logTable}(timestamp);\n    `;\n    await this.client.query(createTableQuery);\n  }\n\n  /**\n   * Sync table schemas based on S3DB resource definitions\n   */\n  async syncSchemas(database) {\n    for (const [resourceName, tableConfigs] of Object.entries(this.resources)) {\n      // Get resource metadata from database\n      const [okRes, errRes, resource] = await tryFn(async () => {\n        return await database.getResource(resourceName);\n      });\n\n      if (!okRes) {\n        if (this.config.verbose) {\n          console.warn(`[PostgresReplicator] Could not get resource ${resourceName} for schema sync: ${errRes.message}`);\n        }\n        continue;\n      }\n\n      // Get resource attributes from current version\n      const attributes = resource.config.versions[resource.config.currentVersion]?.attributes || {};\n\n      // Sync each table configured for this resource\n      for (const tableConfig of tableConfigs) {\n        const tableName = tableConfig.table;\n\n        const [okSync, errSync] = await tryFn(async () => {\n          await this.syncTableSchema(tableName, attributes);\n        });\n\n        if (!okSync) {\n          const message = `Schema sync failed for table ${tableName}: ${errSync.message}`;\n\n          if (this.schemaSync.onMismatch === 'error') {\n            throw new Error(message);\n          } else if (this.schemaSync.onMismatch === 'warn') {\n            console.warn(`[PostgresReplicator] ${message}`);\n          }\n          // 'ignore' does nothing\n        }\n      }\n    }\n\n    this.emit('schema_sync_completed', {\n      replicator: this.name,\n      resources: Object.keys(this.resources)\n    });\n  }\n\n  /**\n   * Sync a single table schema\n   */\n  async syncTableSchema(tableName, attributes) {\n    // Check if table exists\n    const existingSchema = await getPostgresTableSchema(this.client, tableName);\n\n    if (!existingSchema) {\n      // Table doesn't exist\n      if (!this.schemaSync.autoCreateTable) {\n        throw new Error(`Table ${tableName} does not exist and autoCreateTable is disabled`);\n      }\n\n      if (this.schemaSync.strategy === 'validate-only') {\n        throw new Error(`Table ${tableName} does not exist (validate-only mode)`);\n      }\n\n      // Create table\n      const createSQL = generatePostgresCreateTable(tableName, attributes);\n\n      if (this.config.verbose) {\n        console.log(`[PostgresReplicator] Creating table ${tableName}:\\n${createSQL}`);\n      }\n\n      await this.client.query(createSQL);\n\n      this.emit('table_created', {\n        replicator: this.name,\n        tableName,\n        attributes: Object.keys(attributes)\n      });\n\n      return;\n    }\n\n    // Table exists - check for schema changes\n    if (this.schemaSync.strategy === 'drop-create') {\n      // Drop and recreate table (DANGEROUS!)\n      if (this.config.verbose) {\n        console.warn(`[PostgresReplicator] Dropping and recreating table ${tableName}`);\n      }\n\n      await this.client.query(`DROP TABLE IF EXISTS ${tableName} CASCADE`);\n      const createSQL = generatePostgresCreateTable(tableName, attributes);\n      await this.client.query(createSQL);\n\n      this.emit('table_recreated', {\n        replicator: this.name,\n        tableName,\n        attributes: Object.keys(attributes)\n      });\n\n      return;\n    }\n\n    if (this.schemaSync.strategy === 'alter' && this.schemaSync.autoCreateColumns) {\n      // Add missing columns\n      const alterStatements = generatePostgresAlterTable(tableName, attributes, existingSchema);\n\n      if (alterStatements.length > 0) {\n        if (this.config.verbose) {\n          console.log(`[PostgresReplicator] Altering table ${tableName}:`, alterStatements);\n        }\n\n        for (const stmt of alterStatements) {\n          await this.client.query(stmt);\n        }\n\n        this.emit('table_altered', {\n          replicator: this.name,\n          tableName,\n          addedColumns: alterStatements.length\n        });\n      }\n    }\n\n    if (this.schemaSync.strategy === 'validate-only') {\n      // Just validate, don't modify\n      const alterStatements = generatePostgresAlterTable(tableName, attributes, existingSchema);\n\n      if (alterStatements.length > 0) {\n        throw new Error(`Table ${tableName} schema mismatch. Missing columns: ${alterStatements.length}`);\n      }\n    }\n  }\n\n  shouldReplicateResource(resourceName) {\n    return this.resources.hasOwnProperty(resourceName);\n  }\n\n  shouldReplicateAction(resourceName, operation) {\n    if (!this.resources[resourceName]) return false;\n    \n    return this.resources[resourceName].some(tableConfig => \n      tableConfig.actions.includes(operation)\n    );\n  }\n\n  getTablesForResource(resourceName, operation) {\n    if (!this.resources[resourceName]) return [];\n    \n    return this.resources[resourceName]\n      .filter(tableConfig => tableConfig.actions.includes(operation))\n      .map(tableConfig => tableConfig.table);\n  }\n\n  async replicate(resourceName, operation, data, id, beforeData = null) {\n    if (!this.enabled || !this.shouldReplicateResource(resourceName)) {\n      return { skipped: true, reason: 'resource_not_included' };\n    }\n\n    if (!this.shouldReplicateAction(resourceName, operation)) {\n      return { skipped: true, reason: 'action_not_included' };\n    }\n\n    const tables = this.getTablesForResource(resourceName, operation);\n    if (tables.length === 0) {\n      return { skipped: true, reason: 'no_tables_for_action' };\n    }\n\n    const results = [];\n    const errors = [];\n\n    const [ok, err, result] = await tryFn(async () => {\n      // Replicate to all applicable tables\n      for (const table of tables) {\n        const [okTable, errTable] = await tryFn(async () => {\n          let result;\n          \n          if (operation === 'insert') {\n            // Clean internal fields before processing\n            const cleanData = this._cleanInternalFields(data);\n            // INSERT INTO table (col1, col2, ...) VALUES (...)\n            const keys = Object.keys(cleanData);\n            const values = keys.map(k => cleanData[k]);\n            const columns = keys.map(k => `\"${k}\"`).join(', ');\n            const params = keys.map((_, i) => `$${i + 1}`).join(', ');\n            const sql = `INSERT INTO ${table} (${columns}) VALUES (${params}) ON CONFLICT (id) DO NOTHING RETURNING *`;\n            result = await this.client.query(sql, values);\n          } else if (operation === 'update') {\n            // Clean internal fields before processing\n            const cleanData = this._cleanInternalFields(data);\n            // UPDATE table SET col1=$1, col2=$2 ... WHERE id=$N\n            const keys = Object.keys(cleanData).filter(k => k !== 'id');\n            const setClause = keys.map((k, i) => `\"${k}\"=$${i + 1}`).join(', ');\n            const values = keys.map(k => cleanData[k]);\n            values.push(id);\n            const sql = `UPDATE ${table} SET ${setClause} WHERE id=$${keys.length + 1} RETURNING *`;\n            result = await this.client.query(sql, values);\n          } else if (operation === 'delete') {\n            // DELETE FROM table WHERE id=$1\n            const sql = `DELETE FROM ${table} WHERE id=$1 RETURNING *`;\n            result = await this.client.query(sql, [id]);\n          } else {\n            throw new Error(`Unsupported operation: ${operation}`);\n          }\n\n          results.push({\n            table,\n            success: true,\n            rows: result.rows,\n            rowCount: result.rowCount\n          });\n        });\n        if (!okTable) {\n          errors.push({\n            table,\n            error: errTable.message\n          });\n        }\n      }\n      // Log operation if logTable is configured\n      if (this.logTable) {\n        const [okLog, errLog] = await tryFn(async () => {\n          await this.client.query(\n            `INSERT INTO ${this.logTable} (resource_name, operation, record_id, data, timestamp, source) VALUES ($1, $2, $3, $4, $5, $6)`,\n            [resourceName, operation, id, JSON.stringify(data), new Date().toISOString(), 's3db-replicator']\n          );\n        });\n        if (!okLog) {\n          // Don't fail the main operation if logging fails\n        }\n      }\n      const success = errors.length === 0;\n      \n      // Log errors if any occurred\n      if (errors.length > 0) {\n        console.warn(`[PostgresReplicator] Replication completed with errors for ${resourceName}:`, errors);\n      }\n      \n      this.emit('replicated', {\n        replicator: this.name,\n        resourceName,\n        operation,\n        id,\n        tables,\n        results,\n        errors,\n        success\n      });\n      return { \n        success, \n        results, \n        errors,\n        tables \n      };\n    });\n    if (ok) return result;\n    if (this.config.verbose) {\n      console.warn(`[PostgresReplicator] Replication failed for ${resourceName}: ${err.message}`);\n    }\n    this.emit('replicator_error', {\n      replicator: this.name,\n      resourceName,\n      operation,\n      id,\n      error: err.message\n    });\n    return { success: false, error: err.message };\n  }\n\n  async replicateBatch(resourceName, records) {\n    const results = [];\n    const errors = [];\n    \n    for (const record of records) {\n      const [ok, err, res] = await tryFn(() => this.replicate(\n        resourceName, \n        record.operation, \n        record.data, \n        record.id, \n        record.beforeData\n      ));\n      if (ok) {\n        results.push(res);\n      } else {\n        if (this.config.verbose) {\n          console.warn(`[PostgresReplicator] Batch replication failed for record ${record.id}: ${err.message}`);\n        }\n        errors.push({ id: record.id, error: err.message });\n      }\n    }\n    \n    // Log errors if any occurred during batch processing\n    if (errors.length > 0) {\n      console.warn(`[PostgresReplicator] Batch replication completed with ${errors.length} error(s) for ${resourceName}:`, errors);\n    }\n    \n    return { \n      success: errors.length === 0, \n      results, \n      errors \n    };\n  }\n\n  async testConnection() {\n    const [ok, err] = await tryFn(async () => {\n      if (!this.client) await this.initialize();\n      await this.client.query('SELECT 1');\n      return true;\n    });\n    if (ok) return true;\n    if (this.config.verbose) {\n      console.warn(`[PostgresReplicator] Connection test failed: ${err.message}`);\n    }\n    this.emit('connection_error', { replicator: this.name, error: err.message });\n    return false;\n  }\n\n  _cleanInternalFields(data) {\n    if (!data || typeof data !== 'object') return data;\n    \n    const cleanData = { ...data };\n    \n    // Remove internal fields that start with $ or _\n    Object.keys(cleanData).forEach(key => {\n      if (key.startsWith('$') || key.startsWith('_')) {\n        delete cleanData[key];\n      }\n    });\n    \n    return cleanData;\n  }\n\n  async cleanup() {\n    if (this.client) await this.client.end();\n  }\n\n  getStatus() {\n    return {\n      ...super.getStatus(),\n      database: this.database || 'postgres',\n      resources: this.resources,\n      logTable: this.logTable,\n      schemaSync: this.schemaSync\n    };\n  }\n}\n\n\nexport default PostgresReplicator; ","export const S3_DEFAULT_REGION = \"us-east-1\";\nexport const S3_DEFAULT_ENDPOINT = \"https://s3.us-east-1.amazonaws.com\";\n\nimport tryFn, { tryFnSync } from \"./concerns/try-fn.js\";\nimport { ConnectionStringError } from \"./errors.js\";\n\nexport class ConnectionString {\n  constructor(connectionString) {\n    let uri;\n\n    const [ok, err, parsed] = tryFn(() => new URL(connectionString));\n    if (!ok) {\n      throw new ConnectionStringError(\"Invalid connection string: \" + connectionString, { original: err, input: connectionString });\n    }\n    uri = parsed;\n    // defaults:\n    this.region = S3_DEFAULT_REGION;\n    \n    // config:\n    if (uri.protocol === \"s3:\") this.defineFromS3(uri);\n    else this.defineFromCustomUri(uri);\n    \n    for (const [k, v] of uri.searchParams.entries()) {\n      this[k] = v;\n    }\n  }\n\n  defineFromS3(uri) {\n    const [okBucket, errBucket, bucket] = tryFnSync(() => decodeURIComponent(uri.hostname));\n    if (!okBucket) throw new ConnectionStringError(\"Invalid bucket in connection string\", { original: errBucket, input: uri.hostname });\n    this.bucket = bucket || 's3db';\n    const [okUser, errUser, user] = tryFnSync(() => decodeURIComponent(uri.username));\n    if (!okUser) throw new ConnectionStringError(\"Invalid accessKeyId in connection string\", { original: errUser, input: uri.username });\n    this.accessKeyId = user;\n    const [okPass, errPass, pass] = tryFnSync(() => decodeURIComponent(uri.password));\n    if (!okPass) throw new ConnectionStringError(\"Invalid secretAccessKey in connection string\", { original: errPass, input: uri.password });\n    this.secretAccessKey = pass;\n    this.endpoint = S3_DEFAULT_ENDPOINT;\n\n    if ([\"/\", \"\", null].includes(uri.pathname)) {\n      this.keyPrefix = \"\";\n    } else {\n      let [, ...subpath] = uri.pathname.split(\"/\");\n      this.keyPrefix = [...(subpath || [])].join(\"/\");\n    }\n  }\n\n  defineFromCustomUri(uri) {\n    this.forcePathStyle = true;\n    this.endpoint = uri.origin;\n    const [okUser, errUser, user] = tryFnSync(() => decodeURIComponent(uri.username));\n    if (!okUser) throw new ConnectionStringError(\"Invalid accessKeyId in connection string\", { original: errUser, input: uri.username });\n    this.accessKeyId = user;\n    const [okPass, errPass, pass] = tryFnSync(() => decodeURIComponent(uri.password));\n    if (!okPass) throw new ConnectionStringError(\"Invalid secretAccessKey in connection string\", { original: errPass, input: uri.password });\n    this.secretAccessKey = pass;\n\n    if ([\"/\", \"\", null].includes(uri.pathname)) {\n      this.bucket = \"s3db\";\n      this.keyPrefix = \"\";\n    } else {\n      let [, bucket, ...subpath] = uri.pathname.split(\"/\");\n      if (!bucket) {\n        this.bucket = \"s3db\";\n      } else {\n        const [okBucket, errBucket, bucketDecoded] = tryFnSync(() => decodeURIComponent(bucket));\n        if (!okBucket) throw new ConnectionStringError(\"Invalid bucket in connection string\", { original: errBucket, input: bucket });\n        this.bucket = bucketDecoded;\n      }\n      this.keyPrefix = [...(subpath || [])].join(\"/\");\n    }\n  }\n}\n\nexport default ConnectionString;","import path from \"path\";\nimport EventEmitter from \"events\";\nimport { chunk } from \"lodash-es\";\nimport { Agent as HttpAgent } from 'http';\nimport { Agent as HttpsAgent } from 'https';\nimport { PromisePool } from \"@supercharge/promise-pool\";\nimport { NodeHttpHandler } from '@smithy/node-http-handler';\n\nimport {\n  S3Client,\n  PutObjectCommand,\n  GetObjectCommand,\n  CopyObjectCommand,\n  HeadObjectCommand,\n  DeleteObjectCommand,\n  DeleteObjectsCommand,\n  ListObjectsV2Command,\n} from '@aws-sdk/client-s3';\n\nimport tryFn from \"./concerns/try-fn.js\";\nimport { md5 } from \"./concerns/crypto.js\";\nimport { idGenerator } from \"./concerns/id.js\";\nimport { metadataEncode, metadataDecode } from \"./concerns/metadata-encoding.js\";\nimport { ConnectionString } from \"./connection-string.class.js\";\nimport { mapAwsError, UnknownError, NoSuchKey, NotFound } from \"./errors.js\";\n\nexport class Client extends EventEmitter {\n  constructor({\n    verbose = false,\n    id = null,\n    AwsS3Client,\n    connectionString,\n    parallelism = 10,\n    httpClientOptions = {},\n  }) {\n    super();\n    this.verbose = verbose;\n    this.id = id ?? idGenerator(77);\n    this.parallelism = parallelism;\n    this.config = new ConnectionString(connectionString);\n    this.httpClientOptions = {\n      keepAlive: true, // Enabled for better performance\n      keepAliveMsecs: 1000, // 1 second keep-alive\n      maxSockets: httpClientOptions.maxSockets || 500, // High concurrency support\n      maxFreeSockets: httpClientOptions.maxFreeSockets || 100, // Better connection reuse\n      timeout: 60000, // 60 second timeout\n      ...httpClientOptions,\n    };\n    this.client = AwsS3Client || this.createClient()\n  }\n\n  createClient() {\n    // Create HTTP agents with keep-alive configuration\n    const httpAgent = new HttpAgent(this.httpClientOptions);\n    const httpsAgent = new HttpsAgent(this.httpClientOptions);\n\n    // Create HTTP handler with agents\n    const httpHandler = new NodeHttpHandler({\n      httpAgent,\n      httpsAgent,\n    });\n\n    let options = {\n      region: this.config.region,\n      endpoint: this.config.endpoint,\n      requestHandler: httpHandler,\n    }\n\n    if (this.config.forcePathStyle) options.forcePathStyle = true\n\n    if (this.config.accessKeyId) {\n      options.credentials = {\n        accessKeyId: this.config.accessKeyId,\n        secretAccessKey: this.config.secretAccessKey,\n      }\n    }\n\n    const client = new S3Client(options);\n\n    // Adiciona middleware para Content-MD5 em DeleteObjectsCommand\n    client.middlewareStack.add(\n      (next, context) => async (args) => {\n        if (context.commandName === 'DeleteObjectsCommand') {\n          const body = args.request.body;\n          if (body && typeof body === 'string') {\n            const contentMd5 = await md5(body);\n            args.request.headers['Content-MD5'] = contentMd5;\n          }\n        }\n        return next(args);\n      },\n      {\n        step: 'build',\n        name: 'addContentMd5ForDeleteObjects',\n        priority: 'high',\n      }\n    );\n\n    return client;\n  }\n\n  async sendCommand(command) {\n    this.emit(\"command.request\", command.constructor.name, command.input);\n    const [ok, err, response] = await tryFn(() => this.client.send(command));\n    if (!ok) {\n      const bucket = this.config.bucket;\n      const key = command.input && command.input.Key;\n      throw mapAwsError(err, {\n        bucket,\n        key,\n        commandName: command.constructor.name,\n        commandInput: command.input,\n      });\n    }\n    this.emit(\"command.response\", command.constructor.name, response, command.input);\n    return response;\n  }\n\n  async putObject({ key, metadata, contentType, body, contentEncoding, contentLength, ifMatch }) {\n    const keyPrefix = typeof this.config.keyPrefix === 'string' ? this.config.keyPrefix : '';\n    const fullKey = keyPrefix ? path.join(keyPrefix, key) : key;\n\n    // Ensure all metadata values are strings and use smart encoding\n    const stringMetadata = {};\n    if (metadata) {\n      for (const [k, v] of Object.entries(metadata)) {\n        // Ensure key is a valid string\n        const validKey = String(k).replace(/[^a-zA-Z0-9\\-_]/g, '_');\n\n        // Smart encode the value\n        const { encoded } = metadataEncode(v);\n        stringMetadata[validKey] = encoded;\n      }\n    }\n\n    const options = {\n      Bucket: this.config.bucket,\n      Key: keyPrefix ? path.join(keyPrefix, key) : key,\n      Metadata: stringMetadata,\n      Body: body || Buffer.alloc(0),\n    };\n\n    if (contentType !== undefined) options.ContentType = contentType\n    if (contentEncoding !== undefined) options.ContentEncoding = contentEncoding\n    if (contentLength !== undefined) options.ContentLength = contentLength\n    if (ifMatch !== undefined) options.IfMatch = ifMatch\n\n    const [ok, err, response] = await tryFn(() => this.sendCommand(new PutObjectCommand(options)));\n    this.emit('putObject', err || response, { key, metadata, contentType, body, contentEncoding, contentLength });\n\n    if (!ok) {\n      throw mapAwsError(err, {\n        bucket: this.config.bucket,\n        key,\n        commandName: 'PutObjectCommand',\n        commandInput: options,\n      });\n    }\n\n    return response;\n  }\n\n  async getObject(key) {\n    const keyPrefix = typeof this.config.keyPrefix === 'string' ? this.config.keyPrefix : '';\n    const options = {\n      Bucket: this.config.bucket,\n      Key: keyPrefix ? path.join(keyPrefix, key) : key,\n    };\n\n    const [ok, err, response] = await tryFn(async () => {\n      const res = await this.sendCommand(new GetObjectCommand(options));\n\n      // Smart decode metadata values\n      if (res.Metadata) {\n        const decodedMetadata = {};\n        for (const [key, value] of Object.entries(res.Metadata)) {\n          decodedMetadata[key] = metadataDecode(value);\n        }\n        res.Metadata = decodedMetadata;\n      }\n\n      return res;\n    });\n\n    this.emit('getObject', err || response, { key });\n\n    if (!ok) {\n      throw mapAwsError(err, {\n        bucket: this.config.bucket,\n        key,\n        commandName: 'GetObjectCommand',\n        commandInput: options,\n      });\n    }\n\n    return response;\n  }\n\n  async headObject(key) {\n    const keyPrefix = typeof this.config.keyPrefix === 'string' ? this.config.keyPrefix : '';\n    const options = {\n      Bucket: this.config.bucket,\n      Key: keyPrefix ? path.join(keyPrefix, key) : key,\n    };\n\n    const [ok, err, response] = await tryFn(async () => {\n      const res = await this.sendCommand(new HeadObjectCommand(options));\n\n      // Smart decode metadata values (same as getObject)\n      if (res.Metadata) {\n        const decodedMetadata = {};\n        for (const [key, value] of Object.entries(res.Metadata)) {\n          decodedMetadata[key] = metadataDecode(value);\n        }\n        res.Metadata = decodedMetadata;\n      }\n\n      return res;\n    });\n\n    this.emit('headObject', err || response, { key });\n\n    if (!ok) {\n      throw mapAwsError(err, {\n        bucket: this.config.bucket,\n        key,\n        commandName: 'HeadObjectCommand',\n        commandInput: options,\n      });\n    }\n\n    return response;\n  }\n\n  async copyObject({ from, to, metadata, metadataDirective, contentType }) {\n    const keyPrefix = typeof this.config.keyPrefix === 'string' ? this.config.keyPrefix : '';\n    const options = {\n      Bucket: this.config.bucket,\n      Key: keyPrefix ? path.join(keyPrefix, to) : to,\n      CopySource: path.join(this.config.bucket, keyPrefix ? path.join(keyPrefix, from) : from),\n    };\n\n    // Add metadata directive if specified\n    if (metadataDirective) {\n      options.MetadataDirective = metadataDirective; // 'COPY' or 'REPLACE'\n    }\n\n    // Add metadata if specified (and encode values)\n    if (metadata && typeof metadata === 'object') {\n      const encodedMetadata = {};\n      for (const [key, value] of Object.entries(metadata)) {\n        const { encoded } = metadataEncode(value);\n        encodedMetadata[key] = encoded;\n      }\n      options.Metadata = encodedMetadata;\n    }\n\n    // Add content type if specified\n    if (contentType) {\n      options.ContentType = contentType;\n    }\n\n    const [ok, err, response] = await tryFn(() => this.sendCommand(new CopyObjectCommand(options)));\n    this.emit('copyObject', err || response, { from, to, metadataDirective });\n\n    if (!ok) {\n      throw mapAwsError(err, {\n        bucket: this.config.bucket,\n        key: to,\n        commandName: 'CopyObjectCommand',\n        commandInput: options,\n      });\n    }\n\n    return response;\n  }\n\n  async exists(key) {\n    const [ok, err] = await tryFn(() => this.headObject(key));\n    if (ok) return true;\n    if (err.name === \"NoSuchKey\" || err.name === \"NotFound\") return false;\n    throw err;\n  }\n\n  async deleteObject(key) {\n    const keyPrefix = typeof this.config.keyPrefix === 'string' ? this.config.keyPrefix : '';\n    const fullKey = keyPrefix ? path.join(keyPrefix, key) : key;\n    const options = {\n      Bucket: this.config.bucket,\n      Key: keyPrefix ? path.join(keyPrefix, key) : key,\n    };\n\n    const [ok, err, response] = await tryFn(() => this.sendCommand(new DeleteObjectCommand(options)));\n    this.emit('deleteObject', err || response, { key });\n\n    if (!ok) {\n      throw mapAwsError(err, {\n        bucket: this.config.bucket,\n        key,\n        commandName: 'DeleteObjectCommand',\n        commandInput: options,\n      });\n    }\n\n    return response;\n  }\n\n  async deleteObjects(keys) {\n    const keyPrefix = typeof this.config.keyPrefix === 'string' ? this.config.keyPrefix : '';\n    const packages = chunk(keys, 1000);\n\n    const { results, errors } = await PromisePool.for(packages)\n      .withConcurrency(this.parallelism)\n      .process(async (keys) => {\n        // Log existence before deletion\n        for (const key of keys) {\n          const resolvedKey = keyPrefix ? path.join(keyPrefix, key) : key;\n          const bucket = this.config.bucket;\n          const existsBefore = await this.exists(key);\n        }\n        const options = {\n          Bucket: this.config.bucket,\n          Delete: {\n            Objects: keys.map((key) => ({\n              Key: keyPrefix ? path.join(keyPrefix, key) : key,\n            })),\n          },\n        };\n\n        // Debug log\n        let response;\n        const [ok, err, res] = await tryFn(() => this.sendCommand(new DeleteObjectsCommand(options)));\n        if (!ok) throw err;\n        response = res;\n          if (response && response.Errors && response.Errors.length > 0) {\n            // console.error('[Client][ERROR] DeleteObjectsCommand errors:', response.Errors);\n          }\n          if (response && response.Deleted && response.Deleted.length !== keys.length) {\n            // console.error('[Client][ERROR] Not all objects were deleted:', response.Deleted, 'expected:', keys);\n        }\n        return response;\n      });\n\n    const report = {\n      deleted: results,\n      notFound: errors,\n    }\n\n    this.emit(\"deleteObjects\", report, keys);\n    return report;\n  }\n\n  /**\n   * Delete all objects under a specific prefix using efficient pagination\n   * @param {Object} options - Delete options\n   * @param {string} options.prefix - S3 prefix to delete\n   * @returns {Promise<number>} Number of objects deleted\n   */\n  async deleteAll({ prefix } = {}) {\n    const keyPrefix = typeof this.config.keyPrefix === 'string' ? this.config.keyPrefix : '';\n    let continuationToken;\n    let totalDeleted = 0;\n\n    do {\n      const listCommand = new ListObjectsV2Command({\n        Bucket: this.config.bucket,\n        Prefix: keyPrefix ? path.join(keyPrefix, prefix || \"\") : prefix || \"\",\n        ContinuationToken: continuationToken,\n      });\n\n      const listResponse = await this.client.send(listCommand);\n\n      if (listResponse.Contents && listResponse.Contents.length > 0) {\n        const deleteCommand = new DeleteObjectsCommand({\n          Bucket: this.config.bucket,\n          Delete: {\n            Objects: listResponse.Contents.map(obj => ({ Key: obj.Key }))\n          }\n        });\n\n        const deleteResponse = await this.client.send(deleteCommand);\n        const deletedCount = deleteResponse.Deleted ? deleteResponse.Deleted.length : 0;\n        totalDeleted += deletedCount;\n\n        this.emit(\"deleteAll\", {\n          prefix,\n          batch: deletedCount,\n          total: totalDeleted\n        });\n      }\n\n      continuationToken = listResponse.IsTruncated ? listResponse.NextContinuationToken : undefined;\n    } while (continuationToken);\n\n    this.emit(\"deleteAllComplete\", {\n      prefix,\n      totalDeleted\n    });\n\n    return totalDeleted;\n  }\n\n  async moveObject({ from, to }) {\n    const [ok, err] = await tryFn(async () => {\n      await this.copyObject({ from, to });\n      await this.deleteObject(from);\n    });\n    if (!ok) {\n      throw new UnknownError(\"Unknown error in moveObject\", { bucket: this.config.bucket, from, to, original: err });\n    }\n    return true;\n  }\n\n  async listObjects({\n    prefix,\n    maxKeys = 1000,\n    continuationToken,\n  } = {}) {\n    const options = {\n      Bucket: this.config.bucket,\n      MaxKeys: maxKeys,\n      ContinuationToken: continuationToken,\n      Prefix: this.config.keyPrefix\n        ? path.join(this.config.keyPrefix, prefix || \"\")\n        : prefix || \"\",\n    };\n    const [ok, err, response] = await tryFn(() => this.sendCommand(new ListObjectsV2Command(options)));\n    if (!ok) {\n      throw new UnknownError(\"Unknown error in listObjects\", { prefix, bucket: this.config.bucket, original: err });\n    }\n      this.emit(\"listObjects\", response, options);\n      return response;\n  }\n\n  async count({ prefix } = {}) {\n    let count = 0;\n    let truncated = true;\n    let continuationToken;\n    while (truncated) {\n      const options = {\n        prefix,\n        continuationToken,\n      };\n      const response = await this.listObjects(options);\n      count += response.KeyCount || 0;\n      truncated = response.IsTruncated || false;\n      continuationToken = response.NextContinuationToken;\n    }\n    this.emit(\"count\", count, { prefix });\n    return count;\n  }\n\n  async getAllKeys({ prefix } = {}) {\n    let keys = [];\n    let truncated = true;\n    let continuationToken;\n    while (truncated) {\n      const options = {\n        prefix,\n        continuationToken,\n      };\n      const response = await this.listObjects(options);\n      if (response.Contents) {\n        keys = keys.concat(response.Contents.map((x) => x.Key));\n      }\n      truncated = response.IsTruncated || false;\n      continuationToken = response.NextContinuationToken;\n    }\n    if (this.config.keyPrefix) {\n      keys = keys\n        .map((x) => x.replace(this.config.keyPrefix, \"\"))\n        .map((x) => (x.startsWith(\"/\") ? x.replace(`/`, \"\") : x));\n    }\n    this.emit(\"getAllKeys\", keys, { prefix });\n    return keys;\n  }\n\n  async getContinuationTokenAfterOffset(params = {}) {\n    const {\n      prefix,\n      offset = 1000,\n    } = params\n    if (offset === 0) return null;\n    let truncated = true;\n    let continuationToken;\n    let skipped = 0;\n    while (truncated) {\n      let maxKeys =\n        offset < 1000\n          ? offset\n          : offset - skipped > 1000\n            ? 1000\n            : offset - skipped;\n      const options = {\n        prefix,\n        maxKeys,\n        continuationToken,\n      };\n      const res = await this.listObjects(options);\n      if (res.Contents) {\n        skipped += res.Contents.length;\n      }\n      truncated = res.IsTruncated || false;\n      continuationToken = res.NextContinuationToken;\n      if (skipped >= offset) {\n        break;\n      }\n    }\n    this.emit(\"getContinuationTokenAfterOffset\", continuationToken || null, params);\n    return continuationToken || null;\n  }\n\n  async getKeysPage(params = {}) {\n    const {\n      prefix,\n      offset = 0,\n      amount = 100,\n    } = params\n    let keys = [];\n    let truncated = true;\n    let continuationToken;\n    if (offset > 0) {\n      continuationToken = await this.getContinuationTokenAfterOffset({\n        prefix,\n        offset,\n      });\n      if (!continuationToken) {\n        this.emit(\"getKeysPage\", [], params);\n        return [];\n      }\n    }\n    while (truncated) {\n      const options = {\n        prefix,\n        continuationToken,\n      };\n      const res = await this.listObjects(options);\n      if (res.Contents) {\n        keys = keys.concat(res.Contents.map((x) => x.Key));\n      }\n      truncated = res.IsTruncated || false;\n      continuationToken = res.NextContinuationToken;\n      if (keys.length >= amount) {\n        keys = keys.slice(0, amount);\n        break;\n      }\n    }\n    if (this.config.keyPrefix) {\n      keys = keys\n        .map((x) => x.replace(this.config.keyPrefix, \"\"))\n        .map((x) => (x.startsWith(\"/\") ? x.replace(`/`, \"\") : x));\n    }\n    this.emit(\"getKeysPage\", keys, params);\n    return keys;\n  }\n\n  async moveAllObjects({ prefixFrom, prefixTo }) {\n    const keys = await this.getAllKeys({ prefix: prefixFrom });\n    const { results, errors } = await PromisePool\n      .for(keys)\n      .withConcurrency(this.parallelism)\n      .process(async (key) => {\n        const to = key.replace(prefixFrom, prefixTo)\n        const [ok, err] = await tryFn(async () => {\n          await this.moveObject({ \n            from: key, \n            to,\n          });\n          });\n        if (!ok) {\n          throw new UnknownError(\"Unknown error in moveAllObjects\", { bucket: this.config.bucket, from: key, to, original: err });\n        }\n        return to;\n      });\n    this.emit(\"moveAllObjects\", { results, errors }, { prefixFrom, prefixTo });\n    if (errors.length > 0) {\n      throw new UnknownError(\"Some objects could not be moved\", {\n        bucket: this.config.bucket,\n        operation: 'moveAllObjects',\n        prefixFrom,\n        prefixTo,\n        totalKeys: keys.length,\n        failedCount: errors.length,\n        successCount: results.length,\n        errors: errors.map(e => ({ message: e.message, raw: e.raw })),\n        suggestion: 'Check S3 permissions and retry failed objects individually'\n      });\n    }\n    return results;\n  }\n}\n\nexport default Client;","import EventEmitter from 'events';\n\nclass AsyncEventEmitter extends EventEmitter {\n  constructor() {\n    super();\n    this._asyncMode = true;\n  }\n\n  emit(event, ...args) {\n    if (!this._asyncMode) {\n      return super.emit(event, ...args);\n    }\n\n    const listeners = this.listeners(event);\n    \n    if (listeners.length === 0) {\n      return false;\n    }\n\n    setImmediate(async () => {\n      for (const listener of listeners) {\n        try {\n          await listener(...args);\n        } catch (error) {\n          if (event !== 'error') {\n            this.emit('error', error);\n          } else {\n            console.error('Error in error handler:', error);\n          }\n        }\n      }\n    });\n\n    return true;\n  }\n\n  emitSync(event, ...args) {\n    return super.emit(event, ...args);\n  }\n\n  setAsyncMode(enabled) {\n    this._asyncMode = enabled;\n  }\n}\n\nexport default AsyncEventEmitter;","import { merge, isString } from \"lodash-es\";\nimport FastestValidator from \"fastest-validator\";\n\nimport { encrypt } from \"./concerns/crypto.js\";\nimport tryFn, { tryFnSync } from \"./concerns/try-fn.js\";\nimport { ValidationError } from \"./errors.js\";\n\nasync function secretHandler (actual, errors, schema) {\n  if (!this.passphrase) {\n    errors.push(new ValidationError(\"Missing configuration for secrets encryption.\", {\n      actual,\n      type: \"encryptionKeyMissing\",\n      suggestion: \"Provide a passphrase for secret encryption.\"\n    }));\n    return actual;\n  }\n\n  const [ok, err, res] = await tryFn(() => encrypt(String(actual), this.passphrase));\n  if (ok) return res;\n  errors.push(new ValidationError(\"Problem encrypting secret.\", {\n    actual,\n    type: \"encryptionProblem\",\n    error: err,\n    suggestion: \"Check the passphrase and input value.\"\n  }));\n  return actual;\n}\n\nasync function jsonHandler (actual, errors, schema) {\n  if (isString(actual)) return actual;\n  const [ok, err, json] = tryFnSync(() => JSON.stringify(actual));\n  if (!ok) throw new ValidationError(\"Failed to stringify JSON\", { original: err, input: actual });\n  return json;\n}\n\nexport class Validator extends FastestValidator {\n  constructor({ options, passphrase, autoEncrypt = true } = {}) {\n    super(merge({}, {\n      useNewCustomCheckerFunction: true,\n\n      messages: {\n        encryptionKeyMissing: \"Missing configuration for secrets encryption.\",\n        encryptionProblem: \"Problem encrypting secret. Actual: {actual}. Error: {error}\",\n      },\n\n      defaults: {\n        string: {\n          trim: true,\n        },\n        object: {\n          strict: \"remove\",\n        },\n        number: {\n          convert: true,\n        }\n      },\n    }, options))\n\n    this.passphrase = passphrase;\n    this.autoEncrypt = autoEncrypt;\n\n    this.alias('secret', {\n      type: \"string\",\n      custom: this.autoEncrypt ? secretHandler : undefined,\n      messages: {\n        string: \"The '{field}' field must be a string.\",\n        stringMin: \"This secret '{field}' field length must be at least {expected} long.\",\n      },\n    })\n\n    this.alias('secretAny', { \n      type: \"any\" ,\n      custom: this.autoEncrypt ? secretHandler : undefined,\n    })\n\n    this.alias('secretNumber', { \n      type: \"number\",\n      custom: this.autoEncrypt ? secretHandler : undefined,\n    })\n\n    this.alias('json', {\n      type: \"any\",\n      custom: this.autoEncrypt ? jsonHandler : undefined,\n    })\n\n    // Embedding type - shorthand for arrays of numbers optimized for embeddings\n    // Usage: 'embedding:1536' or 'embedding|length:768'\n    this.alias('embedding', {\n      type: \"array\",\n      items: \"number\",\n      empty: false,\n    })\n  }\n}\n\nexport const ValidatorManager = new Proxy(Validator, {\n  instance: null,\n\n  construct(target, args) {\n    if (!this.instance) this.instance = new target(...args);\n    return this.instance;\n  }\n})\n\nexport default Validator;\n","/**\n * IP Address Encoding/Decoding Utilities\n *\n * Provides compact binary encoding for IPv4 and IPv6 addresses\n * to save space in S3 metadata.\n *\n * Savings:\n * - IPv4: \"192.168.1.1\" (11-15 chars) → 4 bytes → ~8 chars Base64 (47% savings)\n * - IPv6: \"2001:db8::1\" (up to 39 chars) → 16 bytes → ~22 chars Base64 (44% savings)\n */\n\nimport tryFn from './try-fn.js';\n\n/**\n * Validate IPv4 address format\n * @param {string} ip - IP address string\n * @returns {boolean} True if valid IPv4\n */\nexport function isValidIPv4(ip) {\n  if (typeof ip !== 'string') return false;\n\n  const ipv4Regex = /^(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})$/;\n  const match = ip.match(ipv4Regex);\n\n  if (!match) return false;\n\n  // Check each octet is 0-255\n  for (let i = 1; i <= 4; i++) {\n    const octet = parseInt(match[i], 10);\n    if (octet < 0 || octet > 255) return false;\n  }\n\n  return true;\n}\n\n/**\n * Validate IPv6 address format\n * @param {string} ip - IP address string\n * @returns {boolean} True if valid IPv6\n */\nexport function isValidIPv6(ip) {\n  if (typeof ip !== 'string') return false;\n\n  // IPv6 regex (simplified, covers most cases)\n  const ipv6Regex = /^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]+|::(ffff(:0{1,4})?:)?((25[0-5]|(2[0-4]|1?[0-9])?[0-9])\\.){3}(25[0-5]|(2[0-4]|1?[0-9])?[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1?[0-9])?[0-9])\\.){3}(25[0-5]|(2[0-4]|1?[0-9])?[0-9]))$/;\n\n  return ipv6Regex.test(ip);\n}\n\n/**\n * Encode IPv4 address to Base64 binary representation\n * @param {string} ip - IPv4 address (e.g., \"192.168.1.1\")\n * @returns {string} Base64-encoded binary (e.g., \"wKgBAQ==\")\n */\nexport function encodeIPv4(ip) {\n  if (!isValidIPv4(ip)) {\n    throw new Error(`Invalid IPv4 address: ${ip}`);\n  }\n\n  const octets = ip.split('.').map(octet => parseInt(octet, 10));\n  const buffer = Buffer.from(octets);\n\n  return buffer.toString('base64');\n}\n\n/**\n * Decode Base64 binary to IPv4 address\n * @param {string} encoded - Base64-encoded binary\n * @returns {string} IPv4 address (e.g., \"192.168.1.1\")\n */\nexport function decodeIPv4(encoded) {\n  if (typeof encoded !== 'string') {\n    throw new Error('Encoded IPv4 must be a string');\n  }\n\n  const [ok, err, result] = tryFn(() => {\n    const buffer = Buffer.from(encoded, 'base64');\n\n    if (buffer.length !== 4) {\n      throw new Error(`Invalid encoded IPv4 length: ${buffer.length} (expected 4)`);\n    }\n\n    return Array.from(buffer).join('.');\n  });\n\n  if (!ok) {\n    throw new Error(`Failed to decode IPv4: ${err.message}`);\n  }\n\n  return result;\n}\n\n/**\n * Normalize IPv6 address to full expanded form\n * @param {string} ip - IPv6 address (may be compressed)\n * @returns {string} Expanded IPv6 address\n */\nexport function expandIPv6(ip) {\n  if (!isValidIPv6(ip)) {\n    throw new Error(`Invalid IPv6 address: ${ip}`);\n  }\n\n  // Handle :: expansion\n  let expanded = ip;\n\n  // Special case: ::\n  if (expanded === '::') {\n    return '0000:0000:0000:0000:0000:0000:0000:0000';\n  }\n\n  // Expand ::\n  if (expanded.includes('::')) {\n    const parts = expanded.split('::');\n    const leftParts = parts[0] ? parts[0].split(':') : [];\n    const rightParts = parts[1] ? parts[1].split(':') : [];\n    const missingGroups = 8 - leftParts.length - rightParts.length;\n\n    const middleParts = Array(missingGroups).fill('0');\n    expanded = [...leftParts, ...middleParts, ...rightParts].join(':');\n  }\n\n  // Pad each group to 4 digits\n  const groups = expanded.split(':');\n  const paddedGroups = groups.map(group => group.padStart(4, '0'));\n\n  return paddedGroups.join(':');\n}\n\n/**\n * Compress IPv6 address (remove leading zeros and use ::)\n * @param {string} ip - Full IPv6 address\n * @returns {string} Compressed IPv6 address\n */\nexport function compressIPv6(ip) {\n  // Remove leading zeros\n  let compressed = ip.split(':').map(group => {\n    return parseInt(group, 16).toString(16);\n  }).join(':');\n\n  // Find longest sequence of consecutive 0 groups\n  const zeroSequences = [];\n  let currentSequence = { start: -1, length: 0 };\n\n  compressed.split(':').forEach((group, index) => {\n    if (group === '0') {\n      if (currentSequence.start === -1) {\n        currentSequence.start = index;\n        currentSequence.length = 1;\n      } else {\n        currentSequence.length++;\n      }\n    } else {\n      if (currentSequence.length > 0) {\n        zeroSequences.push({ ...currentSequence });\n        currentSequence = { start: -1, length: 0 };\n      }\n    }\n  });\n\n  if (currentSequence.length > 0) {\n    zeroSequences.push(currentSequence);\n  }\n\n  // Find longest sequence (must be at least 2 groups)\n  const longestSequence = zeroSequences\n    .filter(seq => seq.length >= 2)\n    .sort((a, b) => b.length - a.length)[0];\n\n  if (longestSequence) {\n    const parts = compressed.split(':');\n    const before = parts.slice(0, longestSequence.start).join(':');\n    const after = parts.slice(longestSequence.start + longestSequence.length).join(':');\n\n    if (before && after) {\n      compressed = `${before}::${after}`;\n    } else if (before) {\n      compressed = `${before}::`;\n    } else if (after) {\n      compressed = `::${after}`;\n    } else {\n      compressed = '::';\n    }\n  }\n\n  return compressed;\n}\n\n/**\n * Encode IPv6 address to Base64 binary representation\n *\n * Always encodes to ensure consistent format in storage.\n * IPv6 addresses are normalized to 16 bytes and Base64-encoded to 24 characters.\n *\n * @param {string} ip - IPv6 address (e.g., \"2001:db8::1\")\n * @returns {string} Base64-encoded binary (24 chars)\n */\nexport function encodeIPv6(ip) {\n  if (!isValidIPv6(ip)) {\n    throw new Error(`Invalid IPv6 address: ${ip}`);\n  }\n\n  // Always encode for consistency (like IPv4)\n  // Expand to full notation first\n  const expanded = expandIPv6(ip);\n  const groups = expanded.split(':');\n\n  // Convert each group to 2 bytes\n  const bytes = [];\n  for (const group of groups) {\n    const value = parseInt(group, 16);\n    bytes.push((value >> 8) & 0xFF); // High byte\n    bytes.push(value & 0xFF);         // Low byte\n  }\n\n  const buffer = Buffer.from(bytes);\n  return buffer.toString('base64');\n}\n\n/**\n * Decode Base64 binary to IPv6 address\n *\n * Handles both encoded and unencoded IPv6 addresses for backwards compatibility.\n * - If input is a valid unencoded IPv6 address → return it (optionally expanded)\n * - Otherwise → decode from Base64 binary (24 chars)\n *\n * @param {string} encoded - Base64-encoded binary (24 chars) or unencoded IPv6\n * @param {boolean} compress - Whether to compress the output (default: true)\n * @returns {string} IPv6 address\n */\nexport function decodeIPv6(encoded, compress = true) {\n  if (typeof encoded !== 'string') {\n    throw new Error('Encoded IPv6 must be a string');\n  }\n\n  // SMART DETECTION: Check if this is unencoded IPv6\n  // If it's not 24 chars AND it's a valid IPv6, treat as unencoded\n  if (encoded.length !== 24 && isValidIPv6(encoded)) {\n    // Not encoded - was kept as original compressed form\n    // Respect the compress parameter\n    return compress ? encoded : expandIPv6(encoded);\n  }\n\n  // Try to decode as Base64 - works for both 24-char encoded AND invalid inputs\n  const [ok, err, result] = tryFn(() => {\n    const buffer = Buffer.from(encoded, 'base64');\n\n    if (buffer.length !== 16) {\n      throw new Error(`Invalid encoded IPv6 length: ${buffer.length} (expected 16)`);\n    }\n\n    const groups = [];\n    for (let i = 0; i < 16; i += 2) {\n      const value = (buffer[i] << 8) | buffer[i + 1];\n      groups.push(value.toString(16).padStart(4, '0'));\n    }\n\n    const fullAddress = groups.join(':');\n\n    return compress ? compressIPv6(fullAddress) : fullAddress;\n  });\n\n  if (!ok) {\n    throw new Error(`Failed to decode IPv6: ${err.message}`);\n  }\n\n  return result;\n}\n\n/**\n * Detect IP version from string\n * @param {string} ip - IP address string\n * @returns {'ipv4'|'ipv6'|null} IP version or null if invalid\n */\nexport function detectIPVersion(ip) {\n  if (isValidIPv4(ip)) return 'ipv4';\n  if (isValidIPv6(ip)) return 'ipv6';\n  return null;\n}\n\n/**\n * Calculate savings percentage for IP encoding\n * @param {string} ip - IP address\n * @returns {Object} Savings information\n */\nexport function calculateIPSavings(ip) {\n  const version = detectIPVersion(ip);\n\n  if (!version) {\n    return { version: null, originalSize: 0, encodedSize: 0, savings: 0 };\n  }\n\n  const originalSize = ip.length;\n  let encodedSize;\n\n  if (version === 'ipv4') {\n    const encoded = encodeIPv4(ip);\n    encodedSize = encoded.length;\n  } else {\n    const encoded = encodeIPv6(ip);\n    encodedSize = encoded.length;\n  }\n\n  const savings = ((originalSize - encodedSize) / originalSize) * 100;\n\n  return {\n    version,\n    originalSize,\n    encodedSize,\n    savings: Math.round(savings * 100) / 100,\n    savingsPercent: `${Math.round(savings)}%`\n  };\n}\n\nexport default {\n  isValidIPv4,\n  isValidIPv6,\n  encodeIPv4,\n  decodeIPv4,\n  encodeIPv6,\n  decodeIPv6,\n  expandIPv6,\n  compressIPv6,\n  detectIPVersion,\n  calculateIPSavings\n};\n","/**\n * Geographic Coordinate Encoding - Normalized Fixed-Point\n *\n * Optimizes storage of latitude/longitude by:\n * 1. Normalizing to positive range (eliminates negative sign)\n * 2. Using fixed-point integer encoding\n * 3. Base62 compression\n *\n * Achieves 45-55% compression vs JSON floats.\n *\n * Examples:\n *   Latitude -23.550519 → \"~18kPxZ\" (8 bytes vs 15 bytes = 47% savings)\n *   Longitude -46.633309 → \"~36WqLj\" (8 bytes vs 16 bytes = 50% savings)\n *\n * Precision:\n *   6 decimals = ~11cm accuracy (GPS standard)\n *   5 decimals = ~1.1m accuracy (sufficient for most apps)\n *   4 decimals = ~11m accuracy (building-level)\n */\n\nimport { encode, decode } from './base62.js';\n\n/**\n * Encode latitude with normalized range\n * Range: -90 to +90 → normalized to 0 to 180\n *\n * @param {number} lat - Latitude value (-90 to 90)\n * @param {number} precision - Decimal places to preserve (default: 6)\n * @returns {string} Encoded string with '~' prefix\n *\n * @throws {Error} If latitude is out of valid range\n *\n * @example\n * encodeGeoLat(-23.550519, 6)  // → \"~18kPxZ\"\n * encodeGeoLat(40.7128, 6)     // → \"~2i8pYw\"\n */\nexport function encodeGeoLat(lat, precision = 6) {\n  if (lat === null || lat === undefined) return lat;\n  if (typeof lat !== 'number' || isNaN(lat)) return lat;\n  if (!isFinite(lat)) return lat;\n\n  // Validate range\n  if (lat < -90 || lat > 90) {\n    throw new Error(`Latitude out of range [-90, 90]: ${lat}`);\n  }\n\n  // Normalize: -90 to +90 → 0 to 180\n  const normalized = lat + 90;\n\n  // Convert to fixed-point integer\n  const scale = Math.pow(10, precision);\n  const scaled = Math.round(normalized * scale);\n\n  // Encode with '~' prefix to identify as geo coordinate\n  return '~' + encode(scaled);\n}\n\n/**\n * Decode latitude from encoded string\n *\n * @param {string} encoded - Encoded string (must start with '~')\n * @param {number} precision - Decimal places used in encoding (default: 6)\n * @returns {number} Decoded latitude value\n *\n * @example\n * decodeGeoLat('~18kPxZ', 6)  // → -23.550519\n */\nexport function decodeGeoLat(encoded, precision = 6) {\n  if (typeof encoded !== 'string') return encoded;\n  if (!encoded.startsWith('~')) return encoded;\n\n  const scaled = decode(encoded.slice(1));\n  if (isNaN(scaled)) return NaN;\n\n  const scale = Math.pow(10, precision);\n  const normalized = scaled / scale;\n\n  // Denormalize: 0 to 180 → -90 to +90\n  return normalized - 90;\n}\n\n/**\n * Encode longitude with normalized range\n * Range: -180 to +180 → normalized to 0 to 360\n *\n * @param {number} lon - Longitude value (-180 to 180)\n * @param {number} precision - Decimal places to preserve (default: 6)\n * @returns {string} Encoded string with '~' prefix\n *\n * @throws {Error} If longitude is out of valid range\n *\n * @example\n * encodeGeoLon(-46.633309, 6)  // → \"~36WqLj\"\n * encodeGeoLon(-74.0060, 6)    // → \"~2xKqrO\"\n */\nexport function encodeGeoLon(lon, precision = 6) {\n  if (lon === null || lon === undefined) return lon;\n  if (typeof lon !== 'number' || isNaN(lon)) return lon;\n  if (!isFinite(lon)) return lon;\n\n  // Validate range\n  if (lon < -180 || lon > 180) {\n    throw new Error(`Longitude out of range [-180, 180]: ${lon}`);\n  }\n\n  // Normalize: -180 to +180 → 0 to 360\n  const normalized = lon + 180;\n\n  // Convert to fixed-point integer\n  const scale = Math.pow(10, precision);\n  const scaled = Math.round(normalized * scale);\n\n  // Encode with '~' prefix\n  return '~' + encode(scaled);\n}\n\n/**\n * Decode longitude from encoded string\n *\n * @param {string} encoded - Encoded string (must start with '~')\n * @param {number} precision - Decimal places used in encoding (default: 6)\n * @returns {number} Decoded longitude value\n *\n * @example\n * decodeGeoLon('~36WqLj', 6)  // → -46.633309\n */\nexport function decodeGeoLon(encoded, precision = 6) {\n  if (typeof encoded !== 'string') return encoded;\n  if (!encoded.startsWith('~')) return encoded;\n\n  const scaled = decode(encoded.slice(1));\n  if (isNaN(scaled)) return NaN;\n\n  const scale = Math.pow(10, precision);\n  const normalized = scaled / scale;\n\n  // Denormalize: 0 to 360 → -180 to +180\n  return normalized - 180;\n}\n\n/**\n * Encode a lat/lon point as a single string\n * Format: {lat}{lon} (both with '~' prefix)\n *\n * @param {number} lat - Latitude\n * @param {number} lon - Longitude\n * @param {number} precision - Decimal places (default: 6)\n * @returns {string} Encoded point\n *\n * @example\n * encodeGeoPoint(-23.550519, -46.633309, 6)\n * // → \"~18kPxZ~36WqLj\"\n */\nexport function encodeGeoPoint(lat, lon, precision = 6) {\n  const latEncoded = encodeGeoLat(lat, precision);\n  const lonEncoded = encodeGeoLon(lon, precision);\n\n  // Return concatenated (both have '~' prefix for easy parsing)\n  return latEncoded + lonEncoded;\n}\n\n/**\n * Decode a lat/lon point from encoded string\n *\n * @param {string} encoded - Encoded point string\n * @param {number} precision - Decimal places (default: 6)\n * @returns {Object} { latitude, longitude }\n *\n * @example\n * decodeGeoPoint('~18kPxZ~36WqLj', 6)\n * // → { latitude: -23.550519, longitude: -46.633309 }\n */\nexport function decodeGeoPoint(encoded, precision = 6) {\n  if (typeof encoded !== 'string') return { latitude: NaN, longitude: NaN };\n\n  // Split by '~' and filter empty strings\n  const parts = encoded.split('~').filter(p => p.length > 0);\n\n  if (parts.length !== 2) {\n    return { latitude: NaN, longitude: NaN };\n  }\n\n  // Decode each part (re-add '~' prefix)\n  const latitude = decodeGeoLat('~' + parts[0], precision);\n  const longitude = decodeGeoLon('~' + parts[1], precision);\n\n  return { latitude, longitude };\n}\n\n/**\n * Validate if coordinates are within valid ranges\n * @param {number} lat - Latitude\n * @param {number} lon - Longitude\n * @returns {boolean} True if valid\n */\nexport function isValidCoordinate(lat, lon) {\n  return (\n    typeof lat === 'number' &&\n    typeof lon === 'number' &&\n    !isNaN(lat) &&\n    !isNaN(lon) &&\n    isFinite(lat) &&\n    isFinite(lon) &&\n    lat >= -90 &&\n    lat <= 90 &&\n    lon >= -180 &&\n    lon <= 180\n  );\n}\n\n/**\n * Calculate precision level based on desired accuracy\n *\n * @param {number} accuracyMeters - Desired accuracy in meters\n * @returns {number} Recommended decimal places\n *\n * Precision levels:\n * - 0 decimals: ~111 km\n * - 1 decimal: ~11 km\n * - 2 decimals: ~1.1 km\n * - 3 decimals: ~110 m\n * - 4 decimals: ~11 m\n * - 5 decimals: ~1.1 m (GPS consumer)\n * - 6 decimals: ~11 cm (GPS precision)\n * - 7 decimals: ~1.1 cm\n */\nexport function getPrecisionForAccuracy(accuracyMeters) {\n  if (accuracyMeters >= 111000) return 0;\n  if (accuracyMeters >= 11000) return 1;\n  if (accuracyMeters >= 1100) return 2;\n  if (accuracyMeters >= 110) return 3;\n  if (accuracyMeters >= 11) return 4;\n  if (accuracyMeters >= 1.1) return 5;\n  if (accuracyMeters >= 0.11) return 6;\n  return 7;\n}\n\n/**\n * Get accuracy in meters for a precision level\n * @param {number} precision - Decimal places\n * @returns {number} Approximate accuracy in meters\n */\nexport function getAccuracyForPrecision(precision) {\n  const accuracies = {\n    0: 111000,\n    1: 11000,\n    2: 1100,\n    3: 110,\n    4: 11,\n    5: 1.1,\n    6: 0.11,\n    7: 0.011\n  };\n\n  return accuracies[precision] || 111000;\n}\n","import { flatten, unflatten } from \"flat\";\n\nimport {\n  set,\n  get,\n  uniq,\n  merge,\n  invert,\n  isEmpty,\n  isString,\n  cloneDeep,\n} from \"lodash-es\";\n\nimport { encrypt, decrypt } from \"./concerns/crypto.js\";\nimport { ValidatorManager } from \"./validator.class.js\";\nimport { tryFn, tryFnSync } from \"./concerns/try-fn.js\";\nimport { SchemaError } from \"./errors.js\";\nimport { encode as toBase62, decode as fromBase62, encodeDecimal, decodeDecimal, encodeFixedPoint, decodeFixedPoint, encodeFixedPointBatch, decodeFixedPointBatch } from \"./concerns/base62.js\";\nimport { encodeIPv4, decodeIPv4, encodeIPv6, decodeIPv6, isValidIPv4, isValidIPv6 } from \"./concerns/ip.js\";\nimport { encodeMoney, decodeMoney, getCurrencyDecimals } from \"./concerns/money.js\";\nimport { encodeGeoLat, decodeGeoLat, encodeGeoLon, decodeGeoLon, encodeGeoPoint, decodeGeoPoint } from \"./concerns/geo-encoding.js\";\n\n/**\n * Generate base62 mapping for attributes\n * @param {string[]} keys - Array of attribute keys\n * @returns {Object} Mapping object with base62 keys\n */\nfunction generateBase62Mapping(keys) {\n  const mapping = {};\n  const reversedMapping = {};\n  keys.forEach((key, index) => {\n    const base62Key = toBase62(index);\n    mapping[key] = base62Key;\n    reversedMapping[base62Key] = key;\n  });\n  return { mapping, reversedMapping };\n}\n\nexport const SchemaActions = {\n  trim: (value) => value == null ? value : value.trim(),\n\n  encrypt: async (value, { passphrase }) => {\n    if (value === null || value === undefined) return value;\n    const [ok, err, res] = await tryFn(() => encrypt(value, passphrase));\n    return ok ? res : value;\n  },\n  decrypt: async (value, { passphrase }) => {\n    if (value === null || value === undefined) return value;\n    const [ok, err, raw] = await tryFn(() => decrypt(value, passphrase));\n    if (!ok) return value;\n    if (raw === 'null') return null;\n    if (raw === 'undefined') return undefined;\n    return raw;\n  },\n\n  toString: (value) => value == null ? value : String(value),\n\n  fromArray: (value, { separator }) => {\n    if (value === null || value === undefined || !Array.isArray(value)) {\n      return value;\n    }\n    if (value.length === 0) {\n      return '';\n    }\n    const escapedItems = value.map(item => {\n      if (typeof item === 'string') {\n        return item\n          .replace(/\\\\/g, '\\\\\\\\')\n          .replace(new RegExp(`\\\\${separator}`, 'g'), `\\\\${separator}`);\n      }\n      return String(item);\n    });\n    return escapedItems.join(separator);\n  },\n\n  toArray: (value, { separator }) => {\n    if (Array.isArray(value)) {\n      return value;\n    }\n    if (value === null || value === undefined) {\n      return value;\n    }\n    if (value === '') {\n      return [];\n    }\n    const items = [];\n    let current = '';\n    let i = 0;\n    const str = String(value);\n    while (i < str.length) {\n      if (str[i] === '\\\\' && i + 1 < str.length) {\n        // If next char is separator or backslash, add it literally\n        current += str[i + 1];\n          i += 2;\n      } else if (str[i] === separator) {\n        items.push(current);\n        current = '';\n        i++;\n      } else {\n        current += str[i];\n        i++;\n      }\n    }\n    items.push(current);\n    return items;\n  },\n\n  toJSON: (value) => {\n    if (value === null) return null;\n    if (value === undefined) return undefined;\n    if (typeof value === 'string') {\n      const [ok, err, parsed] = tryFnSync(() => JSON.parse(value));\n      if (ok && typeof parsed === 'object') return value;\n      return value;\n    }\n    const [ok, err, json] = tryFnSync(() => JSON.stringify(value));\n    return ok ? json : value;\n  },\n  fromJSON: (value) => {\n    if (value === null) return null;\n    if (value === undefined) return undefined;\n    if (typeof value !== 'string') return value;\n    if (value === '') return '';\n    const [ok, err, parsed] = tryFnSync(() => JSON.parse(value));\n    return ok ? parsed : value;\n  },\n\n  toNumber: (value) => isString(value) ? value.includes('.') ? parseFloat(value) : parseInt(value) : value,\n\n  toBool: (value) => [true, 1, 'true', '1', 'yes', 'y'].includes(value),\n  fromBool: (value) => [true, 1, 'true', '1', 'yes', 'y'].includes(value) ? '1' : '0',\n  fromBase62: (value) => {\n    if (value === null || value === undefined || value === '') return value;\n    if (typeof value === 'number') return value;\n    if (typeof value === 'string') {\n      const n = fromBase62(value);\n      return isNaN(n) ? undefined : n;\n    }\n    return undefined;\n  },\n  toBase62: (value) => {\n    if (value === null || value === undefined || value === '') return value;\n    if (typeof value === 'number') {\n      return toBase62(value);\n    }\n    if (typeof value === 'string') {\n      const n = Number(value);\n      return isNaN(n) ? value : toBase62(n);\n    }\n    return value;\n  },\n  fromBase62Decimal: (value) => {\n    if (value === null || value === undefined || value === '') return value;\n    if (typeof value === 'number') return value;\n    if (typeof value === 'string') {\n      const n = decodeDecimal(value);\n      return isNaN(n) ? undefined : n;\n    }\n    return undefined;\n  },\n  toBase62Decimal: (value) => {\n    if (value === null || value === undefined || value === '') return value;\n    if (typeof value === 'number') {\n      return encodeDecimal(value);\n    }\n    if (typeof value === 'string') {\n      const n = Number(value);\n      return isNaN(n) ? value : encodeDecimal(n);\n    }\n    return value;\n  },\n  fromArrayOfNumbers: (value, { separator }) => {\n    if (value === null || value === undefined || !Array.isArray(value)) {\n      return value;\n    }\n    if (value.length === 0) {\n      return '';\n    }\n    const base62Items = value.map(item => {\n      if (typeof item === 'number' && !isNaN(item)) {\n        return toBase62(item);\n      }\n      // fallback: try to parse as number, else keep as is\n      const n = Number(item);\n      return isNaN(n) ? '' : toBase62(n);\n    });\n    return base62Items.join(separator);\n  },\n  toArrayOfNumbers: (value, { separator }) => {\n    if (Array.isArray(value)) {\n      return value.map(v => (typeof v === 'number' ? v : fromBase62(v)));\n    }\n    if (value === null || value === undefined) {\n      return value;\n    }\n    if (value === '') {\n      return [];\n    }\n    const str = String(value);\n    const items = [];\n    let current = '';\n    let i = 0;\n    while (i < str.length) {\n      if (str[i] === '\\\\' && i + 1 < str.length) {\n        current += str[i + 1];\n        i += 2;\n      } else if (str[i] === separator) {\n        items.push(current);\n        current = '';\n        i++;\n      } else {\n        current += str[i];\n        i++;\n      }\n    }\n    items.push(current);\n    return items.map(v => {\n      if (typeof v === 'number') return v;\n      if (typeof v === 'string' && v !== '') {\n        const n = fromBase62(v);\n        return isNaN(n) ? NaN : n;\n      }\n      return NaN;\n    });\n  },\n  fromArrayOfDecimals: (value, { separator }) => {\n    if (value === null || value === undefined || !Array.isArray(value)) {\n      return value;\n    }\n    if (value.length === 0) {\n      return '';\n    }\n    const base62Items = value.map(item => {\n      if (typeof item === 'number' && !isNaN(item)) {\n        return encodeDecimal(item);\n      }\n      // fallback: try to parse as number, else keep as is\n      const n = Number(item);\n      return isNaN(n) ? '' : encodeDecimal(n);\n    });\n    return base62Items.join(separator);\n  },\n  toArrayOfDecimals: (value, { separator }) => {\n    if (Array.isArray(value)) {\n      return value.map(v => (typeof v === 'number' ? v : decodeDecimal(v)));\n    }\n    if (value === null || value === undefined) {\n      return value;\n    }\n    if (value === '') {\n      return [];\n    }\n    const str = String(value);\n    const items = [];\n    let current = '';\n    let i = 0;\n    while (i < str.length) {\n      if (str[i] === '\\\\' && i + 1 < str.length) {\n        current += str[i + 1];\n        i += 2;\n      } else if (str[i] === separator) {\n        items.push(current);\n        current = '';\n        i++;\n      } else {\n        current += str[i];\n        i++;\n      }\n    }\n    items.push(current);\n    return items.map(v => {\n      if (typeof v === 'number') return v;\n      if (typeof v === 'string' && v !== '') {\n        const n = decodeDecimal(v);\n        return isNaN(n) ? NaN : n;\n      }\n      return NaN;\n    });\n  },\n  fromArrayOfEmbeddings: (value, { separator, precision = 6 }) => {\n    if (value === null || value === undefined || !Array.isArray(value)) {\n      return value;\n    }\n    if (value.length === 0) {\n      return '^[]';\n    }\n    // Use batch encoding for massive compression (17% additional savings)\n    // Format: ^[val1,val2,val3,...] instead of ^val1,^val2,^val3,...\n    return encodeFixedPointBatch(value, precision);\n  },\n  toArrayOfEmbeddings: (value, { separator, precision = 6 }) => {\n    if (Array.isArray(value)) {\n      // Already an array, return as-is\n      return value;\n    }\n    if (value === null || value === undefined) {\n      return value;\n    }\n    if (value === '' || value === '^[]') {\n      return [];\n    }\n\n    const str = String(value);\n\n    // Check if this is batch-encoded (^[...])\n    if (str.startsWith('^[')) {\n      return decodeFixedPointBatch(str, precision);\n    }\n\n    const items = [];\n    let current = '';\n    let i = 0;\n    while (i < str.length) {\n      if (str[i] === '\\\\' && i + 1 < str.length) {\n        current += str[i + 1];\n        i += 2;\n      } else if (str[i] === separator) {\n        items.push(current);\n        current = '';\n        i++;\n      } else {\n        current += str[i];\n        i++;\n      }\n    }\n    items.push(current);\n    return items.map(v => {\n      if (typeof v === 'number') return v;\n      if (typeof v === 'string' && v !== '') {\n        const n = decodeFixedPoint(v, precision);\n        return isNaN(n) ? NaN : n;\n      }\n      return NaN;\n    });\n  },\n\n  encodeIPv4: (value) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'string') return value;\n    if (!isValidIPv4(value)) return value;\n    const [ok, err, encoded] = tryFnSync(() => encodeIPv4(value));\n    return ok ? encoded : value;\n  },\n  decodeIPv4: (value) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'string') return value;\n    const [ok, err, decoded] = tryFnSync(() => decodeIPv4(value));\n    return ok ? decoded : value;\n  },\n\n  encodeIPv6: (value) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'string') return value;\n    if (!isValidIPv6(value)) return value;\n    const [ok, err, encoded] = tryFnSync(() => encodeIPv6(value));\n    return ok ? encoded : value;\n  },\n  decodeIPv6: (value) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'string') return value;\n    const [ok, err, decoded] = tryFnSync(() => decodeIPv6(value));\n    return ok ? decoded : value;\n  },\n\n  // Money type - Integer-based (banking standard)\n  // Simplified approach: decimals instead of currency\n  encodeMoney: (value, { decimals = 2 } = {}) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'number') return value;\n\n    // Use decimal places directly instead of currency lookup\n    const multiplier = Math.pow(10, decimals);\n    const integerValue = Math.round(value * multiplier);\n\n    // Encode as base62 with $ prefix\n    const [ok, err, encoded] = tryFnSync(() => '$' + toBase62(integerValue));\n    return ok ? encoded : value;\n  },\n  decodeMoney: (value, { decimals = 2 } = {}) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'string') return value;\n    if (!value.startsWith('$')) return value;\n\n    // Decode base62 and convert back to decimal\n    const [ok, err, integerValue] = tryFnSync(() => fromBase62(value.slice(1)));\n    if (!ok || isNaN(integerValue)) return value;\n\n    const divisor = Math.pow(10, decimals);\n    return integerValue / divisor;\n  },\n\n  // Decimal type - Fixed-point for non-monetary decimals\n  encodeDecimalFixed: (value, { precision = 2 } = {}) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'number') return value;\n    const [ok, err, encoded] = tryFnSync(() => encodeFixedPoint(value, precision));\n    return ok ? encoded : value;\n  },\n  decodeDecimalFixed: (value, { precision = 2 } = {}) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'string') return value;\n    const [ok, err, decoded] = tryFnSync(() => decodeFixedPoint(value, precision));\n    return ok ? decoded : value;\n  },\n\n  // Geo types - Latitude\n  encodeGeoLatitude: (value, { precision = 6 } = {}) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'number') return value;\n    const [ok, err, encoded] = tryFnSync(() => encodeGeoLat(value, precision));\n    return ok ? encoded : value;\n  },\n  decodeGeoLatitude: (value, { precision = 6 } = {}) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'string') return value;\n    const [ok, err, decoded] = tryFnSync(() => decodeGeoLat(value, precision));\n    return ok ? decoded : value;\n  },\n\n  // Geo types - Longitude\n  encodeGeoLongitude: (value, { precision = 6 } = {}) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'number') return value;\n    const [ok, err, encoded] = tryFnSync(() => encodeGeoLon(value, precision));\n    return ok ? encoded : value;\n  },\n  decodeGeoLongitude: (value, { precision = 6 } = {}) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'string') return value;\n    const [ok, err, decoded] = tryFnSync(() => decodeGeoLon(value, precision));\n    return ok ? decoded : value;\n  },\n\n  // Geo types - Point (lat+lon pair)\n  encodeGeoPointPair: (value, { precision = 6 } = {}) => {\n    if (value === null || value === undefined) return value;\n    // Accept object with lat/lon or array [lat, lon]\n    if (Array.isArray(value) && value.length === 2) {\n      const [ok, err, encoded] = tryFnSync(() => encodeGeoPoint(value[0], value[1], precision));\n      return ok ? encoded : value;\n    }\n    if (typeof value === 'object' && value.lat !== undefined && value.lon !== undefined) {\n      const [ok, err, encoded] = tryFnSync(() => encodeGeoPoint(value.lat, value.lon, precision));\n      return ok ? encoded : value;\n    }\n    if (typeof value === 'object' && value.latitude !== undefined && value.longitude !== undefined) {\n      const [ok, err, encoded] = tryFnSync(() => encodeGeoPoint(value.latitude, value.longitude, precision));\n      return ok ? encoded : value;\n    }\n    return value;\n  },\n  decodeGeoPointPair: (value, { precision = 6 } = {}) => {\n    if (value === null || value === undefined) return value;\n    if (typeof value !== 'string') return value;\n    const [ok, err, decoded] = tryFnSync(() => decodeGeoPoint(value, precision));\n    // Return as object { latitude, longitude }\n    return ok ? decoded : value;\n  },\n\n}\n\nexport class Schema {\n  constructor(args) {\n    const {\n      map,\n      name,\n      attributes,\n      passphrase,\n      version = 1,\n      options = {}\n    } = args;\n\n    this.name = name;\n    this.version = version;\n    this.attributes = attributes || {};\n    this.passphrase = passphrase ?? \"secret\";\n    this.options = merge({}, this.defaultOptions(), options);\n    this.allNestedObjectsOptional = this.options.allNestedObjectsOptional ?? false;\n\n    // Preprocess attributes to handle nested objects for validator compilation\n    const processedAttributes = this.preprocessAttributesForValidation(this.attributes);\n\n    this.validator = new ValidatorManager({ autoEncrypt: false }).compile(merge(\n      { $$async: true, $$strict: false },\n      processedAttributes,\n    ))\n\n    if (this.options.generateAutoHooks) this.generateAutoHooks();\n\n    if (!isEmpty(map)) {\n      this.map = map;\n      this.reversedMap = invert(map);\n    }\n    else {\n      const flatAttrs = flatten(this.attributes, { safe: true });\n      const leafKeys = Object.keys(flatAttrs).filter(k => !k.includes('$$'));\n      \n      // Also include parent object keys for objects that can be empty\n      const objectKeys = this.extractObjectKeys(this.attributes);\n      \n      // Combine leaf keys and object keys, removing duplicates\n      const allKeys = [...new Set([...leafKeys, ...objectKeys])];\n      \n      // Generate base62 mapping instead of sequential numbers\n      const { mapping, reversedMapping } = generateBase62Mapping(allKeys);\n      this.map = mapping;\n      this.reversedMap = reversedMapping;\n      \n\n    }\n  }\n\n  defaultOptions() {\n    return {\n      autoEncrypt: true,\n      autoDecrypt: true,\n      arraySeparator: \"|\",\n      generateAutoHooks: true,\n\n      hooks: {\n        beforeMap: {},\n        afterMap: {},\n        beforeUnmap: {},\n        afterUnmap: {},\n      }\n    }\n  }\n\n  addHook(hook, attribute, action, params = {}) {\n    if (!this.options.hooks[hook][attribute]) this.options.hooks[hook][attribute] = [];\n    // Store action with parameters if provided\n    const hookEntry = Object.keys(params).length > 0 ? { action, params } : action;\n    this.options.hooks[hook][attribute] = uniq([...this.options.hooks[hook][attribute], hookEntry])\n  }\n\n  extractObjectKeys(obj, prefix = '') {\n    const objectKeys = [];\n\n    for (const [key, value] of Object.entries(obj)) {\n      if (key.startsWith('$$')) continue; // Skip schema metadata\n\n      const fullKey = prefix ? `${prefix}.${key}` : key;\n\n      if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n        // This is an object, add its key\n        objectKeys.push(fullKey);\n\n        // Check if it has nested objects\n        if (value.$$type === 'object') {\n          // Recursively extract nested object keys\n          objectKeys.push(...this.extractObjectKeys(value, fullKey));\n        }\n      }\n    }\n\n    return objectKeys;\n  }\n\n  _generateHooksFromOriginalAttributes(attributes, prefix = '') {\n    for (const [key, value] of Object.entries(attributes)) {\n      if (key.startsWith('$$')) continue;\n\n      const fullKey = prefix ? `${prefix}.${key}` : key;\n\n      // Check if this is an object notation type definition (has 'type' property)\n      if (typeof value === 'object' && value !== null && !Array.isArray(value) && value.type) {\n        if (value.type === 'array' && value.items) {\n          // Handle array with object notation\n          const itemsType = value.items;\n          const arrayLength = typeof value.length === 'number' ? value.length : null;\n\n          if (itemsType === 'string' || (typeof itemsType === 'string' && itemsType.includes('string'))) {\n            this.addHook(\"beforeMap\", fullKey, \"fromArray\");\n            this.addHook(\"afterUnmap\", fullKey, \"toArray\");\n          } else if (itemsType === 'number' || (typeof itemsType === 'string' && itemsType.includes('number'))) {\n            const isIntegerArray = typeof itemsType === 'string' && itemsType.includes('integer');\n            const isEmbedding = !isIntegerArray && arrayLength !== null && arrayLength >= 256;\n\n            if (isIntegerArray) {\n              this.addHook(\"beforeMap\", fullKey, \"fromArrayOfNumbers\");\n              this.addHook(\"afterUnmap\", fullKey, \"toArrayOfNumbers\");\n            } else if (isEmbedding) {\n              this.addHook(\"beforeMap\", fullKey, \"fromArrayOfEmbeddings\");\n              this.addHook(\"afterUnmap\", fullKey, \"toArrayOfEmbeddings\");\n            } else {\n              this.addHook(\"beforeMap\", fullKey, \"fromArrayOfDecimals\");\n              this.addHook(\"afterUnmap\", fullKey, \"toArrayOfDecimals\");\n            }\n          }\n        }\n        // For other types with object notation, they'll be handled by the flattened processing\n      } else if (typeof value === 'object' && value !== null && !Array.isArray(value) && !value.type) {\n        // This is a nested object, recurse\n        this._generateHooksFromOriginalAttributes(value, fullKey);\n      }\n    }\n  }\n\n  generateAutoHooks() {\n    // First, process the original attributes to find arrays with object notation\n    // This handles cases like: { type: 'array', items: 'number', length: 768 }\n    this._generateHooksFromOriginalAttributes(this.attributes);\n\n    // Then process the flattened schema for other types\n    const schema = flatten(cloneDeep(this.attributes), { safe: true });\n\n    for (const [name, definition] of Object.entries(schema)) {\n      // Skip metadata fields\n      if (name.includes('$$')) continue;\n\n      // Skip if hooks already exist (from object notation processing)\n      if (this.options.hooks.beforeMap[name] || this.options.hooks.afterUnmap[name]) {\n        continue;\n      }\n\n      // Normalize definition - can be a string or value from flattened object\n      const defStr = typeof definition === 'string' ? definition : '';\n      const defType = typeof definition === 'object' && definition !== null ? definition.type : null;\n\n      // Check if this is an embedding type (custom shorthand)\n      const isEmbeddingType = defStr.includes(\"embedding\") || defType === 'embedding';\n\n      if (isEmbeddingType) {\n        // Extract length from embedding:1536 or embedding|length:1536\n        let embeddingLength = null;\n        const lengthMatch = defStr.match(/embedding:(\\d+)/);\n        if (lengthMatch) {\n          embeddingLength = parseInt(lengthMatch[1], 10);\n        } else if (defStr.includes('length:')) {\n          const match = defStr.match(/length:(\\d+)/);\n          if (match) embeddingLength = parseInt(match[1], 10);\n        }\n\n        // Embeddings always use fixed-point encoding\n        this.addHook(\"beforeMap\", name, \"fromArrayOfEmbeddings\");\n        this.addHook(\"afterUnmap\", name, \"toArrayOfEmbeddings\");\n        continue;\n      }\n\n      // Check if this is an array type\n      const isArray = defStr.includes(\"array\") || defType === 'array';\n\n      if (isArray) {\n        // Determine item type for arrays\n        let itemsType = null;\n        if (typeof definition === 'object' && definition !== null && definition.items) {\n          itemsType = definition.items;\n        } else if (defStr.includes('items:string')) {\n          itemsType = 'string';\n        } else if (defStr.includes('items:number')) {\n          itemsType = 'number';\n        }\n\n        if (itemsType === 'string' || (typeof itemsType === 'string' && itemsType.includes('string'))) {\n          this.addHook(\"beforeMap\", name, \"fromArray\");\n          this.addHook(\"afterUnmap\", name, \"toArray\");\n        } else if (itemsType === 'number' || (typeof itemsType === 'string' && itemsType.includes('number'))) {\n          // Check if the array items should be treated as integers\n          const isIntegerArray = defStr.includes(\"integer:true\") ||\n                                defStr.includes(\"|integer:\") ||\n                                defStr.includes(\"|integer\") ||\n                                (typeof itemsType === 'string' && itemsType.includes('integer'));\n\n          // Check if this is an embedding array (large arrays of decimals)\n          // Common embedding dimensions: 256, 384, 512, 768, 1024, 1536, 2048, 3072\n          let arrayLength = null;\n          if (typeof definition === 'object' && definition !== null && typeof definition.length === 'number') {\n            arrayLength = definition.length;\n          } else if (defStr.includes('length:')) {\n            const match = defStr.match(/length:(\\d+)/);\n            if (match) arrayLength = parseInt(match[1], 10);\n          }\n\n          const isEmbedding = !isIntegerArray && arrayLength !== null && arrayLength >= 256;\n\n          if (isIntegerArray) {\n            // Use standard base62 for arrays of integers\n            this.addHook(\"beforeMap\", name, \"fromArrayOfNumbers\");\n            this.addHook(\"afterUnmap\", name, \"toArrayOfNumbers\");\n          } else if (isEmbedding) {\n            // Use fixed-point encoding for embedding vectors (77% compression)\n            this.addHook(\"beforeMap\", name, \"fromArrayOfEmbeddings\");\n            this.addHook(\"afterUnmap\", name, \"toArrayOfEmbeddings\");\n          } else {\n            // Use decimal-aware base62 for regular arrays of decimals\n            this.addHook(\"beforeMap\", name, \"fromArrayOfDecimals\");\n            this.addHook(\"afterUnmap\", name, \"toArrayOfDecimals\");\n          }\n        }\n        // Skip other processing for arrays to avoid conflicts\n        continue;\n      }\n\n      // Handle secrets\n      if (defStr.includes(\"secret\") || defType === 'secret') {\n        if (this.options.autoEncrypt) {\n          this.addHook(\"beforeMap\", name, \"encrypt\");\n        }\n        if (this.options.autoDecrypt) {\n          this.addHook(\"afterUnmap\", name, \"decrypt\");\n        }\n        // Skip other processing for secrets\n        continue;\n      }\n\n      // Handle ip4 type\n      if (defStr.includes(\"ip4\") || defType === 'ip4') {\n        this.addHook(\"beforeMap\", name, \"encodeIPv4\");\n        this.addHook(\"afterUnmap\", name, \"decodeIPv4\");\n        continue;\n      }\n\n      // Handle ip6 type\n      if (defStr.includes(\"ip6\") || defType === 'ip6') {\n        this.addHook(\"beforeMap\", name, \"encodeIPv6\");\n        this.addHook(\"afterUnmap\", name, \"decodeIPv6\");\n        continue;\n      }\n\n      // Handle money type (integer-based, decimal-aware)\n      if (defStr.includes(\"money\") || defType === 'money' || defStr.includes(\"crypto\") || defType === 'crypto') {\n        // Extract decimals from money:8 or crypto:8 notation\n        let decimals = 2; // Default for fiat money (2 decimal places)\n\n        // If it's crypto, default to 8 decimals (satoshi/standard crypto)\n        if (defStr.includes(\"crypto\") || defType === 'crypto') {\n          decimals = 8;\n        }\n\n        // Override with explicit decimals if provided: money:8, crypto:18\n        const decimalsMatch = defStr.match(/(?:money|crypto):(\\d+)/i);\n        if (decimalsMatch) {\n          decimals = parseInt(decimalsMatch[1], 10);\n        }\n\n        this.addHook(\"beforeMap\", name, \"encodeMoney\", { decimals });\n        this.addHook(\"afterUnmap\", name, \"decodeMoney\", { decimals });\n        continue;\n      }\n\n      // Handle decimal type (fixed-point for non-monetary decimals)\n      if (defStr.includes(\"decimal\") || defType === 'decimal') {\n        // Extract precision from decimal:4 notation\n        let precision = 2; // Default precision\n        const precisionMatch = defStr.match(/decimal:(\\d+)/);\n        if (precisionMatch) {\n          precision = parseInt(precisionMatch[1], 10);\n        }\n\n        this.addHook(\"beforeMap\", name, \"encodeDecimalFixed\", { precision });\n        this.addHook(\"afterUnmap\", name, \"decodeDecimalFixed\", { precision });\n        continue;\n      }\n\n      // Handle geo:lat type (latitude)\n      if (defStr.includes(\"geo:lat\") || (defType === 'geo' && defStr.includes('lat'))) {\n        // Extract precision from geo:lat:6 notation\n        let precision = 6; // Default precision (GPS standard)\n        const precisionMatch = defStr.match(/geo:lat:(\\d+)/);\n        if (precisionMatch) {\n          precision = parseInt(precisionMatch[1], 10);\n        }\n\n        this.addHook(\"beforeMap\", name, \"encodeGeoLatitude\", { precision });\n        this.addHook(\"afterUnmap\", name, \"decodeGeoLatitude\", { precision });\n        continue;\n      }\n\n      // Handle geo:lon type (longitude)\n      if (defStr.includes(\"geo:lon\") || (defType === 'geo' && defStr.includes('lon'))) {\n        // Extract precision from geo:lon:6 notation\n        let precision = 6; // Default precision\n        const precisionMatch = defStr.match(/geo:lon:(\\d+)/);\n        if (precisionMatch) {\n          precision = parseInt(precisionMatch[1], 10);\n        }\n\n        this.addHook(\"beforeMap\", name, \"encodeGeoLongitude\", { precision });\n        this.addHook(\"afterUnmap\", name, \"decodeGeoLongitude\", { precision });\n        continue;\n      }\n\n      // Handle geo:point type (lat+lon pair)\n      if (defStr.includes(\"geo:point\") || defType === 'geo:point') {\n        // Extract precision from geo:point:6 notation\n        let precision = 6; // Default precision\n        const precisionMatch = defStr.match(/geo:point:(\\d+)/);\n        if (precisionMatch) {\n          precision = parseInt(precisionMatch[1], 10);\n        }\n\n        this.addHook(\"beforeMap\", name, \"encodeGeoPointPair\", { precision });\n        this.addHook(\"afterUnmap\", name, \"decodeGeoPointPair\", { precision });\n        continue;\n      }\n\n      // Handle numbers (only for non-array fields)\n      if (defStr.includes(\"number\") || defType === 'number') {\n        // Check if it's specifically an integer field\n        const isInteger = defStr.includes(\"integer:true\") ||\n                         defStr.includes(\"|integer:\") ||\n                         defStr.includes(\"|integer\");\n\n        if (isInteger) {\n          // Use standard base62 for integers\n          this.addHook(\"beforeMap\", name, \"toBase62\");\n          this.addHook(\"afterUnmap\", name, \"fromBase62\");\n        } else {\n          // Use decimal-aware base62 for decimal numbers\n          this.addHook(\"beforeMap\", name, \"toBase62Decimal\");\n          this.addHook(\"afterUnmap\", name, \"fromBase62Decimal\");\n        }\n        continue;\n      }\n\n      // Handle booleans\n      if (defStr.includes(\"boolean\") || defType === 'boolean') {\n        this.addHook(\"beforeMap\", name, \"fromBool\");\n        this.addHook(\"afterUnmap\", name, \"toBool\");\n        continue;\n      }\n\n      // Handle JSON fields\n      if (defStr.includes(\"json\") || defType === 'json') {\n        this.addHook(\"beforeMap\", name, \"toJSON\");\n        this.addHook(\"afterUnmap\", name, \"fromJSON\");\n        continue;\n      }\n\n      // Handle object fields - add JSON serialization hooks\n      if (definition === \"object\" || defStr.includes(\"object\") || defType === 'object') {\n        this.addHook(\"beforeMap\", name, \"toJSON\");\n        this.addHook(\"afterUnmap\", name, \"fromJSON\");\n        continue;\n      }\n    }\n  }\n\n  static import(data) {\n    let {\n      map,\n      name,\n      options,\n      version,\n      attributes\n    } = isString(data) ? JSON.parse(data) : data;\n\n    // Corrige atributos aninhados que possam ter sido serializados como string JSON\n    const [ok, err, attrs] = tryFnSync(() => Schema._importAttributes(attributes));\n    if (!ok) throw new SchemaError('Failed to import schema attributes', { original: err, input: attributes });\n    attributes = attrs;\n\n    const schema = new Schema({\n      map,\n      name,\n      options,\n      version,\n      attributes\n    });\n    return schema;\n  }\n\n  /**\n   * Recursively import attributes, parsing only stringified objects (legacy)\n   */\n  static _importAttributes(attrs) {\n    if (typeof attrs === 'string') {\n      // Try to detect if it's an object serialized as JSON string\n      const [ok, err, parsed] = tryFnSync(() => JSON.parse(attrs));\n      if (ok && typeof parsed === 'object' && parsed !== null) {\n        const [okNested, errNested, nested] = tryFnSync(() => Schema._importAttributes(parsed));\n        if (!okNested) throw new SchemaError('Failed to parse nested schema attribute', { original: errNested, input: attrs });\n        return nested;\n      }\n      return attrs;\n    }\n    if (Array.isArray(attrs)) {\n      const [okArr, errArr, arr] = tryFnSync(() => attrs.map(a => Schema._importAttributes(a)));\n      if (!okArr) throw new SchemaError('Failed to import array schema attributes', { original: errArr, input: attrs });\n      return arr;\n    }\n    if (typeof attrs === 'object' && attrs !== null) {\n      const out = {};\n      for (const [k, v] of Object.entries(attrs)) {\n        const [okObj, errObj, val] = tryFnSync(() => Schema._importAttributes(v));\n        if (!okObj) throw new SchemaError('Failed to import object schema attribute', { original: errObj, key: k, input: v });\n        out[k] = val;\n      }\n      return out;\n    }\n    return attrs;\n  }\n\n  export() {\n    const data = {\n      version: this.version,\n      name: this.name,\n      options: this.options,\n      attributes: this._exportAttributes(this.attributes),\n      map: this.map,\n    };\n    return data;\n  }\n\n  /**\n   * Recursively export attributes, keeping objects as objects and only serializing leaves as string\n   */\n  _exportAttributes(attrs) {\n    if (typeof attrs === 'string') {\n      return attrs;\n    }\n    if (Array.isArray(attrs)) {\n      return attrs.map(a => this._exportAttributes(a));\n    }\n    if (typeof attrs === 'object' && attrs !== null) {\n      const out = {};\n      for (const [k, v] of Object.entries(attrs)) {\n        out[k] = this._exportAttributes(v);\n      }\n      return out;\n    }\n    return attrs;\n  }\n\n  async applyHooksActions(resourceItem, hook) {\n    const cloned = cloneDeep(resourceItem);\n    for (const [attribute, actions] of Object.entries(this.options.hooks[hook])) {\n      for (const actionEntry of actions) {\n        // Support both string actions and {action, params} objects\n        const actionName = typeof actionEntry === 'string' ? actionEntry : actionEntry.action;\n        const actionParams = typeof actionEntry === 'object' ? actionEntry.params : {};\n\n        const value = get(cloned, attribute)\n        if (value !== undefined && typeof SchemaActions[actionName] === 'function') {\n          set(cloned, attribute, await SchemaActions[actionName](value, {\n            passphrase: this.passphrase,\n            separator: this.options.arraySeparator,\n            ...actionParams  // Merge custom parameters (currency, precision, etc.)\n          }))\n        }\n      }\n    }\n    return cloned;\n  }\n\n  async validate(resourceItem, { mutateOriginal = false } = {}) {\n    let data = mutateOriginal ? resourceItem : cloneDeep(resourceItem)\n    const result = await this.validator(data);\n    return result\n  }\n\n  async mapper(resourceItem) {\n    let obj = cloneDeep(resourceItem);\n    // Always apply beforeMap hooks for all fields\n    obj = await this.applyHooksActions(obj, \"beforeMap\");\n    // Then flatten the object\n    const flattenedObj = flatten(obj, { safe: true });\n    const rest = { '_v': this.version + '' };\n    for (const [key, value] of Object.entries(flattenedObj)) {\n      const mappedKey = this.map[key] || key;\n      // Always map numbers to base36\n      const attrDef = this.getAttributeDefinition(key);\n      if (typeof value === 'number' && typeof attrDef === 'string' && attrDef.includes('number')) {\n        rest[mappedKey] = toBase62(value);\n      } else if (typeof value === 'string') {\n        if (value === '[object Object]') {\n          rest[mappedKey] = '{}';\n        } else if (value.startsWith('{') || value.startsWith('[')) {\n          rest[mappedKey] = value;\n        } else {\n          rest[mappedKey] = value;\n        }\n      } else if (Array.isArray(value) || (typeof value === 'object' && value !== null)) {\n        rest[mappedKey] = JSON.stringify(value);\n      } else {\n        rest[mappedKey] = value;\n      }\n    }\n    await this.applyHooksActions(rest, \"afterMap\");\n    return rest;\n  }\n\n  async unmapper(mappedResourceItem, mapOverride) {\n    let obj = cloneDeep(mappedResourceItem);\n    delete obj._v;\n    obj = await this.applyHooksActions(obj, \"beforeUnmap\");\n    const reversedMap = mapOverride ? invert(mapOverride) : this.reversedMap;\n    const rest = {};\n    for (const [key, value] of Object.entries(obj)) {\n      const originalKey = reversedMap && reversedMap[key] ? reversedMap[key] : key;\n      let parsedValue = value;\n      const attrDef = this.getAttributeDefinition(originalKey);\n      const hasAfterUnmapHook = this.options.hooks?.afterUnmap?.[originalKey];\n\n      // Always unmap base62 strings to numbers for number fields (but not array fields or decimal fields)\n      // Skip if there are afterUnmap hooks that will handle the conversion\n      if (!hasAfterUnmapHook && typeof attrDef === 'string' && attrDef.includes('number') && !attrDef.includes('array') && !attrDef.includes('decimal')) {\n        if (typeof parsedValue === 'string' && parsedValue !== '') {\n          parsedValue = fromBase62(parsedValue);\n        } else if (typeof parsedValue === 'number') {\n          // Already a number, do nothing\n        } else {\n          parsedValue = undefined;\n        }\n      } else if (typeof value === 'string') {\n        if (value === '[object Object]') {\n          parsedValue = {};\n        } else if (value.startsWith('{') || value.startsWith('[')) {\n          const [ok, err, parsed] = tryFnSync(() => JSON.parse(value));\n          if (ok) parsedValue = parsed;\n        }\n      }\n      // PATCH: ensure arrays are always arrays\n      // Skip automatic array conversion if there's an afterUnmap hook that will handle it\n      if (this.attributes) {\n        if (typeof attrDef === 'string' && attrDef.includes('array')) {\n          if (!hasAfterUnmapHook) {\n            if (Array.isArray(parsedValue)) {\n              // Already an array\n            } else if (typeof parsedValue === 'string' && parsedValue.trim().startsWith('[')) {\n              const [okArr, errArr, arr] = tryFnSync(() => JSON.parse(parsedValue));\n              if (okArr && Array.isArray(arr)) {\n                parsedValue = arr;\n              }\n            } else {\n              parsedValue = SchemaActions.toArray(parsedValue, { separator: this.options.arraySeparator });\n            }\n          }\n        }\n      }\n      // PATCH: apply afterUnmap hooks for type restoration\n      if (this.options.hooks && this.options.hooks.afterUnmap && this.options.hooks.afterUnmap[originalKey]) {\n        for (const actionEntry of this.options.hooks.afterUnmap[originalKey]) {\n          // Support both string actions and {action, params} objects\n          const actionName = typeof actionEntry === 'string' ? actionEntry : actionEntry.action;\n          const actionParams = typeof actionEntry === 'object' ? actionEntry.params : {};\n\n          if (typeof SchemaActions[actionName] === 'function') {\n            parsedValue = await SchemaActions[actionName](parsedValue, {\n              passphrase: this.passphrase,\n              separator: this.options.arraySeparator,\n              ...actionParams  // Merge custom parameters (currency, precision, etc.)\n            });\n    }\n        }\n      }\n      rest[originalKey] = parsedValue;\n    }\n    await this.applyHooksActions(rest, \"afterUnmap\");\n    const result = unflatten(rest);\n    for (const [key, value] of Object.entries(mappedResourceItem)) {\n      if (key.startsWith('$')) {\n        result[key] = value;\n      }\n    }\n    return result;\n  }\n\n  // Helper to get attribute definition by dot notation key\n  getAttributeDefinition(key) {\n    const parts = key.split('.');\n    let def = this.attributes;\n    for (const part of parts) {\n      if (!def) return undefined;\n      def = def[part];\n    }\n    return def;\n  }\n\n  /**\n   * Preprocess attributes to convert nested objects into validator-compatible format\n   * @param {Object} attributes - Original attributes\n   * @returns {Object} Processed attributes for validator\n   */\n  preprocessAttributesForValidation(attributes) {\n    const processed = {};\n\n    for (const [key, value] of Object.entries(attributes)) {\n      if (typeof value === 'string') {\n        // Expand ip4 shorthand to string type with custom validation\n        if (value === 'ip4' || value.startsWith('ip4|')) {\n          processed[key] = value.replace(/^ip4/, 'string');\n          continue;\n        }\n        // Expand ip6 shorthand to string type with custom validation\n        if (value === 'ip6' || value.startsWith('ip6|')) {\n          processed[key] = value.replace(/^ip6/, 'string');\n          continue;\n        }\n        // Expand money/crypto shorthand to number type with min validation\n        if (value === 'money' || value.startsWith('money:') || value.startsWith('money|') ||\n            value === 'crypto' || value.startsWith('crypto:') || value.startsWith('crypto|')) {\n          // Extract any modifiers after money:N or crypto:N\n          const rest = value.replace(/^(?:money|crypto)(?::\\d+)?/, '');\n          // Money must be non-negative\n          const hasMin = rest.includes('min:');\n          processed[key] = hasMin ? `number${rest}` : `number|min:0${rest}`;\n          continue;\n        }\n        // Expand decimal shorthand to number type\n        if (value === 'decimal' || value.startsWith('decimal:') || value.startsWith('decimal|')) {\n          // Extract any modifiers after decimal:PRECISION\n          const rest = value.replace(/^decimal(:\\d+)?/, '');\n          processed[key] = `number${rest}`;\n          continue;\n        }\n        // Expand geo:lat shorthand to number type with range validation\n        if (value.startsWith('geo:lat')) {\n          // Extract any modifiers after geo:lat:PRECISION\n          const rest = value.replace(/^geo:lat(:\\d+)?/, '');\n          // Latitude range: -90 to 90\n          const hasMin = rest.includes('min:');\n          const hasMax = rest.includes('max:');\n          let validation = 'number';\n          if (!hasMin) validation += '|min:-90';\n          if (!hasMax) validation += '|max:90';\n          processed[key] = validation + rest;\n          continue;\n        }\n        // Expand geo:lon shorthand to number type with range validation\n        if (value.startsWith('geo:lon')) {\n          // Extract any modifiers after geo:lon:PRECISION\n          const rest = value.replace(/^geo:lon(:\\d+)?/, '');\n          // Longitude range: -180 to 180\n          const hasMin = rest.includes('min:');\n          const hasMax = rest.includes('max:');\n          let validation = 'number';\n          if (!hasMin) validation += '|min:-180';\n          if (!hasMax) validation += '|max:180';\n          processed[key] = validation + rest;\n          continue;\n        }\n        // Expand geo:point shorthand to object with lat/lon\n        if (value.startsWith('geo:point')) {\n          // geo:point is an object or array with lat/lon\n          // For simplicity, allow it as any type (will be validated in hooks)\n          processed[key] = 'any';\n          continue;\n        }\n        // Expand embedding:XXX shorthand to array|items:number|length:XXX\n        if (value.startsWith('embedding:')) {\n          const lengthMatch = value.match(/embedding:(\\d+)/);\n          if (lengthMatch) {\n            const length = lengthMatch[1];\n            // Extract any additional modifiers after the length\n            const rest = value.substring(`embedding:${length}`.length);\n            processed[key] = `array|items:number|length:${length}|empty:false${rest}`;\n            continue;\n          }\n        }\n        // Expand embedding|... to array|items:number|...\n        if (value.startsWith('embedding|') || value === 'embedding') {\n          processed[key] = value.replace(/^embedding/, 'array|items:number|empty:false');\n          continue;\n        }\n        processed[key] = value;\n      } else if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n        // Check if this is a validator type definition (has 'type' property that is NOT '$$type')\n        // vs a nested object structure\n        const hasValidatorType = value.type !== undefined && key !== '$$type';\n\n        if (hasValidatorType) {\n          // Handle ip4 and ip6 object notation\n          if (value.type === 'ip4') {\n            processed[key] = { ...value, type: 'string' };\n          } else if (value.type === 'ip6') {\n            processed[key] = { ...value, type: 'string' };\n          } else if (value.type === 'money' || value.type === 'crypto') {\n            // Money/crypto type → number with min:0\n            processed[key] = { ...value, type: 'number', min: value.min !== undefined ? value.min : 0 };\n          } else if (value.type === 'decimal') {\n            // Decimal type → number\n            processed[key] = { ...value, type: 'number' };\n          } else if (value.type === 'geo:lat' || value.type === 'geo-lat') {\n            // Geo latitude → number with range [-90, 90]\n            processed[key] = {\n              ...value,\n              type: 'number',\n              min: value.min !== undefined ? value.min : -90,\n              max: value.max !== undefined ? value.max : 90\n            };\n          } else if (value.type === 'geo:lon' || value.type === 'geo-lon') {\n            // Geo longitude → number with range [-180, 180]\n            processed[key] = {\n              ...value,\n              type: 'number',\n              min: value.min !== undefined ? value.min : -180,\n              max: value.max !== undefined ? value.max : 180\n            };\n          } else if (value.type === 'geo:point' || value.type === 'geo-point') {\n            // Geo point → any (will be validated in hooks)\n            processed[key] = { ...value, type: 'any' };\n          } else if (value.type === 'object' && value.properties) {\n            // Recursively process nested object properties\n            processed[key] = {\n              ...value,\n              properties: this.preprocessAttributesForValidation(value.properties)\n            };\n          } else {\n            // This is a validator type definition (e.g., { type: 'array', items: 'number' }), pass it through\n            processed[key] = value;\n          }\n        } else {\n          // This is a nested object structure, wrap it for validation\n          const isExplicitRequired = value.$$type && value.$$type.includes('required');\n          const isExplicitOptional = value.$$type && value.$$type.includes('optional');\n          const objectConfig = {\n            type: 'object',\n            properties: this.preprocessAttributesForValidation(value),\n            strict: false\n          };\n          // If explicitly required, don't mark as optional\n          if (isExplicitRequired) {\n            // nothing\n          } else if (isExplicitOptional || this.allNestedObjectsOptional) {\n            objectConfig.optional = true;\n          }\n          processed[key] = objectConfig;\n        }\n      } else {\n        processed[key] = value;\n      }\n    }\n\n    return processed;\n  }\n}\n\nexport default Schema\n","import EventEmitter from \"events\";\nimport { ReadableStream } from \"node:stream/web\";\n\nexport class ResourceIdsReader extends EventEmitter {\n  constructor({ resource }) {\n    super()\n\n    this.resource = resource;\n    this.client = resource.client;\n\n    this.stream = new ReadableStream({\n      highWaterMark: this.client.parallelism * 3,\n      start: this._start.bind(this),\n      pull: this._pull.bind(this),\n      cancel: this._cancel.bind(this),\n    });\n  }\n\n  build () {\n    return this.stream.getReader();\n  }\n\n  async _start(controller) {\n    this.controller = controller;\n    this.continuationToken = null;\n    this.closeNextIteration = false;\n  }\n\n  async _pull(controller) {\n    if (this.closeNextIteration) {\n      controller.close();\n      return;\n    }\n\n    const response = await this.client.listObjects({\n      prefix: `resource=${this.resource.name}`,\n      continuationToken: this.continuationToken,\n    });\n\n    const keys = response?.Contents\n      .map((x) => x.Key)\n      .map((x) => x.replace(this.client.config.keyPrefix, \"\"))\n      .map((x) => (x.startsWith(\"/\") ? x.replace(`/`, \"\") : x))\n      .map((x) => x.replace(`resource=${this.resource.name}/id=`, \"\"))\n\n    this.continuationToken = response.NextContinuationToken;\n    this.enqueue(keys);\n\n    if (!response.IsTruncated) this.closeNextIteration = true;\n  }\n\n  enqueue(ids) {\n    ids.forEach((key) => {\n      this.controller.enqueue(key)\n      this.emit(\"id\", key);\n    });\n  }\n\n  _cancel(reason) {\n  }\n}\n\nexport default ResourceIdsReader\n","import ResourceIdsReader from \"./resource-ids-reader.class.js\";\n\nexport class ResourceIdsPageReader extends ResourceIdsReader {\n  enqueue(ids) {\n    this.controller.enqueue(ids)\n    this.emit(\"page\", ids);\n  }\n}\n\nexport default ResourceIdsPageReader\n","import EventEmitter from \"events\";\nimport { Transform } from \"stream\";\nimport { PromisePool } from \"@supercharge/promise-pool\";\n\nimport { ResourceIdsPageReader } from \"./resource-ids-page-reader.class.js\"\nimport tryFn from \"../concerns/try-fn.js\";\nimport { StreamError } from '../errors.js';\n\nexport class ResourceReader extends EventEmitter {\n  constructor({ resource, batchSize = 10, concurrency = 5 }) {\n    super()\n\n    if (!resource) {\n      throw new StreamError('Resource is required for ResourceReader', {\n        operation: 'constructor',\n        resource: resource?.name,\n        suggestion: 'Pass a valid Resource instance when creating ResourceReader'\n      });\n    }\n\n    this.resource = resource;\n    this.client = resource.client;\n    this.batchSize = batchSize;\n    this.concurrency = concurrency;\n    \n    this.input = new ResourceIdsPageReader({ resource: this.resource });\n\n    // Create a Node.js Transform stream instead of Web Stream\n    this.transform = new Transform({\n      objectMode: true,\n      transform: this._transform.bind(this)\n    });\n\n    // Set up event forwarding\n    this.input.on('data', (chunk) => {\n      this.transform.write(chunk);\n    });\n\n    this.input.on('end', () => {\n      this.transform.end();\n    });\n\n    this.input.on('error', (error) => {\n      this.emit('error', error);\n    });\n\n    // Forward transform events\n    this.transform.on('data', (data) => {\n      this.emit('data', data);\n    });\n\n    this.transform.on('end', () => {\n      this.emit('end');\n    });\n\n    this.transform.on('error', (error) => {\n      this.emit('error', error);\n    });\n  }\n\n  build() {\n    return this;\n  }\n\n  async _transform(chunk, encoding, callback) {\n    const [ok, err] = await tryFn(async () => {\n      await PromisePool.for(chunk)\n        .withConcurrency(this.concurrency)\n        .handleError(async (error, content) => {\n          this.emit(\"error\", error, content);\n        })\n        .process(async (id) => {\n          const data = await this.resource.get(id);\n          this.push(data);\n          return data;\n        });\n    });\n    callback(err);\n  }\n\n  resume() {\n    this.input.resume();\n  }\n}\n\nexport default ResourceReader;\n","import EventEmitter from \"events\";\nimport { Writable } from 'stream';\nimport { PromisePool } from '@supercharge/promise-pool';\nimport tryFn from \"../concerns/try-fn.js\";\n\nexport class ResourceWriter extends EventEmitter {\n  constructor({ resource, batchSize = 10, concurrency = 5 }) {\n    super()\n\n    this.resource = resource;\n    this.client = resource.client;\n    this.batchSize = batchSize;\n    this.concurrency = concurrency;\n    this.buffer = [];\n    this.writing = false;\n\n    // Create a Node.js Writable stream instead of Web Stream\n    this.writable = new Writable({\n      objectMode: true,\n      write: this._write.bind(this)\n    });\n\n    // Set up event forwarding\n    this.writable.on('finish', () => {\n      this.emit('finish');\n    });\n\n    this.writable.on('error', (error) => {\n      this.emit('error', error);\n    });\n  }\n\n  build() {\n    return this;\n  }\n\n  write(chunk) {\n    this.buffer.push(chunk);\n    this._maybeWrite().catch(error => {\n      this.emit('error', error);\n    });\n    return true;\n  }\n\n  end() {\n    this.ended = true;\n    this._maybeWrite().catch(error => {\n      this.emit('error', error);\n    });\n  }\n\n  async _maybeWrite() {\n    if (this.writing) return;\n    if (this.buffer.length === 0 && !this.ended) return;\n    this.writing = true;\n    while (this.buffer.length > 0) {\n      const batch = this.buffer.splice(0, this.batchSize);\n      const [ok, err] = await tryFn(async () => {\n        await PromisePool.for(batch)\n          .withConcurrency(this.concurrency)\n          .handleError(async (error, content) => {\n            this.emit(\"error\", error, content);\n          })\n          .process(async (item) => {\n            const [ok, err, result] = await tryFn(async () => {\n              const res = await this.resource.insert(item);\n              return res;\n            });\n            if (!ok) {\n              this.emit('error', err, item);\n              return null;\n            }\n            return result;\n          });\n      });\n      if (!ok) {\n        this.emit('error', err);\n      }\n    }\n    this.writing = false;\n    if (this.ended) {\n      this.writable.emit('finish');\n    }\n  }\n\n  async _write(chunk, encoding, callback) {\n    // Not used, as we handle batching in write/end\n    callback();\n  }\n}\n\nexport default ResourceWriter;\n","export * from \"./resource-reader.class.js\"\nexport * from \"./resource-writer.class.js\"\nexport * from \"./resource-ids-reader.class.js\"\nexport * from \"./resource-ids-page-reader.class.js\"\n\nimport { StreamError } from '../errors.js';\n\nexport function streamToString(stream) {\n  return new Promise((resolve, reject) => {\n    if (!stream) {\n      return reject(new StreamError('Stream is undefined', {\n        operation: 'streamToString',\n        suggestion: 'Ensure a valid stream is passed to streamToString()'\n      }));\n    }\n    const chunks = [];\n    stream.on('data', (chunk) => chunks.push(chunk));\n    stream.on('error', reject);\n    stream.on('end', () => resolve(Buffer.concat(chunks).toString('utf-8')));\n  });\n}\n","import { calculateTotalSize } from '../concerns/calculator.js';\nimport { calculateEffectiveLimit } from '../concerns/calculator.js';\nimport { MetadataLimitError } from '../errors.js';\n\nexport const S3_METADATA_LIMIT_BYTES = 2047;\n\n/**\n * Enforce Limits Behavior Configuration Documentation\n * \n * This behavior enforces various limits on data operations to prevent abuse and ensure\n * system stability. It can limit body size, metadata size, and other resource constraints.\n * \n * @typedef {Object} EnforceLimitsBehaviorConfig\n * @property {boolean} [enabled=true] - Whether the behavior is active\n * @property {number} [maxBodySize=1024*1024] - Maximum body size in bytes (1MB default)\n * @property {number} [maxMetadataSize=2048] - Maximum metadata size in bytes (2KB default)\n * @property {number} [maxKeySize=1024] - Maximum key size in bytes (1KB default)\n * @property {number} [maxValueSize=1024*1024] - Maximum value size in bytes (1MB default)\n * @property {number} [maxFields=100] - Maximum number of fields in a single object\n * @property {number} [maxNestingDepth=10] - Maximum nesting depth for objects and arrays\n * @property {number} [maxArrayLength=1000] - Maximum length for arrays\n * @property {number} [maxStringLength=10000] - Maximum length for string values\n * @property {number} [maxNumberValue=Number.MAX_SAFE_INTEGER] - Maximum numeric value\n * @property {number} [minNumberValue=Number.MIN_SAFE_INTEGER] - Minimum numeric value\n * @property {string} [enforcementMode='strict'] - Enforcement mode: 'strict', 'warn', 'soft'\n * @property {boolean} [logViolations=true] - Whether to log limit violations\n * @property {boolean} [throwOnViolation=true] - Whether to throw errors on limit violations\n * @property {Function} [customValidator] - Custom function to validate data against limits\n *   - Parameters: (data: any, limits: Object, context: Object) => boolean\n *   - Return: true if valid, false if invalid\n * @property {Object.<string, number>} [fieldLimits] - Field-specific size limits\n *   - Key: field name (e.g., 'content', 'description')\n *   - Value: maximum size in bytes\n * @property {string[]} [excludeFields] - Array of field names to exclude from limit enforcement\n * @property {string[]} [includeFields] - Array of field names to include in limit enforcement\n * @property {boolean} [applyToInsert=true] - Whether to apply limits to insert operations\n * @property {boolean} [applyToUpdate=true] - Whether to apply limits to update operations\n * @property {boolean} [applyToUpsert=true] - Whether to apply limits to upsert operations\n * @property {boolean} [applyToRead=false] - Whether to apply limits to read operations\n * @property {number} [warningThreshold=0.8] - Percentage of limit to trigger warnings (0.8 = 80%)\n * @property {Object} [context] - Additional context for custom functions\n * @property {boolean} [validateMetadata=true] - Whether to validate metadata size\n * @property {boolean} [validateBody=true] - Whether to validate body size\n * @property {boolean} [validateKeys=true] - Whether to validate key sizes\n * @property {boolean} [validateValues=true] - Whether to validate value sizes\n * \n * @example\n * // Basic configuration with standard limits\n * {\n *   enabled: true,\n *   maxBodySize: 2 * 1024 * 1024, // 2MB\n *   maxMetadataSize: 4096, // 4KB\n *   maxFields: 200,\n *   enforcementMode: 'strict',\n *   logViolations: true\n * }\n * \n * @example\n * // Configuration with field-specific limits\n * {\n *   enabled: true,\n *   fieldLimits: {\n *     'content': 5 * 1024 * 1024, // 5MB for content\n *     'description': 1024 * 1024, // 1MB for description\n *     'title': 1024, // 1KB for title\n *     'tags': 512 // 512B for tags\n *   },\n *   excludeFields: ['id', 'created_at', 'updated_at'],\n *   enforcementMode: 'warn',\n *   warningThreshold: 0.7\n * }\n * \n * @example\n * // Configuration with custom validation\n * {\n *   enabled: true,\n *   maxBodySize: 1024 * 1024, // 1MB\n *   customValidator: (data, limits, context) => {\n *     // Custom validation logic\n *     if (data.content && data.content.length > limits.maxBodySize) {\n *       return false;\n *     }\n *     return true;\n *   },\n *   context: {\n *     environment: 'production',\n *     userRole: 'admin'\n *   },\n *   enforcementMode: 'soft',\n *   logViolations: true\n * }\n * \n * @example\n * // Configuration with strict limits for API endpoints\n * {\n *   enabled: true,\n *   maxBodySize: 512 * 1024, // 512KB\n *   maxMetadataSize: 1024, // 1KB\n *   maxFields: 50,\n *   maxNestingDepth: 5,\n *   maxArrayLength: 100,\n *   maxStringLength: 5000,\n *   enforcementMode: 'strict',\n *   throwOnViolation: true,\n *   applyToInsert: true,\n *   applyToUpdate: true,\n *   applyToUpsert: true\n * }\n * \n * @example\n * // Minimal configuration using defaults\n * {\n *   enabled: true,\n *   maxBodySize: 1024 * 1024 // 1MB\n * }\n * \n * @notes\n * - Default body size limit is 1MB (1024*1024 bytes)\n * - Default metadata size limit is 2KB (2048 bytes)\n * - Strict mode throws errors on violations\n * - Warn mode logs violations but allows operations\n * - Soft mode allows violations with warnings\n * - Field-specific limits override global limits\n * - Custom validators allow for specialized logic\n * - Warning threshold helps prevent unexpected violations\n * - Performance impact is minimal for most use cases\n * - Limits help prevent abuse and ensure system stability\n * - Context object is useful for conditional validation\n * - Validation can be selectively applied to different operations\n */\n\n/**\n * Enforce Limits Behavior\n * Throws error when metadata exceeds 2KB limit\n */\nexport async function handleInsert({ resource, data, mappedData, originalData }) {\n  const totalSize = calculateTotalSize(mappedData);\n  \n  // Calculate effective limit considering system overhead\n  const effectiveLimit = calculateEffectiveLimit({\n    s3Limit: S3_METADATA_LIMIT_BYTES,\n    systemConfig: {\n      version: resource.version,\n      timestamps: resource.config.timestamps,\n      id: data.id\n    }\n  });\n  \n  if (totalSize > effectiveLimit) {\n    throw new MetadataLimitError('Metadata size exceeds 2KB limit on insert', {\n      totalSize,\n      effectiveLimit,\n      absoluteLimit: S3_METADATA_LIMIT_BYTES,\n      excess: totalSize - effectiveLimit,\n      resourceName: resource.name,\n      operation: 'insert'\n    });\n  }\n\n  // If data fits in metadata, store only in metadata\n  return { mappedData, body: \"\" };\n}\n\nexport async function handleUpdate({ resource, id, data, mappedData, originalData }) {\n  const totalSize = calculateTotalSize(mappedData);\n  \n  // Calculate effective limit considering system overhead\n  const effectiveLimit = calculateEffectiveLimit({\n    s3Limit: S3_METADATA_LIMIT_BYTES,\n    systemConfig: {\n      version: resource.version,\n      timestamps: resource.config.timestamps,\n      id\n    }\n  });\n  \n  if (totalSize > effectiveLimit) {\n    throw new MetadataLimitError('Metadata size exceeds 2KB limit on update', {\n      totalSize,\n      effectiveLimit,\n      absoluteLimit: S3_METADATA_LIMIT_BYTES,\n      excess: totalSize - effectiveLimit,\n      resourceName: resource.name,\n      operation: 'update',\n      id\n    });\n  }\n  return { mappedData, body: JSON.stringify(mappedData) };\n}\n\nexport async function handleUpsert({ resource, id, data, mappedData }) {\n  const totalSize = calculateTotalSize(mappedData);\n  \n  // Calculate effective limit considering system overhead\n  const effectiveLimit = calculateEffectiveLimit({\n    s3Limit: S3_METADATA_LIMIT_BYTES,\n    systemConfig: {\n      version: resource.version,\n      timestamps: resource.config.timestamps,\n      id\n    }\n  });\n  \n  if (totalSize > effectiveLimit) {\n    throw new MetadataLimitError('Metadata size exceeds 2KB limit on upsert', {\n      totalSize,\n      effectiveLimit,\n      absoluteLimit: S3_METADATA_LIMIT_BYTES,\n      excess: totalSize - effectiveLimit,\n      resourceName: resource.name,\n      operation: 'upsert',\n      id\n    });\n  }\n  return { mappedData, body: \"\" };\n}\n\nexport async function handleGet({ resource, metadata, body }) {\n  // No special handling needed for enforce-limits behavior\n  return { metadata, body };\n}","import { calculateTotalSize } from '../concerns/calculator.js';\nimport { calculateEffectiveLimit } from '../concerns/calculator.js';\nimport { S3_METADATA_LIMIT_BYTES } from './enforce-limits.js';\nimport tryFn from '../concerns/try-fn.js';\n\n/**\n * User Managed Behavior Configuration Documentation\n *\n * The `user-managed` behavior is the default for s3db resources. It provides no automatic enforcement\n * of S3 metadata or body size limits, and does not modify or truncate data. Instead, it emits warnings\n * via the `exceedsLimit` event when S3 metadata limits are exceeded, but allows all operations to proceed.\n *\n * ## Purpose & Use Cases\n * - For development, testing, or advanced users who want full control over resource metadata and body size.\n * - Useful when you want to handle S3 metadata limits yourself, or implement custom logic for warnings.\n * - Not recommended for production unless you have custom enforcement or validation in place.\n *\n * ## How It Works\n * - Emits an `exceedsLimit` event (with details) when a resource's metadata size exceeds the S3 2KB limit.\n * - Does NOT block, truncate, or modify data—operations always proceed.\n * - No automatic enforcement of any limits; user is responsible for handling warnings and data integrity.\n *\n * ## Event Emission\n * - Event: `exceedsLimit`\n * - Payload:\n *   - `operation`: 'insert' | 'update' | 'upsert'\n *   - `id` (for update/upsert): resource id\n *   - `totalSize`: total metadata size in bytes\n *   - `limit`: S3 metadata limit (2048 bytes)\n *   - `excess`: number of bytes over the limit\n *   - `data`: the offending data object\n *\n * @example\n * // Listen for warnings on a resource\n * resource.on('exceedsLimit', (info) => {\n *   console.warn(`Resource exceeded S3 metadata limit:`, info);\n * });\n *\n * @example\n * // Create a resource with user-managed behavior (default)\n * const resource = await db.createResource({\n *   name: 'my_resource',\n *   attributes: { ... },\n *   behavior: 'user-managed' // or omit for default\n * });\n *\n * ## Comparison to Other Behaviors\n * | Behavior         | Enforcement | Data Loss | Event Emission | Use Case                |\n * |------------------|-------------|-----------|----------------|-------------------------|\n * | user-managed     | None        | Possible  | Warns          | Dev/Test/Advanced users |\n * | enforce-limits   | Strict      | No        | Throws         | Production              |\n * | truncate-data    | Truncates   | Yes       | Warns          | Content Mgmt            |\n * | body-overflow    | Truncates/Splits | Yes   | Warns          | Large objects           |\n *\n * ## Best Practices & Warnings\n * - Exceeding S3 metadata limits will cause silent data loss or errors at the storage layer.\n * - Use this behavior only if you have custom logic to handle warnings and enforce limits.\n * - For production, prefer `enforce-limits` or `truncate-data` to avoid data loss.\n *\n * ## Migration Tips\n * - To migrate to a stricter behavior, change the resource's behavior to `enforce-limits` or `truncate-data`.\n * - Review emitted warnings to identify resources at risk of exceeding S3 limits.\n *\n * @typedef {Object} UserManagedBehaviorConfig\n * @property {boolean} [enabled=true] - Whether the behavior is active\n */\nexport async function handleInsert({ resource, data, mappedData, originalData }) {\n\n  \n  const totalSize = calculateTotalSize(mappedData);\n  \n  // Calculate effective limit considering system overhead\n  const effectiveLimit = calculateEffectiveLimit({\n    s3Limit: S3_METADATA_LIMIT_BYTES,\n    systemConfig: {\n      version: resource.version,\n      timestamps: resource.config.timestamps,\n      id: data.id\n    }\n  });\n  \n  if (totalSize > effectiveLimit) {\n    resource.emit('exceedsLimit', {\n      operation: 'insert',\n      totalSize,\n      limit: 2047,\n      excess: totalSize - 2047,\n      data: originalData || data\n    });\n    // If data exceeds limit, store in body\n    return { mappedData: { _v: mappedData._v }, body: JSON.stringify(mappedData) };\n  }\n  \n  // If data fits in metadata, store only in metadata\n  return { mappedData, body: \"\" };\n}\n\nexport async function handleUpdate({ resource, id, data, mappedData, originalData }) {\n  const totalSize = calculateTotalSize(mappedData);\n  \n  // Calculate effective limit considering system overhead\n  const effectiveLimit = calculateEffectiveLimit({\n    s3Limit: S3_METADATA_LIMIT_BYTES,\n    systemConfig: {\n      version: resource.version,\n      timestamps: resource.config.timestamps,\n      id\n    }\n  });\n  \n  if (totalSize > effectiveLimit) {\n    resource.emit('exceedsLimit', {\n      operation: 'update',\n      id,\n      totalSize,\n      limit: 2047,\n      excess: totalSize - 2047,\n      data: originalData || data\n    });\n  }\n  return { mappedData, body: JSON.stringify(data) };\n}\n\nexport async function handleUpsert({ resource, id, data, mappedData, originalData }) {\n  const totalSize = calculateTotalSize(mappedData);\n  \n  // Calculate effective limit considering system overhead\n  const effectiveLimit = calculateEffectiveLimit({\n    s3Limit: S3_METADATA_LIMIT_BYTES,\n    systemConfig: {\n      version: resource.version,\n      timestamps: resource.config.timestamps,\n      id\n    }\n  });\n  \n  if (totalSize > effectiveLimit) {\n    resource.emit('exceedsLimit', {\n      operation: 'upsert',\n      id,\n      totalSize,\n      limit: 2047,\n      excess: totalSize - 2047,\n      data: originalData || data\n    });\n  }\n  return { mappedData, body: JSON.stringify(data) };\n}\n\nexport async function handleGet({ resource, metadata, body }) {\n  // If body contains data, parse it and merge with metadata\n  if (body && body.trim() !== '') {\n    const [ok, error, result] = tryFn(() => {\n      const bodyData = JSON.parse(body);\n      // Merge body data with metadata, with metadata taking precedence\n      return {\n        metadata: {\n          ...bodyData,\n          ...metadata\n        },\n        body\n      };\n    });\n\n    if (ok) {\n      return result;\n    } else {\n      // If parsing fails, return original metadata and body\n      return { metadata, body };\n    }\n  }\n  \n  // If no body data, return metadata as is\n  return { metadata, body };\n}","import { calculateTotalSize, calculateAttributeSizes, calculateUTF8Bytes } from '../concerns/calculator.js';\nimport { calculateEffectiveLimit } from '../concerns/calculator.js';\nimport { S3_METADATA_LIMIT_BYTES } from './enforce-limits.js';\n\nconst TRUNCATED_FLAG = '$truncated';\nconst TRUNCATED_FLAG_VALUE = 'true';\nconst TRUNCATED_FLAG_BYTES = calculateUTF8Bytes(TRUNCATED_FLAG) + calculateUTF8Bytes(TRUNCATED_FLAG_VALUE);\n\n/**\n * Data Truncate Behavior Configuration Documentation\n *\n * The `truncate-data` behavior optimizes metadata usage by sorting attributes by size\n * in ascending order and truncating the last attribute that fits within the available\n * space. This ensures all data stays in metadata for fast access while respecting\n * S3 metadata size limits.\n *\n * ## Purpose & Use Cases\n * - When you need fast access to all data (no body reads required)\n * - For objects that slightly exceed metadata limits\n * - When data loss through truncation is acceptable\n * - For frequently accessed data where performance is critical\n *\n * ## How It Works\n * 1. Calculates the size of each attribute\n * 2. Sorts attributes by size in ascending order (smallest first)\n * 3. Fills metadata with small attributes until limit is approached\n * 4. Truncates the last attribute that fits to maximize data retention\n * 5. Adds a `$truncated` flag to indicate truncation occurred\n *\n * ## Performance Characteristics\n * - Fastest possible access (all data in metadata)\n * - No body reads required\n * - Potential data loss through truncation\n * - Optimal for frequently accessed data\n *\n * @example\n * // Create a resource with truncate-data behavior\n * const resource = await db.createResource({\n *   name: 'fast_access_data',\n *   attributes: { ... },\n *   behavior: 'truncate-data'\n * });\n *\n * // Small fields stay intact, large fields get truncated\n * const doc = await resource.insert({\n *   id: 'doc123',           // Small -> intact\n *   title: 'Short Title',   // Small -> intact\n *   content: 'Very long...', // Large -> truncated\n *   metadata: { ... }       // Large -> truncated\n * });\n *\n * ## Comparison to Other Behaviors\n * | Behavior         | Metadata Usage | Body Usage | Size Limits | Performance |\n * |------------------|----------------|------------|-------------|-------------|\n * | truncate-data    | All (truncated)| None       | 2KB metadata | Fast reads   |\n * | body-overflow    | Optimized      | Overflow   | 2KB metadata | Balanced     |\n * | body-only        | Minimal (_v)   | All data   | 5TB         | Slower reads |\n * | enforce-limits   | All (limited)  | None       | 2KB metadata | Fast reads   |\n * | user-managed     | All (unlimited)| None       | S3 limit    | Fast reads   |\n *\n * @typedef {Object} DataTruncateBehaviorConfig\n * @property {boolean} [enabled=true] - Whether the behavior is active\n * @property {string} [truncateIndicator='...'] - String to append when truncating\n * @property {string[]} [priorityFields] - Fields that should not be truncated\n * @property {boolean} [preserveStructure=true] - Whether to preserve JSON structure\n */\nexport async function handleInsert({ resource, data, mappedData, originalData }) {\n  const effectiveLimit = calculateEffectiveLimit({\n    s3Limit: S3_METADATA_LIMIT_BYTES,\n    systemConfig: {\n      version: resource.version,\n      timestamps: resource.config.timestamps,\n      id: data.id\n    }\n  });\n\n  const attributeSizes = calculateAttributeSizes(mappedData);\n  const sortedFields = Object.entries(attributeSizes)\n    .sort(([, a], [, b]) => a - b);\n\n  const resultFields = {};\n  let currentSize = 0;\n  let truncated = false;\n\n  // Always include version field first\n  if (mappedData._v) {\n    resultFields._v = mappedData._v;\n    currentSize += attributeSizes._v;\n  }\n\n  // Add fields to metadata until we reach the limit\n  for (const [fieldName, size] of sortedFields) {\n    if (fieldName === '_v') continue;\n    \n    const fieldValue = mappedData[fieldName];\n    const spaceNeeded = size + (truncated ? 0 : TRUNCATED_FLAG_BYTES);\n    \n    if (currentSize + spaceNeeded <= effectiveLimit) {\n      // Field fits completely\n      resultFields[fieldName] = fieldValue;\n      currentSize += size;\n    } else {\n      // Field needs to be truncated\n      const availableSpace = effectiveLimit - currentSize - (truncated ? 0 : TRUNCATED_FLAG_BYTES);\n      if (availableSpace > 0) {\n        // We can fit part of this field\n        const truncatedValue = truncateValue(fieldValue, availableSpace);\n        resultFields[fieldName] = truncatedValue;\n        truncated = true;\n        currentSize += calculateUTF8Bytes(truncatedValue);\n      } else {\n        // Field doesn't fit at all, but keep it as empty string\n        resultFields[fieldName] = '';\n        truncated = true;\n      }\n      // Stop processing - we've reached the limit\n      break;\n    }\n  }\n\n  // Verify we're within limits and adjust if necessary\n  let finalSize = calculateTotalSize(resultFields) + (truncated ? TRUNCATED_FLAG_BYTES : 0);\n  \n  // If still over limit, keep removing/truncating fields until we fit\n  while (finalSize > effectiveLimit) {\n    const fieldNames = Object.keys(resultFields).filter(f => f !== '_v' && f !== '$truncated');\n    if (fieldNames.length === 0) {\n      // Only version field remains, this shouldn't happen but just in case\n      break;\n    }\n    \n    // Remove the last field but keep it as empty string\n    const lastField = fieldNames[fieldNames.length - 1];\n    resultFields[lastField] = '';\n    \n    // Recalculate size\n    finalSize = calculateTotalSize(resultFields) + TRUNCATED_FLAG_BYTES;\n    truncated = true;\n  }\n\n  if (truncated) {\n    resultFields[TRUNCATED_FLAG] = TRUNCATED_FLAG_VALUE;\n  }\n\n  // For truncate-data, all data should fit in metadata, so body is empty\n  return { mappedData: resultFields, body: \"\" };\n}\n\nexport async function handleUpdate({ resource, id, data, mappedData, originalData }) {\n  return handleInsert({ resource, data, mappedData, originalData });\n}\n\nexport async function handleUpsert({ resource, id, data, mappedData }) {\n  return handleInsert({ resource, data, mappedData });\n}\n\nexport async function handleGet({ resource, metadata, body }) {\n  // For truncate-data, all data is in metadata, no body processing needed\n  return { metadata, body };\n}\n\n/**\n * Truncate a value to fit within the specified byte limit\n * @param {any} value - The value to truncate\n * @param {number} maxBytes - Maximum bytes allowed\n * @returns {any} - Truncated value\n */\nfunction truncateValue(value, maxBytes) {\n  if (typeof value === 'string') {\n    return truncateString(value, maxBytes);\n  } else if (typeof value === 'object' && value !== null) {\n          // Truncate object as truncated JSON string\n    const jsonStr = JSON.stringify(value);\n    return truncateString(jsonStr, maxBytes);\n  } else {\n    // For numbers, booleans, etc., convert to string and truncate\n    const stringValue = String(value);\n    return truncateString(stringValue, maxBytes);\n  }\n}\n\n/**\n * Truncate a string to fit within byte limit\n * @param {string} str - String to truncate\n * @param {number} maxBytes - Maximum bytes allowed\n * @returns {string} - Truncated string\n */\nfunction truncateString(str, maxBytes) {\n  const encoder = new TextEncoder();\n  let bytes = encoder.encode(str);\n  if (bytes.length <= maxBytes) {\n    return str;\n  }\n  // Trunca sem adicionar '...'\n  let length = str.length;\n  while (length > 0) {\n    const truncated = str.substring(0, length);\n    bytes = encoder.encode(truncated);\n    if (bytes.length <= maxBytes) {\n      return truncated;\n    }\n    length--;\n  }\n  return '';\n}","import { calculateTotalSize, calculateAttributeSizes, calculateUTF8Bytes } from '../concerns/calculator.js';\nimport { calculateEffectiveLimit } from '../concerns/calculator.js';\nimport { S3_METADATA_LIMIT_BYTES } from './enforce-limits.js';\nimport { tryFn, tryFnSync } from '../concerns/try-fn.js';\n\nconst OVERFLOW_FLAG = '$overflow';\nconst OVERFLOW_FLAG_VALUE = 'true';\nconst OVERFLOW_FLAG_BYTES = calculateUTF8Bytes(OVERFLOW_FLAG) + calculateUTF8Bytes(OVERFLOW_FLAG_VALUE);\n\n/**\n * Body Overflow Behavior Configuration Documentation\n *\n * The `body-overflow` behavior optimizes metadata usage by sorting attributes by size\n * in ascending order and placing as many small attributes as possible in metadata,\n * while moving larger attributes to the S3 object body. This maximizes metadata\n * utilization while keeping frequently accessed small fields in metadata for fast access.\n *\n * ## Purpose & Use Cases\n * - For objects with mixed field sizes (some small, some large)\n * - When you want to optimize for both metadata efficiency and read performance\n * - For objects that exceed metadata limits but have important small fields\n * - When you need fast access to frequently used small fields\n *\n * ## How It Works\n * 1. Calculates the size of each attribute\n * 2. Sorts attributes by size in ascending order (smallest first)\n * 3. Fills metadata with small attributes until limit is reached\n * 4. Places remaining (larger) attributes in the object body as JSON\n * 5. Adds a `$overflow` flag to metadata to indicate body usage\n *\n * ## Performance Characteristics\n * - Fast access to small fields (in metadata)\n * - Slower access to large fields (requires body read)\n * - Optimized metadata utilization\n * - Balanced approach between performance and size efficiency\n *\n * @example\n * // Create a resource with body-overflow behavior\n * const resource = await db.createResource({\n *   name: 'mixed_content',\n *   attributes: { ... },\n *   behavior: 'body-overflow'\n * });\n *\n * // Small fields go to metadata, large fields go to body\n * const doc = await resource.insert({\n *   id: 'doc123',           // Small -> metadata\n *   title: 'Short Title',   // Small -> metadata\n *   content: 'Very long...', // Large -> body\n *   metadata: { ... }       // Large -> body\n * });\n *\n * ## Comparison to Other Behaviors\n * | Behavior         | Metadata Usage | Body Usage | Size Limits | Performance |\n * |------------------|----------------|------------|-------------|-------------|\n * | body-overflow    | Optimized      | Overflow   | 2KB metadata | Balanced     |\n * | body-only        | Minimal (_v)   | All data   | 5TB         | Slower reads |\n * | truncate-data    | All (truncated)| None       | 2KB metadata | Fast reads   |\n * | enforce-limits   | All (limited)  | None       | 2KB metadata | Fast reads   |\n * | user-managed     | All (unlimited)| None       | S3 limit    | Fast reads   |\n *\n * @typedef {Object} BodyOverflowBehaviorConfig\n * @property {boolean} [enabled=true] - Whether the behavior is active\n * @property {number} [metadataReserve=50] - Reserve bytes for system fields\n * @property {string[]} [priorityFields] - Fields that should be prioritized in metadata\n * @property {boolean} [preserveOrder=false] - Whether to preserve original field order\n */\nexport async function handleInsert({ resource, data, mappedData, originalData }) {\n  const effectiveLimit = calculateEffectiveLimit({\n    s3Limit: S3_METADATA_LIMIT_BYTES,\n    systemConfig: {\n      version: resource.version,\n      timestamps: resource.config.timestamps,\n      id: data.id\n    }\n  });\n\n  const attributeSizes = calculateAttributeSizes(mappedData);\n  const sortedFields = Object.entries(attributeSizes)\n    .sort(([, a], [, b]) => a - b);\n\n  const metadataFields = {};\n  const bodyFields = {};\n  let currentSize = 0;\n  let willOverflow = false;\n\n  // Always include version field first\n  if (mappedData._v) {\n    metadataFields._v = mappedData._v;\n    currentSize += attributeSizes._v;\n  }\n\n  // Reserve space for $overflow if overflow is possible\n  let reservedLimit = effectiveLimit;\n  for (const [fieldName, size] of sortedFields) {\n    if (fieldName === '_v') continue;\n    if (!willOverflow && (currentSize + size > effectiveLimit)) {\n      reservedLimit -= OVERFLOW_FLAG_BYTES;\n      willOverflow = true;\n    }\n    if (!willOverflow && (currentSize + size <= reservedLimit)) {\n      metadataFields[fieldName] = mappedData[fieldName];\n      currentSize += size;\n    } else {\n      bodyFields[fieldName] = mappedData[fieldName];\n      willOverflow = true;\n    }\n  }\n\n  if (willOverflow) {\n    metadataFields[OVERFLOW_FLAG] = OVERFLOW_FLAG_VALUE;\n  }\n\n  const hasOverflow = Object.keys(bodyFields).length > 0;\n  let body = hasOverflow ? JSON.stringify(bodyFields) : \"\";\n\n  // FIX: Only return metadataFields as mappedData, not full mappedData\n  return { mappedData: metadataFields, body };\n}\n\nexport async function handleUpdate({ resource, id, data, mappedData, originalData }) {\n  // For updates, use the same logic as insert (split fields by size)\n  return handleInsert({ resource, data, mappedData, originalData });\n}\n\nexport async function handleUpsert({ resource, id, data, mappedData }) {\n  return handleInsert({ resource, data, mappedData });\n}\n\nexport async function handleGet({ resource, metadata, body }) {\n  // Parse body content if it exists\n  let bodyData = {};\n  if (body && body.trim() !== '') {\n    const [ok, err, parsed] = tryFnSync(() => JSON.parse(body));\n    if (ok) {\n      bodyData = parsed;\n    } else {\n      bodyData = {};\n    }\n  }\n\n  // Merge metadata and body data, with metadata taking precedence\n  const mergedData = {\n    ...bodyData,\n    ...metadata\n  };\n\n  // Remove internal flags from the merged result\n  delete mergedData.$overflow;\n\n  return { metadata: mergedData, body };\n}","import { calculateTotalSize } from '../concerns/calculator.js';\nimport { tryFn, tryFnSync } from '../concerns/try-fn.js';\n\n/**\n * Body Only Behavior Configuration Documentation\n *\n * The `body-only` behavior stores all data in the S3 object body as JSON, keeping only\n * the version field (`_v`) in metadata. This allows for unlimited data size since S3\n * objects can be up to 5TB, but requires reading the full object body for any operation.\n *\n * ## Purpose & Use Cases\n * - For large objects that exceed S3 metadata limits\n * - When you need to store complex nested data structures\n * - For objects that will be read infrequently (higher latency)\n * - When you want to avoid metadata size constraints entirely\n *\n * ## How It Works\n * - Keeps only the `_v` (version) field in S3 metadata\n * - Serializes all other data as JSON in the object body\n * - Requires full object read for any data access\n * - No size limits on data (only S3 object size limit of 5TB)\n *\n * ## Performance Considerations\n * - Higher latency for read operations (requires full object download)\n * - Higher bandwidth usage for read operations\n * - No metadata-based filtering or querying possible\n * - Best for large, infrequently accessed data\n *\n * @example\n * // Create a resource with body-only behavior\n * const resource = await db.createResource({\n *   name: 'large_documents',\n *   attributes: { ... },\n *   behavior: 'body-only'\n * });\n *\n * // All data goes to body, only _v stays in metadata\n * const doc = await resource.insert({\n *   title: 'Large Document',\n *   content: 'Very long content...',\n *   metadata: { ... }\n * });\n *\n * ## Comparison to Other Behaviors\n * | Behavior         | Metadata Usage | Body Usage | Size Limits | Performance |\n * |------------------|----------------|------------|-------------|-------------|\n * | body-only        | Minimal (_v)   | All data   | 5TB         | Slower reads |\n * | body-overflow    | Optimized      | Overflow   | 2KB metadata | Balanced     |\n * | truncate-data    | All (truncated)| None       | 2KB metadata | Fast reads   |\n * | enforce-limits   | All (limited)  | None       | 2KB metadata | Fast reads   |\n * | user-managed     | All (unlimited)| None       | S3 limit    | Fast reads   |\n *\n * @typedef {Object} BodyOnlyBehaviorConfig\n * @property {boolean} [enabled=true] - Whether the behavior is active\n */\nexport async function handleInsert({ resource, data, mappedData }) {\n  // Keep only the version field in metadata\n  const metadataOnly = {\n    '_v': mappedData._v || String(resource.version)\n  };\n  metadataOnly._map = JSON.stringify(resource.schema.map);\n  \n  // Use the original object for the body\n  const body = JSON.stringify(mappedData);\n  \n  return { mappedData: metadataOnly, body };\n}\n\nexport async function handleUpdate({ resource, id, data, mappedData }) {\n  // For updates, we need to merge with existing data\n  // Since we can't easily read the existing body during update,\n  // we'll put the update data in the body and let the resource handle merging\n  \n  // Keep only the version field in metadata\n  const metadataOnly = {\n    '_v': mappedData._v || String(resource.version)\n  };\n  metadataOnly._map = JSON.stringify(resource.schema.map);\n  \n  // Use the original object for the body\n  const body = JSON.stringify(mappedData);\n  \n  return { mappedData: metadataOnly, body };\n}\n\nexport async function handleUpsert({ resource, id, data, mappedData }) {\n  // Same as insert for body-only behavior\n  return handleInsert({ resource, data, mappedData });\n}\n\nexport async function handleGet({ resource, metadata, body }) {\n  // Parse the body to get the actual data\n  let bodyData = {};\n  if (body && body.trim() !== '') {\n    const [ok, err, parsed] = tryFnSync(() => JSON.parse(body));\n    if (ok) {\n      bodyData = parsed;\n    } else {\n      bodyData = {};\n    }\n  }\n  \n  // Merge metadata (which contains _v) with body data\n  const mergedData = {\n    ...bodyData,\n    ...metadata // metadata contains _v\n  };\n  \n  return { metadata: mergedData, body };\n}\n","import * as userManaged from './user-managed.js';\nimport * as enforceLimits from './enforce-limits.js';\nimport * as dataTruncate from './truncate-data.js';\nimport * as bodyOverflow from './body-overflow.js';\nimport * as bodyOnly from './body-only.js';\nimport { BehaviorError } from '../errors.js';\n\n/**\n * Available behaviors for Resource metadata handling\n */\nexport const behaviors = {\n  'user-managed': userManaged,\n  'enforce-limits': enforceLimits,\n  'truncate-data': dataTruncate,\n  'body-overflow': bodyOverflow,\n  'body-only': bodyOnly\n};\n\n/**\n * Get behavior implementation by name\n * @param {string} behaviorName - Name of the behavior\n * @returns {Object} Behavior implementation with handler functions\n */\nexport function getBehavior(behaviorName) {\n  const behavior = behaviors[behaviorName];\n  if (!behavior) {\n    throw new BehaviorError(`Unknown behavior: ${behaviorName}`, {\n      behavior: behaviorName,\n      availableBehaviors: Object.keys(behaviors),\n      operation: 'getBehavior'\n    });\n  }\n  return behavior;\n}\n\n/**\n * List of available behavior names\n */\nexport const AVAILABLE_BEHAVIORS = Object.keys(behaviors);\n\n/**\n * Default behavior name\n */\nexport const DEFAULT_BEHAVIOR = 'user-managed';","import { join } from \"path\";\nimport { createHash } from \"crypto\";\nimport AsyncEventEmitter from \"./concerns/async-event-emitter.js\";\nimport { customAlphabet, urlAlphabet } from 'nanoid';\nimport jsonStableStringify from \"json-stable-stringify\";\nimport { PromisePool } from \"@supercharge/promise-pool\";\nimport { chunk, cloneDeep, merge, isEmpty, isObject } from \"lodash-es\";\n\nimport Schema from \"./schema.class.js\";\nimport { streamToString } from \"./stream/index.js\";\nimport tryFn, { tryFnSync } from \"./concerns/try-fn.js\";\nimport { ResourceReader, ResourceWriter } from \"./stream/index.js\"\nimport { getBehavior, DEFAULT_BEHAVIOR } from \"./behaviors/index.js\";\nimport { idGenerator as defaultIdGenerator } from \"./concerns/id.js\";\nimport { calculateTotalSize, calculateEffectiveLimit } from \"./concerns/calculator.js\";\nimport { mapAwsError, InvalidResourceItem, ResourceError, PartitionError, ValidationError } from \"./errors.js\";\n\n\nexport class Resource extends AsyncEventEmitter {\n  /**\n   * Create a new Resource instance\n   * @param {Object} config - Resource configuration\n   * @param {string} config.name - Resource name\n   * @param {Object} config.client - S3 client instance\n   * @param {string} [config.version='v1'] - Resource version\n   * @param {Object} [config.attributes={}] - Resource attributes schema\n   * @param {string} [config.behavior='user-managed'] - Resource behavior strategy\n   * @param {string} [config.passphrase='secret'] - Encryption passphrase\n   * @param {number} [config.parallelism=10] - Parallelism for bulk operations\n   * @param {Array} [config.observers=[]] - Observer instances\n   * @param {boolean} [config.cache=false] - Enable caching\n   * @param {boolean} [config.autoDecrypt=true] - Auto-decrypt secret fields\n   * @param {boolean} [config.timestamps=false] - Enable automatic timestamps\n   * @param {Object} [config.partitions={}] - Partition definitions\n   * @param {boolean} [config.paranoid=true] - Security flag for dangerous operations\n   * @param {boolean} [config.allNestedObjectsOptional=false] - Make nested objects optional\n   * @param {Object} [config.hooks={}] - Custom hooks\n   * @param {Object} [config.options={}] - Additional options\n   * @param {Function} [config.idGenerator] - Custom ID generator function\n   * @param {number} [config.idSize=22] - Size for auto-generated IDs\n   * @param {boolean} [config.versioningEnabled=false] - Enable versioning for this resource\n   * @param {Object} [config.events={}] - Event listeners to automatically add\n   * @param {boolean} [config.asyncEvents=true] - Whether events should be emitted asynchronously\n   * @example\n   * const users = new Resource({\n   *   name: 'users',\n   *   client: s3Client,\n   *   attributes: {\n   *     name: 'string|required',\n   *     email: 'string|required',\n   *     password: 'secret|required'\n   *   },\n   *   behavior: 'user-managed',\n   *   passphrase: 'my-secret-key',\n   *   timestamps: true,\n   *   partitions: {\n   *     byRegion: {\n   *       fields: { region: 'string' }\n   *     }\n   *   },\n   *   hooks: {\n   *     beforeInsert: [async (data) => {\n      *       return data;\n   *     }]\n   *   },\n   *   events: {\n   *     insert: (ev) => console.log('Inserted:', ev.id),\n   *     update: [\n   *       (ev) => console.warn('Update detected'),\n   *       (ev) => console.log('Updated:', ev.id)\n   *     ],\n   *     delete: (ev) => console.log('Deleted:', ev.id)\n   *   }\n   * });\n   * \n   * // With custom ID size\n   * const shortIdUsers = new Resource({\n   *   name: 'users',\n   *   client: s3Client,\n   *   attributes: { name: 'string|required' },\n   *   idSize: 8 // Generate 8-character IDs\n   * });\n   * \n   * // With custom ID generator function\n   * const customIdUsers = new Resource({\n   *   name: 'users',\n   *   client: s3Client,\n   *   attributes: { name: 'string|required' },\n   *   idGenerator: () => `user_${Date.now()}_${Math.random().toString(36).substr(2, 5)}`\n   * });\n   * \n   * // With custom ID generator using size parameter\n   * const longIdUsers = new Resource({\n   *   name: 'users',\n   *   client: s3Client,\n   *   attributes: { name: 'string|required' },\n   *   idGenerator: 32 // Generate 32-character IDs (same as idSize: 32)\n   * });\n   */\n  constructor(config = {}) {\n    super();\n    this._instanceId = defaultIdGenerator(7);\n\n    // Validate configuration\n    const validation = validateResourceConfig(config);\n    if (!validation.isValid) {\n      const errorDetails = validation.errors.map(err => `  • ${err}`).join('\\n');\n      throw new ResourceError(\n        `Invalid Resource ${config.name || '[unnamed]'} configuration:\\n${errorDetails}`, \n        { \n          resourceName: config.name, \n          validation: validation.errors, \n        }\n      );\n    }\n\n    // Extract configuration with defaults - all at root level\n    const {\n      name,\n      client,\n      version = '1',\n      attributes = {},\n      behavior = DEFAULT_BEHAVIOR,\n      passphrase = 'secret',\n      parallelism = 10,\n      observers = [],\n      cache = false,\n      autoDecrypt = true,\n      timestamps = false,\n      partitions = {},\n      paranoid = true,\n      allNestedObjectsOptional = true,\n      hooks = {},\n      idGenerator: customIdGenerator,\n      idSize = 22,\n      versioningEnabled = false,\n      strictValidation = true,\n      events = {},\n      asyncEvents = true,\n      asyncPartitions = true,\n      createdBy = 'user'\n    } = config;\n\n    // Set instance properties\n    this.name = name;\n    this.client = client;\n    this.version = version;\n    this.behavior = behavior;\n    this.observers = observers;\n    this.parallelism = parallelism;\n    this.passphrase = passphrase ?? 'secret';\n    this.versioningEnabled = versioningEnabled;\n    this.strictValidation = strictValidation;\n    \n    // Configure async events mode\n    this.setAsyncMode(asyncEvents);\n\n    // Configure ID generator\n    this.idGenerator = this.configureIdGenerator(customIdGenerator, idSize);\n    \n    // Store ID configuration for persistence\n    // If customIdGenerator is a number, use it as idSize\n    // Otherwise, use the provided idSize or default to 22\n    if (typeof customIdGenerator === 'number' && customIdGenerator > 0) {\n      this.idSize = customIdGenerator;\n    } else if (typeof idSize === 'number' && idSize > 0) {\n      this.idSize = idSize;\n    } else {\n      this.idSize = 22;\n    }\n    \n    this.idGeneratorType = this.getIdGeneratorType(customIdGenerator, this.idSize);\n\n    // Store configuration - all at root level\n    this.config = {\n      cache,\n      hooks,\n      paranoid,\n      timestamps,\n      partitions,\n      autoDecrypt,\n      allNestedObjectsOptional,\n      asyncEvents,\n      asyncPartitions,\n      createdBy,\n    };\n\n    // Initialize hooks system - expanded to cover ALL methods\n    this.hooks = {\n      // Insert hooks\n      beforeInsert: [],\n      afterInsert: [],\n\n      // Update hooks\n      beforeUpdate: [],\n      afterUpdate: [],\n\n      // Delete hooks\n      beforeDelete: [],\n      afterDelete: [],\n\n      // Get hooks\n      beforeGet: [],\n      afterGet: [],\n\n      // List hooks\n      beforeList: [],\n      afterList: [],\n\n      // Query hooks\n      beforeQuery: [],\n      afterQuery: [],\n\n      // Patch hooks\n      beforePatch: [],\n      afterPatch: [],\n\n      // Replace hooks\n      beforeReplace: [],\n      afterReplace: [],\n\n      // Exists hooks\n      beforeExists: [],\n      afterExists: [],\n\n      // Count hooks\n      beforeCount: [],\n      afterCount: [],\n\n      // GetMany hooks\n      beforeGetMany: [],\n      afterGetMany: [],\n\n      // DeleteMany hooks\n      beforeDeleteMany: [],\n      afterDeleteMany: []\n    };\n\n    // Store attributes\n    this.attributes = attributes || {};\n\n    // Store map before applying configuration\n    this.map = config.map;\n\n    // Apply configuration settings (timestamps, partitions, hooks)\n    this.applyConfiguration({ map: this.map });\n\n    // Merge user-provided hooks (added last, after internal hooks)\n    if (hooks) {\n      for (const [event, hooksArr] of Object.entries(hooks)) {\n        if (Array.isArray(hooksArr) && this.hooks[event]) {\n          for (const fn of hooksArr) {\n            if (typeof fn === 'function') {\n              this.hooks[event].push(fn.bind(this));\n            }\n            // If not a function, ignore silently\n          }\n        }\n      }\n    }\n\n    // Setup event listeners\n    if (events && Object.keys(events).length > 0) {\n      for (const [eventName, listeners] of Object.entries(events)) {\n        if (Array.isArray(listeners)) {\n          // Multiple listeners for this event\n          for (const listener of listeners) {\n            if (typeof listener === 'function') {\n              // Bind listener to resource context so it has access to this.database\n              this.on(eventName, listener.bind(this));\n            }\n          }\n        } else if (typeof listeners === 'function') {\n          // Single listener for this event\n          // Bind listener to resource context so it has access to this.database\n          this.on(eventName, listeners.bind(this));\n        }\n      }\n    }\n\n    // --- MIDDLEWARE SYSTEM ---\n    this._initMiddleware();\n    // Debug: print method names and typeof update at construction\n    const ownProps = Object.getOwnPropertyNames(this);\n    const proto = Object.getPrototypeOf(this);\n    const protoProps = Object.getOwnPropertyNames(proto);\n  }\n\n  /**\n   * Configure ID generator based on provided options\n   * @param {Function|number} customIdGenerator - Custom ID generator function or size\n   * @param {number} idSize - Size for auto-generated IDs\n   * @returns {Function} Configured ID generator function\n   * @private\n   */\n  configureIdGenerator(customIdGenerator, idSize) {\n    // If a custom function is provided, wrap it to ensure string output\n    if (typeof customIdGenerator === 'function') {\n      return () => String(customIdGenerator());\n    }\n    // If customIdGenerator is a number (size), create a generator with that size\n    if (typeof customIdGenerator === 'number' && customIdGenerator > 0) {\n      return customAlphabet(urlAlphabet, customIdGenerator);\n    }\n    // If idSize is provided, create a generator with that size\n    if (typeof idSize === 'number' && idSize > 0 && idSize !== 22) {\n      return customAlphabet(urlAlphabet, idSize);\n    }\n    // Default to the standard idGenerator (22 chars)\n    return defaultIdGenerator;\n  }\n\n  /**\n   * Get a serializable representation of the ID generator type\n   * @param {Function|number} customIdGenerator - Custom ID generator function or size\n   * @param {number} idSize - Size for auto-generated IDs\n   * @returns {string|number} Serializable ID generator type\n   * @private\n   */\n  getIdGeneratorType(customIdGenerator, idSize) {\n    // If a custom function is provided\n    if (typeof customIdGenerator === 'function') {\n      return 'custom_function';\n    }\n    // For number generators or default size, return the actual idSize\n    return idSize;\n  }\n\n  export() {\n    const exported = this.schema.export();\n    // Add all configuration at root level\n    exported.behavior = this.behavior;\n    exported.timestamps = this.config.timestamps;\n    exported.partitions = this.config.partitions || {};\n    exported.paranoid = this.config.paranoid;\n    exported.allNestedObjectsOptional = this.config.allNestedObjectsOptional;\n    exported.autoDecrypt = this.config.autoDecrypt;\n    exported.cache = this.config.cache;\n    exported.hooks = this.hooks;\n    exported.map = this.map;\n    return exported;\n  }\n\n  /**\n   * Apply configuration settings (timestamps, partitions, hooks)\n   * This method ensures that all configuration-dependent features are properly set up\n   */\n  applyConfiguration({ map } = {}) {\n    // Handle timestamps configuration\n    if (this.config.timestamps) {\n      // Add timestamp attributes if they don't exist\n      if (!this.attributes.createdAt) {\n        this.attributes.createdAt = 'string|optional';\n      }\n      if (!this.attributes.updatedAt) {\n        this.attributes.updatedAt = 'string|optional';\n      }\n\n      // Ensure partitions object exists\n      if (!this.config.partitions) {\n        this.config.partitions = {};\n      }\n\n      // Add timestamp partitions if they don't exist\n      if (!this.config.partitions.byCreatedDate) {\n        this.config.partitions.byCreatedDate = {\n          fields: {\n            createdAt: 'date|maxlength:10'\n          }\n        };\n      }\n      if (!this.config.partitions.byUpdatedDate) {\n        this.config.partitions.byUpdatedDate = {\n          fields: {\n            updatedAt: 'date|maxlength:10'\n          }\n        };\n      }\n    }\n\n    // Setup automatic partition hooks\n    this.setupPartitionHooks();\n\n    // Add automatic \"byVersion\" partition if versioning is enabled\n    if (this.versioningEnabled) {\n      if (!this.config.partitions.byVersion) {\n        this.config.partitions.byVersion = {\n          fields: {\n            _v: 'string'\n          }\n        };\n      }\n    }\n\n    // Rebuild schema with current attributes\n    this.schema = new Schema({\n      name: this.name,\n      attributes: this.attributes,\n      passphrase: this.passphrase,\n      version: this.version,\n      options: {\n        autoDecrypt: this.config.autoDecrypt,\n        allNestedObjectsOptional: this.config.allNestedObjectsOptional\n      },\n      map: map || this.map\n    });\n\n    // Validate partitions against current attributes\n    this.validatePartitions();\n  }\n\n  /**\n   * Update resource attributes and rebuild schema\n   * @param {Object} newAttributes - New attributes definition\n   */\n  updateAttributes(newAttributes) {\n    // Store old attributes for comparison\n    const oldAttributes = this.attributes;\n    this.attributes = newAttributes;\n\n    // Apply configuration to ensure timestamps and hooks are set up\n    // Don't pass old map - let it regenerate with new attributes\n    this.applyConfiguration();\n\n    return { oldAttributes, newAttributes };\n  }\n\n  /**\n   * Add a hook function for a specific event\n   * @param {string} event - Hook event (beforeInsert, afterInsert, etc.)\n   * @param {Function} fn - Hook function\n   */\n  addHook(event, fn) {\n    if (this.hooks[event]) {\n      this.hooks[event].push(fn.bind(this));\n    }\n  }\n\n  /**\n   * Execute hooks for a specific event\n   * @param {string} event - Hook event\n   * @param {*} data - Data to pass to hooks\n   * @returns {*} Modified data\n   */\n  async executeHooks(event, data) {\n    if (!this.hooks[event]) return data;\n\n    let result = data;\n    for (const hook of this.hooks[event]) {\n      result = await hook(result);\n    }\n\n    return result;\n  }\n\n  /**\n   * Setup automatic partition hooks\n   */\n  setupPartitionHooks() {\n    if (!this.config.partitions) {\n      return;\n    }\n\n    const partitions = this.config.partitions;\n    if (Object.keys(partitions).length === 0) {\n      return;\n    }\n\n    // Add afterInsert hook to create partition references\n    if (!this.hooks.afterInsert) {\n      this.hooks.afterInsert = [];\n    }\n    this.hooks.afterInsert.push(async (data) => {\n      await this.createPartitionReferences(data);\n      return data;\n    });\n\n    // Add afterDelete hook to clean up partition references\n    if (!this.hooks.afterDelete) {\n      this.hooks.afterDelete = [];\n    }\n    this.hooks.afterDelete.push(async (data) => {\n      await this.deletePartitionReferences(data);\n      return data;\n    });\n  }\n\n  /**\n   * Validate data against resource schema without saving\n   * @param {Object} data - Data to validate\n   * @param {Object} options - Validation options\n   * @param {boolean} options.throwOnError - Throw error if validation fails (default: false)\n   * @param {boolean} options.includeId - Include ID validation (default: false)\n   * @param {boolean} options.mutateOriginal - Allow mutation of original data (default: false)\n   * @returns {Promise<{valid: boolean, isValid: boolean, errors: Array, data: Object, original: Object}>} Validation result\n   * @example\n   * // Validate before insert\n   * const result = await resource.validate({\n   *   name: 'John Doe',\n   *   email: 'invalid-email' // Will fail email validation\n   * });\n   *\n   * if (!result.valid) {\n   *   console.log('Validation errors:', result.errors);\n   *   // [{ field: 'email', message: '...', ... }]\n   * }\n   *\n   * // Throw on error\n   * try {\n   *   await resource.validate({ email: 'bad' }, { throwOnError: true });\n   * } catch (err) {\n   *   console.log('Validation failed:', err.message);\n   * }\n   */\n  async validate(data, options = {}) {\n    const {\n      throwOnError = false,\n      includeId = false,\n      mutateOriginal = false\n    } = options;\n\n    // Clone data to avoid mutation (unless mutateOriginal is true)\n    const dataToValidate = mutateOriginal ? data : cloneDeep(data);\n\n    // If includeId is false, remove id from validation\n    if (!includeId && dataToValidate.id) {\n      delete dataToValidate.id;\n    }\n\n    const result = {\n      original: cloneDeep(data),\n      isValid: false,\n      errors: [],\n      data: dataToValidate\n    };\n\n    try {\n      const check = await this.schema.validate(dataToValidate, { mutateOriginal });\n\n      if (check === true) {\n        result.isValid = true;\n      } else {\n        result.errors = Array.isArray(check) ? check : [check];\n        result.isValid = false;\n\n        if (throwOnError) {\n          const error = new Error('Validation failed');\n          error.validationErrors = result.errors;\n          error.invalidData = data;\n          throw error;\n        }\n      }\n    } catch (err) {\n      // If schema.validate threw, and we're not in throwOnError mode, catch and return result\n      if (!throwOnError) {\n        result.errors = [{ message: err.message, error: err }];\n        result.isValid = false;\n      } else {\n        throw err;\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Validate that all partition fields exist in current resource attributes\n   * @throws {Error} If partition fields don't exist in current schema (only when strictValidation is true)\n   */\n  validatePartitions() {\n    // Skip validation if strictValidation is disabled\n    if (!this.strictValidation) {\n      return;\n    }\n\n    if (!this.config.partitions) {\n      return; // No partitions to validate\n    }\n\n    const partitions = this.config.partitions;\n    if (Object.keys(partitions).length === 0) {\n      return; // No partitions to validate\n    }\n\n    const currentAttributes = Object.keys(this.attributes || {});\n\n    for (const [partitionName, partitionDef] of Object.entries(partitions)) {\n      if (!partitionDef.fields) {\n        continue; // Skip invalid partition definitions\n      }\n\n      for (const fieldName of Object.keys(partitionDef.fields)) {\n        if (!this.fieldExistsInAttributes(fieldName)) {\n          throw new PartitionError(`Partition '${partitionName}' uses field '${fieldName}' which does not exist in resource attributes. Available fields: ${currentAttributes.join(', ')}.`, { resourceName: this.name, partitionName, fieldName, availableFields: currentAttributes, operation: 'validatePartitions' });\n        }\n      }\n    }\n  }\n\n  /**\n   * Check if a field (including nested fields) exists in the current attributes\n   * @param {string} fieldName - Field name (can be nested like 'utm.source')\n   * @returns {boolean} True if field exists\n   */\n  fieldExistsInAttributes(fieldName) {\n    // Allow system metadata fields (those starting with _)\n    if (fieldName.startsWith('_')) {\n      return true;\n    }\n\n    // Handle simple field names (no dots)\n    if (!fieldName.includes('.')) {\n      return Object.keys(this.attributes || {}).includes(fieldName);\n    }\n\n    // Handle nested field names using dot notation\n    const keys = fieldName.split('.');\n    let currentLevel = this.attributes || {};\n\n    for (const key of keys) {\n      if (!currentLevel || typeof currentLevel !== 'object' || !(key in currentLevel)) {\n        return false;\n      }\n      currentLevel = currentLevel[key];\n    }\n\n    return true;\n  }\n\n  /**\n   * Find orphaned partitions (partitions that reference non-existent fields)\n   * @returns {Object} Object with orphaned partition names as keys and details as values\n   * @example\n   * const orphaned = resource.findOrphanedPartitions();\n   * // Returns: { byRegion: { missingFields: ['region'], definition: {...} } }\n   */\n  findOrphanedPartitions() {\n    const orphaned = {};\n\n    if (!this.config.partitions) {\n      return orphaned;\n    }\n\n    for (const [partitionName, partitionDef] of Object.entries(this.config.partitions)) {\n      if (!partitionDef.fields) {\n        continue;\n      }\n\n      const missingFields = [];\n      for (const fieldName of Object.keys(partitionDef.fields)) {\n        if (!this.fieldExistsInAttributes(fieldName)) {\n          missingFields.push(fieldName);\n        }\n      }\n\n      if (missingFields.length > 0) {\n        orphaned[partitionName] = {\n          missingFields,\n          definition: partitionDef,\n          allFields: Object.keys(partitionDef.fields)\n        };\n      }\n    }\n\n    return orphaned;\n  }\n\n  /**\n   * Remove orphaned partitions (partitions that reference non-existent fields)\n   * WARNING: This will modify the resource configuration and should be followed by uploadMetadataFile()\n   * @param {Object} options - Options\n   * @param {boolean} options.dryRun - If true, only returns what would be removed without modifying (default: false)\n   * @returns {Object} Object with removed partition names and details\n   * @example\n   * // Dry run to see what would be removed\n   * const toRemove = resource.removeOrphanedPartitions({ dryRun: true });\n   * console.log('Would remove:', toRemove);\n   *\n   * // Actually remove orphaned partitions\n   * const removed = resource.removeOrphanedPartitions();\n   * await database.uploadMetadataFile(); // Save changes to S3\n   */\n  removeOrphanedPartitions({ dryRun = false } = {}) {\n    const orphaned = this.findOrphanedPartitions();\n\n    if (Object.keys(orphaned).length === 0) {\n      return {};\n    }\n\n    if (dryRun) {\n      return orphaned;\n    }\n\n    // Remove orphaned partitions from config\n    for (const partitionName of Object.keys(orphaned)) {\n      delete this.config.partitions[partitionName];\n    }\n\n    // Emit event for tracking\n    this.emit('orphanedPartitionsRemoved', {\n      resourceName: this.name,\n      removed: Object.keys(orphaned),\n      details: orphaned\n    });\n\n    return orphaned;\n  }\n\n  /**\n   * Apply a single partition rule to a field value\n   * @param {*} value - The field value\n   * @param {string} rule - The partition rule\n   * @returns {*} Transformed value\n   */\n  applyPartitionRule(value, rule) {\n    if (value === undefined || value === null) {\n      return value;\n    }\n\n    let transformedValue = value;\n\n    // Apply maxlength rule manually\n    if (typeof rule === 'string' && rule.includes('maxlength:')) {\n      const maxLengthMatch = rule.match(/maxlength:(\\d+)/);\n      if (maxLengthMatch) {\n        const maxLength = parseInt(maxLengthMatch[1]);\n        if (typeof transformedValue === 'string' && transformedValue.length > maxLength) {\n          transformedValue = transformedValue.substring(0, maxLength);\n        }\n      }\n    }\n\n    // Format date values\n    if (rule.includes('date')) {\n      if (transformedValue instanceof Date) {\n        transformedValue = transformedValue.toISOString().split('T')[0]; // YYYY-MM-DD format\n      } else if (typeof transformedValue === 'string') {\n        // Handle ISO8601 timestamp strings (e.g., from timestamps)\n        if (transformedValue.includes('T') && transformedValue.includes('Z')) {\n          transformedValue = transformedValue.split('T')[0]; // Extract date part from ISO8601\n        } else {\n          // Try to parse as date\n          const date = new Date(transformedValue);\n          if (!isNaN(date.getTime())) {\n            transformedValue = date.toISOString().split('T')[0];\n          }\n          // If parsing fails, keep original value\n        }\n      }\n    }\n\n    return transformedValue;\n  }\n\n  /**\n   * Get the main resource key (new format without version in path)\n   * @param {string} id - Resource ID\n   * @returns {string} The main S3 key path\n   */\n  getResourceKey(id) {\n    const key = join('resource=' + this.name, 'data', `id=${id}`);\n    // eslint-disable-next-line no-console\n    return key;\n  }\n\n  /**\n   * Generate partition key for a resource in a specific partition\n   * @param {Object} params - Partition key parameters\n   * @param {string} params.partitionName - Name of the partition\n   * @param {string} params.id - Resource ID\n   * @param {Object} params.data - Resource data for partition value extraction\n   * @returns {string|null} The partition key path or null if required fields are missing\n   * @example\n   * const partitionKey = resource.getPartitionKey({\n   *   partitionName: 'byUtmSource',\n   *   id: 'user-123',\n   *   data: { utm: { source: 'google' } }\n   * });\n   * // Returns: 'resource=users/partition=byUtmSource/utm.source=google/id=user-123'\n   * \n   * // Returns null if required field is missing\n   * const nullKey = resource.getPartitionKey({\n   *   partitionName: 'byUtmSource',\n   *   id: 'user-123',\n   *   data: { name: 'John' } // Missing utm.source\n   * });\n   * // Returns: null\n   */\n  getPartitionKey({ partitionName, id, data }) {\n    if (!this.config.partitions || !this.config.partitions[partitionName]) {\n      throw new PartitionError(`Partition '${partitionName}' not found`, { resourceName: this.name, partitionName, operation: 'getPartitionKey' });\n    }\n\n    const partition = this.config.partitions[partitionName];\n    const partitionSegments = [];\n\n    // Process each field in the partition (sorted by field name for consistency)\n    const sortedFields = Object.entries(partition.fields).sort(([a], [b]) => a.localeCompare(b));\n    for (const [fieldName, rule] of sortedFields) {\n      // Handle nested fields using dot notation (e.g., \"utm.source\", \"address.city\")\n      const fieldValue = this.getNestedFieldValue(data, fieldName);\n      const transformedValue = this.applyPartitionRule(fieldValue, rule);\n\n      if (transformedValue === undefined || transformedValue === null) {\n        return null; // Skip if any required field is missing\n      }\n\n      partitionSegments.push(`${fieldName}=${transformedValue}`);\n    }\n\n    if (partitionSegments.length === 0) {\n      return null;\n    }\n\n    // Ensure id is never undefined\n    const finalId = id || data?.id;\n    if (!finalId) {\n      return null; // Cannot create partition key without id\n    }\n\n    return join(`resource=${this.name}`, `partition=${partitionName}`, ...partitionSegments, `id=${finalId}`);\n  }\n\n  /**\n   * Get nested field value from data object using dot notation\n   * @param {Object} data - Data object\n   * @param {string} fieldPath - Field path (e.g., \"utm.source\", \"address.city\")\n   * @returns {*} Field value\n   */\n  getNestedFieldValue(data, fieldPath) {\n    // Handle simple field names (no dots)\n    if (!fieldPath.includes('.')) {\n      return data[fieldPath];\n    }\n\n    // Handle nested field names using dot notation\n    const keys = fieldPath.split('.');\n    let currentLevel = data;\n\n    for (const key of keys) {\n      if (!currentLevel || typeof currentLevel !== 'object' || !(key in currentLevel)) {\n        return undefined;\n      }\n      currentLevel = currentLevel[key];\n    }\n\n    return currentLevel;\n  }\n\n  /**\n   * Calculate estimated content length for body data\n   * @param {string|Buffer} body - Body content\n   * @returns {number} Estimated content length in bytes\n   */\n  calculateContentLength(body) {\n    if (!body) return 0;\n    if (Buffer.isBuffer(body)) return body.length;\n    if (typeof body === 'string') return Buffer.byteLength(body, 'utf8');\n    if (typeof body === 'object') return Buffer.byteLength(JSON.stringify(body), 'utf8');\n    return Buffer.byteLength(String(body), 'utf8');\n  }\n\n  /**\n   * Insert a new resource object\n   * @param {Object} attributes - Resource attributes\n   * @param {string} [attributes.id] - Custom ID (optional, auto-generated if not provided)\n   * @returns {Promise<Object>} The created resource object with all attributes\n   * @example\n   * // Insert with auto-generated ID\n   * const user = await resource.insert({\n   *   name: 'John Doe',\n   *   email: 'john@example.com',\n   *   age: 30\n   * });\n      * \n   * // Insert with custom ID\n   * const user = await resource.insert({\n   *   id: 'user-123',\n   *   name: 'John Doe',\n   *   email: 'john@example.com'\n   * });\n   */\n  async insert({ id, ...attributes }) {\n    const exists = await this.exists(id);\n    if (exists) throw new Error(`Resource with id '${id}' already exists`);\n    const keyDebug = this.getResourceKey(id || '(auto)');\n    if (this.config.timestamps) {\n      attributes.createdAt = new Date().toISOString();\n      attributes.updatedAt = new Date().toISOString();\n    }\n\n    // Aplica defaults antes de tudo\n    const attributesWithDefaults = this.applyDefaults(attributes);\n    // Reconstruct the complete data for validation\n    // Only include id if it's defined (not undefined)\n    const completeData = id !== undefined\n      ? { id, ...attributesWithDefaults }\n      : { ...attributesWithDefaults };\n\n    // Execute beforeInsert hooks\n    const preProcessedData = await this.executeHooks('beforeInsert', completeData);\n\n    // Capture extra properties added by beforeInsert\n    const extraProps = Object.keys(preProcessedData).filter(\n      k => !(k in completeData) || preProcessedData[k] !== completeData[k]\n    );\n    const extraData = {};\n    for (const k of extraProps) extraData[k] = preProcessedData[k];\n\n    const {\n      errors,\n      isValid,\n      data: validated,\n    } = await this.validate(preProcessedData, { includeId: true });\n\n    if (!isValid) {\n      const errorMsg = (errors && errors.length && errors[0].message) ? errors[0].message : 'Insert failed';\n      throw new InvalidResourceItem({\n        bucket: this.client.config.bucket,\n        resourceName: this.name,\n        attributes: preProcessedData,\n        validation: errors,\n        message: errorMsg\n      })\n    }\n\n    // Extract id and attributes from validated data\n    const { id: validatedId, ...validatedAttributes } = validated;\n    // Reinjetar propriedades extras do beforeInsert\n    Object.assign(validatedAttributes, extraData);\n    \n    // Generate ID with fallback for empty generators\n    let finalId = validatedId || id;\n    if (!finalId) {\n      finalId = this.idGenerator();\n      // Fallback to default generator if custom generator returns empty\n      if (!finalId || finalId.trim() === '') {\n        const { idGenerator } = await import('#src/concerns/id.js');\n        finalId = idGenerator();\n      }\n    }\n\n    const mappedData = await this.schema.mapper(validatedAttributes);\n    mappedData._v = String(this.version);\n\n    // Apply behavior strategy\n    const behaviorImpl = getBehavior(this.behavior);\n    const { mappedData: processedMetadata, body } = await behaviorImpl.handleInsert({\n      resource: this,\n      data: validatedAttributes,\n      mappedData,\n      originalData: completeData\n    });\n\n    // Add version metadata (required for all objects)\n    const finalMetadata = processedMetadata;\n    const key = this.getResourceKey(finalId);\n    // Determine content type based on body content\n    let contentType = undefined;\n    if (body && body !== \"\") {\n      const [okParse, errParse] = await tryFn(() => Promise.resolve(JSON.parse(body)));\n      if (okParse) contentType = 'application/json';\n    }\n    // LOG: body e contentType antes do putObject\n    // Only throw if behavior is 'body-only' and body is empty\n    if (this.behavior === 'body-only' && (!body || body === \"\")) {\n      throw new Error(`[Resource.insert] Attempt to save object without body! Data: id=${finalId}, resource=${this.name}`);\n    }\n    // For other behaviors, allow empty body (all data in metadata)\n\n    const [okPut, errPut, putResult] = await tryFn(() => this.client.putObject({\n      key,\n      body,\n      contentType,\n      metadata: finalMetadata,\n    }));\n    if (!okPut) {\n      const msg = errPut && errPut.message ? errPut.message : '';\n      if (msg.includes('metadata headers exceed') || msg.includes('Insert failed')) {\n        const totalSize = calculateTotalSize(finalMetadata);\n        const effectiveLimit = calculateEffectiveLimit({\n          s3Limit: 2047,\n          systemConfig: {\n            version: this.version,\n            timestamps: this.config.timestamps,\n            id: finalId\n          }\n        });\n        const excess = totalSize - effectiveLimit;\n        errPut.totalSize = totalSize;\n        errPut.limit = 2047;\n        errPut.effectiveLimit = effectiveLimit;\n        errPut.excess = excess;\n        throw new ResourceError('metadata headers exceed', { resourceName: this.name, operation: 'insert', id: finalId, totalSize, effectiveLimit, excess, suggestion: 'Reduce metadata size or number of fields.' });\n      }\n      throw errPut;\n    }\n\n    // Get the inserted object\n    const insertedObject = await this.get(finalId);\n    \n    // Handle partition indexing based on asyncPartitions config\n    if (this.config.asyncPartitions && this.config.partitions && Object.keys(this.config.partitions).length > 0) {\n      // Async mode: create partition indexes in background\n      setImmediate(() => {\n        this.createPartitionReferences(insertedObject).catch(err => {\n          this.emit('partitionIndexError', {\n            operation: 'insert',\n            id: finalId,\n            error: err,\n            message: err.message\n          });\n        });\n      });\n      \n      // Execute other afterInsert hooks synchronously (excluding partition hook)\n      const nonPartitionHooks = this.hooks.afterInsert.filter(hook => \n        !hook.toString().includes('createPartitionReferences')\n      );\n      let finalResult = insertedObject;\n      for (const hook of nonPartitionHooks) {\n        finalResult = await hook(finalResult);\n      }\n      \n      // Emit insert event\n      this.emit('insert', finalResult);\n      return finalResult;\n    } else {\n      // Sync mode: execute all hooks including partition creation\n      const finalResult = await this.executeHooks('afterInsert', insertedObject);\n      \n      // Emit insert event\n      this.emit('insert', finalResult);\n      \n      // Return the final object\n      return finalResult;\n    }\n  }\n\n  /**\n   * Retrieve a resource object by ID\n   * @param {string} id - Resource ID\n   * @returns {Promise<Object>} The resource object with all attributes and metadata\n   * @example\n   * const user = await resource.get('user-123');\n   */\n  async get(id) {\n    if (isObject(id)) throw new Error(`id cannot be an object`);\n    if (isEmpty(id)) throw new Error('id cannot be empty');\n\n    // Execute beforeGet hooks\n    await this.executeHooks('beforeGet', { id });\n\n    const key = this.getResourceKey(id);\n    // LOG: start of get\n    // eslint-disable-next-line no-console\n    const [ok, err, request] = await tryFn(() => this.client.getObject(key));\n    // LOG: resultado do headObject\n    // eslint-disable-next-line no-console\n    if (!ok) {\n      throw mapAwsError(err, {\n        bucket: this.client.config.bucket,\n        key,\n        resourceName: this.name,\n        operation: 'get',\n        id\n      });\n    }\n    // NOTE: ContentLength === 0 is valid for objects with data in metadata only\n    // (removed validation that threw NoSuchKey for empty body objects)\n\n    // Get the correct schema version for unmapping (from _v metadata)\n    const objectVersionRaw = request.Metadata?._v || this.version;\n    const objectVersion = typeof objectVersionRaw === 'string' && objectVersionRaw.startsWith('v') ? objectVersionRaw.slice(1) : objectVersionRaw;\n    const schema = await this.getSchemaForVersion(objectVersion);\n\n    let metadata = await schema.unmapper(request.Metadata);\n\n    // Apply behavior strategy for reading (important for body-overflow)\n    const behaviorImpl = getBehavior(this.behavior);\n    let body = \"\";\n\n    // Get body content if needed (for body-overflow behavior)\n    if (request.ContentLength > 0) {\n      const [okBody, errBody, fullObject] = await tryFn(() => this.client.getObject(key));\n      if (okBody) {\n        body = await streamToString(fullObject.Body);\n      } else {\n        // Body read failed, continue with metadata only\n        body = \"\";\n      }\n    }\n\n    const { metadata: processedMetadata } = await behaviorImpl.handleGet({\n      resource: this,\n      metadata,\n      body\n    });\n\n    // Use composeFullObjectFromWrite to ensure proper field preservation\n    let data = await this.composeFullObjectFromWrite({\n      id,\n      metadata: processedMetadata,\n      body,\n      behavior: this.behavior\n    });\n\n    data._contentLength = request.ContentLength;\n    data._lastModified = request.LastModified;\n    data._hasContent = request.ContentLength > 0;\n    data._mimeType = request.ContentType || null;\n    data._etag = request.ETag;\n    data._v = objectVersion;\n\n    // Add version info to returned data\n\n    if (request.VersionId) data._versionId = request.VersionId;\n    if (request.Expiration) data._expiresAt = request.Expiration;\n\n    data._definitionHash = this.getDefinitionHash();\n\n    // Apply version mapping if object is from a different version\n    if (objectVersion !== this.version) {\n      data = await this.applyVersionMapping(data, objectVersion, this.version);\n    }\n\n    // Execute afterGet hooks\n    data = await this.executeHooks('afterGet', data);\n\n    this.emit(\"get\", data);\n    const value = data;\n    return value;\n  }\n\n  /**\n   * Retrieve a resource object by ID, or return null if not found\n   * @param {string} id - Resource ID\n   * @returns {Promise<Object|null>} The resource object or null if not found\n   * @example\n   * const user = await resource.getOrNull('user-123');\n   * if (user) {\n   *   console.log('Found user:', user.name);\n   * } else {\n   *   console.log('User not found');\n   * }\n   */\n  async getOrNull(id) {\n    const [ok, err, data] = await tryFn(() => this.get(id));\n\n    // Check if error is NoSuchKey (resource doesn't exist)\n    if (!ok && err && (err.name === 'NoSuchKey' || err.message?.includes('NoSuchKey'))) {\n      return null;\n    }\n\n    // Re-throw other errors (permission denied, network issues, etc.)\n    if (!ok) {\n      throw err;\n    }\n\n    return data;\n  }\n\n  /**\n   * Retrieve a resource object by ID, or throw ResourceNotFoundError if not found\n   * @param {string} id - Resource ID\n   * @returns {Promise<Object>} The resource object\n   * @throws {ResourceError} If resource does not exist\n   * @example\n   * // Throws error if user doesn't exist (no need for null check)\n   * const user = await resource.getOrThrow('user-123');\n   * console.log('User name:', user.name); // Safe to access\n   */\n  async getOrThrow(id) {\n    const [ok, err, data] = await tryFn(() => this.get(id));\n\n    // Check if error is NoSuchKey (resource doesn't exist)\n    if (!ok && err && (err.name === 'NoSuchKey' || err.message?.includes('NoSuchKey'))) {\n      throw new ResourceError(`Resource '${this.name}' with id '${id}' not found`, {\n        resourceName: this.name,\n        operation: 'getOrThrow',\n        id,\n        code: 'RESOURCE_NOT_FOUND'\n      });\n    }\n\n    // Re-throw other errors (permission denied, network issues, etc.)\n    if (!ok) {\n      throw err;\n    }\n\n    return data;\n  }\n\n  /**\n   * Check if a resource exists by ID\n   * @returns {Promise<boolean>} True if resource exists, false otherwise\n   */\n  async exists(id) {\n    // Execute beforeExists hooks\n    await this.executeHooks('beforeExists', { id });\n\n    const key = this.getResourceKey(id);\n    const [ok, err] = await tryFn(() => this.client.headObject(key));\n\n    // Execute afterExists hooks\n    await this.executeHooks('afterExists', { id, exists: ok });\n\n    return ok;\n  }\n\n  /**\n   * Update an existing resource object\n   * @param {string} id - Resource ID\n   * @param {Object} attributes - Attributes to update (partial update supported)\n   * @returns {Promise<Object>} The updated resource object with all attributes\n   * @example\n   * // Update specific fields\n   * const updatedUser = await resource.update('user-123', {\n   *   name: 'John Updated',\n   *   age: 31\n   * });\n   * \n   * // Update with timestamps (if enabled)\n   * const updatedUser = await resource.update('user-123', {\n   *   email: 'newemail@example.com'\n   * });\n      */\n  async update(id, attributes) {\n    if (isEmpty(id)) {\n      throw new Error('id cannot be empty');\n    }\n    // Garante que o recurso existe antes de atualizar\n    const exists = await this.exists(id);\n    if (!exists) {\n      throw new Error(`Resource with id '${id}' does not exist`);\n    }\n    const originalData = await this.get(id);\n    const attributesClone = cloneDeep(attributes);\n    let mergedData = cloneDeep(originalData);\n    for (const [key, value] of Object.entries(attributesClone)) {\n      if (key.includes('.')) {\n        let ref = mergedData;\n        const parts = key.split('.');\n        for (let i = 0; i < parts.length - 1; i++) {\n          if (typeof ref[parts[i]] !== 'object' || ref[parts[i]] === null) {\n            ref[parts[i]] = {};\n          }\n          ref = ref[parts[i]];\n        }\n        ref[parts[parts.length - 1]] = cloneDeep(value);\n      } else if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n        mergedData[key] = merge({}, mergedData[key], value);\n      } else {\n        mergedData[key] = cloneDeep(value);\n      }\n    }\n    // Debug: print mergedData and attributes\n    if (this.config.timestamps) {\n      const now = new Date().toISOString();\n      mergedData.updatedAt = now;\n      if (!mergedData.metadata) mergedData.metadata = {};\n      mergedData.metadata.updatedAt = now;\n    }\n    const preProcessedData = await this.executeHooks('beforeUpdate', cloneDeep(mergedData));\n    const completeData = { ...originalData, ...preProcessedData, id };\n    const { isValid, errors, data } = await this.validate(cloneDeep(completeData), { includeId: true });\n    if (!isValid) {\n      throw new InvalidResourceItem({\n        bucket: this.client.config.bucket,\n        resourceName: this.name,\n        attributes: preProcessedData,\n        validation: errors,\n        message: 'validation: ' + ((errors && errors.length) ? JSON.stringify(errors) : 'unknown')\n      });\n    }\n    const mappedDataDebug = await this.schema.mapper(data);\n    const earlyBehaviorImpl = getBehavior(this.behavior);\n    const tempMappedData = await this.schema.mapper({ ...originalData, ...preProcessedData });\n    tempMappedData._v = String(this.version);\n    await earlyBehaviorImpl.handleUpdate({\n      resource: this,\n      id,\n      data: { ...originalData, ...preProcessedData },\n      mappedData: tempMappedData,\n      originalData: { ...attributesClone, id }\n    });\n    const { id: validatedId, ...validatedAttributes } = data;\n    const oldData = { ...originalData, id };\n    const newData = { ...validatedAttributes, id };\n    await this.handlePartitionReferenceUpdates(oldData, newData);\n    const mappedData = await this.schema.mapper(validatedAttributes);\n    mappedData._v = String(this.version);\n    const behaviorImpl = getBehavior(this.behavior);\n    const { mappedData: processedMetadata, body } = await behaviorImpl.handleUpdate({\n      resource: this,\n      id,\n      data: validatedAttributes,\n      mappedData,\n      originalData: { ...attributesClone, id }\n    });\n    const finalMetadata = processedMetadata;\n    const key = this.getResourceKey(id);\n    // eslint-disable-next-line no-console\n    let existingContentType = undefined;\n    let finalBody = body;\n    if (body === \"\" && this.behavior !== 'body-overflow') {\n      // eslint-disable-next-line no-console\n      const [ok, err, existingObject] = await tryFn(() => this.client.getObject(key));\n      // eslint-disable-next-line no-console\n      if (ok && existingObject.ContentLength > 0) {\n        const existingBodyBuffer = Buffer.from(await existingObject.Body.transformToByteArray());\n        const existingBodyString = existingBodyBuffer.toString();\n        const [okParse, errParse] = await tryFn(() => Promise.resolve(JSON.parse(existingBodyString)));\n        if (!okParse) {\n          finalBody = existingBodyBuffer;\n          existingContentType = existingObject.ContentType;\n        }\n      }\n    }\n    let finalContentType = existingContentType;\n    if (finalBody && finalBody !== \"\" && !finalContentType) {\n      const [okParse, errParse] = await tryFn(() => Promise.resolve(JSON.parse(finalBody)));\n      if (okParse) finalContentType = 'application/json';\n    }\n    if (this.versioningEnabled && originalData._v !== this.version) {\n      await this.createHistoricalVersion(id, originalData);\n    }\n    const [ok, err] = await tryFn(() => this.client.putObject({\n      key,\n      body: finalBody,\n      contentType: finalContentType,\n      metadata: finalMetadata,\n    }));\n    if (!ok && err && err.message && err.message.includes('metadata headers exceed')) {\n      const totalSize = calculateTotalSize(finalMetadata);\n      const effectiveLimit = calculateEffectiveLimit({\n        s3Limit: 2047,\n        systemConfig: {\n          version: this.version,\n          timestamps: this.config.timestamps,\n          id: id\n        }\n      });\n      const excess = totalSize - effectiveLimit;\n      err.totalSize = totalSize;\n      err.limit = 2047;\n      err.effectiveLimit = effectiveLimit;\n      err.excess = excess;\n      this.emit('exceedsLimit', {\n        operation: 'update',\n        totalSize,\n        limit: 2047,\n        effectiveLimit,\n        excess,\n        data: validatedAttributes\n      });\n      throw new ResourceError('metadata headers exceed', { resourceName: this.name, operation: 'update', id, totalSize, effectiveLimit, excess, suggestion: 'Reduce metadata size or number of fields.' });\n    } else if (!ok) {\n      throw mapAwsError(err, {\n        bucket: this.client.config.bucket,\n        key,\n        resourceName: this.name,\n        operation: 'update',\n        id\n      });\n    }\n    const updatedData = await this.composeFullObjectFromWrite({\n      id,\n      metadata: finalMetadata,\n      body: finalBody,\n      behavior: this.behavior\n    });\n    \n    // Handle partition updates based on asyncPartitions config\n    if (this.config.asyncPartitions && this.config.partitions && Object.keys(this.config.partitions).length > 0) {\n      // Async mode: update partition indexes in background\n      setImmediate(() => {\n        this.handlePartitionReferenceUpdates(originalData, updatedData).catch(err => {\n          this.emit('partitionIndexError', {\n            operation: 'update',\n            id,\n            error: err,\n            message: err.message\n          });\n        });\n      });\n      \n      // Execute other afterUpdate hooks synchronously (excluding partition hook)\n      const nonPartitionHooks = this.hooks.afterUpdate.filter(hook => \n        !hook.toString().includes('handlePartitionReferenceUpdates')\n      );\n      let finalResult = updatedData;\n      for (const hook of nonPartitionHooks) {\n        finalResult = await hook(finalResult);\n      }\n      \n      this.emit('update', {\n        ...updatedData,\n        $before: { ...originalData },\n        $after: { ...finalResult }\n      });\n      return finalResult;\n    } else {\n      // Sync mode: execute all hooks including partition updates\n      const finalResult = await this.executeHooks('afterUpdate', updatedData);\n      this.emit('update', {\n        ...updatedData,\n        $before: { ...originalData },\n        $after: { ...finalResult }\n      });\n      return finalResult;\n    }\n  }\n\n  /**\n   * Patch resource (partial update optimized for metadata-only behaviors)\n   *\n   * This method provides an optimized update path for resources using metadata-only behaviors\n   * (enforce-limits, truncate-data). It uses HeadObject + CopyObject for atomic updates without\n   * body transfer, eliminating race conditions and reducing latency by ~50%.\n   *\n   * For behaviors that store data in body (body-overflow, body-only), it automatically falls\n   * back to the standard update() method.\n   *\n   * @param {string} id - Resource ID\n   * @param {Object} fields - Fields to update (partial data)\n   * @param {Object} options - Update options\n   * @param {string} options.partition - Partition name (if using partitions)\n   * @param {Object} options.partitionValues - Partition values (if using partitions)\n   * @returns {Promise<Object>} Updated resource data\n   *\n   * @example\n   * // Fast atomic update (enforce-limits behavior)\n   * await resource.patch('user-123', { status: 'active', loginCount: 42 });\n   *\n   * @example\n   * // With partitions\n   * await resource.patch('order-456', { status: 'shipped' }, {\n   *   partition: 'byRegion',\n   *   partitionValues: { region: 'US' }\n   * });\n   */\n  async patch(id, fields, options = {}) {\n    if (isEmpty(id)) {\n      throw new Error('id cannot be empty');\n    }\n\n    if (!fields || typeof fields !== 'object') {\n      throw new Error('fields must be a non-empty object');\n    }\n\n    // Execute beforePatch hooks\n    await this.executeHooks('beforePatch', { id, fields, options });\n\n    const behavior = this.behavior;\n\n    // Check if fields contain dot notation (nested fields)\n    const hasNestedFields = Object.keys(fields).some(key => key.includes('.'));\n\n    let result;\n\n    // ✅ Optimization: HEAD + COPY for metadata-only behaviors WITHOUT nested fields\n    if ((behavior === 'enforce-limits' || behavior === 'truncate-data') && !hasNestedFields) {\n      result = await this._patchViaCopyObject(id, fields, options);\n    } else {\n      // ⚠️ Fallback: GET + merge + PUT for:\n      // - Behaviors with body storage\n      // - Nested field updates (need full object merge)\n      result = await this.update(id, fields, options);\n    }\n\n    // Execute afterPatch hooks\n    const finalResult = await this.executeHooks('afterPatch', result);\n\n    return finalResult;\n  }\n\n  /**\n   * Internal helper: Optimized patch using HeadObject + CopyObject\n   * Only works for metadata-only behaviors (enforce-limits, truncate-data)\n   * Only for simple field updates (no nested fields with dot notation)\n   * @private\n   */\n  async _patchViaCopyObject(id, fields, options = {}) {\n    const { partition, partitionValues } = options;\n\n    // Build S3 key\n    const key = this.getResourceKey(id);\n\n    // Step 1: HEAD to get current metadata (optimization: no body transfer)\n    const headResponse = await this.client.headObject(key);\n    const currentMetadata = headResponse.Metadata || {};\n\n    // Step 2: Decode metadata to user format\n    let currentData = await this.schema.unmapper(currentMetadata);\n\n    // Ensure ID is present\n    if (!currentData.id) {\n      currentData.id = id;\n    }\n\n    // Step 3: Merge with new fields (simple merge, no nested fields)\n    const fieldsClone = cloneDeep(fields);\n    let mergedData = cloneDeep(currentData);\n\n    for (const [key, value] of Object.entries(fieldsClone)) {\n      if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n        // Merge objects\n        mergedData[key] = merge({}, mergedData[key], value);\n      } else {\n        mergedData[key] = cloneDeep(value);\n      }\n    }\n\n    // Step 4: Update timestamps\n    if (this.config.timestamps) {\n      mergedData.updatedAt = new Date().toISOString();\n    }\n\n    // Step 5: Validate merged data\n    const validationResult = await this.schema.validate(mergedData);\n    if (validationResult !== true) {\n      throw new ValidationError('Validation failed during patch', validationResult);\n    }\n\n    // Step 6: Map/encode data to storage format\n    const newMetadata = await this.schema.mapper(mergedData);\n\n    // Add version metadata\n    newMetadata._v = String(this.version);\n\n    // Step 8: CopyObject with new metadata (atomic operation)\n    await this.client.copyObject({\n      from: key,\n      to: key,\n      metadataDirective: 'REPLACE',\n      metadata: newMetadata\n    });\n\n    // Step 9: Update partitions if needed\n    if (this.config.partitions && Object.keys(this.config.partitions).length > 0) {\n      const oldData = { ...currentData, id };\n      const newData = { ...mergedData, id };\n\n      if (this.config.asyncPartitions) {\n        // Async mode: update in background\n        setImmediate(() => {\n          this.handlePartitionReferenceUpdates(oldData, newData).catch(err => {\n            this.emit('partitionIndexError', {\n              operation: 'patch',\n              id,\n              error: err\n            });\n          });\n        });\n      } else {\n        // Sync mode: wait for completion\n        await this.handlePartitionReferenceUpdates(oldData, newData);\n      }\n    }\n\n    return mergedData;\n  }\n\n  /**\n   * Replace resource (full object replacement without GET)\n   *\n   * This method performs a direct PUT operation without fetching the current object.\n   * Use this when you already have the complete object and want to replace it entirely,\n   * saving 1 S3 request (GET).\n   *\n   * ⚠️ Warning: You must provide ALL required fields. Missing fields will NOT be preserved\n   * from the current object. This method does not merge with existing data.\n   *\n   * @param {string} id - Resource ID\n   * @param {Object} fullData - Complete object data (all required fields)\n   * @param {Object} options - Update options\n   * @param {string} options.partition - Partition name (if using partitions)\n   * @param {Object} options.partitionValues - Partition values (if using partitions)\n   * @returns {Promise<Object>} Replaced resource data\n   *\n   * @example\n   * // Replace entire object (must include ALL required fields)\n   * await resource.replace('user-123', {\n   *   name: 'John Doe',\n   *   email: 'john@example.com',\n   *   status: 'active',\n   *   loginCount: 42\n   * });\n   *\n   * @example\n   * // With partitions\n   * await resource.replace('order-456', fullOrderData, {\n   *   partition: 'byRegion',\n   *   partitionValues: { region: 'US' }\n   * });\n   */\n  async replace(id, fullData, options = {}) {\n    if (isEmpty(id)) {\n      throw new Error('id cannot be empty');\n    }\n\n    if (!fullData || typeof fullData !== 'object') {\n      throw new Error('fullData must be a non-empty object');\n    }\n\n    // Execute beforeReplace hooks\n    await this.executeHooks('beforeReplace', { id, fullData, options });\n\n    const { partition, partitionValues } = options;\n\n    // Clone data to avoid mutations\n    const dataClone = cloneDeep(fullData);\n\n    // Apply defaults before timestamps\n    const attributesWithDefaults = this.applyDefaults(dataClone);\n\n    // Add timestamps\n    if (this.config.timestamps) {\n      // Preserve createdAt if provided, otherwise set to now\n      if (!attributesWithDefaults.createdAt) {\n        attributesWithDefaults.createdAt = new Date().toISOString();\n      }\n      attributesWithDefaults.updatedAt = new Date().toISOString();\n    }\n\n    // Ensure ID is set\n    const completeData = { id, ...attributesWithDefaults };\n\n    // Validate data\n    const {\n      errors,\n      isValid,\n      data: validated,\n    } = await this.validate(completeData, { includeId: true });\n\n    if (!isValid) {\n      const errorMsg = (errors && errors.length && errors[0].message) ? errors[0].message : 'Replace failed';\n      throw new InvalidResourceItem({\n        bucket: this.client.config.bucket,\n        resourceName: this.name,\n        attributes: completeData,\n        validation: errors,\n        message: errorMsg\n      });\n    }\n\n    // Extract id and attributes from validated data\n    const { id: validatedId, ...validatedAttributes } = validated;\n\n    // Map/encode data to storage format\n    const mappedMetadata = await this.schema.mapper(validatedAttributes);\n\n    // Add version metadata\n    mappedMetadata._v = String(this.version);\n\n    // Use behavior to store data (like insert, not update)\n    const behaviorImpl = getBehavior(this.behavior);\n    const { mappedData: finalMetadata, body } = await behaviorImpl.handleInsert({\n      resource: this,\n      data: validatedAttributes,\n      mappedData: mappedMetadata,\n      originalData: completeData\n    });\n\n    // Build S3 key\n    const key = this.getResourceKey(id);\n\n    // Determine content type based on body content\n    let contentType = undefined;\n    if (body && body !== \"\") {\n      const [okParse] = await tryFn(() => Promise.resolve(JSON.parse(body)));\n      if (okParse) contentType = 'application/json';\n    }\n\n    // Only throw if behavior is 'body-only' and body is empty\n    if (this.behavior === 'body-only' && (!body || body === \"\")) {\n      throw new Error(`[Resource.replace] Attempt to save object without body! Data: id=${id}, resource=${this.name}`);\n    }\n\n    // Store to S3 (overwrites if exists, creates if not - true replace/upsert)\n    const [okPut, errPut] = await tryFn(() => this.client.putObject({\n      key,\n      body,\n      contentType,\n      metadata: finalMetadata,\n    }));\n\n    if (!okPut) {\n      const msg = errPut && errPut.message ? errPut.message : '';\n      if (msg.includes('metadata headers exceed') || msg.includes('Replace failed')) {\n        const totalSize = calculateTotalSize(finalMetadata);\n        const effectiveLimit = calculateEffectiveLimit({\n          s3Limit: 2047,\n          systemConfig: {\n            version: this.version,\n            timestamps: this.config.timestamps,\n            id\n          }\n        });\n        const excess = totalSize - effectiveLimit;\n        errPut.totalSize = totalSize;\n        errPut.limit = 2047;\n        errPut.effectiveLimit = effectiveLimit;\n        errPut.excess = excess;\n        throw new ResourceError('metadata headers exceed', { resourceName: this.name, operation: 'replace', id, totalSize, effectiveLimit, excess, suggestion: 'Reduce metadata size or number of fields.' });\n      }\n      throw errPut;\n    }\n\n    // Build the final object to return\n    const replacedObject = { id, ...validatedAttributes };\n\n    // Update partitions if needed\n    if (this.config.partitions && Object.keys(this.config.partitions).length > 0) {\n      if (this.config.asyncPartitions) {\n        // Async mode: update partition indexes in background\n        setImmediate(() => {\n          this.handlePartitionReferenceUpdates({}, replacedObject).catch(err => {\n            this.emit('partitionIndexError', {\n              operation: 'replace',\n              id,\n              error: err\n            });\n          });\n        });\n      } else {\n        // Sync mode: update partition indexes immediately\n        await this.handlePartitionReferenceUpdates({}, replacedObject);\n      }\n    }\n\n    // Execute afterReplace hooks\n    const finalResult = await this.executeHooks('afterReplace', replacedObject);\n\n    return finalResult;\n  }\n\n  /**\n   * Update with conditional check (If-Match ETag)\n   * @param {string} id - Resource ID\n   * @param {Object} attributes - Attributes to update\n   * @param {Object} options - Options including ifMatch (ETag)\n   * @returns {Promise<Object>} { success: boolean, data?: Object, etag?: string, error?: string }\n   * @example\n   * const msg = await resource.get('msg-123');\n   * const result = await resource.updateConditional('msg-123', { status: 'processing' }, { ifMatch: msg._etag });\n   * if (!result.success) {\n   *   console.log('Update failed - object was modified by another process');\n   * }\n   */\n  async updateConditional(id, attributes, options = {}) {\n    if (isEmpty(id)) {\n      throw new Error('id cannot be empty');\n    }\n\n    const { ifMatch } = options;\n    if (!ifMatch) {\n      throw new Error('updateConditional requires ifMatch option with ETag value');\n    }\n\n    // Check if resource exists\n    const exists = await this.exists(id);\n    if (!exists) {\n      return {\n        success: false,\n        error: `Resource with id '${id}' does not exist`\n      };\n    }\n\n    // Get original data\n    const originalData = await this.get(id);\n    const attributesClone = cloneDeep(attributes);\n    let mergedData = cloneDeep(originalData);\n\n    // Merge attributes (same logic as update)\n    for (const [key, value] of Object.entries(attributesClone)) {\n      if (key.includes('.')) {\n        let ref = mergedData;\n        const parts = key.split('.');\n        for (let i = 0; i < parts.length - 1; i++) {\n          if (typeof ref[parts[i]] !== 'object' || ref[parts[i]] === null) {\n            ref[parts[i]] = {};\n          }\n          ref = ref[parts[i]];\n        }\n        ref[parts[parts.length - 1]] = cloneDeep(value);\n      } else if (typeof value === 'object' && value !== null && !Array.isArray(value)) {\n        mergedData[key] = merge({}, mergedData[key], value);\n      } else {\n        mergedData[key] = cloneDeep(value);\n      }\n    }\n\n    // Update timestamps if enabled\n    if (this.config.timestamps) {\n      const now = new Date().toISOString();\n      mergedData.updatedAt = now;\n      if (!mergedData.metadata) mergedData.metadata = {};\n      mergedData.metadata.updatedAt = now;\n    }\n\n    // Execute beforeUpdate hooks\n    const preProcessedData = await this.executeHooks('beforeUpdate', cloneDeep(mergedData));\n    const completeData = { ...originalData, ...preProcessedData, id };\n\n    // Validate\n    const { isValid, errors, data } = await this.validate(cloneDeep(completeData), { includeId: true });\n    if (!isValid) {\n      return {\n        success: false,\n        error: 'Validation failed: ' + ((errors && errors.length) ? JSON.stringify(errors) : 'unknown'),\n        validationErrors: errors\n      };\n    }\n\n    // Prepare data for storage\n    const { id: validatedId, ...validatedAttributes } = data;\n    const mappedData = await this.schema.mapper(validatedAttributes);\n    mappedData._v = String(this.version);\n\n    const behaviorImpl = getBehavior(this.behavior);\n    const { mappedData: processedMetadata, body } = await behaviorImpl.handleUpdate({\n      resource: this,\n      id,\n      data: validatedAttributes,\n      mappedData,\n      originalData: { ...attributesClone, id }\n    });\n\n    const key = this.getResourceKey(id);\n    let existingContentType = undefined;\n    let finalBody = body;\n\n    if (body === \"\" && this.behavior !== 'body-overflow') {\n      const [ok, err, existingObject] = await tryFn(() => this.client.getObject(key));\n      if (ok && existingObject.ContentLength > 0) {\n        const existingBodyBuffer = Buffer.from(await existingObject.Body.transformToByteArray());\n        const existingBodyString = existingBodyBuffer.toString();\n        const [okParse, errParse] = await tryFn(() => Promise.resolve(JSON.parse(existingBodyString)));\n        if (!okParse) {\n          finalBody = existingBodyBuffer;\n          existingContentType = existingObject.ContentType;\n        }\n      }\n    }\n\n    let finalContentType = existingContentType;\n    if (finalBody && finalBody !== \"\" && !finalContentType) {\n      const [okParse, errParse] = await tryFn(() => Promise.resolve(JSON.parse(finalBody)));\n      if (okParse) finalContentType = 'application/json';\n    }\n\n    // Attempt conditional write with IfMatch\n    const [ok, err, response] = await tryFn(() => this.client.putObject({\n      key,\n      body: finalBody,\n      contentType: finalContentType,\n      metadata: processedMetadata,\n      ifMatch  // ← Conditional write with ETag\n    }));\n\n    if (!ok) {\n      // Check if it's a PreconditionFailed error (412)\n      if (err.name === 'PreconditionFailed' || err.$metadata?.httpStatusCode === 412) {\n        return {\n          success: false,\n          error: 'ETag mismatch - object was modified by another process'\n        };\n      }\n\n      // Other errors\n      return {\n        success: false,\n        error: err.message || 'Update failed'\n      };\n    }\n\n    // Success - compose updated data\n    const updatedData = await this.composeFullObjectFromWrite({\n      id,\n      metadata: processedMetadata,\n      body: finalBody,\n      behavior: this.behavior\n    });\n\n    // Handle partition updates (async if configured)\n    const oldData = { ...originalData, id };\n    const newData = { ...validatedAttributes, id };\n\n    if (this.config.asyncPartitions && this.config.partitions && Object.keys(this.config.partitions).length > 0) {\n      // Async mode\n      setImmediate(() => {\n        this.handlePartitionReferenceUpdates(oldData, newData).catch(err => {\n          this.emit('partitionIndexError', {\n            operation: 'updateConditional',\n            id,\n            error: err,\n            message: err.message\n          });\n        });\n      });\n\n      // Execute non-partition hooks\n      const nonPartitionHooks = this.hooks.afterUpdate.filter(hook =>\n        !hook.toString().includes('handlePartitionReferenceUpdates')\n      );\n      let finalResult = updatedData;\n      for (const hook of nonPartitionHooks) {\n        finalResult = await hook(finalResult);\n      }\n\n      this.emit('update', {\n        ...updatedData,\n        $before: { ...originalData },\n        $after: { ...finalResult }\n      });\n\n      return {\n        success: true,\n        data: finalResult,\n        etag: response.ETag\n      };\n    } else {\n      // Sync mode\n      await this.handlePartitionReferenceUpdates(oldData, newData);\n      const finalResult = await this.executeHooks('afterUpdate', updatedData);\n\n      this.emit('update', {\n        ...updatedData,\n        $before: { ...originalData },\n        $after: { ...finalResult }\n      });\n\n      return {\n        success: true,\n        data: finalResult,\n        etag: response.ETag\n      };\n    }\n  }\n\n  /**\n   * Delete a resource object by ID\n   * @param {string} id - Resource ID\n   * @returns {Promise<Object>} S3 delete response\n   * @example\n   * await resource.delete('user-123');\n   */\n  async delete(id) {\n    if (isEmpty(id)) {\n      throw new Error('id cannot be empty');\n    }\n    \n    let objectData;\n    let deleteError = null;\n    \n    // Try to get the object data first\n    const [ok, err, data] = await tryFn(() => this.get(id));\n    if (ok) {\n      objectData = data;\n    } else {\n      objectData = { id };\n      deleteError = err; // Store the error for later\n    }\n    \n    await this.executeHooks('beforeDelete', objectData);\n    const key = this.getResourceKey(id);\n    const [ok2, err2, response] = await tryFn(() => this.client.deleteObject(key));\n    \n    // Always emit delete event for audit purposes, even if delete fails\n    this.emit(\"delete\", {\n      ...objectData,\n      $before: { ...objectData },\n      $after: null\n    });\n    \n    // If we had an error getting the object, throw it now (after emitting the event)\n    if (deleteError) {\n      throw mapAwsError(deleteError, {\n        bucket: this.client.config.bucket,\n        key,\n        resourceName: this.name,\n        operation: 'delete',\n        id\n      });\n    }\n    \n    if (!ok2) throw mapAwsError(err2, {\n      key,\n      resourceName: this.name,\n      operation: 'delete',\n      id\n    });\n    \n    // Handle partition cleanup based on asyncPartitions config\n    if (this.config.asyncPartitions && this.config.partitions && Object.keys(this.config.partitions).length > 0) {\n      // Async mode: delete partition indexes in background\n      setImmediate(() => {\n        this.deletePartitionReferences(objectData).catch(err => {\n          this.emit('partitionIndexError', {\n            operation: 'delete',\n            id,\n            error: err,\n            message: err.message\n          });\n        });\n      });\n      \n      // Execute other afterDelete hooks synchronously (excluding partition hook)\n      const nonPartitionHooks = this.hooks.afterDelete.filter(hook => \n        !hook.toString().includes('deletePartitionReferences')\n      );\n      let afterDeleteData = objectData;\n      for (const hook of nonPartitionHooks) {\n        afterDeleteData = await hook(afterDeleteData);\n      }\n      return response;\n    } else {\n      // Sync mode: execute all hooks including partition deletion\n      const afterDeleteData = await this.executeHooks('afterDelete', objectData);\n      return response;\n    }\n  }\n\n  /**\n   * Insert or update a resource object (upsert operation)\n   * @param {Object} params - Upsert parameters\n   * @param {string} params.id - Resource ID (required for upsert)\n   * @param {...Object} params - Resource attributes (any additional properties)\n   * @returns {Promise<Object>} The inserted or updated resource object\n   * @example\n   * // Will insert if doesn't exist, update if exists\n   * const user = await resource.upsert({\n   *   id: 'user-123',\n   *   name: 'John Doe',\n   *   email: 'john@example.com'\n   * });\n   */\n  async upsert({ id, ...attributes }) {\n    const exists = await this.exists(id);\n\n    if (exists) {\n      return this.update(id, attributes);\n    }\n\n    return this.insert({ id, ...attributes });\n  }\n\n  /**\n   * Count resources with optional partition filtering\n   * @param {Object} [params] - Count parameters\n   * @param {string} [params.partition] - Partition name to count in\n   * @param {Object} [params.partitionValues] - Partition field values to filter by\n   * @returns {Promise<number>} Total count of matching resources\n   * @example\n   * // Count all resources\n   * const total = await resource.count();\n   * \n   * // Count in specific partition\n   * const googleUsers = await resource.count({\n   *   partition: 'byUtmSource',\n   *   partitionValues: { 'utm.source': 'google' }\n   * });\n   * \n   * // Count in multi-field partition\n   * const usElectronics = await resource.count({\n   *   partition: 'byCategoryRegion',\n   *   partitionValues: { category: 'electronics', region: 'US' }\n   * });\n   */\n  async count({ partition = null, partitionValues = {} } = {}) {\n    // Execute beforeCount hooks\n    await this.executeHooks('beforeCount', { partition, partitionValues });\n\n    let prefix;\n\n    if (partition && Object.keys(partitionValues).length > 0) {\n      // Count in specific partition\n      const partitionDef = this.config.partitions[partition];\n      if (!partitionDef) {\n        throw new PartitionError(`Partition '${partition}' not found`, { resourceName: this.name, partitionName: partition, operation: 'count' });\n      }\n\n      // Build partition segments (sorted by field name for consistency)\n      const partitionSegments = [];\n      const sortedFields = Object.entries(partitionDef.fields).sort(([a], [b]) => a.localeCompare(b));\n      for (const [fieldName, rule] of sortedFields) {\n        const value = partitionValues[fieldName];\n        if (value !== undefined && value !== null) {\n          const transformedValue = this.applyPartitionRule(value, rule);\n          partitionSegments.push(`${fieldName}=${transformedValue}`);\n        }\n      }\n\n      if (partitionSegments.length > 0) {\n        prefix = `resource=${this.name}/partition=${partition}/${partitionSegments.join('/')}`;\n      } else {\n        prefix = `resource=${this.name}/partition=${partition}`;\n      }\n    } else {\n      // Count all in main resource (new format)\n      prefix = `resource=${this.name}/data`;\n    }\n\n    const count = await this.client.count({ prefix });\n\n    // Execute afterCount hooks\n    await this.executeHooks('afterCount', { count, partition, partitionValues });\n\n    this.emit(\"count\", count);\n    return count;\n  }\n\n  /**\n   * Insert multiple resources in parallel\n   * @param {Object[]} objects - Array of resource objects to insert\n   * @returns {Promise<Object[]>} Array of inserted resource objects\n   * @example\n   * const users = [\n   *   { name: 'John', email: 'john@example.com' },\n   *   { name: 'Jane', email: 'jane@example.com' },\n   *   { name: 'Bob', email: 'bob@example.com' }\n   * ];\n   * const insertedUsers = await resource.insertMany(users);\n      */\n  async insertMany(objects) {\n    const { results } = await PromisePool.for(objects)\n      .withConcurrency(this.parallelism)\n      .handleError(async (error, content) => {\n        this.emit(\"error\", error, content);\n        this.observers.map((x) => x.emit(\"error\", this.name, error, content));\n      })\n      .process(async (attributes) => {\n        const result = await this.insert(attributes);\n        return result;\n      });\n\n    this.emit(\"insertMany\", objects.length);\n    return results;\n  }\n\n  /**\n   * Delete multiple resources by their IDs in parallel\n   * @param {string[]} ids - Array of resource IDs to delete\n   * @returns {Promise<Object[]>} Array of S3 delete responses\n   * @example\n   * const deletedIds = ['user-1', 'user-2', 'user-3'];\n   * const results = await resource.deleteMany(deletedIds);\n      */\n  async deleteMany(ids) {\n    // Execute beforeDeleteMany hooks\n    await this.executeHooks('beforeDeleteMany', { ids });\n\n    const packages = chunk(\n      ids.map((id) => this.getResourceKey(id)),\n      1000\n    );\n\n    // Debug log: print all keys to be deleted\n    const allKeys = ids.map((id) => this.getResourceKey(id));\n\n    const { results } = await PromisePool.for(packages)\n      .withConcurrency(this.parallelism)\n      .handleError(async (error, content) => {\n        this.emit(\"error\", error, content);\n        this.observers.map((x) => x.emit(\"error\", this.name, error, content));\n      })\n      .process(async (keys) => {\n        const response = await this.client.deleteObjects(keys);\n\n        keys.forEach((key) => {\n          // Extract ID from key path\n          const parts = key.split('/');\n          const idPart = parts.find(part => part.startsWith('id='));\n          const id = idPart ? idPart.replace('id=', '') : null;\n          if (id) {\n            this.emit(\"deleted\", id);\n            this.observers.map((x) => x.emit(\"deleted\", this.name, id));\n          }\n        });\n\n        return response;\n      });\n\n    // Execute afterDeleteMany hooks\n    await this.executeHooks('afterDeleteMany', { ids, results });\n\n    this.emit(\"deleteMany\", ids.length);\n    return results;\n  }\n\n  async deleteAll() {\n    // Security check: only allow if paranoid mode is disabled\n    if (this.config.paranoid !== false) {\n      throw new ResourceError('deleteAll() is a dangerous operation and requires paranoid: false option.', { resourceName: this.name, operation: 'deleteAll', paranoid: this.config.paranoid, suggestion: 'Set paranoid: false to allow deleteAll.' });\n    }\n\n    // Use deleteAll to efficiently delete all objects (new format)\n    const prefix = `resource=${this.name}/data`;\n    const deletedCount = await this.client.deleteAll({ prefix });\n\n    this.emit(\"deleteAll\", {\n      version: this.version,\n      prefix,\n      deletedCount\n    });\n\n    return { deletedCount, version: this.version };\n  }\n\n  /**\n   * Delete all data for this resource across ALL versions\n   * @returns {Promise<Object>} Deletion report\n   */\n  async deleteAllData() {\n    // Security check: only allow if paranoid mode is disabled\n    if (this.config.paranoid !== false) {\n      throw new ResourceError('deleteAllData() is a dangerous operation and requires paranoid: false option.', { resourceName: this.name, operation: 'deleteAllData', paranoid: this.config.paranoid, suggestion: 'Set paranoid: false to allow deleteAllData.' });\n    }\n\n    // Use deleteAll to efficiently delete everything for this resource\n    const prefix = `resource=${this.name}`;\n    const deletedCount = await this.client.deleteAll({ prefix });\n\n    this.emit(\"deleteAllData\", {\n      resource: this.name,\n      prefix,\n      deletedCount\n    });\n\n    return { deletedCount, resource: this.name };\n  }\n\n  /**\n   * List resource IDs with optional partition filtering and pagination\n   * @param {Object} [params] - List parameters\n   * @param {string} [params.partition] - Partition name to list from\n   * @param {Object} [params.partitionValues] - Partition field values to filter by\n   * @param {number} [params.limit] - Maximum number of results to return\n   * @param {number} [params.offset=0] - Offset for pagination\n   * @returns {Promise<string[]>} Array of resource IDs (strings)\n   * @example\n   * // List all IDs\n   * const allIds = await resource.listIds();\n   * \n   * // List IDs with pagination\n   * const firstPageIds = await resource.listIds({ limit: 10, offset: 0 });\n   * const secondPageIds = await resource.listIds({ limit: 10, offset: 10 });\n   * \n   * // List IDs from specific partition\n   * const googleUserIds = await resource.listIds({\n   *   partition: 'byUtmSource',\n   *   partitionValues: { 'utm.source': 'google' }\n   * });\n   * \n   * // List IDs from multi-field partition\n   * const usElectronicsIds = await resource.listIds({\n   *   partition: 'byCategoryRegion',\n   *   partitionValues: { category: 'electronics', region: 'US' }\n   * });\n   */\n  async listIds({ partition = null, partitionValues = {}, limit, offset = 0 } = {}) {\n    let prefix;\n    if (partition && Object.keys(partitionValues).length > 0) {\n      // List from specific partition\n      if (!this.config.partitions || !this.config.partitions[partition]) {\n        throw new PartitionError(`Partition '${partition}' not found`, { resourceName: this.name, partitionName: partition, operation: 'listIds' });\n      }\n      const partitionDef = this.config.partitions[partition];\n      // Build partition segments (sorted by field name for consistency)\n      const partitionSegments = [];\n      const sortedFields = Object.entries(partitionDef.fields).sort(([a], [b]) => a.localeCompare(b));\n      for (const [fieldName, rule] of sortedFields) {\n        const value = partitionValues[fieldName];\n        if (value !== undefined && value !== null) {\n          const transformedValue = this.applyPartitionRule(value, rule);\n          partitionSegments.push(`${fieldName}=${transformedValue}`);\n        }\n      }\n      if (partitionSegments.length > 0) {\n        prefix = `resource=${this.name}/partition=${partition}/${partitionSegments.join('/')}`;\n      } else {\n        prefix = `resource=${this.name}/partition=${partition}`;\n      }\n    } else {\n      // List from main resource (without version in path)\n      prefix = `resource=${this.name}/data`;\n    }\n    // Use getKeysPage for real pagination support\n    const keys = await this.client.getKeysPage({\n      prefix,\n      offset: offset,\n      amount: limit || 1000, // Default to 1000 if no limit specified\n    });\n    const ids = keys.map((key) => {\n      // Extract ID from different path patterns:\n      // /resource={name}/v={version}/id={id}\n      // /resource={name}/partition={name}/{field}={value}/id={id}\n      const parts = key.split('/');\n      const idPart = parts.find(part => part.startsWith('id='));\n      return idPart ? idPart.replace('id=', '') : null;\n    }).filter(Boolean);\n    this.emit(\"listIds\", ids.length);\n    return ids;\n  }\n\n  /**\n   * List resources with optional partition filtering and pagination\n   * @param {Object} [params] - List parameters\n   * @param {string} [params.partition] - Partition name to list from\n   * @param {Object} [params.partitionValues] - Partition field values to filter by\n   * @param {number} [params.limit] - Maximum number of results\n   * @param {number} [params.offset=0] - Number of results to skip\n   * @returns {Promise<Object[]>} Array of resource objects\n   * @example\n   * // List all resources\n   * const allUsers = await resource.list();\n   * \n   * // List with pagination\n   * const first10 = await resource.list({ limit: 10, offset: 0 });\n   * \n   * // List from specific partition\n   * const usUsers = await resource.list({\n   *   partition: 'byCountry',\n   *   partitionValues: { 'profile.country': 'US' }\n   * });\n   */\n  async list({ partition = null, partitionValues = {}, limit, offset = 0 } = {}) {\n    // Execute beforeList hooks\n    await this.executeHooks('beforeList', { partition, partitionValues, limit, offset });\n\n    const [ok, err, result] = await tryFn(async () => {\n      if (!partition) {\n        return await this.listMain({ limit, offset });\n      }\n      return await this.listPartition({ partition, partitionValues, limit, offset });\n    });\n    if (!ok) {\n      return this.handleListError(err, { partition, partitionValues });\n    }\n\n    // Execute afterList hooks\n    const finalResult = await this.executeHooks('afterList', result);\n    return finalResult;\n  }\n\n  async listMain({ limit, offset = 0 }) {\n    const [ok, err, ids] = await tryFn(() => this.listIds({ limit, offset }));\n    if (!ok) throw err;\n    const results = await this.processListResults(ids, 'main');\n    this.emit(\"list\", { count: results.length, errors: 0 });\n    return results;\n  }\n\n  async listPartition({ partition, partitionValues, limit, offset = 0 }) {\n    if (!this.config.partitions?.[partition]) {\n      this.emit(\"list\", { partition, partitionValues, count: 0, errors: 0 });\n      return [];\n    }\n    const partitionDef = this.config.partitions[partition];\n    const prefix = this.buildPartitionPrefix(partition, partitionDef, partitionValues);\n    const [ok, err, keys] = await tryFn(() => this.client.getAllKeys({ prefix }));\n    if (!ok) throw err;\n    const ids = this.extractIdsFromKeys(keys).slice(offset);\n    const filteredIds = limit ? ids.slice(0, limit) : ids;\n    const results = await this.processPartitionResults(filteredIds, partition, partitionDef, keys);\n    this.emit(\"list\", { partition, partitionValues, count: results.length, errors: 0 });\n    return results;\n  }\n\n  /**\n   * Build partition prefix from partition definition and values\n   */\n  buildPartitionPrefix(partition, partitionDef, partitionValues) {\n    const partitionSegments = [];\n    const sortedFields = Object.entries(partitionDef.fields).sort(([a], [b]) => a.localeCompare(b));\n\n    for (const [fieldName, rule] of sortedFields) {\n      const value = partitionValues[fieldName];\n      if (value !== undefined && value !== null) {\n        const transformedValue = this.applyPartitionRule(value, rule);\n        partitionSegments.push(`${fieldName}=${transformedValue}`);\n      }\n    }\n\n    if (partitionSegments.length > 0) {\n      return `resource=${this.name}/partition=${partition}/${partitionSegments.join('/')}`;\n    }\n\n    return `resource=${this.name}/partition=${partition}`;\n  }\n\n  /**\n   * Extract IDs from S3 keys\n   */\n  extractIdsFromKeys(keys) {\n    return keys\n      .map(key => {\n        const parts = key.split('/');\n        const idPart = parts.find(part => part.startsWith('id='));\n        return idPart ? idPart.replace('id=', '') : null;\n      })\n      .filter(Boolean);\n  }\n\n  /**\n   * Process list results with error handling\n   */\n  async processListResults(ids, context = 'main') {\n    const { results, errors } = await PromisePool.for(ids)\n      .withConcurrency(this.parallelism)\n      .handleError(async (error, id) => {\n        this.emit(\"error\", error, content);\n        this.observers.map((x) => x.emit(\"error\", this.name, error, content));\n      })\n      .process(async (id) => {\n        const [ok, err, result] = await tryFn(() => this.get(id));\n        if (ok) {\n          return result;\n        }\n        return this.handleResourceError(err, id, context);\n      });\n    this.emit(\"list\", { count: results.length, errors: 0 });\n    return results;\n  }\n\n  /**\n   * Process partition results with error handling\n   */\n  async processPartitionResults(ids, partition, partitionDef, keys) {\n    const sortedFields = Object.entries(partitionDef.fields).sort(([a], [b]) => a.localeCompare(b));\n    const { results, errors } = await PromisePool.for(ids)\n      .withConcurrency(this.parallelism)\n      .handleError(async (error, id) => {\n        this.emit(\"error\", error, content);\n        this.observers.map((x) => x.emit(\"error\", this.name, error, content));\n      })\n      .process(async (id) => {\n        const [ok, err, result] = await tryFn(async () => {\n          const actualPartitionValues = this.extractPartitionValuesFromKey(id, keys, sortedFields);\n          return await this.getFromPartition({\n            id,\n            partitionName: partition,\n            partitionValues: actualPartitionValues\n          });\n        });\n        if (ok) return result;\n        return this.handleResourceError(err, id, 'partition');\n      });\n    return results.filter(item => item !== null);\n  }\n\n  /**\n   * Extract partition values from S3 key for specific ID\n   */\n  extractPartitionValuesFromKey(id, keys, sortedFields) {\n    const keyForId = keys.find(key => key.includes(`id=${id}`));\n    if (!keyForId) {\n      throw new PartitionError(`Partition key not found for ID ${id}`, { resourceName: this.name, id, operation: 'extractPartitionValuesFromKey' });\n    }\n\n    const keyParts = keyForId.split('/');\n    const actualPartitionValues = {};\n\n    for (const [fieldName] of sortedFields) {\n      const fieldPart = keyParts.find(part => part.startsWith(`${fieldName}=`));\n      if (fieldPart) {\n        const value = fieldPart.replace(`${fieldName}=`, '');\n        actualPartitionValues[fieldName] = value;\n      }\n    }\n\n    return actualPartitionValues;\n  }\n\n  /**\n   * Handle resource-specific errors\n   */\n  handleResourceError(error, id, context) {\n    if (error.message.includes('Cipher job failed') || error.message.includes('OperationError')) {\n      return {\n        id,\n        _decryptionFailed: true,\n        _error: error.message,\n        ...(context === 'partition' && { _partition: context })\n      };\n    }\n    throw error;\n  }\n\n  /**\n   * Handle list method errors\n   */\n  handleListError(error, { partition, partitionValues }) {\n    if (error.message.includes(\"Partition '\") && error.message.includes(\"' not found\")) {\n      this.emit(\"list\", { partition, partitionValues, count: 0, errors: 1 });\n      return [];\n    }\n\n    this.emit(\"list\", { partition, partitionValues, count: 0, errors: 1 });\n    return [];\n  }\n\n  /**\n   * Get multiple resources by their IDs\n   * @param {string[]} ids - Array of resource IDs\n   * @returns {Promise<Object[]>} Array of resource objects\n   * @example\n   * const users = await resource.getMany(['user-1', 'user-2', 'user-3']);\n      */\n  async getMany(ids) {\n    // Execute beforeGetMany hooks\n    await this.executeHooks('beforeGetMany', { ids });\n\n    const { results, errors } = await PromisePool.for(ids)\n      .withConcurrency(this.client.parallelism)\n      .handleError(async (error, id) => {\n        this.emit(\"error\", error, content);\n        this.observers.map((x) => x.emit(\"error\", this.name, error, content));\n        return {\n          id,\n          _error: error.message,\n          _decryptionFailed: error.message.includes('Cipher job failed') || error.message.includes('OperationError')\n        };\n      })\n      .process(async (id) => {\n        const [ok, err, data] = await tryFn(() => this.get(id));\n        if (ok) return data;\n        if (err.message.includes('Cipher job failed') || err.message.includes('OperationError')) {\n          return {\n            id,\n            _decryptionFailed: true,\n            _error: err.message\n          };\n        }\n        throw err;\n      });\n\n    // Execute afterGetMany hooks\n    const finalResults = await this.executeHooks('afterGetMany', results);\n\n    this.emit(\"getMany\", ids.length);\n    return finalResults;\n  }\n\n  /**\n   * Get all resources (equivalent to list() without pagination)\n   * @returns {Promise<Object[]>} Array of all resource objects\n   * @example\n   * const allUsers = await resource.getAll();\n      */\n  async getAll() {\n    const [ok, err, ids] = await tryFn(() => this.listIds());\n    if (!ok) throw err;\n    const results = [];\n    for (const id of ids) {\n      const [ok2, err2, item] = await tryFn(() => this.get(id));\n      if (ok2) {\n        results.push(item);\n      } else {\n        // Log error but continue\n      }\n    }\n    return results;\n  }\n\n  /**\n   * Get a page of resources with pagination metadata\n   * @param {Object} [params] - Page parameters\n   * @param {number} [params.offset=0] - Offset for pagination\n   * @param {number} [params.size=100] - Page size\n   * @param {string} [params.partition] - Partition name to page from\n   * @param {Object} [params.partitionValues] - Partition field values to filter by\n   * @param {boolean} [params.skipCount=false] - Skip total count for performance (useful for large collections)\n   * @returns {Promise<Object>} Page result with items and pagination info\n   * @example\n   * // Get first page of all resources\n   * const page = await resource.page({ offset: 0, size: 10 });\n         * \n   * // Get page from specific partition\n   * const googlePage = await resource.page({\n   *   partition: 'byUtmSource',\n   *   partitionValues: { 'utm.source': 'google' },\n   *   offset: 0,\n   *   size: 5\n   * });\n   * \n   * // Skip count for performance in large collections\n   * const fastPage = await resource.page({ \n   *   offset: 0, \n   *   size: 100, \n   *   skipCount: true \n   * });\n      */\n  async page({ offset = 0, size = 100, partition = null, partitionValues = {}, skipCount = false } = {}) {\n    const [ok, err, result] = await tryFn(async () => {\n      // Get total count only if not skipped (for performance)\n      let totalItems = null;\n      let totalPages = null;\n      if (!skipCount) {\n        const [okCount, errCount, count] = await tryFn(() => this.count({ partition, partitionValues }));\n        if (okCount) {\n          totalItems = count;\n          totalPages = Math.ceil(totalItems / size);\n        } else {\n          totalItems = null;\n          totalPages = null;\n        }\n      }\n      const page = Math.floor(offset / size);\n      let items = [];\n      if (size <= 0) {\n        items = [];\n      } else {\n        const [okList, errList, listResult] = await tryFn(() => this.list({ partition, partitionValues, limit: size, offset: offset }));\n        items = okList ? listResult : [];\n      }\n      const result = {\n        items,\n        totalItems,\n        page,\n        pageSize: size,\n        totalPages,\n        hasMore: items.length === size && (offset + size) < (totalItems || Infinity),\n        _debug: {\n          requestedSize: size,\n          requestedOffset: offset,\n          actualItemsReturned: items.length,\n          skipCount: skipCount,\n          hasTotalItems: totalItems !== null\n        }\n      };\n      this.emit(\"page\", result);\n      return result;\n    });\n    if (ok) return result;\n    // Final fallback - return a safe result even if everything fails\n    return {\n      items: [],\n      totalItems: null,\n      page: Math.floor(offset / size),\n      pageSize: size,\n      totalPages: null,\n      _debug: {\n        requestedSize: size,\n        requestedOffset: offset,\n        actualItemsReturned: 0,\n        skipCount: skipCount,\n        hasTotalItems: false,\n        error: err.message\n      }\n    };\n  }\n\n  readable() {\n    const stream = new ResourceReader({ resource: this });\n    return stream.build()\n  }\n\n  writable() {\n    const stream = new ResourceWriter({ resource: this });\n    return stream.build()\n  }\n\n  /**\n   * Set binary content for a resource\n   * @param {Object} params - Content parameters\n   * @param {string} params.id - Resource ID\n   * @param {Buffer|string} params.buffer - Content buffer or string\n   * @param {string} [params.contentType='application/octet-stream'] - Content type\n   * @returns {Promise<Object>} Updated resource data\n   * @example\n   * // Set image content\n   * const imageBuffer = fs.readFileSync('image.jpg');\n   * await resource.setContent({\n   *   id: 'user-123',\n   *   buffer: imageBuffer,\n   *   contentType: 'image/jpeg'\n   * });\n   * \n   * // Set text content\n   * await resource.setContent({\n   *   id: 'document-456',\n   *   buffer: 'Hello World',\n   *   contentType: 'text/plain'\n   * });\n   */\n  async setContent({ id, buffer, contentType = 'application/octet-stream' }) {\n    const [ok, err, currentData] = await tryFn(() => this.get(id));\n    if (!ok || !currentData) {\n      throw new ResourceError(`Resource with id '${id}' not found`, { resourceName: this.name, id, operation: 'setContent' });\n    }\n    const updatedData = {\n      ...currentData,\n      _hasContent: true,\n      _contentLength: buffer.length,\n      _mimeType: contentType\n    };\n    const mappedMetadata = await this.schema.mapper(updatedData);\n    const [ok2, err2] = await tryFn(() => this.client.putObject({\n      key: this.getResourceKey(id),\n      metadata: mappedMetadata,\n      body: buffer,\n      contentType\n    }));\n    if (!ok2) throw err2;\n    this.emit(\"setContent\", { id, contentType, contentLength: buffer.length });\n    return updatedData;\n  }\n\n  /**\n   * Retrieve binary content associated with a resource\n   * @param {string} id - Resource ID\n   * @returns {Promise<Object>} Object with buffer and contentType\n   * @example\n   * const content = await resource.content('user-123');\n   * if (content.buffer) {\n         *   // Save to file\n   *   fs.writeFileSync('output.jpg', content.buffer);\n   * } else {\n      * }\n   */\n  async content(id) {\n    const key = this.getResourceKey(id);\n    const [ok, err, response] = await tryFn(() => this.client.getObject(key));\n    if (!ok) {\n      if (err.name === \"NoSuchKey\") {\n        return {\n          buffer: null,\n          contentType: null\n        };\n      }\n      throw err;\n    }\n    const buffer = Buffer.from(await response.Body.transformToByteArray());\n    const contentType = response.ContentType || null;\n    this.emit(\"content\", id, buffer.length, contentType);\n    return {\n      buffer,\n      contentType\n    };\n  }\n\n  /**\n   * Check if binary content exists for a resource\n   * @param {string} id - Resource ID\n   * @returns {boolean}\n   */\n  async hasContent(id) {\n    const key = this.getResourceKey(id);\n    const [ok, err, response] = await tryFn(() => this.client.headObject(key));\n    if (!ok) return false;\n    return response.ContentLength > 0;\n  }\n\n  /**\n   * Delete binary content but preserve metadata\n   * @param {string} id - Resource ID\n   */\n  async deleteContent(id) {\n    const key = this.getResourceKey(id);\n    const [ok, err, existingObject] = await tryFn(() => this.client.headObject(key));\n    if (!ok) throw err;\n    const existingMetadata = existingObject.Metadata || {};\n    const [ok2, err2, response] = await tryFn(() => this.client.putObject({\n      key,\n      body: \"\",\n      metadata: existingMetadata,\n    }));\n    if (!ok2) throw err2;\n    this.emit(\"deleteContent\", id);\n    return response;\n  }\n\n  /**\n   * Generate definition hash for this resource\n   * @returns {string} SHA256 hash of the resource definition (name + attributes)\n   */\n  getDefinitionHash() {\n    // Create a stable object with only attributes and behavior (consistent with Database.generateDefinitionHash)\n    const definition = {\n      attributes: this.attributes,\n      behavior: this.behavior\n    };\n\n    // Use jsonStableStringify to ensure consistent ordering regardless of input order\n    const stableString = jsonStableStringify(definition);\n    return `sha256:${createHash('sha256').update(stableString).digest('hex')}`;\n  }\n\n  /**\n   * Extract version from S3 key\n   * @param {string} key - S3 object key\n   * @returns {string|null} Version string or null\n   */\n  extractVersionFromKey(key) {\n    const parts = key.split('/');\n    const versionPart = parts.find(part => part.startsWith('v='));\n    return versionPart ? versionPart.replace('v=', '') : null;\n  }\n\n  /**\n   * Get schema for a specific version\n   * @param {string} version - Version string (e.g., 'v1', 'v2')\n   * @returns {Object} Schema object for the version\n   */\n  async getSchemaForVersion(version) {\n    return this.schema;\n  }\n\n  /**\n   * Create partition references after insert\n   * @param {Object} data - Inserted object data\n   */\n  async createPartitionReferences(data) {\n    const partitions = this.config.partitions;\n    if (!partitions || Object.keys(partitions).length === 0) {\n      return;\n    }\n\n    // Create all partition references in parallel\n    const promises = Object.entries(partitions).map(async ([partitionName, partition]) => {\n      const partitionKey = this.getPartitionKey({ partitionName, id: data.id, data });\n      if (partitionKey) {\n        // Save only version as metadata, never object attributes\n        const partitionMetadata = {\n          _v: String(this.version)\n        };\n        return this.client.putObject({\n          key: partitionKey,\n          metadata: partitionMetadata,\n          body: '',\n          contentType: undefined,\n        });\n      }\n      return null;\n    });\n\n    // Wait for all partition references to be created\n    const results = await Promise.allSettled(promises);\n    \n    // Check for any failures\n    const failures = results.filter(r => r.status === 'rejected');\n    if (failures.length > 0) {\n      // Emit warning but don't throw - partitions are secondary indexes\n      this.emit('partitionIndexWarning', {\n        operation: 'create',\n        id: data.id,\n        failures: failures.map(f => f.reason)\n      });\n    }\n  }\n\n  /**\n   * Delete partition references after delete\n   * @param {Object} data - Deleted object data\n   */\n  async deletePartitionReferences(data) {\n    const partitions = this.config.partitions;\n    if (!partitions || Object.keys(partitions).length === 0) {\n      return;\n    }\n    const keysToDelete = [];\n    for (const [partitionName, partition] of Object.entries(partitions)) {\n      const partitionKey = this.getPartitionKey({ partitionName, id: data.id, data });\n      if (partitionKey) {\n        keysToDelete.push(partitionKey);\n      }\n    }\n    if (keysToDelete.length > 0) {\n      const [ok, err] = await tryFn(() => this.client.deleteObjects(keysToDelete));\n      if (!ok) {\n        // console.warn('Some partition objects could not be deleted:', err.message);\n      }\n    }\n  }\n\n  /**\n   * Query resources with simple filtering and pagination\n   * @param {Object} [filter={}] - Filter criteria (exact field matches)\n   * @param {Object} [options] - Query options\n   * @param {number} [options.limit=100] - Maximum number of results\n   * @param {number} [options.offset=0] - Offset for pagination\n   * @param {string} [options.partition] - Partition name to query from\n   * @param {Object} [options.partitionValues] - Partition field values to filter by\n   * @returns {Promise<Object[]>} Array of filtered resource objects\n   * @example\n   * // Query all resources (no filter)\n   * const allUsers = await resource.query();\n   * \n   * // Query with simple filter\n   * const activeUsers = await resource.query({ status: 'active' });\n   * \n   * // Query with multiple filters\n   * const usElectronics = await resource.query({\n   *   category: 'electronics',\n   *   region: 'US'\n   * });\n   * \n   * // Query with pagination\n   * const firstPage = await resource.query(\n   *   { status: 'active' },\n   *   { limit: 10, offset: 0 }\n   * );\n   * \n   * // Query within partition\n   * const googleUsers = await resource.query(\n   *   { status: 'active' },\n   *   {\n   *     partition: 'byUtmSource',\n   *     partitionValues: { 'utm.source': 'google' },\n   *     limit: 5\n   *   }\n   * );\n   */\n  async query(filter = {}, { limit = 100, offset = 0, partition = null, partitionValues = {} } = {}) {\n    // Execute beforeQuery hooks\n    await this.executeHooks('beforeQuery', { filter, limit, offset, partition, partitionValues });\n\n    if (Object.keys(filter).length === 0) {\n      // No filter, just return paginated results\n      return await this.list({ partition, partitionValues, limit, offset });\n    }\n\n    const results = [];\n    let currentOffset = offset;\n    const batchSize = Math.min(limit, 50); // Process in smaller batches\n\n    while (results.length < limit) {\n      // Get a batch of objects\n      const batch = await this.list({\n        partition,\n        partitionValues,\n        limit: batchSize,\n        offset: currentOffset\n      });\n\n      if (batch.length === 0) {\n        break; // No more data\n      }\n\n      // Filter the batch\n      const filteredBatch = batch.filter(doc => {\n        return Object.entries(filter).every(([key, value]) => {\n          return doc[key] === value;\n        });\n      });\n\n      // Add filtered results\n      results.push(...filteredBatch);\n      currentOffset += batchSize;\n\n      // If we got less than batchSize, we've reached the end\n      if (batch.length < batchSize) {\n        break;\n      }\n    }\n\n    // Return only up to the requested limit\n    const finalResults = results.slice(0, limit);\n\n    // Execute afterQuery hooks\n    return await this.executeHooks('afterQuery', finalResults);\n  }\n\n  /**\n   * Handle partition reference updates with change detection\n   * @param {Object} oldData - Original object data before update\n   * @param {Object} newData - Updated object data\n   */\n  async handlePartitionReferenceUpdates(oldData, newData) {\n    const partitions = this.config.partitions;\n    if (!partitions || Object.keys(partitions).length === 0) {\n      return;\n    }\n    \n    // Update all partitions in parallel\n    const updatePromises = Object.entries(partitions).map(async ([partitionName, partition]) => {\n      const [ok, err] = await tryFn(() => this.handlePartitionReferenceUpdate(partitionName, partition, oldData, newData));\n      if (!ok) {\n        // console.warn(`Failed to update partition references for ${partitionName}:`, err.message);\n        return { partitionName, error: err };\n      }\n      return { partitionName, success: true };\n    });\n    \n    await Promise.allSettled(updatePromises);\n    \n    // Aggressive cleanup: remove stale partition keys in parallel\n    const id = newData.id || oldData.id;\n    const cleanupPromises = Object.entries(partitions).map(async ([partitionName, partition]) => {\n      const prefix = `resource=${this.name}/partition=${partitionName}`;\n      const [okKeys, errKeys, keys] = await tryFn(() => this.client.getAllKeys({ prefix }));\n      if (!okKeys) {\n        // console.warn(`Aggressive cleanup: could not list keys for partition ${partitionName}:`, errKeys.message);\n        return;\n      }\n      \n      const validKey = this.getPartitionKey({ partitionName, id, data: newData });\n      const staleKeys = keys.filter(key => key.endsWith(`/id=${id}`) && key !== validKey);\n      \n      if (staleKeys.length > 0) {\n        const [okDel, errDel] = await tryFn(() => this.client.deleteObjects(staleKeys));\n        if (!okDel) {\n          // console.warn(`Aggressive cleanup: could not delete stale partition keys:`, errDel.message);\n        }\n      }\n    });\n    \n    await Promise.allSettled(cleanupPromises);\n  }\n\n  /**\n   * Handle partition reference update for a specific partition\n   * @param {string} partitionName - Name of the partition\n   * @param {Object} partition - Partition definition\n   * @param {Object} oldData - Original object data before update\n   * @param {Object} newData - Updated object data\n   */\n  async handlePartitionReferenceUpdate(partitionName, partition, oldData, newData) {\n    // Ensure we have the correct id\n    const id = newData.id || oldData.id;\n\n    // Get old and new partition keys\n    const oldPartitionKey = this.getPartitionKey({ partitionName, id, data: oldData });\n    const newPartitionKey = this.getPartitionKey({ partitionName, id, data: newData });\n\n    // If partition keys are different, we need to move the reference\n    if (oldPartitionKey !== newPartitionKey) {\n      // Delete old partition reference if it exists\n      if (oldPartitionKey) {\n        const [ok, err] = await tryFn(async () => {\n          await this.client.deleteObject(oldPartitionKey);\n        });\n        if (!ok) {\n          // Log but don't fail if old partition object doesn't exist\n          // console.warn(`Old partition object could not be deleted for ${partitionName}:`, err.message);\n        }\n      }\n\n      // Create new partition reference if new key exists\n      if (newPartitionKey) {\n        const [ok, err] = await tryFn(async () => {\n          // Save only version as metadata\n          const partitionMetadata = {\n            _v: String(this.version)\n          };\n          await this.client.putObject({\n            key: newPartitionKey,\n            metadata: partitionMetadata,\n            body: '',\n            contentType: undefined,\n          });\n        });\n        if (!ok) {\n          // Log but don't fail if new partition object creation fails\n          // console.warn(`New partition object could not be created for ${partitionName}:`, err.message);\n        }\n      }\n    } else if (newPartitionKey) {\n      // If partition keys are the same, just update the existing reference\n      const [ok, err] = await tryFn(async () => {\n        // Save only version as metadata\n        const partitionMetadata = {\n          _v: String(this.version)\n        };\n        await this.client.putObject({\n          key: newPartitionKey,\n          metadata: partitionMetadata,\n          body: '',\n          contentType: undefined,\n        });\n      });\n      if (!ok) {\n        // Log but don't fail if partition object update fails\n        // console.warn(`Partition object could not be updated for ${partitionName}:`, err.message);\n      }\n    }\n  }\n\n  /**\n   * Update partition objects to keep them in sync\n   * @param {Object} data - Updated object data\n   */\n  async updatePartitionReferences(data) {\n    const partitions = this.config.partitions;\n    if (!partitions || Object.keys(partitions).length === 0) {\n      return;\n    }\n\n    // Update each partition object\n    for (const [partitionName, partition] of Object.entries(partitions)) {\n      // Validate that the partition exists and has the required structure\n      if (!partition || !partition.fields || typeof partition.fields !== 'object') {\n        // console.warn(`Skipping invalid partition '${partitionName}' in resource '${this.name}'`);\n        continue;\n      }\n      const partitionKey = this.getPartitionKey({ partitionName, id: data.id, data });\n      if (partitionKey) {\n        // Save only version as metadata\n        const partitionMetadata = {\n          _v: String(this.version)\n        };\n        const [ok, err] = await tryFn(async () => {\n          await this.client.putObject({\n            key: partitionKey,\n            metadata: partitionMetadata,\n            body: '',\n            contentType: undefined,\n          });\n        });\n        if (!ok) {\n          // Log but don't fail if partition object doesn't exist\n          // console.warn(`Partition object could not be updated for ${partitionName}:`, err.message);\n        }\n      }\n    }\n  }\n\n  /**\n   * Get a resource object directly from a specific partition\n   * @param {Object} params - Partition parameters\n   * @param {string} params.id - Resource ID\n   * @param {string} params.partitionName - Name of the partition\n   * @param {Object} params.partitionValues - Values for partition fields\n   * @returns {Promise<Object>} The resource object with partition metadata\n   * @example\n   * // Get user from UTM source partition\n   * const user = await resource.getFromPartition({\n   *   id: 'user-123',\n   *   partitionName: 'byUtmSource',\n   *   partitionValues: { 'utm.source': 'google' }\n   * });\n         * \n   * // Get product from multi-field partition\n   * const product = await resource.getFromPartition({\n   *   id: 'product-456',\n   *   partitionName: 'byCategoryRegion',\n   *   partitionValues: { category: 'electronics', region: 'US' }\n   * });\n   */\n  async getFromPartition({ id, partitionName, partitionValues = {} }) {\n    if (!this.config.partitions || !this.config.partitions[partitionName]) {\n      throw new PartitionError(`Partition '${partitionName}' not found`, { resourceName: this.name, partitionName, operation: 'getFromPartition' });\n    }\n\n    const partition = this.config.partitions[partitionName];\n\n    // Build partition key using provided values\n    const partitionSegments = [];\n    const sortedFields = Object.entries(partition.fields).sort(([a], [b]) => a.localeCompare(b));\n    for (const [fieldName, rule] of sortedFields) {\n      const value = partitionValues[fieldName];\n      if (value !== undefined && value !== null) {\n        const transformedValue = this.applyPartitionRule(value, rule);\n        partitionSegments.push(`${fieldName}=${transformedValue}`);\n      }\n    }\n\n    if (partitionSegments.length === 0) {\n      throw new PartitionError(`No partition values provided for partition '${partitionName}'`, { resourceName: this.name, partitionName, operation: 'getFromPartition' });\n    }\n\n    const partitionKey = join(`resource=${this.name}`, `partition=${partitionName}`, ...partitionSegments, `id=${id}`);\n\n    // Verify partition reference exists\n    const [ok, err] = await tryFn(async () => {\n      await this.client.headObject(partitionKey);\n    });\n    if (!ok) {\n      throw new ResourceError(`Resource with id '${id}' not found in partition '${partitionName}'`, { resourceName: this.name, id, partitionName, operation: 'getFromPartition' });\n    }\n\n    // Get the actual data from the main resource object\n    const data = await this.get(id);\n\n    // Add partition metadata\n    data._partition = partitionName;\n    data._partitionValues = partitionValues;\n\n    this.emit(\"getFromPartition\", data);\n    return data;\n  }\n\n  /**\n   * Create a historical version of an object\n   * @param {string} id - Resource ID\n   * @param {Object} data - Object data to store historically\n   */\n  async createHistoricalVersion(id, data) {\n    const historicalKey = join(`resource=${this.name}`, `historical`, `id=${id}`);\n\n    // Ensure the historical object has the _v metadata\n    const historicalData = {\n      ...data,\n      _v: data._v || this.version,\n      _historicalTimestamp: new Date().toISOString()\n    };\n\n    const mappedData = await this.schema.mapper(historicalData);\n\n    // Apply behavior strategy for historical storage\n    const behaviorImpl = getBehavior(this.behavior);\n    const { mappedData: processedMetadata, body } = await behaviorImpl.handleInsert({\n      resource: this,\n      data: historicalData,\n      mappedData\n    });\n\n    // Add version metadata for consistency\n    const finalMetadata = {\n      ...processedMetadata,\n      _v: data._v || this.version,\n      _historicalTimestamp: historicalData._historicalTimestamp\n    };\n\n    // Determine content type based on body content\n    let contentType = undefined;\n    if (body && body !== \"\") {\n      const [okParse, errParse] = await tryFn(() => Promise.resolve(JSON.parse(body)));\n      if (okParse) contentType = 'application/json';\n    }\n\n    await this.client.putObject({\n      key: historicalKey,\n      metadata: finalMetadata,\n      body,\n      contentType,\n    });\n  }\n\n  /**\n   * Apply version mapping to convert an object from one version to another\n   * @param {Object} data - Object data to map\n   * @param {string} fromVersion - Source version\n   * @param {string} toVersion - Target version\n   * @returns {Object} Mapped object data\n   */\n  async applyVersionMapping(data, fromVersion, toVersion) {\n    // If versions are the same, no mapping needed\n    if (fromVersion === toVersion) {\n      return data;\n    }\n\n    // For now, we'll implement a simple mapping strategy\n    // In a full implementation, this would use sophisticated version mappers\n    // based on the schema evolution history\n\n    // Add version info to the returned data\n    const mappedData = {\n      ...data,\n      _v: toVersion,\n      _originalVersion: fromVersion,\n      _versionMapped: true\n    };\n\n    // TODO: Implement sophisticated version mapping logic here\n    // This could involve:\n    // 1. Field renames\n    // 2. Field type changes\n    // 3. Default values for new fields\n    // 4. Data transformations\n\n    return mappedData;\n  }\n\n  /**\n   * Compose the full object (metadata + body) as returned by .get(),\n   * using in-memory data after insert/update, according to behavior\n   */\n  async composeFullObjectFromWrite({ id, metadata, body, behavior }) {\n    // Preserve behavior flags before unmapping\n    const behaviorFlags = {};\n    if (metadata && metadata['$truncated'] === 'true') {\n      behaviorFlags.$truncated = 'true';\n    }\n    if (metadata && metadata['$overflow'] === 'true') {\n      behaviorFlags.$overflow = 'true';\n    }\n    // Always unmap metadata first to get the correct field names\n    let unmappedMetadata = {};\n    const [ok, err, unmapped] = await tryFn(() => this.schema.unmapper(metadata));\n    unmappedMetadata = ok ? unmapped : metadata;\n    // Helper function to filter out internal S3DB fields\n    // Preserve geo-related fields (_geohash, _geohash_zoom*) for GeoPlugin\n    const filterInternalFields = (obj) => {\n      if (!obj || typeof obj !== 'object') return obj;\n      const filtered = {};\n      for (const [key, value] of Object.entries(obj)) {\n        if (!key.startsWith('_') || key === '_geohash' || key.startsWith('_geohash_zoom')) {\n          filtered[key] = value;\n        }\n      }\n      return filtered;\n    };\n    const fixValue = (v) => {\n      if (typeof v === 'object' && v !== null) {\n        return v;\n      }\n      if (typeof v === 'string') {\n        if (v === '[object Object]') return {};\n        if ((v.startsWith('{') || v.startsWith('['))) {\n          // Use tryFnSync for safe parse\n          const [ok, err, parsed] = tryFnSync(() => JSON.parse(v));\n          return ok ? parsed : v;\n        }\n        return v;\n      }\n      return v;\n    };\n    if (behavior === 'body-overflow') {\n      const hasOverflow = metadata && metadata['$overflow'] === 'true';\n      let bodyData = {};\n      if (hasOverflow && body) {\n        const [okBody, errBody, parsedBody] = await tryFn(() => Promise.resolve(JSON.parse(body)));\n        if (okBody) {\n          const [okUnmap, errUnmap, unmappedBody] = await tryFn(() => this.schema.unmapper(parsedBody));\n          bodyData = okUnmap ? unmappedBody : {};\n        }\n      }\n      const merged = { ...unmappedMetadata, ...bodyData, id };\n      Object.keys(merged).forEach(k => { merged[k] = fixValue(merged[k]); });\n      const result = filterInternalFields(merged);\n      if (hasOverflow) {\n        result.$overflow = 'true';\n      }\n      return result;\n    }\n    if (behavior === 'body-only') {\n      const [okBody, errBody, parsedBody] = await tryFn(() => Promise.resolve(body ? JSON.parse(body) : {}));\n      let mapFromMeta = this.schema.map;\n      if (metadata && metadata._map) {\n        const [okMap, errMap, parsedMap] = await tryFn(() => Promise.resolve(typeof metadata._map === 'string' ? JSON.parse(metadata._map) : metadata._map));\n        mapFromMeta = okMap ? parsedMap : this.schema.map;\n      }\n      const [okUnmap, errUnmap, unmappedBody] = await tryFn(() => this.schema.unmapper(parsedBody, mapFromMeta));\n      const result = okUnmap ? { ...unmappedBody, id } : { id };\n      Object.keys(result).forEach(k => { result[k] = fixValue(result[k]); });\n      return result;\n    }\n    \n    // Handle user-managed behavior when data is in body\n    if (behavior === 'user-managed' && body && body.trim() !== '') {\n      const [okBody, errBody, parsedBody] = await tryFn(() => Promise.resolve(JSON.parse(body)));\n      if (okBody) {\n        const [okUnmap, errUnmap, unmappedBody] = await tryFn(() => this.schema.unmapper(parsedBody));\n        const bodyData = okUnmap ? unmappedBody : {};\n        const merged = { ...bodyData, ...unmappedMetadata, id };\n        Object.keys(merged).forEach(k => { merged[k] = fixValue(merged[k]); });\n        return filterInternalFields(merged);\n      }\n    }\n    \n    const result = { ...unmappedMetadata, id };\n    Object.keys(result).forEach(k => { result[k] = fixValue(result[k]); });\n    const filtered = filterInternalFields(result);\n    if (behaviorFlags.$truncated) {\n      filtered.$truncated = behaviorFlags.$truncated;\n    }\n    if (behaviorFlags.$overflow) {\n      filtered.$overflow = behaviorFlags.$overflow;\n    }\n    return filtered;\n  }\n\n  // --- MIDDLEWARE SYSTEM ---\n  _initMiddleware() {\n    // Map of methodName -> array of middleware functions\n    this._middlewares = new Map();\n    // Supported methods for middleware (expanded to include newly cached methods)\n    this._middlewareMethods = [\n      'get', 'list', 'listIds', 'getAll', 'count', 'page',\n      'insert', 'update', 'delete', 'deleteMany', 'exists', 'getMany',\n      'content', 'hasContent', 'query', 'getFromPartition', 'setContent', 'deleteContent', 'replace'\n    ];\n    for (const method of this._middlewareMethods) {\n      this._middlewares.set(method, []);\n      // Wrap the method if not already wrapped\n      if (!this[`_original_${method}`]) {\n        this[`_original_${method}`] = this[method].bind(this);\n        this[method] = async (...args) => {\n          const ctx = { resource: this, args, method };\n          let idx = -1;\n          const stack = this._middlewares.get(method);\n          const dispatch = async (i) => {\n            if (i <= idx) throw new Error('next() called multiple times');\n            idx = i;\n            if (i < stack.length) {\n              return await stack[i](ctx, () => dispatch(i + 1));\n            } else {\n              // Final handler: call the original method\n              return await this[`_original_${method}`](...ctx.args);\n            }\n          };\n          return await dispatch(0);\n        };\n      }\n    }\n  }\n\n  useMiddleware(method, fn) {\n    if (!this._middlewares) this._initMiddleware();\n    if (!this._middlewares.has(method)) throw new ResourceError(`No such method for middleware: ${method}`, { operation: 'useMiddleware', method });\n    this._middlewares.get(method).push(fn);\n  }\n\n  // Utility to apply schema default values\n  applyDefaults(data) {\n    const out = { ...data };\n    for (const [key, def] of Object.entries(this.attributes)) {\n      if (out[key] === undefined) {\n        if (typeof def === 'string' && def.includes('default:')) {\n          const match = def.match(/default:([^|]+)/);\n          if (match) {\n            let val = match[1];\n            // Convert to boolean/number if necessary\n            if (def.includes('boolean')) val = val === 'true';\n            else if (def.includes('number')) val = Number(val);\n            out[key] = val;\n          }\n        }\n      }\n    }\n    return out;\n  }\n\n}\n\n/**\n * Validate Resource configuration object\n * @param {Object} config - Configuration object to validate\n * @returns {Object} Validation result with isValid flag and errors array\n */\nfunction validateResourceConfig(config) {\n  const errors = [];\n\n  // Validate required fields\n  if (!config.name) {\n    errors.push(\"Resource 'name' is required\");\n  } else if (typeof config.name !== 'string') {\n    errors.push(\"Resource 'name' must be a string\");\n  } else if (config.name.trim() === '') {\n    errors.push(\"Resource 'name' cannot be empty\");\n  }\n\n  if (!config.client) {\n    errors.push(\"S3 'client' is required\");\n  }\n\n  // Validate attributes\n  if (!config.attributes) {\n    errors.push(\"Resource 'attributes' are required\");\n  } else if (typeof config.attributes !== 'object' || Array.isArray(config.attributes)) {\n    errors.push(\"Resource 'attributes' must be an object\");\n  } else if (Object.keys(config.attributes).length === 0) {\n    errors.push(\"Resource 'attributes' cannot be empty\");\n  }\n\n  // Validate optional fields with type checking\n  if (config.version !== undefined && typeof config.version !== 'string') {\n    errors.push(\"Resource 'version' must be a string\");\n  }\n\n  if (config.behavior !== undefined && typeof config.behavior !== 'string') {\n    errors.push(\"Resource 'behavior' must be a string\");\n  }\n\n  if (config.passphrase !== undefined && typeof config.passphrase !== 'string') {\n    errors.push(\"Resource 'passphrase' must be a string\");\n  }\n\n  if (config.parallelism !== undefined) {\n    if (typeof config.parallelism !== 'number' || !Number.isInteger(config.parallelism)) {\n      errors.push(\"Resource 'parallelism' must be an integer\");\n    } else if (config.parallelism < 1) {\n      errors.push(\"Resource 'parallelism' must be greater than 0\");\n    }\n  }\n\n  if (config.observers !== undefined && !Array.isArray(config.observers)) {\n    errors.push(\"Resource 'observers' must be an array\");\n  }\n\n  // Validate boolean fields\n  const booleanFields = ['cache', 'autoDecrypt', 'timestamps', 'paranoid', 'allNestedObjectsOptional'];\n  for (const field of booleanFields) {\n    if (config[field] !== undefined && typeof config[field] !== 'boolean') {\n      errors.push(`Resource '${field}' must be a boolean`);\n    }\n  }\n\n  // Validate idGenerator\n  if (config.idGenerator !== undefined) {\n    if (typeof config.idGenerator !== 'function' && typeof config.idGenerator !== 'number') {\n      errors.push(\"Resource 'idGenerator' must be a function or a number (size)\");\n    } else if (typeof config.idGenerator === 'number' && config.idGenerator <= 0) {\n      errors.push(\"Resource 'idGenerator' size must be greater than 0\");\n    }\n  }\n\n  // Validate idSize\n  if (config.idSize !== undefined) {\n    if (typeof config.idSize !== 'number' || !Number.isInteger(config.idSize)) {\n      errors.push(\"Resource 'idSize' must be an integer\");\n    } else if (config.idSize <= 0) {\n      errors.push(\"Resource 'idSize' must be greater than 0\");\n    }\n  }\n\n  // Validate partitions\n  if (config.partitions !== undefined) {\n    if (typeof config.partitions !== 'object' || Array.isArray(config.partitions)) {\n      errors.push(\"Resource 'partitions' must be an object\");\n    } else {\n      for (const [partitionName, partitionDef] of Object.entries(config.partitions)) {\n        if (typeof partitionDef !== 'object' || Array.isArray(partitionDef)) {\n          errors.push(`Partition '${partitionName}' must be an object`);\n        } else if (!partitionDef.fields) {\n          errors.push(`Partition '${partitionName}' must have a 'fields' property`);\n        } else if (typeof partitionDef.fields !== 'object' || Array.isArray(partitionDef.fields)) {\n          errors.push(`Partition '${partitionName}.fields' must be an object`);\n        } else {\n          for (const [fieldName, fieldType] of Object.entries(partitionDef.fields)) {\n            if (typeof fieldType !== 'string') {\n              errors.push(`Partition '${partitionName}.fields.${fieldName}' must be a string`);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // Validate hooks\n  if (config.hooks !== undefined) {\n    if (typeof config.hooks !== 'object' || Array.isArray(config.hooks)) {\n      errors.push(\"Resource 'hooks' must be an object\");\n    } else {\n      const validHookEvents = [\n        'beforeInsert', 'afterInsert',\n        'beforeUpdate', 'afterUpdate',\n        'beforeDelete', 'afterDelete',\n        'beforeGet', 'afterGet',\n        'beforeList', 'afterList',\n        'beforeQuery', 'afterQuery',\n        'beforeExists', 'afterExists',\n        'beforeCount', 'afterCount',\n        'beforePatch', 'afterPatch',\n        'beforeReplace', 'afterReplace',\n        'beforeGetMany', 'afterGetMany',\n        'beforeDeleteMany', 'afterDeleteMany'\n      ];\n      for (const [event, hooksArr] of Object.entries(config.hooks)) {\n        if (!validHookEvents.includes(event)) {\n          errors.push(`Invalid hook event '${event}'. Valid events: ${validHookEvents.join(', ')}`);\n        } else if (!Array.isArray(hooksArr)) {\n          errors.push(`Resource 'hooks.${event}' must be an array`);\n        } else {\n          for (let i = 0; i < hooksArr.length; i++) {\n            const hook = hooksArr[i];\n            // Only validate user-provided hooks for being functions\n            if (typeof hook !== 'function') {\n              // If the hook is a string (e.g., a placeholder or reference), skip error\n              if (typeof hook === 'string') continue;\n              // If the hook is not a function or string, skip error (system/plugin hooks)\n              continue;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  // Validate events\n  if (config.events !== undefined) {\n    if (typeof config.events !== 'object' || Array.isArray(config.events)) {\n      errors.push(\"Resource 'events' must be an object\");\n    } else {\n      for (const [eventName, listeners] of Object.entries(config.events)) {\n        if (Array.isArray(listeners)) {\n          // Multiple listeners for this event\n          for (let i = 0; i < listeners.length; i++) {\n            const listener = listeners[i];\n            if (typeof listener !== 'function') {\n              errors.push(`Resource 'events.${eventName}[${i}]' must be a function`);\n            }\n          }\n        } else if (typeof listeners !== 'function') {\n          errors.push(`Resource 'events.${eventName}' must be a function or array of functions`);\n        }\n      }\n    }\n  }\n\n  return {\n    isValid: errors.length === 0,\n    errors\n  };\n}\n\nexport default Resource;","import tryFn from \"#src/concerns/try-fn.js\";\nimport { S3db } from '#src/database.class.js';\nimport BaseReplicator from './base-replicator.class.js';\nimport { ReplicationError } from '../replicator.errors.js';\n\nfunction normalizeResourceName(name) {\n  return typeof name === 'string' ? name.trim().toLowerCase() : name;\n}\n\n/**\n * S3DB Replicator - Replicate data to another S3DB instance\n * \n * Configuration:\n * @param {string} connectionString - S3DB connection string for destination database (required)\n * @param {Object} client - Pre-configured S3DB client instance (alternative to connectionString)\n * @param {Object} resources - Resource mapping configuration\n * \n * @example\n * new S3dbReplicator({\n *   connectionString: \"s3://BACKUP_KEY:BACKUP_SECRET@BACKUP_BUCKET/backup\"\n * }, {\n *   users: 'backup_users',\n *   orders: {\n *     resource: 'order_backup',\n *     transformer: (data) => ({ ...data, backup_timestamp: new Date().toISOString() })\n *   }\n * })\n * \n * See PLUGINS.md for comprehensive configuration documentation.\n */\nclass S3dbReplicator extends BaseReplicator {\n  constructor(config = {}, resources = [], client = null) {\n    super(config);\n    this.instanceId = Math.random().toString(36).slice(2, 10);\n    this.client = client;\n    this.connectionString = config.connectionString;\n    // Robustness: ensure object\n    let normalizedResources = resources;\n    if (!resources) normalizedResources = {};\n    else if (Array.isArray(resources)) {\n      normalizedResources = {};\n      for (const res of resources) {\n        if (typeof res === 'string') normalizedResources[normalizeResourceName(res)] = res;\n      }\n    } else if (typeof resources === 'string') {\n      normalizedResources[normalizeResourceName(resources)] = resources;\n    }\n    this.resourcesMap = this._normalizeResources(normalizedResources);\n  }\n\n  _normalizeResources(resources) {\n    // Supports object, function, string, and arrays of destination configurations\n    if (!resources) return {};\n    if (Array.isArray(resources)) {\n      const map = {};\n      for (const res of resources) {\n        if (typeof res === 'string') map[normalizeResourceName(res)] = res;\n        else if (typeof res === 'object' && res.resource) {\n          // Objects with resource/transform/actions - keep as is\n          map[normalizeResourceName(res.resource)] = res;\n        }\n      }\n      return map;\n    }\n    if (typeof resources === 'object') {\n      const map = {};\n      for (const [src, dest] of Object.entries(resources)) {\n        const normSrc = normalizeResourceName(src);\n        if (typeof dest === 'string') map[normSrc] = dest;\n        else if (Array.isArray(dest)) {\n          // Array of multiple destinations - support multi-destination replication\n          map[normSrc] = dest.map(item => {\n            if (typeof item === 'string') return item;\n            if (typeof item === 'object' && item.resource) {\n              // Keep object items as is\n              return item;\n            }\n            return item;\n          });\n        } else if (typeof dest === 'function') map[normSrc] = dest;\n        else if (typeof dest === 'object' && dest.resource) {\n          // Support { resource, transform/transformer } format - keep as is\n          map[normSrc] = dest;\n        }\n      }\n      return map;\n    }\n    if (typeof resources === 'function') {\n      return resources;\n    }\n    return {};\n  }\n\n  validateConfig() {\n    const errors = [];\n    // Accept both arrays and objects for resources\n    if (!this.client && !this.connectionString) {\n      errors.push('You must provide a client or a connectionString');\n    }\n    if (!this.resourcesMap || (typeof this.resourcesMap === 'object' && Object.keys(this.resourcesMap).length === 0)) {\n      errors.push('You must provide a resources map or array');\n    }\n    return { isValid: errors.length === 0, errors };\n  }\n\n  async initialize(database) {\n    await super.initialize(database);\n    \n    const [ok, err] = await tryFn(async () => {\n      if (this.client) {\n        this.targetDatabase = this.client;\n      } else if (this.connectionString) {\n        const targetConfig = {\n          connectionString: this.connectionString,\n          region: this.region,\n          keyPrefix: this.keyPrefix,\n          verbose: this.config.verbose || false\n        };\n        this.targetDatabase = new S3db(targetConfig);\n        await this.targetDatabase.connect();\n      } else {\n        throw new ReplicationError('S3dbReplicator requires client or connectionString', {\n          operation: 'initialize',\n          replicatorClass: 'S3dbReplicator',\n          suggestion: 'Provide either a client instance or connectionString in config: { client: db } or { connectionString: \"s3://...\" }'\n        });\n      }\n      \n      this.emit('connected', { \n        replicator: this.name, \n        target: this.connectionString || 'client-provided'\n      });\n    });\n    \n    if (!ok) {\n      if (this.config.verbose) {\n        console.warn(`[S3dbReplicator] Initialization failed: ${err.message}`);\n      }\n      throw err;\n    }\n  }\n\n  // Support both object and parameter signatures for flexibility\n  async replicate(resourceOrObj, operation, data, recordId, beforeData) {\n    let resource, op, payload, id;\n    \n    // Handle object signature: { resource, operation, data, id }\n    if (typeof resourceOrObj === 'object' && resourceOrObj.resource) {\n      resource = resourceOrObj.resource;\n      op = resourceOrObj.operation;\n      payload = resourceOrObj.data;\n      id = resourceOrObj.id;\n    } else {\n      // Handle parameter signature: (resource, operation, data, recordId, beforeData)\n      resource = resourceOrObj;\n      op = operation;\n      payload = data;\n      id = recordId;\n    }\n    \n    const normResource = normalizeResourceName(resource);\n    const entry = this.resourcesMap[normResource];\n\n    if (!entry) {\n      throw new ReplicationError('Resource not configured for replication', {\n        operation: 'replicate',\n        replicatorClass: 'S3dbReplicator',\n        resourceName: resource,\n        configuredResources: Object.keys(this.resourcesMap),\n        suggestion: 'Add resource to replicator resources map: { resources: { [resourceName]: \"destination\" } }'\n      });\n    }\n\n    // Handle multi-destination arrays\n    if (Array.isArray(entry)) {\n      const results = [];\n      for (const destConfig of entry) {\n        const [ok, error, result] = await tryFn(async () => {\n          return await this._replicateToSingleDestination(destConfig, normResource, op, payload, id);\n        });\n        \n        if (!ok) {\n          if (this.config && this.config.verbose) {\n            console.warn(`[S3dbReplicator] Failed to replicate to destination ${JSON.stringify(destConfig)}: ${error.message}`);\n          }\n          throw error;\n        }\n        results.push(result);\n      }\n      return results;\n    } else {\n      // Single destination\n      const [ok, error, result] = await tryFn(async () => {\n        return await this._replicateToSingleDestination(entry, normResource, op, payload, id);\n      });\n      \n      if (!ok) {\n        if (this.config && this.config.verbose) {\n          console.warn(`[S3dbReplicator] Failed to replicate to destination ${JSON.stringify(entry)}: ${error.message}`);\n        }\n        throw error;\n      }\n      return result;\n    }\n  }\n\n  async _replicateToSingleDestination(destConfig, sourceResource, operation, data, recordId) {\n    // Determine destination resource name\n    let destResourceName;\n    if (typeof destConfig === 'string') {\n      destResourceName = destConfig;\n    } else if (typeof destConfig === 'object' && destConfig.resource) {\n      destResourceName = destConfig.resource;\n    } else {\n      destResourceName = sourceResource;\n    }\n\n    // Check if this destination supports the operation\n    if (typeof destConfig === 'object' && destConfig.actions && Array.isArray(destConfig.actions)) {\n      if (!destConfig.actions.includes(operation)) {\n        return { skipped: true, reason: 'action_not_supported', action: operation, destination: destResourceName };\n      }\n    }\n\n    const destResourceObj = this._getDestResourceObj(destResourceName);\n    \n    // Apply appropriate transformer for this destination\n    let transformedData;\n    if (typeof destConfig === 'object' && destConfig.transform && typeof destConfig.transform === 'function') {\n      transformedData = destConfig.transform(data);\n      // Ensure ID is preserved\n      if (transformedData && data && data.id && !transformedData.id) {\n        transformedData.id = data.id;\n      }\n    } else {\n      transformedData = data;\n    }\n\n    // Fallback: if transformer returns undefined/null, use original data\n    if (!transformedData && data) transformedData = data;\n\n    let result;\n    if (operation === 'insert') {\n      result = await destResourceObj.insert(transformedData);\n    } else if (operation === 'update') {\n      result = await destResourceObj.update(recordId, transformedData);\n    } else if (operation === 'delete') {\n      result = await destResourceObj.delete(recordId);\n    } else {\n      throw new ReplicationError(`Invalid replication operation: ${operation}`, {\n        operation: 'replicate',\n        replicatorClass: 'S3dbReplicator',\n        invalidOperation: operation,\n        supportedOperations: ['insert', 'update', 'delete'],\n        resourceName: sourceResource,\n        suggestion: 'Use one of the supported operations: insert, update, delete'\n      });\n    }\n    \n    return result;\n  }\n\n  _applyTransformer(resource, data) {\n    // First, clean internal fields that shouldn't go to target S3DB\n    let cleanData = this._cleanInternalFields(data);\n    \n    const normResource = normalizeResourceName(resource);\n    const entry = this.resourcesMap[normResource];\n    let result;\n    if (!entry) return cleanData;\n    \n    // Array of multiple destinations - use first transform found\n    if (Array.isArray(entry)) {\n      for (const item of entry) {\n        if (typeof item === 'object' && item.transform && typeof item.transform === 'function') {\n          result = item.transform(cleanData);\n          break;\n        }\n      }\n      if (!result) result = cleanData;\n    } else if (typeof entry === 'object') {\n      // Apply transform function if configured\n      if (typeof entry.transform === 'function') {\n        result = entry.transform(cleanData);\n      }\n    } else if (typeof entry === 'function') {\n      // Function directly as transformer\n      result = entry(cleanData);\n    } else {\n      result = cleanData;\n    }\n    \n    // Ensure that id is always present\n    if (result && cleanData && cleanData.id && !result.id) result.id = cleanData.id;\n    // Fallback: if transformer returns undefined/null, use original clean data\n    if (!result && cleanData) result = cleanData;\n    return result;\n  }\n\n  _cleanInternalFields(data) {\n    if (!data || typeof data !== 'object') return data;\n    \n    const cleanData = { ...data };\n    \n    // Remove internal fields that start with $ or _\n    Object.keys(cleanData).forEach(key => {\n      if (key.startsWith('$') || key.startsWith('_')) {\n        delete cleanData[key];\n      }\n    });\n    \n    return cleanData;\n  }\n\n  _resolveDestResource(resource, data) {\n    const normResource = normalizeResourceName(resource);\n    const entry = this.resourcesMap[normResource];\n    if (!entry) return resource;\n    \n    // Array of multiple destinations - use first resource found\n    if (Array.isArray(entry)) {\n      for (const item of entry) {\n        if (typeof item === 'string') return item;\n        if (typeof item === 'object' && item.resource) return item.resource;\n      }\n      return resource; // fallback\n    }\n    // String mapping\n    if (typeof entry === 'string') return entry;\n    // Mapping function - when there's only transformer, use original resource\n    if (typeof entry === 'function') return resource;\n    // Object: { resource, transform }\n    if (typeof entry === 'object' && entry.resource) return entry.resource;\n    return resource;\n  }\n\n  _getDestResourceObj(resource) {\n    const db = this.targetDatabase || this.client;\n    const available = Object.keys(db.resources || {});\n    const norm = normalizeResourceName(resource);\n    const found = available.find(r => normalizeResourceName(r) === norm);\n    if (!found) {\n      throw new ReplicationError('Destination resource not found in target database', {\n        operation: '_getDestResourceObj',\n        replicatorClass: 'S3dbReplicator',\n        destinationResource: resource,\n        availableResources: available,\n        suggestion: 'Create the resource in target database or check resource name spelling'\n      });\n    }\n    return db.resources[found];\n  }\n\n  async replicateBatch(resourceName, records) {\n    if (this.enabled === false) {\n      return { skipped: true, reason: 'replicator_disabled' };\n    }\n    if (!this.shouldReplicateResource(resourceName)) {\n      return { skipped: true, reason: 'resource_not_included' };\n    }\n\n    const results = [];\n    const errors = [];\n\n    for (const record of records) {\n      const [ok, err, result] = await tryFn(() => this.replicate({\n        resource: resourceName, \n        operation: record.operation, \n        id: record.id, \n        data: record.data, \n        beforeData: record.beforeData\n      }));\n      if (ok) {\n        results.push(result);\n      } else {\n        if (this.config.verbose) {\n          console.warn(`[S3dbReplicator] Batch replication failed for record ${record.id}: ${err.message}`);\n        }\n        errors.push({ id: record.id, error: err.message });\n      }\n    }\n\n    // Log errors if any occurred during batch processing\n    if (errors.length > 0) {\n      console.warn(`[S3dbReplicator] Batch replication completed with ${errors.length} error(s) for ${resourceName}:`, errors);\n    }\n\n    this.emit('batch_replicated', {\n      replicator: this.name,\n      resourceName,\n      total: records.length,\n      successful: results.length,\n      errors: errors.length\n    });\n\n    return { \n      success: errors.length === 0,\n      results,\n      errors,\n      total: records.length\n    };\n  }\n\n  async testConnection() {\n    const [ok, err] = await tryFn(async () => {\n      if (!this.targetDatabase) {\n        throw new ReplicationError('No target database configured for connection test', {\n          operation: 'testConnection',\n          replicatorClass: 'S3dbReplicator',\n          suggestion: 'Initialize replicator with client or connectionString before testing connection'\n        });\n      }\n\n      // Try to list resources to test connection\n      if (typeof this.targetDatabase.connect === 'function') {\n        await this.targetDatabase.connect();\n      }\n\n      return true;\n    });\n    \n    if (!ok) {\n      if (this.config.verbose) {\n        console.warn(`[S3dbReplicator] Connection test failed: ${err.message}`);\n      }\n      this.emit('connection_error', { replicator: this.name, error: err.message });\n      return false;\n    }\n    \n    return true;\n  }\n\n  async getStatus() {\n    const baseStatus = await super.getStatus();\n    return {\n      ...baseStatus,\n      connected: !!this.targetDatabase,\n      targetDatabase: this.connectionString || 'client-provided',\n      resources: Object.keys(this.resourcesMap || {}),\n      totalreplicators: this.listenerCount('replicated'),\n      totalErrors: this.listenerCount('replicator_error')\n    };\n  }\n\n  async cleanup() {\n    if (this.targetDatabase) {\n      // Close target database connection\n      this.targetDatabase.removeAllListeners();\n    }\n    await super.cleanup();\n  }\n\n  shouldReplicateResource(resource, action) {\n    const normResource = normalizeResourceName(resource);\n    const entry = this.resourcesMap[normResource];\n    if (!entry) return false;\n    \n    // If no action is specified, just check if resource is configured\n    if (!action) return true;\n    \n    // Array of multiple destinations - check if any supports the action\n    if (Array.isArray(entry)) {\n      for (const item of entry) {\n        if (typeof item === 'object' && item.resource) {\n          if (item.actions && Array.isArray(item.actions)) {\n            if (item.actions.includes(action)) return true;\n          } else {\n            return true; // If no actions specified, accept all\n          }\n        } else if (typeof item === 'string') {\n          return true; // String destinations accept all actions\n        }\n      }\n      return false;\n    }\n    \n    if (typeof entry === 'object' && entry.resource) {\n      if (entry.actions && Array.isArray(entry.actions)) {\n        return entry.actions.includes(action);\n      }\n      return true;\n    }\n    if (typeof entry === 'string' || typeof entry === 'function') {\n      return true;\n    }\n    return false;\n  }\n}\n\nexport default S3dbReplicator; ","import tryFn from \"#src/concerns/try-fn.js\";\nimport requirePluginDependency from \"#src/plugins/concerns/plugin-dependencies.js\";\nimport BaseReplicator from './base-replicator.class.js';\n\n/**\n * SQS Replicator - Send data changes to AWS SQS queues\n * \n * ⚠️  REQUIRED DEPENDENCY: You must install the AWS SQS SDK:\n * ```bash\n * pnpm add @aws-sdk/client-sqs\n * ```\n * \n * Configuration:\n * @param {string} region - AWS region (required)\n * @param {string} queueUrl - Single queue URL for all resources\n * @param {Object} queues - Resource-specific queue mapping { resource: queueUrl }\n * @param {string} defaultQueueUrl - Fallback queue URL\n * @param {string} messageGroupId - Message group ID for FIFO queues\n * @param {boolean} deduplicationId - Enable deduplication for FIFO queues\n * @param {Object} credentials - AWS credentials (optional, uses default if omitted)\n * \n * @example\n * new SqsReplicator({\n *   region: 'us-east-1',\n *   queueUrl: 'https://sqs.us-east-1.amazonaws.com/123456789012/events-queue'\n * }, ['users', 'orders'])\n * \n * See PLUGINS.md for comprehensive configuration documentation.\n */\nclass SqsReplicator extends BaseReplicator {\n  constructor(config = {}, resources = [], client = null) {\n    super(config);\n    this.client = client;\n    this.queueUrl = config.queueUrl;\n    this.queues = config.queues || {};\n    this.defaultQueue = config.defaultQueue || null;\n    this.region = config.region || 'us-east-1';\n    this.sqsClient = client || null;\n    this.messageGroupId = config.messageGroupId;\n    this.deduplicationId = config.deduplicationId;\n    this.resourceQueueMap = config.resourceQueueMap || null;\n    \n    // Normalize resources to object format\n    if (Array.isArray(resources)) {\n      this.resources = {};\n      for (const resource of resources) {\n        if (typeof resource === 'string') {\n          this.resources[resource] = true;\n        } else if (typeof resource === 'object' && resource.name) {\n          this.resources[resource.name] = resource;\n        }\n      }\n    } else if (typeof resources === 'object') {\n      this.resources = resources;\n      // Build queues from resources configuration\n      for (const [resourceName, resourceConfig] of Object.entries(resources)) {\n        if (resourceConfig && resourceConfig.queueUrl) {\n          this.queues[resourceName] = resourceConfig.queueUrl;\n        }\n      }\n    } else {\n      this.resources = {};\n    }\n  }\n\n  validateConfig() {\n    const errors = [];\n    if (!this.queueUrl && Object.keys(this.queues).length === 0 && !this.defaultQueue && !this.resourceQueueMap) {\n      errors.push('Either queueUrl, queues object, defaultQueue, or resourceQueueMap must be provided');\n    }\n    return {\n      isValid: errors.length === 0,\n      errors\n    };\n  }\n\n  getQueueUrlsForResource(resource) {\n    // Prefer resourceQueueMap if present\n    if (this.resourceQueueMap && this.resourceQueueMap[resource]) {\n      return this.resourceQueueMap[resource];\n    }\n    if (this.queues[resource]) {\n      return [this.queues[resource]];\n    }\n    if (this.queueUrl) {\n      return [this.queueUrl];\n    }\n    if (this.defaultQueue) {\n      return [this.defaultQueue];\n    }\n    throw new Error(`No queue URL found for resource '${resource}'`);\n  }\n\n  _applyTransformer(resource, data) {\n    // First, clean internal fields that shouldn't go to SQS\n    let cleanData = this._cleanInternalFields(data);\n\n    const entry = this.resources[resource];\n    let result = cleanData;\n\n    if (!entry) return cleanData;\n\n    // Apply transform function if configured\n    if (typeof entry.transform === 'function') {\n      result = entry.transform(cleanData);\n    }\n\n    return result || cleanData;\n  }\n\n  _cleanInternalFields(data) {\n    if (!data || typeof data !== 'object') return data;\n    \n    const cleanData = { ...data };\n    \n    // Remove internal fields that start with $ or _\n    Object.keys(cleanData).forEach(key => {\n      if (key.startsWith('$') || key.startsWith('_')) {\n        delete cleanData[key];\n      }\n    });\n    \n    return cleanData;\n  }\n\n  /**\n   * Create standardized message structure\n   */\n  createMessage(resource, operation, data, id, beforeData = null) {\n    const baseMessage = {\n      resource: resource, // padronizado para 'resource'\n      action: operation,\n      timestamp: new Date().toISOString(),\n      source: 's3db-replicator'\n    };\n\n    switch (operation) {\n      case 'insert':\n        return {\n          ...baseMessage,\n          data: data\n        };\n      case 'update':\n        return {\n          ...baseMessage,\n          before: beforeData,\n          data: data\n        };\n      case 'delete':\n        return {\n          ...baseMessage,\n          data: data\n        };\n      default:\n        return {\n          ...baseMessage,\n          data: data\n        };\n    }\n  }\n\n  async initialize(database, client) {\n    await super.initialize(database);\n\n    // Validate plugin dependencies are installed\n    await requirePluginDependency('sqs-replicator');\n\n    if (!this.sqsClient) {\n      const [ok, err, sdk] = await tryFn(() => import('@aws-sdk/client-sqs'));\n      if (!ok) {\n        if (this.config.verbose) {\n          console.warn(`[SqsReplicator] Failed to import SQS SDK: ${err.message}`);\n        }\n        this.emit('initialization_error', {\n          replicator: this.name,\n          error: err.message\n        });\n        throw err;\n      }\n      const { SQSClient } = sdk;\n      this.sqsClient = client || new SQSClient({\n        region: this.region,\n        credentials: this.config.credentials\n      });\n      this.emit('initialized', { \n        replicator: this.name, \n        queueUrl: this.queueUrl,\n        queues: this.queues,\n        defaultQueue: this.defaultQueue\n      });\n    }\n  }\n\n  async replicate(resource, operation, data, id, beforeData = null) {\n    if (this.enabled === false) {\n      return { skipped: true, reason: 'replicator_disabled' };\n    }\n    if (!this.shouldReplicateResource(resource)) {\n      return { skipped: true, reason: 'resource_not_included' };\n    }\n    const [ok, err, result] = await tryFn(async () => {\n      const { SendMessageCommand } = await import('@aws-sdk/client-sqs');\n      const queueUrls = this.getQueueUrlsForResource(resource);\n      // Apply transformation before creating message\n      const transformedData = this._applyTransformer(resource, data);\n      const message = this.createMessage(resource, operation, transformedData, id, beforeData);\n      const results = [];\n      for (const queueUrl of queueUrls) {\n        const command = new SendMessageCommand({\n          QueueUrl: queueUrl,\n          MessageBody: JSON.stringify(message),\n          MessageGroupId: this.messageGroupId,\n          MessageDeduplicationId: this.deduplicationId ? `${resource}:${operation}:${id}` : undefined\n        });\n        const result = await this.sqsClient.send(command);\n        results.push({ queueUrl, messageId: result.MessageId });\n        this.emit('replicated', {\n          replicator: this.name,\n          resource,\n          operation,\n          id,\n          queueUrl,\n          messageId: result.MessageId,\n          success: true\n        });\n      }\n      return { success: true, results };\n    });\n    if (ok) return result;\n    if (this.config.verbose) {\n      console.warn(`[SqsReplicator] Replication failed for ${resource}: ${err.message}`);\n    }\n    this.emit('replicator_error', {\n      replicator: this.name,\n      resource,\n      operation,\n      id,\n      error: err.message\n    });\n    return { success: false, error: err.message };\n  }\n\n  async replicateBatch(resource, records) {\n    if (this.enabled === false) {\n      return { skipped: true, reason: 'replicator_disabled' };\n    }\n    if (!this.shouldReplicateResource(resource)) {\n      return { skipped: true, reason: 'resource_not_included' };\n    }\n    const [ok, err, result] = await tryFn(async () => {\n      const { SendMessageBatchCommand } = await import('@aws-sdk/client-sqs');\n      const queueUrls = this.getQueueUrlsForResource(resource);\n      // SQS batch limit is 10 messages\n      const batchSize = 10;\n      const batches = [];\n      for (let i = 0; i < records.length; i += batchSize) {\n        batches.push(records.slice(i, i + batchSize));\n      }\n      const results = [];\n      const errors = [];\n      for (const batch of batches) {\n        const [okBatch, errBatch] = await tryFn(async () => {\n          const entries = batch.map((record, index) => ({\n            Id: `${record.id}-${index}`,\n            MessageBody: JSON.stringify(this.createMessage(\n              resource, \n              record.operation, \n              record.data, \n              record.id, \n              record.beforeData\n            )),\n            MessageGroupId: this.messageGroupId,\n            MessageDeduplicationId: this.deduplicationId ? \n              `${resource}:${record.operation}:${record.id}` : undefined\n          }));\n          const command = new SendMessageBatchCommand({\n            QueueUrl: queueUrls[0], // Assuming all queueUrls in a batch are the same for batching\n            Entries: entries\n          });\n          const result = await this.sqsClient.send(command);\n          results.push(result);\n        });\n        if (!okBatch) {\n          errors.push({ batch: batch.length, error: errBatch.message });\n          // If this is a critical error (like connection failure), fail the entire operation\n          if (errBatch.message && (errBatch.message.includes('Batch error') || errBatch.message.includes('Connection') || errBatch.message.includes('Network'))) {\n            throw errBatch;\n          }\n        }\n      }\n      // Log errors if any occurred during batch processing\n      if (errors.length > 0) {\n        console.warn(`[SqsReplicator] Batch replication completed with ${errors.length} error(s) for ${resource}:`, errors);\n      }\n      \n      this.emit('batch_replicated', {\n        replicator: this.name,\n        resource,\n        queueUrl: queueUrls[0], // Assuming all queueUrls in a batch are the same for batching\n        total: records.length,\n        successful: results.length,\n        errors: errors.length\n      });\n      return { \n        success: errors.length === 0,\n        results,\n        errors,\n        total: records.length,\n        queueUrl: queueUrls[0] // Assuming all queueUrls in a batch are the same for batching\n      };\n    });\n    if (ok) return result;\n    const errorMessage = err?.message || err || 'Unknown error';\n    if (this.config.verbose) {\n      console.warn(`[SqsReplicator] Batch replication failed for ${resource}: ${errorMessage}`);\n    }\n    this.emit('batch_replicator_error', {\n      replicator: this.name,\n      resource,\n      error: errorMessage\n    });\n    return { success: false, error: errorMessage };\n  }\n\n  async testConnection() {\n    const [ok, err] = await tryFn(async () => {\n      if (!this.sqsClient) {\n        await this.initialize(this.database);\n      }\n      // Try to get queue attributes to test connection\n      const { GetQueueAttributesCommand } = await import('@aws-sdk/client-sqs');\n      const command = new GetQueueAttributesCommand({\n        QueueUrl: this.queueUrl,\n        AttributeNames: ['QueueArn']\n      });\n      await this.sqsClient.send(command);\n      return true;\n    });\n    if (ok) return true;\n    if (this.config.verbose) {\n      console.warn(`[SqsReplicator] Connection test failed: ${err.message}`);\n    }\n    this.emit('connection_error', {\n      replicator: this.name,\n      error: err.message\n    });\n    return false;\n  }\n\n  async getStatus() {\n    const baseStatus = await super.getStatus();\n    return {\n      ...baseStatus,\n      connected: !!this.sqsClient,\n      queueUrl: this.queueUrl,\n      region: this.region,\n      resources: Object.keys(this.resources || {}),\n      totalreplicators: this.listenerCount('replicated'),\n      totalErrors: this.listenerCount('replicator_error')\n    };\n  }\n\n  async cleanup() {\n    if (this.sqsClient) {\n      this.sqsClient.destroy();\n    }\n    await super.cleanup();\n  }\n\n  shouldReplicateResource(resource) {\n    // Return true if:\n    // 1. Resource has a specific queue mapping, OR\n    // 2. Resource has a queue in the queues object, OR  \n    // 3. A default queue is configured (accepts all resources), OR\n    // 4. Resource is in the resources list (if provided)\n    const result = (this.resourceQueueMap && Object.keys(this.resourceQueueMap).includes(resource))\n      || (this.queues && Object.keys(this.queues).includes(resource))\n      || !!(this.defaultQueue || this.queueUrl) // Default queue accepts all resources\n      || (this.resources && Object.keys(this.resources).includes(resource))\n      || false;\n    return result;\n  }\n}\n\nexport default SqsReplicator; ","import tryFn from \"#src/concerns/try-fn.js\";\nimport requirePluginDependency from \"#src/plugins/concerns/plugin-dependencies.js\";\nimport BaseReplicator from './base-replicator.class.js';\nimport { ReplicationError } from '../replicator.errors.js';\nimport {\n  generateSQLiteCreateTable,\n  generateSQLiteAlterTable\n} from './schema-sync.helper.js';\n\n/**\n * Turso Replicator - Replicate data to Turso (SQLite edge database)\n *\n * ⚠️  REQUIRED DEPENDENCY: You must install the Turso client library:\n * ```bash\n * pnpm add @libsql/client\n * ```\n *\n * Configuration:\n * @param {string} url - Turso database URL (required) - e.g., 'libsql://your-db.turso.io'\n * @param {string} authToken - Turso authentication token (required)\n * @param {Object} schemaSync - Schema synchronization configuration\n * @param {boolean} schemaSync.enabled - Enable automatic schema management (default: false)\n * @param {string} schemaSync.strategy - Sync strategy: 'alter' | 'drop-create' | 'validate-only' (default: 'alter')\n * @param {string} schemaSync.onMismatch - Action on schema mismatch: 'error' | 'warn' | 'ignore' (default: 'error')\n * @param {boolean} schemaSync.autoCreateTable - Auto-create table if not exists (default: true)\n * @param {boolean} schemaSync.autoCreateColumns - Auto-add missing columns (default: true, only with strategy: 'alter')\n *\n * @example\n * new TursoReplicator({\n *   url: 'libsql://my-db-user.turso.io',\n *   authToken: process.env.TURSO_AUTH_TOKEN,\n *   schemaSync: {\n *     enabled: true,\n *     strategy: 'alter',\n *     onMismatch: 'error'\n *   }\n * }, {\n *   users: [{ actions: ['insert', 'update'], table: 'users_table' }],\n *   orders: 'orders_table'\n * })\n *\n * See docs/plugins/replicator.md for comprehensive configuration documentation.\n */\nclass TursoReplicator extends BaseReplicator {\n  constructor(config = {}, resources = {}) {\n    super(config);\n    this.url = config.url;\n    this.authToken = config.authToken;\n    this.client = null;\n\n    // Schema sync configuration\n    this.schemaSync = {\n      enabled: config.schemaSync?.enabled || false,\n      strategy: config.schemaSync?.strategy || 'alter',\n      onMismatch: config.schemaSync?.onMismatch || 'error',\n      autoCreateTable: config.schemaSync?.autoCreateTable !== false,\n      autoCreateColumns: config.schemaSync?.autoCreateColumns !== false\n    };\n\n    // Parse resources configuration\n    this.resources = this.parseResourcesConfig(resources);\n  }\n\n  parseResourcesConfig(resources) {\n    const parsed = {};\n\n    for (const [resourceName, config] of Object.entries(resources)) {\n      if (typeof config === 'string') {\n        parsed[resourceName] = [{\n          table: config,\n          actions: ['insert']\n        }];\n      } else if (Array.isArray(config)) {\n        parsed[resourceName] = config.map(item => {\n          if (typeof item === 'string') {\n            return { table: item, actions: ['insert'] };\n          }\n          return {\n            table: item.table,\n            actions: item.actions || ['insert']\n          };\n        });\n      } else if (typeof config === 'object') {\n        parsed[resourceName] = [{\n          table: config.table,\n          actions: config.actions || ['insert']\n        }];\n      }\n    }\n\n    return parsed;\n  }\n\n  validateConfig() {\n    const errors = [];\n    if (!this.url) errors.push('URL is required');\n    if (!this.authToken) errors.push('Auth token is required');\n    if (Object.keys(this.resources).length === 0) {\n      errors.push('At least one resource must be configured');\n    }\n\n    for (const [resourceName, tables] of Object.entries(this.resources)) {\n      for (const tableConfig of tables) {\n        if (!tableConfig.table) {\n          errors.push(`Table name is required for resource '${resourceName}'`);\n        }\n        if (!Array.isArray(tableConfig.actions) || tableConfig.actions.length === 0) {\n          errors.push(`Actions array is required for resource '${resourceName}'`);\n        }\n      }\n    }\n\n    return { isValid: errors.length === 0, errors };\n  }\n\n  async initialize(database) {\n    await super.initialize(database);\n\n    // Validate plugin dependencies are installed\n    await requirePluginDependency('turso-replicator');\n\n    const [ok, err, sdk] = await tryFn(() => import('@libsql/client'));\n    if (!ok) {\n      throw new ReplicationError('Failed to import Turso SDK', {\n        operation: 'initialize',\n        replicatorClass: 'TursoReplicator',\n        original: err,\n        suggestion: 'Install @libsql/client: pnpm add @libsql/client'\n      });\n    }\n\n    const { createClient } = sdk;\n    this.client = createClient({\n      url: this.url,\n      authToken: this.authToken\n    });\n\n    // Test connection\n    const [okTest, errTest] = await tryFn(async () => {\n      await this.client.execute('SELECT 1');\n    });\n\n    if (!okTest) {\n      throw new ReplicationError('Failed to connect to Turso database', {\n        operation: 'initialize',\n        replicatorClass: 'TursoReplicator',\n        url: this.url,\n        original: errTest,\n        suggestion: 'Check Turso URL and auth token'\n      });\n    }\n\n    // Sync schemas if enabled\n    if (this.schemaSync.enabled) {\n      await this.syncSchemas(database);\n    }\n\n    this.emit('connected', {\n      replicator: 'TursoReplicator',\n      url: this.url\n    });\n  }\n\n  /**\n   * Sync table schemas based on S3DB resource definitions\n   */\n  async syncSchemas(database) {\n    for (const [resourceName, tableConfigs] of Object.entries(this.resources)) {\n      const [okRes, errRes, resource] = await tryFn(async () => {\n        return await database.getResource(resourceName);\n      });\n\n      if (!okRes) {\n        if (this.config.verbose) {\n          console.warn(`[TursoReplicator] Could not get resource ${resourceName} for schema sync: ${errRes.message}`);\n        }\n        continue;\n      }\n\n      const attributes = resource.config.versions[resource.config.currentVersion]?.attributes || {};\n\n      for (const tableConfig of tableConfigs) {\n        const tableName = tableConfig.table;\n\n        const [okSync, errSync] = await tryFn(async () => {\n          await this.syncTableSchema(tableName, attributes);\n        });\n\n        if (!okSync) {\n          const message = `Schema sync failed for table ${tableName}: ${errSync.message}`;\n\n          if (this.schemaSync.onMismatch === 'error') {\n            throw new Error(message);\n          } else if (this.schemaSync.onMismatch === 'warn') {\n            console.warn(`[TursoReplicator] ${message}`);\n          }\n        }\n      }\n    }\n\n    this.emit('schema_sync_completed', {\n      replicator: this.name,\n      resources: Object.keys(this.resources)\n    });\n  }\n\n  /**\n   * Sync a single table schema\n   */\n  async syncTableSchema(tableName, attributes) {\n    // Check if table exists\n    const [okCheck, errCheck, result] = await tryFn(async () => {\n      return await this.client.execute({\n        sql: \"SELECT name FROM sqlite_master WHERE type='table' AND name=?\",\n        args: [tableName]\n      });\n    });\n\n    const tableExists = okCheck && result.rows.length > 0;\n\n    if (!tableExists) {\n      if (!this.schemaSync.autoCreateTable) {\n        throw new Error(`Table ${tableName} does not exist and autoCreateTable is disabled`);\n      }\n\n      if (this.schemaSync.strategy === 'validate-only') {\n        throw new Error(`Table ${tableName} does not exist (validate-only mode)`);\n      }\n\n      // Create table\n      const createSQL = generateSQLiteCreateTable(tableName, attributes);\n\n      if (this.config.verbose) {\n        console.log(`[TursoReplicator] Creating table ${tableName}:\\n${createSQL}`);\n      }\n\n      await this.client.execute(createSQL);\n\n      this.emit('table_created', {\n        replicator: this.name,\n        tableName,\n        attributes: Object.keys(attributes)\n      });\n\n      return;\n    }\n\n    // Table exists - check for schema changes\n    if (this.schemaSync.strategy === 'drop-create') {\n      if (this.config.verbose) {\n        console.warn(`[TursoReplicator] Dropping and recreating table ${tableName}`);\n      }\n\n      await this.client.execute(`DROP TABLE IF EXISTS ${tableName}`);\n      const createSQL = generateSQLiteCreateTable(tableName, attributes);\n      await this.client.execute(createSQL);\n\n      this.emit('table_recreated', {\n        replicator: this.name,\n        tableName,\n        attributes: Object.keys(attributes)\n      });\n\n      return;\n    }\n\n    if (this.schemaSync.strategy === 'alter' && this.schemaSync.autoCreateColumns) {\n      // Get existing columns\n      const [okPragma, errPragma, pragmaResult] = await tryFn(async () => {\n        return await this.client.execute(`PRAGMA table_info(${tableName})`);\n      });\n\n      if (okPragma) {\n        const existingSchema = {};\n        for (const row of pragmaResult.rows) {\n          existingSchema[row.name] = { type: row.type };\n        }\n\n        const alterStatements = generateSQLiteAlterTable(tableName, attributes, existingSchema);\n\n        if (alterStatements.length > 0) {\n          if (this.config.verbose) {\n            console.log(`[TursoReplicator] Altering table ${tableName}:`, alterStatements);\n          }\n\n          for (const stmt of alterStatements) {\n            await this.client.execute(stmt);\n          }\n\n          this.emit('table_altered', {\n            replicator: this.name,\n            tableName,\n            addedColumns: alterStatements.length\n          });\n        }\n      }\n    }\n  }\n\n  shouldReplicateResource(resourceName) {\n    return this.resources.hasOwnProperty(resourceName);\n  }\n\n  shouldReplicateAction(resourceName, operation) {\n    if (!this.resources[resourceName]) return false;\n\n    return this.resources[resourceName].some(tableConfig =>\n      tableConfig.actions.includes(operation)\n    );\n  }\n\n  getTablesForResource(resourceName, operation) {\n    if (!this.resources[resourceName]) return [];\n\n    return this.resources[resourceName]\n      .filter(tableConfig => tableConfig.actions.includes(operation))\n      .map(tableConfig => tableConfig.table);\n  }\n\n  async replicate(resourceName, operation, data, id, beforeData = null) {\n    if (!this.enabled || !this.shouldReplicateResource(resourceName)) {\n      return { skipped: true, reason: 'resource_not_included' };\n    }\n\n    if (!this.shouldReplicateAction(resourceName, operation)) {\n      return { skipped: true, reason: 'action_not_included' };\n    }\n\n    const tables = this.getTablesForResource(resourceName, operation);\n    if (tables.length === 0) {\n      return { skipped: true, reason: 'no_tables_for_action' };\n    }\n\n    const results = [];\n    const errors = [];\n\n    for (const table of tables) {\n      const [okTable, errTable] = await tryFn(async () => {\n        if (operation === 'insert') {\n          const cleanData = this._cleanInternalFields(data);\n          const keys = Object.keys(cleanData);\n          const values = keys.map(k => cleanData[k]);\n          const placeholders = keys.map((_, i) => `?`).join(', ');\n          const sql = `INSERT OR IGNORE INTO ${table} (${keys.join(', ')}) VALUES (${placeholders})`;\n          await this.client.execute({ sql, args: values });\n        } else if (operation === 'update') {\n          const cleanData = this._cleanInternalFields(data);\n          const keys = Object.keys(cleanData).filter(k => k !== 'id');\n          const setClause = keys.map(k => `${k}=?`).join(', ');\n          const values = keys.map(k => cleanData[k]);\n          values.push(id);\n          const sql = `UPDATE ${table} SET ${setClause} WHERE id=?`;\n          await this.client.execute({ sql, args: values });\n        } else if (operation === 'delete') {\n          const sql = `DELETE FROM ${table} WHERE id=?`;\n          await this.client.execute({ sql, args: [id] });\n        }\n\n        results.push({ table, success: true });\n      });\n\n      if (!okTable) {\n        errors.push({ table, error: errTable.message });\n      }\n    }\n\n    const success = errors.length === 0;\n\n    this.emit('replicated', {\n      replicator: this.name,\n      resourceName,\n      operation,\n      id,\n      tables,\n      results,\n      errors,\n      success\n    });\n\n    return { success, results, errors, tables };\n  }\n\n  _cleanInternalFields(data) {\n    if (!data || typeof data !== 'object') return data;\n\n    const cleanData = { ...data };\n\n    Object.keys(cleanData).forEach(key => {\n      if (key.startsWith('$') || key.startsWith('_')) {\n        delete cleanData[key];\n      }\n    });\n\n    return cleanData;\n  }\n\n  async cleanup() {\n    if (this.client) {\n      this.client.close();\n      this.client = null;\n    }\n  }\n\n  async getStatus() {\n    const baseStatus = await super.getStatus();\n    return {\n      ...baseStatus,\n      connected: !!this.client,\n      url: this.url,\n      resources: Object.keys(this.resources),\n      schemaSync: this.schemaSync\n    };\n  }\n}\n\nexport default TursoReplicator;\n","import tryFn from \"#src/concerns/try-fn.js\";\nimport BaseReplicator from './base-replicator.class.js';\n\n/**\n * Webhook Replicator - Send data changes to HTTP endpoints\n *\n * Sends database changes to webhook endpoints via HTTP POST requests.\n * Supports multiple authentication methods, custom headers, retries, and transformers.\n *\n * Configuration:\n * @param {string} url - Webhook endpoint URL (required)\n * @param {string} method - HTTP method (default: 'POST')\n * @param {Object} auth - Authentication configuration\n * @param {string} auth.type - Auth type: 'bearer', 'basic', 'apikey'\n * @param {string} auth.token - Bearer token\n * @param {string} auth.username - Basic auth username\n * @param {string} auth.password - Basic auth password\n * @param {string} auth.header - API key header name\n * @param {string} auth.value - API key value\n * @param {Object} headers - Custom headers to send\n * @param {number} timeout - Request timeout in ms (default: 5000)\n * @param {number} retries - Number of retry attempts (default: 3)\n * @param {number} retryDelay - Delay between retries in ms (default: 1000)\n * @param {string} retryStrategy - 'fixed' or 'exponential' (default: 'exponential')\n * @param {Array<number>} retryOnStatus - Status codes to retry (default: [429, 500, 502, 503, 504])\n * @param {boolean} batch - Enable batch mode (default: false)\n * @param {number} batchSize - Max records per batch request (default: 100)\n *\n * @example\n * // Bearer token authentication\n * new WebhookReplicator({\n *   url: 'https://api.example.com/webhook',\n *   auth: {\n *     type: 'bearer',\n *     token: 'your-secret-token'\n *   },\n *   headers: {\n *     'Content-Type': 'application/json',\n *     'X-Custom-Header': 'value'\n *   },\n *   timeout: 10000,\n *   retries: 3\n * }, ['users', 'orders'])\n *\n * @example\n * // Basic authentication\n * new WebhookReplicator({\n *   url: 'https://api.example.com/webhook',\n *   auth: {\n *     type: 'basic',\n *     username: 'user',\n *     password: 'pass'\n *   }\n * })\n *\n * @example\n * // API Key authentication\n * new WebhookReplicator({\n *   url: 'https://api.example.com/webhook',\n *   auth: {\n *     type: 'apikey',\n *     header: 'X-API-Key',\n *     value: 'your-api-key'\n *   }\n * })\n *\n * @example\n * // With resource transformers\n * new WebhookReplicator({\n *   url: 'https://api.example.com/webhook',\n *   resources: {\n *     users: (data) => ({\n *       ...data,\n *       source: 's3db',\n *       transformedAt: new Date().toISOString()\n *     })\n *   }\n * })\n */\nclass WebhookReplicator extends BaseReplicator {\n  constructor(config = {}, resources = [], client = null) {\n    super(config);\n\n    // Required\n    this.url = config.url;\n    if (!this.url) {\n      throw new Error('WebhookReplicator requires a \"url\" configuration');\n    }\n\n    // HTTP settings\n    this.method = (config.method || 'POST').toUpperCase();\n    this.headers = config.headers || {};\n    this.timeout = config.timeout || 5000;\n\n    // Retry settings\n    this.retries = config.retries ?? 3;\n    this.retryDelay = config.retryDelay || 1000;\n    this.retryStrategy = config.retryStrategy || 'exponential';\n    this.retryOnStatus = config.retryOnStatus || [429, 500, 502, 503, 504];\n\n    // Batch settings\n    this.batch = config.batch || false;\n    this.batchSize = config.batchSize || 100;\n\n    // Authentication\n    this.auth = config.auth || null;\n\n    // Resource configuration\n    if (Array.isArray(resources)) {\n      this.resources = {};\n      for (const resource of resources) {\n        if (typeof resource === 'string') {\n          this.resources[resource] = true;\n        } else if (typeof resource === 'object' && resource.name) {\n          this.resources[resource.name] = resource;\n        }\n      }\n    } else if (typeof resources === 'object') {\n      this.resources = resources;\n    } else {\n      this.resources = {};\n    }\n\n    // Statistics\n    this.stats = {\n      totalRequests: 0,\n      successfulRequests: 0,\n      failedRequests: 0,\n      retriedRequests: 0,\n      totalRetries: 0\n    };\n  }\n\n  validateConfig() {\n    const errors = [];\n\n    if (!this.url) {\n      errors.push('URL is required');\n    }\n\n    // Validate URL format\n    try {\n      new URL(this.url);\n    } catch (err) {\n      errors.push(`Invalid URL format: ${this.url}`);\n    }\n\n    // Validate auth configuration\n    if (this.auth) {\n      if (!this.auth.type) {\n        errors.push('auth.type is required when auth is configured');\n      } else if (!['bearer', 'basic', 'apikey'].includes(this.auth.type)) {\n        errors.push('auth.type must be one of: bearer, basic, apikey');\n      }\n\n      if (this.auth.type === 'bearer' && !this.auth.token) {\n        errors.push('auth.token is required for bearer authentication');\n      }\n\n      if (this.auth.type === 'basic' && (!this.auth.username || !this.auth.password)) {\n        errors.push('auth.username and auth.password are required for basic authentication');\n      }\n\n      if (this.auth.type === 'apikey' && (!this.auth.header || !this.auth.value)) {\n        errors.push('auth.header and auth.value are required for API key authentication');\n      }\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors\n    };\n  }\n\n  /**\n   * Build headers with authentication\n   * @returns {Object} Headers object\n   */\n  _buildHeaders() {\n    const headers = {\n      'Content-Type': 'application/json',\n      'User-Agent': 's3db-webhook-replicator',\n      ...this.headers\n    };\n\n    if (this.auth) {\n      switch (this.auth.type) {\n        case 'bearer':\n          headers['Authorization'] = `Bearer ${this.auth.token}`;\n          break;\n\n        case 'basic':\n          const credentials = Buffer.from(`${this.auth.username}:${this.auth.password}`).toString('base64');\n          headers['Authorization'] = `Basic ${credentials}`;\n          break;\n\n        case 'apikey':\n          headers[this.auth.header] = this.auth.value;\n          break;\n      }\n    }\n\n    return headers;\n  }\n\n  /**\n   * Apply resource transformer if configured\n   * @param {string} resource - Resource name\n   * @param {Object} data - Data to transform\n   * @returns {Object} Transformed data\n   */\n  _applyTransformer(resource, data) {\n    // Clean internal fields\n    let cleanData = this._cleanInternalFields(data);\n\n    const entry = this.resources[resource];\n    let result = cleanData;\n\n    if (!entry) return cleanData;\n\n    // Apply transform function if configured\n    if (typeof entry.transform === 'function') {\n      result = entry.transform(cleanData);\n    }\n\n    return result || cleanData;\n  }\n\n  /**\n   * Remove internal fields from data\n   * @param {Object} data - Data object\n   * @returns {Object} Cleaned data\n   */\n  _cleanInternalFields(data) {\n    if (!data || typeof data !== 'object') return data;\n\n    const cleanData = { ...data };\n\n    // Remove fields starting with $ or _\n    Object.keys(cleanData).forEach(key => {\n      if (key.startsWith('$') || key.startsWith('_')) {\n        delete cleanData[key];\n      }\n    });\n\n    return cleanData;\n  }\n\n  /**\n   * Create standardized webhook payload\n   * @param {string} resource - Resource name\n   * @param {string} operation - Operation type\n   * @param {Object} data - Record data\n   * @param {string} id - Record ID\n   * @param {Object} beforeData - Before data (for updates)\n   * @returns {Object} Webhook payload\n   */\n  createPayload(resource, operation, data, id, beforeData = null) {\n    const basePayload = {\n      resource: resource,\n      action: operation,\n      timestamp: new Date().toISOString(),\n      source: 's3db-webhook-replicator'\n    };\n\n    switch (operation) {\n      case 'insert':\n        return {\n          ...basePayload,\n          data: data\n        };\n      case 'update':\n        return {\n          ...basePayload,\n          before: beforeData,\n          data: data\n        };\n      case 'delete':\n        return {\n          ...basePayload,\n          data: data\n        };\n      default:\n        return {\n          ...basePayload,\n          data: data\n        };\n    }\n  }\n\n  /**\n   * Make HTTP request with retries\n   * @param {Object} payload - Request payload\n   * @param {number} attempt - Current attempt number\n   * @returns {Promise<Object>} Response\n   */\n  async _makeRequest(payload, attempt = 0) {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), this.timeout);\n\n    try {\n      const response = await fetch(this.url, {\n        method: this.method,\n        headers: this._buildHeaders(),\n        body: JSON.stringify(payload),\n        signal: controller.signal\n      });\n\n      clearTimeout(timeoutId);\n      this.stats.totalRequests++;\n\n      // Check if response is OK\n      if (response.ok) {\n        this.stats.successfulRequests++;\n        return {\n          success: true,\n          status: response.status,\n          statusText: response.statusText\n        };\n      }\n\n      // Check if we should retry this status code\n      if (this.retryOnStatus.includes(response.status) && attempt < this.retries) {\n        this.stats.retriedRequests++;\n        this.stats.totalRetries++;\n\n        // Calculate retry delay\n        const delay = this.retryStrategy === 'exponential'\n          ? this.retryDelay * Math.pow(2, attempt)\n          : this.retryDelay;\n\n        if (this.config.verbose) {\n          console.log(`[WebhookReplicator] Retrying request (attempt ${attempt + 1}/${this.retries}) after ${delay}ms - Status: ${response.status}`);\n        }\n\n        await new Promise(resolve => setTimeout(resolve, delay));\n        return this._makeRequest(payload, attempt + 1);\n      }\n\n      // Failed without retry\n      this.stats.failedRequests++;\n      const errorText = await response.text().catch(() => '');\n\n      return {\n        success: false,\n        status: response.status,\n        statusText: response.statusText,\n        error: errorText || `HTTP ${response.status}: ${response.statusText}`\n      };\n\n    } catch (error) {\n      clearTimeout(timeoutId);\n\n      // Retry on network errors\n      if (attempt < this.retries) {\n        this.stats.retriedRequests++;\n        this.stats.totalRetries++;\n\n        const delay = this.retryStrategy === 'exponential'\n          ? this.retryDelay * Math.pow(2, attempt)\n          : this.retryDelay;\n\n        if (this.config.verbose) {\n          console.log(`[WebhookReplicator] Retrying request (attempt ${attempt + 1}/${this.retries}) after ${delay}ms - Error: ${error.message}`);\n        }\n\n        await new Promise(resolve => setTimeout(resolve, delay));\n        return this._makeRequest(payload, attempt + 1);\n      }\n\n      this.stats.failedRequests++;\n      this.stats.totalRequests++;\n\n      return {\n        success: false,\n        error: error.message\n      };\n    }\n  }\n\n  async initialize(database) {\n    await super.initialize(database);\n\n    // Validate configuration\n    const validation = this.validateConfig();\n    if (!validation.isValid) {\n      const error = new Error(`WebhookReplicator configuration is invalid: ${validation.errors.join(', ')}`);\n\n      if (this.config.verbose) {\n        console.error(`[WebhookReplicator] ${error.message}`);\n      }\n\n      this.emit('initialization_error', {\n        replicator: this.name,\n        error: error.message,\n        errors: validation.errors\n      });\n\n      throw error;\n    }\n\n    this.emit('initialized', {\n      replicator: this.name,\n      url: this.url,\n      method: this.method,\n      authType: this.auth?.type || 'none',\n      resources: Object.keys(this.resources || {})\n    });\n  }\n\n  async replicate(resource, operation, data, id, beforeData = null) {\n    if (this.enabled === false) {\n      return { skipped: true, reason: 'replicator_disabled' };\n    }\n\n    if (!this.shouldReplicateResource(resource)) {\n      return { skipped: true, reason: 'resource_not_included' };\n    }\n\n    const [ok, err, result] = await tryFn(async () => {\n      // Apply transformation\n      const transformedData = this._applyTransformer(resource, data);\n\n      // Create payload\n      const payload = this.createPayload(resource, operation, transformedData, id, beforeData);\n\n      // Make request\n      const response = await this._makeRequest(payload);\n\n      if (response.success) {\n        this.emit('replicated', {\n          replicator: this.name,\n          resource,\n          operation,\n          id,\n          url: this.url,\n          status: response.status,\n          success: true\n        });\n\n        return { success: true, status: response.status };\n      }\n\n      throw new Error(response.error || `HTTP ${response.status}: ${response.statusText}`);\n    });\n\n    if (ok) return result;\n\n    if (this.config.verbose) {\n      console.warn(`[WebhookReplicator] Replication failed for ${resource}: ${err.message}`);\n    }\n\n    this.emit('replicator_error', {\n      replicator: this.name,\n      resource,\n      operation,\n      id,\n      error: err.message\n    });\n\n    return { success: false, error: err.message };\n  }\n\n  async replicateBatch(resource, records) {\n    if (this.enabled === false) {\n      return { skipped: true, reason: 'replicator_disabled' };\n    }\n\n    if (!this.shouldReplicateResource(resource)) {\n      return { skipped: true, reason: 'resource_not_included' };\n    }\n\n    const [ok, err, result] = await tryFn(async () => {\n      // If batch mode is enabled, send all records in one request\n      if (this.batch) {\n        const payloads = records.map(record =>\n          this.createPayload(\n            resource,\n            record.operation,\n            this._applyTransformer(resource, record.data),\n            record.id,\n            record.beforeData\n          )\n        );\n\n        const response = await this._makeRequest({ batch: payloads });\n\n        if (response.success) {\n          this.emit('batch_replicated', {\n            replicator: this.name,\n            resource,\n            url: this.url,\n            total: records.length,\n            successful: records.length,\n            errors: 0,\n            status: response.status\n          });\n\n          return {\n            success: true,\n            total: records.length,\n            successful: records.length,\n            errors: 0,\n            status: response.status\n          };\n        }\n\n        throw new Error(response.error || `HTTP ${response.status}: ${response.statusText}`);\n      }\n\n      // Otherwise, send individual requests (parallel)\n      const results = await Promise.allSettled(\n        records.map(record =>\n          this.replicate(resource, record.operation, record.data, record.id, record.beforeData)\n        )\n      );\n\n      const successful = results.filter(r => r.status === 'fulfilled' && r.value.success).length;\n      const failed = results.length - successful;\n\n      this.emit('batch_replicated', {\n        replicator: this.name,\n        resource,\n        url: this.url,\n        total: records.length,\n        successful,\n        errors: failed\n      });\n\n      return {\n        success: failed === 0,\n        total: records.length,\n        successful,\n        errors: failed,\n        results\n      };\n    });\n\n    if (ok) return result;\n\n    if (this.config.verbose) {\n      console.warn(`[WebhookReplicator] Batch replication failed for ${resource}: ${err.message}`);\n    }\n\n    this.emit('batch_replicator_error', {\n      replicator: this.name,\n      resource,\n      error: err.message\n    });\n\n    return { success: false, error: err.message };\n  }\n\n  async testConnection() {\n    const [ok, err] = await tryFn(async () => {\n      const testPayload = {\n        test: true,\n        timestamp: new Date().toISOString(),\n        source: 's3db-webhook-replicator'\n      };\n\n      const response = await this._makeRequest(testPayload);\n\n      if (!response.success) {\n        throw new Error(response.error || `HTTP ${response.status}: ${response.statusText}`);\n      }\n\n      return true;\n    });\n\n    if (ok) return true;\n\n    if (this.config.verbose) {\n      console.warn(`[WebhookReplicator] Connection test failed: ${err.message}`);\n    }\n\n    this.emit('connection_error', {\n      replicator: this.name,\n      error: err.message\n    });\n\n    return false;\n  }\n\n  async getStatus() {\n    const baseStatus = await super.getStatus();\n    return {\n      ...baseStatus,\n      url: this.url,\n      method: this.method,\n      authType: this.auth?.type || 'none',\n      timeout: this.timeout,\n      retries: this.retries,\n      retryStrategy: this.retryStrategy,\n      batchMode: this.batch,\n      resources: Object.keys(this.resources || {}),\n      stats: { ...this.stats }\n    };\n  }\n\n  shouldReplicateResource(resource) {\n    // If no resources configured, replicate all\n    if (!this.resources || Object.keys(this.resources).length === 0) {\n      return true;\n    }\n\n    // Check if resource is in the list\n    return Object.keys(this.resources).includes(resource);\n  }\n}\n\nexport default WebhookReplicator;\n","import BaseReplicator from './base-replicator.class.js';\nimport BigqueryReplicator from './bigquery-replicator.class.js';\nimport DynamoDBReplicator from './dynamodb-replicator.class.js';\nimport MongoDBReplicator from './mongodb-replicator.class.js';\nimport MySQLReplicator from './mysql-replicator.class.js';\nimport PlanetScaleReplicator from './planetscale-replicator.class.js';\nimport PostgresReplicator from './postgres-replicator.class.js';\nimport S3dbReplicator from './s3db-replicator.class.js';\nimport SqsReplicator from './sqs-replicator.class.js';\nimport TursoReplicator from './turso-replicator.class.js';\nimport WebhookReplicator from './webhook-replicator.class.js';\nimport { ReplicationError } from '../replicator.errors.js';\n\nexport {\n  BaseReplicator,\n  BigqueryReplicator,\n  DynamoDBReplicator,\n  MongoDBReplicator,\n  MySQLReplicator,\n  PlanetScaleReplicator,\n  PostgresReplicator,\n  S3dbReplicator,\n  SqsReplicator,\n  TursoReplicator,\n  WebhookReplicator\n};\n\n/**\n * Available replicator drivers\n */\nexport const REPLICATOR_DRIVERS = {\n  s3db: S3dbReplicator,\n  sqs: SqsReplicator,\n  bigquery: BigqueryReplicator,\n  postgres: PostgresReplicator,\n  mysql: MySQLReplicator,\n  mariadb: MySQLReplicator, // MariaDB uses the same driver as MySQL\n  planetscale: PlanetScaleReplicator,\n  turso: TursoReplicator,\n  dynamodb: DynamoDBReplicator,\n  mongodb: MongoDBReplicator,\n  webhook: WebhookReplicator\n};\n\n/**\n * Create a replicator instance based on driver type\n * @param {string} driver - Driver type (s3db, sqs, bigquery, postgres, mysql, mariadb, planetscale, turso, dynamodb, mongodb, webhook)\n * @param {Object} config - Replicator configuration\n * @returns {BaseReplicator} Replicator instance\n */\nexport function createReplicator(driver, config = {}, resources = [], client = null) {\n  const ReplicatorClass = REPLICATOR_DRIVERS[driver];\n\n  if (!ReplicatorClass) {\n    throw new ReplicationError(`Unknown replicator driver: ${driver}`, {\n      operation: 'createReplicator',\n      driver,\n      availableDrivers: Object.keys(REPLICATOR_DRIVERS),\n      suggestion: `Use one of the available drivers: ${Object.keys(REPLICATOR_DRIVERS).join(', ')}`\n    });\n  }\n\n  return new ReplicatorClass(config, resources, client);\n}\n\n/**\n * Validate replicator configuration\n * @param {string} driver - Driver type\n * @param {Object} config - Configuration to validate\n * @returns {Object} Validation result\n */\nexport function validateReplicatorConfig(driver, config, resources = [], client = null) {\n  const replicator = createReplicator(driver, config, resources, client);\n  return replicator.validateConfig();\n} ","import Plugin from \"./plugin.class.js\";\nimport tryFn from \"../concerns/try-fn.js\";\nimport { createReplicator, validateReplicatorConfig } from \"./replicators/index.js\";\nimport { ReplicationError } from \"./replicator.errors.js\";\n\nfunction normalizeResourceName(name) {\n  return typeof name === 'string' ? name.trim().toLowerCase() : name;\n}\n\n/**\n * ReplicatorPlugin - S3DB replicator System\n *\n * This plugin enables flexible, robust replicator between S3DB databases and other systems.\n * \n * === Plugin-Level Configuration Options ===\n *\n * - persistReplicatorLog (boolean, default: false)\n *     If true, the plugin will persist all replicator events to a log resource.\n *     If false, no replicator log resource is created or used.\n *\n * - replicatorLogResource (string, default: 'plg_replicator_logs')\n *     The name of the resource used to store replicator logs.\n *\n * === replicator Log Resource Structure ===\n *\n * If persistReplicatorLog is true, the following resource is created (if not present):\n *\n *   name: <replicatorLogResource>\n *   behavior: 'truncate-data'\n *   attributes:\n *     - id: string|required\n *     - resource: string|required\n *     - action: string|required\n *     - data: object\n *     - timestamp: number|required\n *     - createdAt: string|required\n *   partitions:\n *     byDate: { fields: { createdAt: 'string|maxlength:10' } }\n *\n * This enables efficient log truncation and partitioned queries by date.\n *\n * === Replicator Configuration Syntax ===\n *\n * Each replicator entry supports the following options:\n *\n *   - driver: 's3db' | 'sqs' | ...\n *   - client: (optional) destination database/client instance\n *   - config: {\n *       connectionString?: string,\n *       resources?: <see below>,\n *       ...driver-specific options\n *     }\n *   - resources: <see below> (can be at top-level or inside config)\n *\n * === Supported Resource Mapping Syntaxes ===\n *\n * You can specify which resources to replicate and how, using any of:\n *\n *   1. Array of resource names (replicate to itself):\n *        resources: ['users']\n *\n *   2. Map: source resource → destination resource name:\n *        resources: { users: 'people' }\n *\n *   3. Map: source resource → { resource, transform }:\n *        resources: { users: { resource: 'people', transform: fn } }\n *\n *   4. Map: source resource → function (transformer only):\n *        resources: { users: (el) => ({ ...el, fullName: el.name }) }\n *\n * The transform function is optional and applies to data before replication.\n *\n * === Example Plugin Configurations ===\n *\n *   // Basic replicator to another database\n *   new ReplicatorPlugin({\n *     replicators: [\n *       { driver: 's3db', client: dbB, resources: ['users'] }\n *     ]\n *   });\n *\n *   // Replicate with custom log resource and persistence\n *   new ReplicatorPlugin({\n *     persistReplicatorLog: true,\n *     replicatorLogResource: 'custom_logs',\n *     replicators: [\n *       { driver: 's3db', client: dbB, config: { resources: { users: 'people' } } }\n *     ]\n *   });\n *\n *   // Advanced mapping with transform\n *   new ReplicatorPlugin({\n *     replicators: [\n *       { driver: 's3db', client: dbB, config: { resources: { users: { resource: 'people', transform: (el) => ({ ...el, fullName: el.name }) } } } }\n *     ]\n *   });\n *\n *   // replicator using a connection string\n *   new ReplicatorPlugin({\n *     replicators: [\n *       { driver: 's3db', config: { connectionString: 's3://user:pass@bucket/path', resources: ['users'] } }\n *     ]\n *   });\n * \n * === Default Behaviors and Extensibility ===\n *\n * - If persistReplicatorLog is not set, no log resource is created.\n * - The log resource is only created if it does not already exist.\n * - The plugin supports multiple replicators and drivers.\n * - All resource mapping syntaxes are supported and can be mixed.\n * - The log resource uses the 'truncate-data' behavior for efficient log management.\n * - Partitioning by date enables efficient queries and retention policies.\n *\n * === See also ===\n * - S3dbReplicator for advanced resource mapping logic\n * - SqsReplicator for SQS integration\n * - ReplicatorPlugin tests for usage examples\n */\nexport class ReplicatorPlugin extends Plugin {\n  constructor(options = {}) {\n    super();\n    // Validation for config tests\n    if (!options.replicators || !Array.isArray(options.replicators)) {\n      throw new ReplicationError('ReplicatorPlugin requires replicators array', {\n        operation: 'constructor',\n        pluginName: 'ReplicatorPlugin',\n        providedOptions: Object.keys(options),\n        suggestion: 'Provide replicators array: new ReplicatorPlugin({ replicators: [{ driver: \"s3db\", resources: [...] }] })'\n      });\n    }\n    for (const rep of options.replicators) {\n      if (!rep.driver) {\n        throw new ReplicationError('Each replicator must have a driver', {\n          operation: 'constructor',\n          pluginName: 'ReplicatorPlugin',\n          replicatorConfig: rep,\n          suggestion: 'Each replicator entry must specify a driver: { driver: \"s3db\", resources: {...} }'\n        });\n      }\n      if (!rep.resources || typeof rep.resources !== 'object') {\n        throw new ReplicationError('Each replicator must have resources config', {\n          operation: 'constructor',\n          pluginName: 'ReplicatorPlugin',\n          driver: rep.driver,\n          replicatorConfig: rep,\n          suggestion: 'Provide resources as object or array: { driver: \"s3db\", resources: [\"users\"] } or { resources: { users: \"people\" } }'\n        });\n      }\n      if (Object.keys(rep.resources).length === 0) {\n        throw new ReplicationError('Each replicator must have at least one resource configured', {\n          operation: 'constructor',\n          pluginName: 'ReplicatorPlugin',\n          driver: rep.driver,\n          replicatorConfig: rep,\n          suggestion: 'Add at least one resource to replicate: { driver: \"s3db\", resources: [\"users\"] }'\n        });\n      }\n    }\n    \n    this.config = {\n      replicators: options.replicators || [],\n      logErrors: options.logErrors !== false,\n      replicatorLogResource: options.replicatorLogResource || 'replicator_log',\n      persistReplicatorLog: options.persistReplicatorLog || false,\n      enabled: options.enabled !== false,\n      batchSize: options.batchSize || 100,\n      maxRetries: options.maxRetries || 3,\n      timeout: options.timeout || 30000,\n      verbose: options.verbose || false\n    };\n\n    this.replicators = [];\n    this.database = null;\n    this.eventListenersInstalled = new Set();\n    this.eventHandlers = new Map(); // Map<resourceName, {insert, update, delete}>\n    this.stats = {\n      totalReplications: 0,\n      totalErrors: 0,\n      lastSync: null\n    };\n    this._afterCreateResourceHook = null;\n  }\n\n  // Helper to filter out internal S3DB fields\n  filterInternalFields(obj) {\n    if (!obj || typeof obj !== 'object') return obj;\n    const filtered = {};\n    for (const [key, value] of Object.entries(obj)) {\n      if (!key.startsWith('_') && key !== '$overflow' && key !== '$before' && key !== '$after') {\n        filtered[key] = value;\n      }\n    }\n    return filtered;\n  }\n\n  async getCompleteData(resource, data) {\n    // Always get the complete record from the resource to ensure we have all data\n    // This handles all behaviors: body-overflow, truncate-data, body-only, etc.\n    const [ok, err, completeRecord] = await tryFn(() => resource.get(data.id));\n    return ok ? completeRecord : data;\n  }\n\n  installEventListeners(resource, database, plugin) {\n    if (!resource || this.eventListenersInstalled.has(resource.name) ||\n        resource.name === this.config.replicatorLogResource) {\n      return;\n    }\n\n    // Create handler functions and save references for later removal\n    const insertHandler = async (data) => {\n      const [ok, error] = await tryFn(async () => {\n        const completeData = { ...data, createdAt: new Date().toISOString() };\n        await plugin.processReplicatorEvent('insert', resource.name, completeData.id, completeData);\n      });\n\n      if (!ok) {\n        if (this.config.verbose) {\n          console.warn(`[ReplicatorPlugin] Insert event failed for resource ${resource.name}: ${error.message}`);\n        }\n        this.emit('error', { operation: 'insert', error: error.message, resource: resource.name });\n      }\n    };\n\n    const updateHandler = async (data, beforeData) => {\n      const [ok, error] = await tryFn(async () => {\n        // For updates, we need to get the complete updated record, not just the changed fields\n        const completeData = await plugin.getCompleteData(resource, data);\n        const dataWithTimestamp = { ...completeData, updatedAt: new Date().toISOString() };\n        await plugin.processReplicatorEvent('update', resource.name, completeData.id, dataWithTimestamp, beforeData);\n      });\n\n      if (!ok) {\n        if (this.config.verbose) {\n          console.warn(`[ReplicatorPlugin] Update event failed for resource ${resource.name}: ${error.message}`);\n        }\n        this.emit('error', { operation: 'update', error: error.message, resource: resource.name });\n      }\n    };\n\n    const deleteHandler = async (data) => {\n      const [ok, error] = await tryFn(async () => {\n        await plugin.processReplicatorEvent('delete', resource.name, data.id, data);\n      });\n\n      if (!ok) {\n        if (this.config.verbose) {\n          console.warn(`[ReplicatorPlugin] Delete event failed for resource ${resource.name}: ${error.message}`);\n        }\n        this.emit('error', { operation: 'delete', error: error.message, resource: resource.name });\n      }\n    };\n\n    // Save handler references\n    this.eventHandlers.set(resource.name, {\n      insert: insertHandler,\n      update: updateHandler,\n      delete: deleteHandler\n    });\n\n    // Attach listeners\n    resource.on('insert', insertHandler);\n    resource.on('update', updateHandler);\n    resource.on('delete', deleteHandler);\n\n    this.eventListenersInstalled.add(resource.name);\n  }\n\n  async onInstall() {\n    // Create replicator log resource if enabled\n    if (this.config.persistReplicatorLog) {\n      const [ok, err, logResource] = await tryFn(() => this.database.createResource({\n        name: this.config.replicatorLogResource || 'plg_replicator_logs',\n        attributes: {\n          id: 'string|required',\n          resource: 'string|required',\n          action: 'string|required',\n          data: 'json',\n          timestamp: 'number|required',\n          createdAt: 'string|required'\n        },\n        behavior: 'truncate-data'\n      }));\n\n      if (ok) {\n        this.replicatorLogResource = logResource;\n      } else {\n        this.replicatorLogResource = this.database.resources[this.config.replicatorLogResource || 'plg_replicator_logs'];\n      }\n    }\n\n    // Initialize replicators\n    await this.initializeReplicators(this.database);\n\n    // Use database hooks for automatic resource discovery\n    this.installDatabaseHooks();\n\n    // Install event listeners for existing resources\n    for (const resource of Object.values(this.database.resources)) {\n      if (resource.name !== (this.config.replicatorLogResource || 'plg_replicator_logs')) {\n        this.installEventListeners(resource, this.database, this);\n      }\n    }\n  }\n\n  async start() {\n    // Plugin is ready\n  }\n\n  installDatabaseHooks() {\n    // Store hook reference for later removal\n    this._afterCreateResourceHook = (resource) => {\n      if (resource.name !== (this.config.replicatorLogResource || 'plg_replicator_logs')) {\n        this.installEventListeners(resource, this.database, this);\n      }\n    };\n\n    this.database.addHook('afterCreateResource', this._afterCreateResourceHook);\n  }\n\n  removeDatabaseHooks() {\n    // Remove the hook we added using stored reference\n    if (this._afterCreateResourceHook) {\n      this.database.removeHook('afterCreateResource', this._afterCreateResourceHook);\n      this._afterCreateResourceHook = null;\n    }\n  }\n\n  createReplicator(driver, config, resources, client) {\n    return createReplicator(driver, config, resources, client);\n  }\n\n  async initializeReplicators(database) {\n    for (const replicatorConfig of this.config.replicators) {\n      const { driver, config = {}, resources, client, ...otherConfig } = replicatorConfig;\n      \n      // Extract resources from replicatorConfig or config\n      const replicatorResources = resources || config.resources || {};\n      \n      // Merge config with other top-level config options (like queueUrlDefault)\n      const mergedConfig = { ...config, ...otherConfig };\n      \n      // Pass config, resources, and client in correct order\n      const replicator = this.createReplicator(driver, mergedConfig, replicatorResources, client);\n      if (replicator) {\n        await replicator.initialize(database);\n        this.replicators.push(replicator);\n      }\n    }\n  }\n\n  async uploadMetadataFile(database) {\n    if (typeof this.database.uploadMetadataFile === 'function') {\n      await this.database.uploadMetadataFile();\n    }\n  }\n\n  async retryWithBackoff(operation, maxRetries = 3) {\n    let lastError;\n    for (let attempt = 1; attempt <= maxRetries; attempt++) {\n      const [ok, error, result] = await tryFn(operation);\n\n      if (ok) {\n        return result;\n      } else {\n        lastError = error;\n        if (this.config.verbose) {\n          console.warn(`[ReplicatorPlugin] Retry attempt ${attempt}/${maxRetries} failed: ${error.message}`);\n        }\n\n        if (attempt === maxRetries) {\n          throw error;\n        }\n        // Simple backoff: wait 1s, 2s, 4s...\n        const delay = Math.pow(2, attempt - 1) * 1000;\n        if (this.config.verbose) {\n          console.warn(`[ReplicatorPlugin] Waiting ${delay}ms before retry...`);\n        }\n        await new Promise(resolve => setTimeout(resolve, delay));\n      }\n    }\n    throw lastError;\n  }\n\n  async logError(replicator, resourceName, operation, recordId, data, error) {\n    const [ok, logError] = await tryFn(async () => {\n      const logResourceName = this.config.replicatorLogResource;\n      if (this.database && this.database.resources && this.database.resources[logResourceName]) {\n        const logResource = this.database.resources[logResourceName];\n        await logResource.insert({\n          replicator: replicator.name || replicator.id,\n          resourceName,\n          operation,\n          recordId,\n          data: JSON.stringify(data),\n          error: error.message,\n          timestamp: new Date().toISOString(),\n          status: 'error'\n        });\n      }\n    });\n    \n    if (!ok) {\n      if (this.config.verbose) {\n        console.warn(`[ReplicatorPlugin] Failed to log error for ${resourceName}: ${logError.message}`);\n      }\n      this.emit('replicator_log_error', {\n        replicator: replicator.name || replicator.id,\n        resourceName,\n        operation,\n        recordId,\n        originalError: error.message,\n        logError: logError.message\n      });\n    }\n  }\n\n  async processReplicatorEvent(operation, resourceName, recordId, data, beforeData = null) {\n    if (!this.config.enabled) return;\n\n    const applicableReplicators = this.replicators.filter(replicator => {\n      const should = replicator.shouldReplicateResource && replicator.shouldReplicateResource(resourceName, operation);\n      return should;\n    });\n\n    if (applicableReplicators.length === 0) {\n      return;\n    }\n\n    const promises = applicableReplicators.map(async (replicator) => {\n      const [ok, error, result] = await tryFn(async () => {\n        const result = await this.retryWithBackoff(\n          () => replicator.replicate(resourceName, operation, data, recordId, beforeData),\n          this.config.maxRetries\n        );\n        \n        this.emit('replicated', {\n          replicator: replicator.name || replicator.id,\n          resourceName,\n          operation,\n          recordId,\n          result,\n          success: true\n        });\n\n        return result;\n      });\n      \n      if (ok) {\n        return result;\n      } else {\n        if (this.config.verbose) {\n          console.warn(`[ReplicatorPlugin] Replication failed for ${replicator.name || replicator.id} on ${resourceName}: ${error.message}`);\n        }\n        \n        this.emit('replicator_error', {\n          replicator: replicator.name || replicator.id,\n          resourceName,\n          operation,\n          recordId,\n          error: error.message\n        });\n\n        if (this.config.logErrors && this.database) {\n          await this.logError(replicator, resourceName, operation, recordId, data, error);\n        }\n\n        throw error;\n      }\n    });\n\n    return Promise.allSettled(promises);\n  }\n\n  async processReplicatorItem(item) {\n    const applicableReplicators = this.replicators.filter(replicator => {\n      const should = replicator.shouldReplicateResource && replicator.shouldReplicateResource(item.resourceName, item.operation);\n      return should;\n    });\n\n    if (applicableReplicators.length === 0) {\n      return;\n    }\n\n    const promises = applicableReplicators.map(async (replicator) => {\n      const [wrapperOk, wrapperError] = await tryFn(async () => {\n        const [ok, err, result] = await tryFn(() => \n          replicator.replicate(item.resourceName, item.operation, item.data, item.recordId, item.beforeData)\n        );\n\n        if (!ok) {\n          if (this.config.verbose) {\n            console.warn(`[ReplicatorPlugin] Replicator item processing failed for ${replicator.name || replicator.id} on ${item.resourceName}: ${err.message}`);\n          }\n          \n          this.emit('replicator_error', {\n            replicator: replicator.name || replicator.id,\n            resourceName: item.resourceName,\n            operation: item.operation,\n            recordId: item.recordId,\n            error: err.message\n          });\n\n          if (this.config.logErrors && this.database) {\n            await this.logError(replicator, item.resourceName, item.operation, item.recordId, item.data, err);\n          }\n\n          return { success: false, error: err.message };\n        }\n\n        this.emit('replicated', {\n          replicator: replicator.name || replicator.id,\n          resourceName: item.resourceName,\n          operation: item.operation,\n          recordId: item.recordId,\n          result,\n          success: true\n        });\n\n        return { success: true, result };\n      });\n      \n      if (wrapperOk) {\n        return wrapperOk;\n      } else {\n        if (this.config.verbose) {\n          console.warn(`[ReplicatorPlugin] Wrapper processing failed for ${replicator.name || replicator.id} on ${item.resourceName}: ${wrapperError.message}`);\n        }\n        \n        this.emit('replicator_error', {\n          replicator: replicator.name || replicator.id,\n          resourceName: item.resourceName,\n          operation: item.operation,\n          recordId: item.recordId,\n          error: wrapperError.message\n        });\n\n        if (this.config.logErrors && this.database) {\n          await this.logError(replicator, item.resourceName, item.operation, item.recordId, item.data, wrapperError);\n        }\n\n        return { success: false, error: wrapperError.message };\n      }\n    });\n\n    return Promise.allSettled(promises);\n  }\n\n  async logReplicator(item) {\n    // Always use the saved reference\n    const logRes = this.replicatorLog || this.database.resources[normalizeResourceName(this.config.replicatorLogResource)];\n    if (!logRes) {\n      this.emit('replicator.log.failed', { error: 'replicator log resource not found', item });\n      return;\n    }\n            // Fix required fields of log resource\n    const logItem = {\n      id: item.id || `repl-${Date.now()}-${Math.random().toString(36).slice(2)}`,\n      resource: item.resource || item.resourceName || '',\n      action: item.operation || item.action || '',\n      data: item.data || {},\n      timestamp: typeof item.timestamp === 'number' ? item.timestamp : Date.now(),\n      createdAt: item.createdAt || new Date().toISOString().slice(0, 10),\n    };\n    const [ok, err] = await tryFn(async () => {\n      await logRes.insert(logItem);\n    });\n    \n    if (!ok) {\n      if (this.config.verbose) {\n        console.warn(`[ReplicatorPlugin] Failed to log replicator item: ${err.message}`);\n      }\n      this.emit('replicator.log.failed', { error: err, item });\n    }\n  }\n\n  async updateReplicatorLog(logId, updates) {\n    if (!this.replicatorLog) return;\n\n    const [ok, err] = await tryFn(async () => {\n      // Use patch() for 40-60% performance improvement (truncate-data behavior)\n      await this.replicatorLog.patch(logId, {\n        ...updates,\n        lastAttempt: new Date().toISOString()\n      });\n    });\n    if (!ok) {\n      this.emit('replicator.updateLog.failed', { error: err.message, logId, updates });\n    }\n  }\n\n  // Utility methods\n  async getReplicatorStats() {\n    const replicatorStats = await Promise.all(\n      this.replicators.map(async (replicator) => {\n        const status = await replicator.getStatus();\n        return {\n          id: replicator.id,\n          driver: replicator.driver,\n          config: replicator.config,\n          status\n        };\n      })\n    );\n\n    return {\n      replicators: replicatorStats,\n      stats: this.stats,\n      lastSync: this.stats.lastSync\n    };\n  }\n\n  async getReplicatorLogs(options = {}) {\n    if (!this.replicatorLog) {\n      return [];\n    }\n\n    const {\n      resourceName,\n      operation,\n      status,\n      limit = 100,\n      offset = 0\n    } = options;\n\n    const filter = {};\n\n    if (resourceName) {\n      filter.resourceName = resourceName;\n    }\n\n    if (operation) {\n      filter.operation = operation;\n    }\n\n    if (status) {\n      filter.status = status;\n    }\n\n    const logs = await this.replicatorLog.query(filter, { limit, offset });\n\n    return logs || [];\n  }\n\n  async retryFailedReplicators() {\n    if (!this.replicatorLog) {\n      return { retried: 0 };\n    }\n\n    const failedLogs = await this.replicatorLog.query({\n      status: 'failed'\n    });\n\n    let retried = 0;\n\n    for (const log of failedLogs || []) {\n      const [ok, err] = await tryFn(async () => {\n        // Re-queue the replicator\n        await this.processReplicatorEvent(\n          log.operation,\n          log.resourceName,\n          log.recordId,\n          log.data\n        );\n      });\n      if (ok) {\n        retried++;\n      } else {\n        // Retry failed, continue\n      }\n    }\n\n    return { retried };\n  }\n\n  async syncAllData(replicatorId) {\n    const replicator = this.replicators.find(r => r.id === replicatorId);\n    if (!replicator) {\n      throw new ReplicationError('Replicator not found', {\n        operation: 'syncAllData',\n        pluginName: 'ReplicatorPlugin',\n        replicatorId,\n        availableReplicators: this.replicators.map(r => r.id),\n        suggestion: 'Check replicator ID or use getReplicatorStats() to list available replicators'\n      });\n    }\n\n    this.stats.lastSync = new Date().toISOString();\n\n    for (const resourceName in this.database.resources) {\n      if (normalizeResourceName(resourceName) === normalizeResourceName('plg_replicator_logs')) continue;\n\n      if (replicator.shouldReplicateResource(resourceName)) {\n        this.emit('replicator.sync.resource', { resourceName, replicatorId });\n\n        const resource = this.database.resources[resourceName];\n\n        // Use pagination to avoid memory issues\n        let offset = 0;\n        const pageSize = this.config.batchSize || 100;\n\n        while (true) {\n          const [ok, err, page] = await tryFn(() => resource.page({ offset, size: pageSize }));\n\n          if (!ok || !page) break;\n\n          const records = Array.isArray(page) ? page : (page.items || []);\n          if (records.length === 0) break;\n\n          for (const record of records) {\n            await replicator.replicate(resourceName, 'insert', record, record.id);\n          }\n\n          offset += pageSize;\n        }\n      }\n    }\n\n    this.emit('replicator.sync.completed', { replicatorId, stats: this.stats });\n  }\n\n  async stop() {\n    const [ok, error] = await tryFn(async () => {\n      if (this.replicators && this.replicators.length > 0) {\n        const cleanupPromises = this.replicators.map(async (replicator) => {\n          const [replicatorOk, replicatorError] = await tryFn(async () => {\n            if (replicator && typeof replicator.stop === 'function') {\n              await replicator.stop();\n            }\n          });\n\n          if (!replicatorOk) {\n            if (this.config.verbose) {\n              console.warn(`[ReplicatorPlugin] Failed to stop replicator ${replicator.name || replicator.id}: ${replicatorError.message}`);\n            }\n            this.emit('replicator_stop_error', {\n              replicator: replicator.name || replicator.id || 'unknown',\n              driver: replicator.driver || 'unknown',\n              error: replicatorError.message\n            });\n          }\n        });\n        \n        await Promise.allSettled(cleanupPromises);\n      }\n\n      // Remove database hooks\n      this.removeDatabaseHooks();\n\n      // Remove event listeners from resources to prevent memory leaks\n      if (this.database && this.database.resources) {\n        for (const resourceName of this.eventListenersInstalled) {\n          const resource = this.database.resources[resourceName];\n          const handlers = this.eventHandlers.get(resourceName);\n\n          if (resource && handlers) {\n            resource.off('insert', handlers.insert);\n            resource.off('update', handlers.update);\n            resource.off('delete', handlers.delete);\n          }\n        }\n      }\n\n      this.replicators = [];\n      this.database = null;\n      this.eventListenersInstalled.clear();\n      this.eventHandlers.clear();\n\n      this.removeAllListeners();\n    });\n    \n    if (!ok) {\n      if (this.config.verbose) {\n        console.warn(`[ReplicatorPlugin] Failed to stop plugin: ${error.message}`);\n      }\n      this.emit('replicator_plugin_stop_error', {\n        error: error.message\n      });\n    }\n  }\n}\n\nexport default ReplicatorPlugin; ","import Plugin from \"./plugin.class.js\";\nimport tryFn from \"../concerns/try-fn.js\";\nimport { idGenerator } from \"../concerns/id.js\";\n\n/**\n * S3QueuePlugin - Distributed Queue System with ETag-based Atomicity\n *\n * Provides a distributed queue processing system using S3 as backend with:\n * - Atomic message claiming using S3 ETags (zero race conditions)\n * - Visibility timeout pattern (like SQS)\n * - Automatic retries with exponential backoff\n * - Dead letter queue support\n * - Concurrent workers with configurable concurrency\n * - At-least-once delivery guarantee\n *\n * === Configuration Example ===\n *\n * new S3QueuePlugin({\n *   resource: 'emails',                    // Target resource name\n *   visibilityTimeout: 30000,              // 30 seconds\n *   pollInterval: 1000,                    // 1 second\n *   maxAttempts: 3,                        // Max retry attempts\n *   concurrency: 5,                        // Number of concurrent workers\n *   deadLetterResource: 'failed_emails',   // Dead letter queue (optional)\n *   autoStart: true,                       // Auto-start workers\n *\n *   onMessage: async (record, context) => {\n *     // Process message\n *     await sendEmail(record);\n *     return { sent: true };\n *   },\n *\n *   onError: (error, record) => {\n *     console.error('Failed:', error);\n *   },\n *\n *   onComplete: (record, result) => {\n *     console.log('Completed:', result);\n *   }\n * });\n *\n * === Usage ===\n *\n * // Enqueue a message\n * await db.resources.emails.enqueue({\n *   to: 'user@example.com',\n *   subject: 'Hello',\n *   body: 'World'\n * });\n *\n * // Start processing (if not auto-started)\n * await db.resources.emails.startProcessing(async (email) => {\n *   await sendEmail(email);\n * }, { concurrency: 10 });\n *\n * // Stop processing\n * await db.resources.emails.stopProcessing();\n *\n * // Get queue statistics\n * const stats = await db.resources.emails.queueStats();\n * // { total: 100, pending: 50, processing: 20, completed: 25, failed: 5, dead: 0 }\n */\nexport class S3QueuePlugin extends Plugin {\n  constructor(options = {}) {\n    super(options);\n\n    if (!options.resource) {\n      throw new Error('S3QueuePlugin requires \"resource\" option');\n    }\n\n    this.config = {\n      resource: options.resource,\n      visibilityTimeout: options.visibilityTimeout || 30000,     // 30 seconds\n      pollInterval: options.pollInterval || 1000,                 // 1 second\n      maxAttempts: options.maxAttempts || 3,\n      concurrency: options.concurrency || 1,\n      deadLetterResource: options.deadLetterResource || null,\n      autoStart: options.autoStart !== false,\n      onMessage: options.onMessage,\n      onError: options.onError,\n      onComplete: options.onComplete,\n      verbose: options.verbose || false,\n      ...options\n    };\n\n    this.queueResource = null;       // Resource: <resource>_queue\n    this.targetResource = null;      // Resource original do usuário\n    this.deadLetterResourceObj = null;\n    this.workers = [];\n    this.isRunning = false;\n    this.workerId = `worker-${Date.now()}-${Math.random().toString(36).slice(2, 9)}`;\n\n    // Deduplication cache to prevent S3 eventual consistency issues\n    // Tracks recently processed messages to avoid reprocessing\n    this.processedCache = new Map(); // queueId -> timestamp\n    this.cacheCleanupInterval = null;\n    this.lockCleanupInterval = null;\n  }\n\n  async onInstall() {\n    // Get target resource\n    this.targetResource = this.database.resources[this.config.resource];\n    if (!this.targetResource) {\n      throw new Error(`S3QueuePlugin: resource '${this.config.resource}' not found`);\n    }\n\n    // Create queue metadata resource\n    const queueName = `${this.config.resource}_queue`;\n    const [ok, err] = await tryFn(() =>\n      this.database.createResource({\n        name: queueName,\n        attributes: {\n          id: 'string|required',\n          originalId: 'string|required',      // ID do registro original\n          status: 'string|required',          // pending/processing/completed/failed/dead\n          visibleAt: 'number|required',       // Timestamp de visibilidade\n          claimedBy: 'string|optional',       // Worker que claimed\n          claimedAt: 'number|optional',       // Timestamp do claim\n          attempts: 'number|default:0',\n          maxAttempts: 'number|default:3',\n          error: 'string|optional',\n          result: 'json|optional',\n          createdAt: 'string|required',\n          completedAt: 'number|optional'\n        },\n        behavior: 'body-overflow',\n        timestamps: true,\n        asyncPartitions: true,\n        partitions: {\n          byStatus: { fields: { status: 'string' } },\n          byDate: { fields: { createdAt: 'string|maxlength:10' } }\n        }\n      })\n    );\n\n    if (!ok && !this.database.resources[queueName]) {\n      throw new Error(`Failed to create queue resource: ${err?.message}`);\n    }\n\n    this.queueResource = this.database.resources[queueName];\n\n    // Locks are now managed by PluginStorage with TTL - no Resource needed\n    // Lock acquisition is handled via storage.acquireLock() with automatic expiration\n\n    // Add helper methods to target resource\n    this.addHelperMethods();\n\n    // Create dead letter resource if configured\n    if (this.config.deadLetterResource) {\n      await this.createDeadLetterResource();\n    }\n\n    if (this.config.verbose) {\n      console.log(`[S3QueuePlugin] Setup completed for resource '${this.config.resource}'`);\n    }\n  }\n\n  async onStart() {\n    if (this.config.autoStart && this.config.onMessage) {\n      await this.startProcessing();\n    }\n  }\n\n  async onStop() {\n    await this.stopProcessing();\n  }\n\n  addHelperMethods() {\n    const plugin = this;\n    const resource = this.targetResource;\n\n    /**\n     * Enqueue a message to the queue\n     */\n    resource.enqueue = async function(data, options = {}) {\n      // Generate ID if not provided\n      const recordData = {\n        id: data.id || idGenerator(),\n        ...data\n      };\n\n      // Insert original record first\n      const record = await resource.insert(recordData);\n\n      // Create queue entry\n      const queueEntry = {\n        id: idGenerator(),\n        originalId: record.id,\n        status: 'pending',\n        visibleAt: Date.now(),\n        attempts: 0,\n        maxAttempts: options.maxAttempts || plugin.config.maxAttempts,\n        createdAt: new Date().toISOString().slice(0, 10)\n      };\n\n      await plugin.queueResource.insert(queueEntry);\n\n      plugin.emit('message.enqueued', { id: record.id, queueId: queueEntry.id });\n\n      return record;\n    };\n\n    /**\n     * Get queue statistics\n     */\n    resource.queueStats = async function() {\n      return await plugin.getStats();\n    };\n\n    /**\n     * Start processing messages with worker(s)\n     */\n    resource.startProcessing = async function(handler, options = {}) {\n      return await plugin.startProcessing(handler, options);\n    };\n\n    /**\n     * Stop all workers\n     */\n    resource.stopProcessing = async function() {\n      return await plugin.stopProcessing();\n    };\n  }\n\n  async startProcessing(handler = null, options = {}) {\n    if (this.isRunning) {\n      if (this.config.verbose) {\n        console.log('[S3QueuePlugin] Already running');\n      }\n      return;\n    }\n\n    const messageHandler = handler || this.config.onMessage;\n    if (!messageHandler) {\n      throw new Error('S3QueuePlugin: onMessage handler required');\n    }\n\n    this.isRunning = true;\n    const concurrency = options.concurrency || this.config.concurrency;\n\n    // Start cache cleanup (every 5 seconds, remove entries older than 30 seconds)\n    this.cacheCleanupInterval = setInterval(() => {\n      const now = Date.now();\n      const maxAge = 30000; // 30 seconds\n\n      for (const [queueId, timestamp] of this.processedCache.entries()) {\n        if (now - timestamp > maxAge) {\n          this.processedCache.delete(queueId);\n        }\n      }\n    }, 5000);\n\n    // Lock cleanup no longer needed - TTL handles expiration automatically\n\n    // Start N workers\n    for (let i = 0; i < concurrency; i++) {\n      const worker = this.createWorker(messageHandler, i);\n      this.workers.push(worker);\n    }\n\n    if (this.config.verbose) {\n      console.log(`[S3QueuePlugin] Started ${concurrency} workers`);\n    }\n\n    this.emit('workers.started', { concurrency, workerId: this.workerId });\n  }\n\n  async stopProcessing() {\n    if (!this.isRunning) return;\n\n    this.isRunning = false;\n\n    // Stop cache cleanup\n    if (this.cacheCleanupInterval) {\n      clearInterval(this.cacheCleanupInterval);\n      this.cacheCleanupInterval = null;\n    }\n\n    // Lock cleanup interval no longer exists (TTL handles it)\n\n    // Wait for workers to finish current tasks\n    await Promise.all(this.workers);\n    this.workers = [];\n\n    // Clear deduplication cache\n    this.processedCache.clear();\n\n    if (this.config.verbose) {\n      console.log('[S3QueuePlugin] Stopped all workers');\n    }\n\n    this.emit('workers.stopped', { workerId: this.workerId });\n  }\n\n  createWorker(handler, workerIndex) {\n    return (async () => {\n      while (this.isRunning) {\n        try {\n          // Try to claim a message\n          const message = await this.claimMessage();\n\n          if (message) {\n            // Process the claimed message\n            await this.processMessage(message, handler);\n          } else {\n            // No messages available, wait before polling again\n            await new Promise(resolve => setTimeout(resolve, this.config.pollInterval));\n          }\n        } catch (error) {\n          if (this.config.verbose) {\n            console.error(`[Worker ${workerIndex}] Error:`, error.message);\n          }\n          // Wait a bit before retrying on error\n          await new Promise(resolve => setTimeout(resolve, 1000));\n        }\n      }\n    })();\n  }\n\n  async claimMessage() {\n    const now = Date.now();\n\n    // Query for available messages\n    const [ok, err, messages] = await tryFn(() =>\n      this.queueResource.query({\n        status: 'pending'\n      })\n    );\n\n    if (!ok || !messages || messages.length === 0) {\n      return null;\n    }\n\n    // Filter messages that are visible now\n    const available = messages.filter(m => m.visibleAt <= now);\n    if (available.length === 0) {\n      return null;\n    }\n\n    // Try to claim first available message using ETag\n    for (const msg of available) {\n      const claimed = await this.attemptClaim(msg);\n      if (claimed) {\n        return claimed;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Acquire a distributed lock using PluginStorage TTL\n   * This ensures only one worker can claim a message at a time\n   */\n  async acquireLock(messageId) {\n    const storage = this.getStorage();\n    const lockKey = `msg-${messageId}`;\n\n    try {\n      const lock = await storage.acquireLock(lockKey, {\n        ttl: 5, // 5 seconds\n        timeout: 0, // Don't wait if locked\n        workerId: this.workerId\n      });\n\n      return lock !== null;\n    } catch (error) {\n      // On any error, skip this message\n      if (this.config.verbose) {\n        console.log(`[acquireLock] Error: ${error.message}`);\n      }\n      return false;\n    }\n  }\n\n  /**\n   * Release a distributed lock via PluginStorage\n   */\n  async releaseLock(messageId) {\n    const storage = this.getStorage();\n    const lockKey = `msg-${messageId}`;\n\n    try {\n      await storage.releaseLock(lockKey);\n    } catch (error) {\n      // Ignore errors on release (lock may have expired or been cleaned up)\n      if (this.config.verbose) {\n        console.log(`[releaseLock] Failed to release lock for ${messageId}: ${error.message}`);\n      }\n    }\n  }\n\n  /**\n   * Clean up stale locks - NO LONGER NEEDED\n   * TTL handles automatic expiration, no manual cleanup required\n   */\n  async cleanupStaleLocks() {\n    // TTL automatically expires locks - no manual cleanup needed! ✨\n    return;\n  }\n\n  async attemptClaim(msg) {\n    const now = Date.now();\n\n    // Try to acquire distributed lock for cache check\n    // This prevents race condition where multiple workers check cache simultaneously\n    const lockAcquired = await this.acquireLock(msg.id);\n\n    if (!lockAcquired) {\n      // Another worker is checking/claiming this message, skip it\n      return null;\n    }\n\n    // Check deduplication cache (protected by lock)\n    if (this.processedCache.has(msg.id)) {\n      await this.releaseLock(msg.id);\n      if (this.config.verbose) {\n        console.log(`[attemptClaim] Message ${msg.id} already processed (in cache)`);\n      }\n      return null;\n    }\n\n    // Add to cache immediately (while still holding lock)\n    // This prevents other workers from claiming this message\n    this.processedCache.set(msg.id, Date.now());\n\n    // Release lock now that cache is updated\n    await this.releaseLock(msg.id);\n\n    // Fetch the message with ETag (query doesn't return _etag)\n    const [okGet, errGet, msgWithETag] = await tryFn(() =>\n      this.queueResource.get(msg.id)\n    );\n\n    if (!okGet || !msgWithETag) {\n      // Message was deleted or not found - remove from cache\n      this.processedCache.delete(msg.id);\n      if (this.config.verbose) {\n        console.log(`[attemptClaim] Message ${msg.id} not found or error: ${errGet?.message}`);\n      }\n      return null;\n    }\n\n    // Check if still pending and visible\n    if (msgWithETag.status !== 'pending' || msgWithETag.visibleAt > now) {\n      // Not claimable - remove from cache so another worker can try later\n      this.processedCache.delete(msg.id);\n      if (this.config.verbose) {\n        console.log(`[attemptClaim] Message ${msg.id} not claimable: status=${msgWithETag.status}, visibleAt=${msgWithETag.visibleAt}, now=${now}`);\n      }\n      return null;\n    }\n\n    if (this.config.verbose) {\n      console.log(`[attemptClaim] Attempting to claim ${msg.id} with ETag: ${msgWithETag._etag}`);\n    }\n\n    // Attempt atomic claim using ETag\n    const [ok, err, result] = await tryFn(() =>\n      this.queueResource.updateConditional(msgWithETag.id, {\n        status: 'processing',\n        claimedBy: this.workerId,\n        claimedAt: now,\n        visibleAt: now + this.config.visibilityTimeout,\n        attempts: msgWithETag.attempts + 1\n      }, {\n        ifMatch: msgWithETag._etag  // ← ATOMIC CLAIM using ETag!\n      })\n    );\n\n    if (!ok || !result.success) {\n      // Race lost - another worker claimed it - remove from cache\n      this.processedCache.delete(msg.id);\n      if (this.config.verbose) {\n        console.log(`[attemptClaim] Failed to claim ${msg.id}: ${err?.message || result.error}`)\n      }\n      return null;\n    }\n\n    if (this.config.verbose) {\n      console.log(`[attemptClaim] Successfully claimed ${msg.id}`);\n    }\n\n    // Cache entry already added above, keep it\n\n    // Success! Now load the original record\n    const [okRecord, errRecord, record] = await tryFn(() =>\n      this.targetResource.get(msgWithETag.originalId)\n    );\n\n    if (!okRecord) {\n      // Original record was deleted? Mark queue entry as failed\n      await this.failMessage(msgWithETag.id, 'Original record not found');\n      return null;\n    }\n\n    return {\n      queueId: msgWithETag.id,\n      record,\n      attempts: msgWithETag.attempts + 1,\n      maxAttempts: msgWithETag.maxAttempts\n    };\n  }\n\n  async processMessage(message, handler) {\n    const startTime = Date.now();\n\n    try {\n      // Execute user handler\n      const result = await handler(message.record, {\n        queueId: message.queueId,\n        attempts: message.attempts,\n        workerId: this.workerId\n      });\n\n      // Mark as completed\n      await this.completeMessage(message.queueId, result);\n\n      const duration = Date.now() - startTime;\n\n      this.emit('message.completed', {\n        queueId: message.queueId,\n        originalId: message.record.id,\n        duration,\n        attempts: message.attempts\n      });\n\n      if (this.config.onComplete) {\n        await this.config.onComplete(message.record, result);\n      }\n\n    } catch (error) {\n      // Handle failure\n      const shouldRetry = message.attempts < message.maxAttempts;\n\n      if (shouldRetry) {\n        // Retry with backoff\n        await this.retryMessage(message.queueId, message.attempts, error.message);\n\n        this.emit('message.retry', {\n          queueId: message.queueId,\n          originalId: message.record.id,\n          attempts: message.attempts,\n          error: error.message\n        });\n      } else {\n        // Max attempts reached - move to dead letter queue\n        await this.moveToDeadLetter(message.queueId, message.record, error.message);\n\n        this.emit('message.dead', {\n          queueId: message.queueId,\n          originalId: message.record.id,\n          error: error.message\n        });\n      }\n\n      if (this.config.onError) {\n        await this.config.onError(error, message.record);\n      }\n    }\n  }\n\n  async completeMessage(queueId, result) {\n    await this.queueResource.update(queueId, {\n      status: 'completed',\n      completedAt: Date.now(),\n      result\n    });\n\n    // Note: message already in cache from attemptClaim()\n  }\n\n  async failMessage(queueId, error) {\n    await this.queueResource.update(queueId, {\n      status: 'failed',\n      error\n    });\n  }\n\n  async retryMessage(queueId, attempts, error) {\n    // Exponential backoff: 2^attempts * 1000ms, max 30 seconds\n    const backoff = Math.min(Math.pow(2, attempts) * 1000, 30000);\n\n    await this.queueResource.update(queueId, {\n      status: 'pending',\n      visibleAt: Date.now() + backoff,\n      error\n    });\n\n    // Remove from cache so it can be retried\n    this.processedCache.delete(queueId);\n  }\n\n  async moveToDeadLetter(queueId, record, error) {\n    // Save to dead letter queue if configured\n    if (this.config.deadLetterResource && this.deadLetterResourceObj) {\n      const msg = await this.queueResource.get(queueId);\n\n      await this.deadLetterResourceObj.insert({\n        id: idGenerator(),\n        originalId: record.id,\n        queueId: queueId,\n        data: record,\n        error,\n        attempts: msg.attempts,\n        createdAt: new Date().toISOString()\n      });\n    }\n\n    // Mark as dead in queue\n    await this.queueResource.update(queueId, {\n      status: 'dead',\n      error\n    });\n\n    // Note: message already in cache from attemptClaim()\n  }\n\n  async getStats() {\n    const [ok, err, allMessages] = await tryFn(() =>\n      this.queueResource.list()\n    );\n\n    if (!ok) {\n      if (this.config.verbose) {\n        console.warn('[S3QueuePlugin] Failed to get stats:', err.message);\n      }\n      return null;\n    }\n\n    const stats = {\n      total: allMessages.length,\n      pending: 0,\n      processing: 0,\n      completed: 0,\n      failed: 0,\n      dead: 0\n    };\n\n    for (const msg of allMessages) {\n      if (stats[msg.status] !== undefined) {\n        stats[msg.status]++;\n      }\n    }\n\n    return stats;\n  }\n\n  async createDeadLetterResource() {\n    const [ok, err] = await tryFn(() =>\n      this.database.createResource({\n        name: this.config.deadLetterResource,\n        attributes: {\n          id: 'string|required',\n          originalId: 'string|required',\n          queueId: 'string|required',\n          data: 'json|required',\n          error: 'string|required',\n          attempts: 'number|required',\n          createdAt: 'string|required'\n        },\n        behavior: 'body-overflow',\n        timestamps: true\n      })\n    );\n\n    if (ok || this.database.resources[this.config.deadLetterResource]) {\n      this.deadLetterResourceObj = this.database.resources[this.config.deadLetterResource];\n\n      if (this.config.verbose) {\n        console.log(`[S3QueuePlugin] Dead letter queue created: ${this.config.deadLetterResource}`);\n      }\n    }\n  }\n}\n\nexport default S3QueuePlugin;\n","import { S3dbError } from '../errors.js';\n\n/**\n * SchedulerError - Errors related to scheduler operations\n *\n * Used for scheduled task operations including:\n * - Task creation and scheduling\n * - Cron expression validation\n * - Task execution and retries\n * - Job queue management\n * - Scheduler lifecycle management\n *\n * @extends S3dbError\n */\nexport class SchedulerError extends S3dbError {\n  constructor(message, details = {}) {\n    const { taskId, operation = 'unknown', cronExpression, ...rest } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nScheduler Operation Error\n\nOperation: ${operation}\n${taskId ? `Task ID: ${taskId}` : ''}\n${cronExpression ? `Cron: ${cronExpression}` : ''}\n\nCommon causes:\n1. Invalid cron expression format\n2. Task not found or already exists\n3. Scheduler not properly initialized\n4. Job execution failure\n5. Resource conflicts\n\nSolution:\nCheck task configuration and ensure scheduler is properly initialized.\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/scheduler.md\n`.trim();\n    }\n\n    super(message, { ...rest, taskId, operation, cronExpression, description });\n  }\n}\n\nexport default SchedulerError;\n","import Plugin from \"./plugin.class.js\";\nimport tryFn from \"../concerns/try-fn.js\";\nimport { idGenerator } from \"../concerns/id.js\";\nimport { SchedulerError } from \"./scheduler.errors.js\";\n\n/**\n * SchedulerPlugin - Cron-based Task Scheduling System\n *\n * Provides comprehensive task scheduling with cron expressions,\n * job management, and execution monitoring.\n *\n * === Features ===\n * - Cron-based scheduling with standard expressions\n * - Job management (start, stop, pause, resume)\n * - Execution history and statistics\n * - Error handling and retry logic\n * - Job persistence and recovery\n * - Timezone support\n * - Distributed locking for multi-instance deployments\n * - Resource cleanup and maintenance tasks\n *\n * === Configuration Example ===\n *\n * new SchedulerPlugin({\n *   timezone: 'America/Sao_Paulo',\n *   \n *   jobs: {\n *     // Daily cleanup at 3 AM\n *     cleanup_expired: {\n *       schedule: '0 3 * * *',\n *       description: 'Clean up expired records',\n *       action: async (database, context) => {\n *         const expired = await this.database.resources['sessions')\n *           .list({ where: { expiresAt: { $lt: new Date() } } });\n *         \n *         for (const record of expired) {\n *           await this.database.resources['sessions').delete(record.id);\n *         }\n *         \n *         return { deleted: expired.length };\n *       },\n *       enabled: true,\n *       retries: 3, // Number of retry attempts after initial failure (total: 4 attempts)\n *       timeout: 300000 // 5 minutes\n *     },\n *     \n *     // Weekly reports every Monday at 9 AM\n *     weekly_report: {\n *       schedule: '0 9 * * MON',\n *       description: 'Generate weekly analytics report',\n *       action: async (database, context) => {\n *         const users = await this.database.resources['users').count();\n *         const orders = await this.database.resources['orders').count({\n *           where: { \n *             createdAt: { \n *               $gte: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000) \n *             } \n *           }\n *         });\n *         \n *         const report = {\n *           type: 'weekly',\n *           period: context.scheduledTime,\n *           metrics: { totalUsers: users, weeklyOrders: orders },\n *           createdAt: new Date().toISOString()\n *         };\n *         \n *         await this.database.resources['reports').insert(report);\n *         return report;\n *       }\n *     },\n *     \n *     // Incremental backup every 6 hours\n *     backup_incremental: {\n *       schedule: '0 *\\/6 * * *',\n *       description: 'Incremental database backup',\n *       action: async (database, context, scheduler) => {\n *         // Integration with BackupPlugin\n *         const backupPlugin = scheduler.getPlugin('BackupPlugin');\n *         if (backupPlugin) {\n *           return await backupPlugin.backup('incremental');\n *         }\n *         throw new Error('BackupPlugin not available');\n *       },\n *       retries: 2\n *     },\n *     \n *     // Full backup weekly on Sunday at 2 AM\n *     backup_full: {\n *       schedule: '0 2 * * SUN',\n *       description: 'Full database backup',\n *       action: async (database, context, scheduler) => {\n *         const backupPlugin = scheduler.getPlugin('BackupPlugin');\n *         if (backupPlugin) {\n *           return await backupPlugin.backup('full');\n *         }\n *         throw new Error('BackupPlugin not available');\n *       }\n *     },\n *     \n *     // Metrics aggregation every hour\n *     metrics_aggregation: {\n *       schedule: '0 * * * *', // Every hour\n *       description: 'Aggregate hourly metrics',\n *       action: async (database, context) => {\n *         const now = new Date();\n *         const hourAgo = new Date(now.getTime() - 60 * 60 * 1000);\n *         \n *         // Aggregate metrics from the last hour\n *         const events = await this.database.resources['events').list({\n *           where: { \n *             timestamp: { \n *               $gte: hourAgo.getTime(),\n *               $lt: now.getTime() \n *             } \n *           }\n *         });\n *         \n *         const aggregated = events.reduce((acc, event) => {\n *           acc[event.type] = (acc[event.type] || 0) + 1;\n *           return acc;\n *         }, {});\n *         \n *         await this.database.resources['hourly_metrics').insert({\n *           hour: hourAgo.toISOString().slice(0, 13),\n *           metrics: aggregated,\n *           total: events.length,\n *           createdAt: now.toISOString()\n *         });\n *         \n *         return { processed: events.length, types: Object.keys(aggregated).length };\n *       }\n *     }\n *   },\n *   \n *   // Global job configuration\n *   defaultTimeout: 300000, // 5 minutes\n *   defaultRetries: 1,\n *   jobHistoryResource: 'job_executions',\n *   persistJobs: true,\n *   \n *   // Hooks\n *   onJobStart: (jobName, context) => console.log(`Starting job: ${jobName}`),\n *   onJobComplete: (jobName, result, duration) => console.log(`Job ${jobName} completed in ${duration}ms`),\n *   onJobError: (jobName, error) => console.error(`Job ${jobName} failed:`, error.message)\n * });\n */\nexport class SchedulerPlugin extends Plugin {\n  constructor(options = {}) {\n    super();\n    \n    this.config = {\n      timezone: options.timezone || 'UTC',\n      jobs: options.jobs || {},\n      defaultTimeout: options.defaultTimeout || 300000, // 5 minutes\n      defaultRetries: options.defaultRetries || 1,\n      jobHistoryResource: options.jobHistoryResource || 'plg_job_executions',\n      persistJobs: options.persistJobs !== false,\n      verbose: options.verbose || false,\n      onJobStart: options.onJobStart || null,\n      onJobComplete: options.onJobComplete || null,\n      onJobError: options.onJobError || null,\n      ...options\n    };\n    \n    this.database = null;\n    this.jobs = new Map();\n    this.activeJobs = new Map();\n    this.timers = new Map();\n    this.statistics = new Map();\n\n    this._validateConfiguration();\n  }\n\n  /**\n   * Helper to detect test environment\n   * @private\n   */\n  _isTestEnvironment() {\n    return process.env.NODE_ENV === 'test' ||\n           process.env.JEST_WORKER_ID !== undefined ||\n           global.expect !== undefined;\n  }\n\n  _validateConfiguration() {\n    if (Object.keys(this.config.jobs).length === 0) {\n      throw new SchedulerError('At least one job must be defined', {\n        operation: 'validateConfiguration',\n        jobCount: 0,\n        suggestion: 'Provide at least one job in the jobs configuration: { jobs: { myJob: { schedule: \"* * * * *\", action: async () => {...} } } }'\n      });\n    }\n\n    for (const [jobName, job] of Object.entries(this.config.jobs)) {\n      if (!job.schedule) {\n        throw new SchedulerError(`Job '${jobName}' must have a schedule`, {\n          operation: 'validateConfiguration',\n          taskId: jobName,\n          providedConfig: Object.keys(job),\n          suggestion: 'Add a schedule property with a valid cron expression: { schedule: \"0 * * * *\", action: async () => {...} }'\n        });\n      }\n\n      if (!job.action || typeof job.action !== 'function') {\n        throw new SchedulerError(`Job '${jobName}' must have an action function`, {\n          operation: 'validateConfiguration',\n          taskId: jobName,\n          actionType: typeof job.action,\n          suggestion: 'Provide an action function: { schedule: \"...\", action: async (db, ctx) => {...} }'\n        });\n      }\n\n      // Validate cron expression\n      if (!this._isValidCronExpression(job.schedule)) {\n        throw new SchedulerError(`Job '${jobName}' has invalid cron expression`, {\n          operation: 'validateConfiguration',\n          taskId: jobName,\n          cronExpression: job.schedule,\n          suggestion: 'Use valid cron format (5 fields: minute hour day month weekday) or shortcuts (@hourly, @daily, @weekly, @monthly, @yearly)'\n        });\n      }\n    }\n  }\n\n  _isValidCronExpression(expr) {\n    // Basic cron validation - in production use a proper cron parser\n    if (typeof expr !== 'string') return false;\n    \n    // Check for shorthand expressions first\n    const shortcuts = ['@yearly', '@annually', '@monthly', '@weekly', '@daily', '@hourly'];\n    if (shortcuts.includes(expr)) return true;\n    \n    const parts = expr.trim().split(/\\s+/);\n    if (parts.length !== 5) return false;\n    \n    return true; // Simplified validation\n  }\n\n  async onInstall() {\n    // Locks are now managed by PluginStorage with TTL - no Resource needed\n\n    // Create job execution history resource\n    if (this.config.persistJobs) {\n      await this._createJobHistoryResource();\n    }\n    \n    // Initialize jobs\n    for (const [jobName, jobConfig] of Object.entries(this.config.jobs)) {\n      this.jobs.set(jobName, {\n        ...jobConfig,\n        enabled: jobConfig.enabled !== false,\n        retries: jobConfig.retries || this.config.defaultRetries,\n        timeout: jobConfig.timeout || this.config.defaultTimeout,\n        lastRun: null,\n        nextRun: null,\n        runCount: 0,\n        successCount: 0,\n        errorCount: 0\n      });\n      \n      this.statistics.set(jobName, {\n        totalRuns: 0,\n        totalSuccesses: 0,\n        totalErrors: 0,\n        avgDuration: 0,\n        lastRun: null,\n        lastSuccess: null,\n        lastError: null\n      });\n    }\n    \n    // Start scheduling\n    await this._startScheduling();\n    \n    this.emit('initialized', { jobs: this.jobs.size });\n  }\n\n\n  async _createJobHistoryResource() {\n    const [ok] = await tryFn(() => this.database.createResource({\n      name: this.config.jobHistoryResource,\n      attributes: {\n        id: 'string|required',\n        jobName: 'string|required',\n        status: 'string|required', // success, error, timeout\n        startTime: 'number|required',\n        endTime: 'number',\n        duration: 'number',\n        result: 'json|default:null',\n        error: 'string|default:null',\n        retryCount: 'number|default:0',\n        createdAt: 'string|required'\n      },\n      behavior: 'body-overflow',\n      partitions: {\n        byJob: { fields: { jobName: 'string' } },\n        byDate: { fields: { createdAt: 'string|maxlength:10' } }\n      }\n    }));\n  }\n\n  async _startScheduling() {\n    for (const [jobName, job] of this.jobs) {\n      if (job.enabled) {\n        this._scheduleNextExecution(jobName);\n      }\n    }\n  }\n\n  _scheduleNextExecution(jobName) {\n    const job = this.jobs.get(jobName);\n    if (!job || !job.enabled) return;\n    \n    const nextRun = this._calculateNextRun(job.schedule);\n    job.nextRun = nextRun;\n    \n    const delay = nextRun.getTime() - Date.now();\n    \n    if (delay > 0) {\n      const timer = setTimeout(() => {\n        this._executeJob(jobName);\n      }, delay);\n      \n      this.timers.set(jobName, timer);\n      \n      if (this.config.verbose) {\n        console.log(`[SchedulerPlugin] Scheduled job '${jobName}' for ${nextRun.toISOString()}`);\n      }\n    }\n  }\n\n  _calculateNextRun(schedule) {\n    const now = new Date();\n    \n    // Handle shorthand expressions\n    if (schedule === '@yearly' || schedule === '@annually') {\n      const next = new Date(now);\n      next.setFullYear(next.getFullYear() + 1);\n      next.setMonth(0, 1);\n      next.setHours(0, 0, 0, 0);\n      return next;\n    }\n    \n    if (schedule === '@monthly') {\n      const next = new Date(now);\n      next.setMonth(next.getMonth() + 1, 1);\n      next.setHours(0, 0, 0, 0);\n      return next;\n    }\n    \n    if (schedule === '@weekly') {\n      const next = new Date(now);\n      next.setDate(next.getDate() + (7 - next.getDay()));\n      next.setHours(0, 0, 0, 0);\n      return next;\n    }\n    \n    if (schedule === '@daily') {\n      const next = new Date(now);\n      next.setDate(next.getDate() + 1);\n      next.setHours(0, 0, 0, 0);\n      return next;\n    }\n    \n    if (schedule === '@hourly') {\n      const next = new Date(now);\n      next.setHours(next.getHours() + 1, 0, 0, 0);\n      return next;\n    }\n    \n    // Parse standard cron expression (simplified)\n    const [minute, hour, day, month, weekday] = schedule.split(/\\s+/);\n    \n    const next = new Date(now);\n    next.setMinutes(parseInt(minute) || 0);\n    next.setSeconds(0);\n    next.setMilliseconds(0);\n    \n    if (hour !== '*') {\n      next.setHours(parseInt(hour));\n    }\n    \n    // If the calculated time is in the past or now, move to next occurrence\n    if (next <= now) {\n      if (hour !== '*') {\n        next.setDate(next.getDate() + 1);\n      } else {\n        next.setHours(next.getHours() + 1);\n      }\n    }\n    \n    // For tests, ensure we always schedule in the future\n    if (this._isTestEnvironment()) {\n      // Add 1 second to ensure it's in the future for tests\n      next.setTime(next.getTime() + 1000);\n    }\n    \n    return next;\n  }\n\n  async _executeJob(jobName) {\n    const job = this.jobs.get(jobName);\n    if (!job) {\n      return;\n    }\n\n    // Check and mark as active atomically to prevent race conditions\n    if (this.activeJobs.has(jobName)) {\n      return;\n    }\n\n    // Mark as active immediately (will be updated with executionId later)\n    this.activeJobs.set(jobName, 'acquiring-lock');\n\n    // Acquire distributed lock with TTL to prevent concurrent execution across instances\n    const storage = this.getStorage();\n    const lockKey = `job-${jobName}`;\n    const lock = await storage.acquireLock(lockKey, {\n      ttl: Math.ceil(job.timeout / 1000) + 60, // Job timeout + 60 seconds buffer\n      timeout: 0, // Don't wait if locked\n      workerId: process.pid ? String(process.pid) : 'unknown'\n    });\n\n    // If lock couldn't be acquired, another instance is executing this job\n    if (!lock) {\n      if (this.config.verbose) {\n        console.log(`[SchedulerPlugin] Job '${jobName}' already running on another instance`);\n      }\n      // Remove from activeJobs since we didn't acquire the lock\n      this.activeJobs.delete(jobName);\n      return;\n    }\n\n    const executionId = `${jobName}_${idGenerator()}`;\n    const startTime = Date.now();\n\n    const context = {\n      jobName,\n      executionId,\n      scheduledTime: new Date(startTime),\n      database: this.database\n    };\n\n    // Update with actual executionId\n    this.activeJobs.set(jobName, executionId);\n\n    try {\n      // Execute onJobStart hook\n      if (this.config.onJobStart) {\n        await this._executeHook(this.config.onJobStart, jobName, context);\n      }\n\n      this.emit('job_start', { jobName, executionId, startTime });\n\n      let attempt = 0;\n      let lastError = null;\n      let result = null;\n      let status = 'success';\n\n      // Detect test environment once\n      const isTestEnvironment = this._isTestEnvironment();\n\n      while (attempt <= job.retries) { // attempt 0 = initial, attempt 1+ = retries\n        try {\n          // Set timeout for job execution (reduce timeout in test environment)\n          const actualTimeout = isTestEnvironment ? Math.min(job.timeout, 1000) : job.timeout; // Max 1000ms in tests\n\n          let timeoutId;\n          const timeoutPromise = new Promise((_, reject) => {\n            timeoutId = setTimeout(() => reject(new Error('Job execution timeout')), actualTimeout);\n          });\n\n          // Execute job with timeout\n          const jobPromise = job.action(this.database, context, this);\n\n          try {\n            result = await Promise.race([jobPromise, timeoutPromise]);\n            // Clear timeout if job completes successfully\n            clearTimeout(timeoutId);\n          } catch (raceError) {\n            // Ensure timeout is cleared even on error\n            clearTimeout(timeoutId);\n            throw raceError;\n          }\n\n          status = 'success';\n          break;\n\n        } catch (error) {\n          lastError = error;\n          attempt++;\n\n          if (attempt <= job.retries) {\n            if (this.config.verbose) {\n              console.warn(`[SchedulerPlugin] Job '${jobName}' failed (attempt ${attempt + 1}):`, error.message);\n            }\n\n            // Wait before retry (exponential backoff with max delay, shorter in tests)\n            const baseDelay = Math.min(Math.pow(2, attempt) * 1000, 5000); // Max 5 seconds\n            const delay = isTestEnvironment ? 1 : baseDelay; // Just 1ms in tests\n            await new Promise(resolve => setTimeout(resolve, delay));\n          }\n        }\n      }\n\n      const endTime = Date.now();\n      const duration = Math.max(1, endTime - startTime); // Ensure minimum 1ms duration\n\n      if (lastError && attempt > job.retries) {\n        status = lastError.message.includes('timeout') ? 'timeout' : 'error';\n      }\n\n      // Update job statistics\n      job.lastRun = new Date(endTime);\n      job.runCount++;\n\n      if (status === 'success') {\n        job.successCount++;\n      } else {\n        job.errorCount++;\n      }\n\n      // Update plugin statistics\n      const stats = this.statistics.get(jobName);\n      stats.totalRuns++;\n      stats.lastRun = new Date(endTime);\n\n      if (status === 'success') {\n        stats.totalSuccesses++;\n        stats.lastSuccess = new Date(endTime);\n      } else {\n        stats.totalErrors++;\n        stats.lastError = { time: new Date(endTime), message: lastError?.message };\n      }\n\n      stats.avgDuration = ((stats.avgDuration * (stats.totalRuns - 1)) + duration) / stats.totalRuns;\n\n      // Persist execution history\n      if (this.config.persistJobs) {\n        await this._persistJobExecution(jobName, executionId, startTime, endTime, duration, status, result, lastError, attempt);\n      }\n\n      // Execute completion hooks\n      if (status === 'success' && this.config.onJobComplete) {\n        await this._executeHook(this.config.onJobComplete, jobName, result, duration);\n      } else if (status !== 'success' && this.config.onJobError) {\n        await this._executeHook(this.config.onJobError, jobName, lastError, attempt);\n      }\n\n      this.emit('job_complete', {\n        jobName,\n        executionId,\n        status,\n        duration,\n        result,\n        error: lastError?.message,\n        retryCount: attempt\n      });\n    \n      // Remove from active jobs\n      this.activeJobs.delete(jobName);\n\n      // Schedule next execution if job is still enabled\n      if (job.enabled) {\n        this._scheduleNextExecution(jobName);\n      }\n\n      // Throw error if all retries failed\n      if (lastError && status !== 'success') {\n        throw lastError;\n      }\n    } finally {\n      // Always release the distributed lock\n      await tryFn(() => storage.releaseLock(lockKey));\n    }\n  }\n\n  async _persistJobExecution(jobName, executionId, startTime, endTime, duration, status, result, error, retryCount) {\n    const [ok, err] = await tryFn(() => \n      this.database.resources[this.config.jobHistoryResource].insert({\n        id: executionId,\n        jobName,\n        status,\n        startTime,\n        endTime,\n        duration,\n        result: result ? JSON.stringify(result) : null,\n        error: error?.message || null,\n        retryCount,\n        createdAt: new Date(startTime).toISOString().slice(0, 10)\n      })\n    );\n    \n    if (!ok && this.config.verbose) {\n      console.warn('[SchedulerPlugin] Failed to persist job execution:', err.message);\n    }\n  }\n\n  async _executeHook(hook, ...args) {\n    if (typeof hook === 'function') {\n      const [ok, err] = await tryFn(() => hook(...args));\n      if (!ok && this.config.verbose) {\n        console.warn('[SchedulerPlugin] Hook execution failed:', err.message);\n      }\n    }\n  }\n\n  /**\n   * Manually trigger a job execution\n   * Note: Race conditions are prevented by distributed locking in _executeJob()\n   */\n  async runJob(jobName, context = {}) {\n    const job = this.jobs.get(jobName);\n    if (!job) {\n      throw new SchedulerError(`Job '${jobName}' not found`, {\n        operation: 'runJob',\n        taskId: jobName,\n        availableJobs: Array.from(this.jobs.keys()),\n        suggestion: 'Check job name or use getAllJobsStatus() to list available jobs'\n      });\n    }\n\n    if (this.activeJobs.has(jobName)) {\n      throw new SchedulerError(`Job '${jobName}' is already running`, {\n        operation: 'runJob',\n        taskId: jobName,\n        executionId: this.activeJobs.get(jobName),\n        suggestion: 'Wait for current execution to complete or check job status with getJobStatus()'\n      });\n    }\n\n    await this._executeJob(jobName);\n  }\n\n  /**\n   * Enable a job\n   */\n  enableJob(jobName) {\n    const job = this.jobs.get(jobName);\n    if (!job) {\n      throw new SchedulerError(`Job '${jobName}' not found`, {\n        operation: 'enableJob',\n        taskId: jobName,\n        availableJobs: Array.from(this.jobs.keys()),\n        suggestion: 'Check job name or use getAllJobsStatus() to list available jobs'\n      });\n    }\n\n    job.enabled = true;\n    this._scheduleNextExecution(jobName);\n\n    this.emit('job_enabled', { jobName });\n  }\n\n  /**\n   * Disable a job\n   */\n  disableJob(jobName) {\n    const job = this.jobs.get(jobName);\n    if (!job) {\n      throw new SchedulerError(`Job '${jobName}' not found`, {\n        operation: 'disableJob',\n        taskId: jobName,\n        availableJobs: Array.from(this.jobs.keys()),\n        suggestion: 'Check job name or use getAllJobsStatus() to list available jobs'\n      });\n    }\n    \n    job.enabled = false;\n    \n    // Cancel scheduled execution\n    const timer = this.timers.get(jobName);\n    if (timer) {\n      clearTimeout(timer);\n      this.timers.delete(jobName);\n    }\n    \n    this.emit('job_disabled', { jobName });\n  }\n\n  /**\n   * Get job status and statistics\n   */\n  getJobStatus(jobName) {\n    const job = this.jobs.get(jobName);\n    const stats = this.statistics.get(jobName);\n    \n    if (!job || !stats) {\n      return null;\n    }\n    \n    return {\n      name: jobName,\n      enabled: job.enabled,\n      schedule: job.schedule,\n      description: job.description,\n      lastRun: job.lastRun,\n      nextRun: job.nextRun,\n      isRunning: this.activeJobs.has(jobName),\n      statistics: {\n        totalRuns: stats.totalRuns,\n        totalSuccesses: stats.totalSuccesses,\n        totalErrors: stats.totalErrors,\n        successRate: stats.totalRuns > 0 ? (stats.totalSuccesses / stats.totalRuns) * 100 : 0,\n        avgDuration: Math.round(stats.avgDuration),\n        lastSuccess: stats.lastSuccess,\n        lastError: stats.lastError\n      }\n    };\n  }\n\n  /**\n   * Get all jobs status\n   */\n  getAllJobsStatus() {\n    const jobs = [];\n    for (const jobName of this.jobs.keys()) {\n      jobs.push(this.getJobStatus(jobName));\n    }\n    return jobs;\n  }\n\n  /**\n   * Get job execution history\n   */\n  async getJobHistory(jobName, options = {}) {\n    if (!this.config.persistJobs) {\n      return [];\n    }\n\n    const { limit = 50, status = null } = options;\n\n    // Build query to use partition (byJob)\n    const queryParams = {\n      jobName  // Uses byJob partition for efficient lookup\n    };\n\n    if (status) {\n      queryParams.status = status;\n    }\n\n    // Use query() to leverage partitions instead of list() + filter\n    const [ok, err, history] = await tryFn(() =>\n      this.database.resources[this.config.jobHistoryResource].query(queryParams)\n    );\n\n    if (!ok) {\n      if (this.config.verbose) {\n        console.warn(`[SchedulerPlugin] Failed to get job history:`, err.message);\n      }\n      return [];\n    }\n\n    // Sort by startTime descending and limit\n    let filtered = history.sort((a, b) => b.startTime - a.startTime).slice(0, limit);\n    \n    return filtered.map(h => {\n      let result = null;\n      if (h.result) {\n        try {\n          result = JSON.parse(h.result);\n        } catch (e) {\n          // If JSON parsing fails, return the raw value\n          result = h.result;\n        }\n      }\n      \n      return {\n        id: h.id,\n        status: h.status,\n        startTime: new Date(h.startTime),\n        endTime: h.endTime ? new Date(h.endTime) : null,\n        duration: h.duration,\n        result: result,\n        error: h.error,\n        retryCount: h.retryCount\n      };\n    });\n  }\n\n  /**\n   * Add a new job at runtime\n   */\n  addJob(jobName, jobConfig) {\n    if (this.jobs.has(jobName)) {\n      throw new SchedulerError(`Job '${jobName}' already exists`, {\n        operation: 'addJob',\n        taskId: jobName,\n        existingJobs: Array.from(this.jobs.keys()),\n        suggestion: 'Use a different job name or remove the existing job first with removeJob()'\n      });\n    }\n\n    // Validate job configuration\n    if (!jobConfig.schedule || !jobConfig.action) {\n      throw new SchedulerError('Job must have schedule and action', {\n        operation: 'addJob',\n        taskId: jobName,\n        providedConfig: Object.keys(jobConfig),\n        suggestion: 'Provide both schedule and action: { schedule: \"0 * * * *\", action: async (db, ctx) => {...} }'\n      });\n    }\n\n    if (!this._isValidCronExpression(jobConfig.schedule)) {\n      throw new SchedulerError('Invalid cron expression', {\n        operation: 'addJob',\n        taskId: jobName,\n        cronExpression: jobConfig.schedule,\n        suggestion: 'Use valid cron format (5 fields) or shortcuts (@hourly, @daily, @weekly, @monthly, @yearly)'\n      });\n    }\n    \n    const job = {\n      ...jobConfig,\n      enabled: jobConfig.enabled !== false,\n      retries: jobConfig.retries || this.config.defaultRetries,\n      timeout: jobConfig.timeout || this.config.defaultTimeout,\n      lastRun: null,\n      nextRun: null,\n      runCount: 0,\n      successCount: 0,\n      errorCount: 0\n    };\n    \n    this.jobs.set(jobName, job);\n    this.statistics.set(jobName, {\n      totalRuns: 0,\n      totalSuccesses: 0,\n      totalErrors: 0,\n      avgDuration: 0,\n      lastRun: null,\n      lastSuccess: null,\n      lastError: null\n    });\n    \n    if (job.enabled) {\n      this._scheduleNextExecution(jobName);\n    }\n    \n    this.emit('job_added', { jobName });\n  }\n\n  /**\n   * Remove a job\n   */\n  removeJob(jobName) {\n    const job = this.jobs.get(jobName);\n    if (!job) {\n      throw new SchedulerError(`Job '${jobName}' not found`, {\n        operation: 'removeJob',\n        taskId: jobName,\n        availableJobs: Array.from(this.jobs.keys()),\n        suggestion: 'Check job name or use getAllJobsStatus() to list available jobs'\n      });\n    }\n    \n    // Cancel scheduled execution\n    const timer = this.timers.get(jobName);\n    if (timer) {\n      clearTimeout(timer);\n      this.timers.delete(jobName);\n    }\n    \n    // Remove from maps\n    this.jobs.delete(jobName);\n    this.statistics.delete(jobName);\n    this.activeJobs.delete(jobName);\n    \n    this.emit('job_removed', { jobName });\n  }\n\n  /**\n   * Get plugin instance by name (for job actions that need other plugins)\n   */\n  getPlugin(pluginName) {\n    // This would be implemented to access other plugins from the database\n    // For now, return null\n    return null;\n  }\n\n  async start() {\n    if (this.config.verbose) {\n      console.log(`[SchedulerPlugin] Started with ${this.jobs.size} jobs`);\n    }\n  }\n\n  async stop() {\n    // Clear all timers\n    for (const timer of this.timers.values()) {\n      clearTimeout(timer);\n    }\n    this.timers.clear();\n\n    // For tests, don't wait for active jobs - they may be mocked\n    if (!this._isTestEnvironment() && this.activeJobs.size > 0) {\n      if (this.config.verbose) {\n        console.log(`[SchedulerPlugin] Waiting for ${this.activeJobs.size} active jobs to complete...`);\n      }\n      \n      // Wait up to 5 seconds for jobs to complete in production\n      const timeout = 5000;\n      const start = Date.now();\n      \n      while (this.activeJobs.size > 0 && (Date.now() - start) < timeout) {\n        await new Promise(resolve => setTimeout(resolve, 100));\n      }\n      \n      if (this.activeJobs.size > 0) {\n        console.warn(`[SchedulerPlugin] ${this.activeJobs.size} jobs still running after timeout`);\n      }\n    }\n\n    // Clear active jobs in test environment\n    if (this._isTestEnvironment()) {\n      this.activeJobs.clear();\n    }\n\n    // Cleanup resources\n    this.jobs.clear();\n    this.statistics.clear();\n    this.activeJobs.clear();\n    this.removeAllListeners();\n  }\n}\n\nexport default SchedulerPlugin;","import { S3dbError } from '../errors.js';\n\n/**\n * StateMachineError - Errors related to state machine operations\n *\n * Used for state machine operations including:\n * - State transitions\n * - State validation\n * - Transition conditions\n * - State machine configuration\n * - Workflow execution\n *\n * @extends S3dbError\n */\nexport class StateMachineError extends S3dbError {\n  constructor(message, details = {}) {\n    const { currentState, targetState, resourceName, operation = 'unknown', ...rest } = details;\n\n    let description = details.description;\n    if (!description) {\n      description = `\nState Machine Operation Error\n\nOperation: ${operation}\n${currentState ? `Current State: ${currentState}` : ''}\n${targetState ? `Target State: ${targetState}` : ''}\n${resourceName ? `Resource: ${resourceName}` : ''}\n\nCommon causes:\n1. Invalid state transition\n2. State machine not configured\n3. Transition conditions not met\n4. State not defined in configuration\n5. Missing transition handler\n\nSolution:\nCheck state machine configuration and valid transitions.\n\nDocs: https://github.com/forattini-dev/s3db.js/blob/main/docs/plugins/state-machine.md\n`.trim();\n    }\n\n    super(message, { ...rest, currentState, targetState, resourceName, operation, description });\n  }\n}\n\nexport default StateMachineError;\n","import Plugin from \"./plugin.class.js\";\nimport tryFn from \"../concerns/try-fn.js\";\nimport { StateMachineError } from \"./state-machine.errors.js\";\n\n/**\n * StateMachinePlugin - Finite State Machine Management\n *\n * Provides structured state management with controlled transitions,\n * automatic actions, and comprehensive audit trails.\n *\n * === Features ===\n * - Finite state machines with defined states and transitions\n * - Event-driven transitions with validation\n * - Entry/exit actions and guards\n * - Transition history and audit trails\n * - Multiple state machines per plugin instance\n * - Integration with S3DB resources\n *\n * === Configuration Example ===\n *\n * new StateMachinePlugin({\n *   stateMachines: {\n *     order_processing: {\n *       initialState: 'pending',\n *       states: {\n *         pending: {\n *           on: {\n *             CONFIRM: 'confirmed',\n *             CANCEL: 'cancelled'\n *           },\n *           meta: { color: 'yellow', description: 'Awaiting payment' }\n *         },\n *         confirmed: {\n *           on: {\n *             PREPARE: 'preparing',\n *             CANCEL: 'cancelled'\n *           },\n *           entry: 'onConfirmed',\n *           exit: 'onLeftConfirmed'\n *         },\n *         preparing: {\n *           on: {\n *             SHIP: 'shipped',\n *             CANCEL: 'cancelled'\n *           },\n *           guards: {\n *             SHIP: 'canShip'\n *           }\n *         },\n *         shipped: {\n *           on: {\n *             DELIVER: 'delivered',\n *             RETURN: 'returned'\n *           }\n *         },\n *         delivered: { type: 'final' },\n *         cancelled: { type: 'final' },\n *         returned: { type: 'final' }\n *       }\n *     }\n *   },\n *   \n *   actions: {\n *     onConfirmed: async (context, event, machine) => {\n *       await machine.this.database.resources['inventory'].update(context.productId, {\n *         quantity: { $decrement: context.quantity }\n *       });\n *       await machine.sendNotification(context.customerEmail, 'order_confirmed');\n *     },\n *     onLeftConfirmed: async (context, event, machine) => {\n *       console.log('Left confirmed state');\n *     }\n *   },\n *   \n *   guards: {\n *     canShip: async (context, event, machine) => {\n *       const inventory = await machine.this.database.resources['inventory'].get(context.productId);\n *       return inventory.quantity >= context.quantity;\n *     }\n *   },\n *   \n *   persistTransitions: true,\n *   transitionLogResource: 'plg_state_transitions'\n * });\n *\n * === Usage ===\n *\n * // Send events to trigger transitions\n * await stateMachine.send('order_processing', orderId, 'CONFIRM', { paymentId: 'pay_123' });\n *\n * // Get current state\n * const state = await stateMachine.getState('order_processing', orderId);\n *\n * // Get valid events for current state\n * const validEvents = await stateMachine.getValidEvents('order_processing', 'pending');\n *\n * // Get transition history\n * const history = await stateMachine.getTransitionHistory('order_processing', orderId);\n */\nexport class StateMachinePlugin extends Plugin {\n  constructor(options = {}) {\n    super();\n\n    this.config = {\n      stateMachines: options.stateMachines || {},\n      actions: options.actions || {},\n      guards: options.guards || {},\n      persistTransitions: options.persistTransitions !== false,\n      transitionLogResource: options.transitionLogResource || 'plg_state_transitions',\n      stateResource: options.stateResource || 'plg_entity_states',\n      retryAttempts: options.retryAttempts || 3,\n      retryDelay: options.retryDelay || 100,\n      verbose: options.verbose || false,\n      // Distributed lock configuration (prevents concurrent transitions)\n      workerId: options.workerId || 'default',\n      lockTimeout: options.lockTimeout || 1000, // Wait up to 1s for lock\n      lockTTL: options.lockTTL || 5 // Lock expires after 5s (prevent deadlock)\n    };\n\n    this.database = null;\n    this.machines = new Map();\n\n    this._validateConfiguration();\n  }\n\n  _validateConfiguration() {\n    if (!this.config.stateMachines || Object.keys(this.config.stateMachines).length === 0) {\n      throw new StateMachineError('At least one state machine must be defined', {\n        operation: 'validateConfiguration',\n        machineCount: 0,\n        suggestion: 'Provide at least one state machine in the stateMachines configuration'\n      });\n    }\n    \n    for (const [machineName, machine] of Object.entries(this.config.stateMachines)) {\n      if (!machine.states || Object.keys(machine.states).length === 0) {\n        throw new StateMachineError(`Machine '${machineName}' must have states defined`, {\n          operation: 'validateConfiguration',\n          machineId: machineName,\n          suggestion: 'Define at least one state in the states configuration'\n        });\n      }\n\n      if (!machine.initialState) {\n        throw new StateMachineError(`Machine '${machineName}' must have an initialState`, {\n          operation: 'validateConfiguration',\n          machineId: machineName,\n          availableStates: Object.keys(machine.states),\n          suggestion: 'Specify an initialState property matching one of the defined states'\n        });\n      }\n\n      if (!machine.states[machine.initialState]) {\n        throw new StateMachineError(`Initial state '${machine.initialState}' not found in machine '${machineName}'`, {\n          operation: 'validateConfiguration',\n          machineId: machineName,\n          initialState: machine.initialState,\n          availableStates: Object.keys(machine.states),\n          suggestion: 'Set initialState to one of the defined states'\n        });\n      }\n    }\n  }\n\n  async onInstall() {\n    \n    // Create state storage resource if persistence is enabled\n    if (this.config.persistTransitions) {\n      await this._createStateResources();\n    }\n    \n    // Initialize state machines\n    for (const [machineName, machineConfig] of Object.entries(this.config.stateMachines)) {\n      this.machines.set(machineName, {\n        config: machineConfig,\n        currentStates: new Map() // entityId -> currentState\n      });\n    }\n    \n    this.emit('initialized', { machines: Array.from(this.machines.keys()) });\n  }\n\n  async _createStateResources() {\n    // Create transition log resource\n    const [logOk] = await tryFn(() => this.database.createResource({\n      name: this.config.transitionLogResource,\n      attributes: {\n        id: 'string|required',\n        machineId: 'string|required',\n        entityId: 'string|required',\n        fromState: 'string',\n        toState: 'string|required',\n        event: 'string|required',\n        context: 'json',\n        timestamp: 'number|required',\n        createdAt: 'string|required'\n      },\n      behavior: 'body-overflow',\n      partitions: {\n        byMachine: { fields: { machineId: 'string' } },\n        byDate: { fields: { createdAt: 'string|maxlength:10' } }\n      }\n    }));\n    \n    // Create current state resource\n    const [stateOk] = await tryFn(() => this.database.createResource({\n      name: this.config.stateResource,\n      attributes: {\n        id: 'string|required',\n        machineId: 'string|required',\n        entityId: 'string|required',\n        currentState: 'string|required',\n        context: 'json|default:{}',\n        lastTransition: 'string|default:null',\n        updatedAt: 'string|required'\n      },\n      behavior: 'body-overflow'\n    }));\n  }\n\n  /**\n   * Send an event to trigger a state transition\n   */\n  async send(machineId, entityId, event, context = {}) {\n    const machine = this.machines.get(machineId);\n    if (!machine) {\n      throw new StateMachineError(`State machine '${machineId}' not found`, {\n        operation: 'send',\n        machineId,\n        availableMachines: Array.from(this.machines.keys()),\n        suggestion: 'Check machine ID or use getMachines() to list available machines'\n      });\n    }\n\n    // Acquire distributed lock to prevent concurrent transitions\n    const lockName = await this._acquireTransitionLock(machineId, entityId);\n\n    try {\n      const currentState = await this.getState(machineId, entityId);\n      const stateConfig = machine.config.states[currentState];\n\n      if (!stateConfig || !stateConfig.on || !stateConfig.on[event]) {\n        throw new StateMachineError(`Event '${event}' not valid for state '${currentState}' in machine '${machineId}'`, {\n          operation: 'send',\n          machineId,\n          entityId,\n          event,\n          currentState,\n          validEvents: stateConfig && stateConfig.on ? Object.keys(stateConfig.on) : [],\n          suggestion: 'Use getValidEvents() to check which events are valid for the current state'\n        });\n      }\n\n      const targetState = stateConfig.on[event];\n\n      // Check guards\n      if (stateConfig.guards && stateConfig.guards[event]) {\n        const guardName = stateConfig.guards[event];\n        const guard = this.config.guards[guardName];\n\n        if (guard) {\n          const [guardOk, guardErr, guardResult] = await tryFn(() =>\n            guard(context, event, { database: this.database, machineId, entityId })\n          );\n\n          if (!guardOk || !guardResult) {\n            throw new StateMachineError(`Transition blocked by guard '${guardName}'`, {\n              operation: 'send',\n              machineId,\n              entityId,\n              event,\n              currentState,\n              guardName,\n              guardError: guardErr?.message || 'Guard returned false',\n              suggestion: 'Check guard conditions or modify the context to satisfy guard requirements'\n            });\n          }\n        }\n      }\n\n      // Execute exit action for current state\n      if (stateConfig.exit) {\n        await this._executeAction(stateConfig.exit, context, event, machineId, entityId);\n      }\n\n      // Execute the transition\n      await this._transition(machineId, entityId, currentState, targetState, event, context);\n\n      // Execute entry action for target state\n      const targetStateConfig = machine.config.states[targetState];\n      if (targetStateConfig && targetStateConfig.entry) {\n        await this._executeAction(targetStateConfig.entry, context, event, machineId, entityId);\n      }\n\n      this.emit('transition', {\n        machineId,\n        entityId,\n        from: currentState,\n        to: targetState,\n        event,\n        context\n      });\n\n      return {\n        from: currentState,\n        to: targetState,\n        event,\n        timestamp: new Date().toISOString()\n      };\n    } finally {\n      // Always release lock, even if transition fails\n      await this._releaseTransitionLock(lockName);\n    }\n  }\n\n  async _executeAction(actionName, context, event, machineId, entityId) {\n    const action = this.config.actions[actionName];\n    if (!action) {\n      if (this.config.verbose) {\n        console.warn(`[StateMachinePlugin] Action '${actionName}' not found`);\n      }\n      return;\n    }\n    \n    const [ok, error] = await tryFn(() => \n      action(context, event, { database: this.database, machineId, entityId })\n    );\n    \n    if (!ok) {\n      if (this.config.verbose) {\n        console.error(`[StateMachinePlugin] Action '${actionName}' failed:`, error.message);\n      }\n      this.emit('action_error', { actionName, error: error.message, machineId, entityId });\n    }\n  }\n\n  async _transition(machineId, entityId, fromState, toState, event, context) {\n    const timestamp = Date.now();\n    const now = new Date().toISOString();\n    \n    // Update in-memory cache\n    const machine = this.machines.get(machineId);\n    machine.currentStates.set(entityId, toState);\n    \n    // Persist transition log\n    if (this.config.persistTransitions) {\n      const transitionId = `${machineId}_${entityId}_${timestamp}`;\n\n      // Retry transition logging (critical for audit trail)\n      let logOk = false;\n      let lastLogErr;\n\n      for (let attempt = 0; attempt < this.config.retryAttempts; attempt++) {\n        const [ok, err] = await tryFn(() =>\n          this.database.resources[this.config.transitionLogResource].insert({\n            id: transitionId,\n            machineId,\n            entityId,\n            fromState,\n            toState,\n            event,\n            context,\n            timestamp,\n            createdAt: now.slice(0, 10) // YYYY-MM-DD for partitioning\n          })\n        );\n\n        if (ok) {\n          logOk = true;\n          break;\n        }\n\n        lastLogErr = err;\n\n        if (attempt < this.config.retryAttempts - 1) {\n          const delay = this.config.retryDelay * Math.pow(2, attempt);\n          await new Promise(resolve => setTimeout(resolve, delay));\n        }\n      }\n\n      if (!logOk && this.config.verbose) {\n        console.warn(`[StateMachinePlugin] Failed to log transition after ${this.config.retryAttempts} attempts:`, lastLogErr.message);\n      }\n\n      // Update current state with upsert pattern\n      const stateId = `${machineId}_${entityId}`;\n      const stateData = {\n        machineId,\n        entityId,\n        currentState: toState,\n        context,\n        lastTransition: transitionId,\n        updatedAt: now\n      };\n\n      // Try update first (most common case), fallback to insert if doesn't exist\n      const [updateOk] = await tryFn(() =>\n        this.database.resources[this.config.stateResource].update(stateId, stateData)\n      );\n\n      if (!updateOk) {\n        // Record doesn't exist, insert it\n        const [insertOk, insertErr] = await tryFn(() =>\n          this.database.resources[this.config.stateResource].insert({ id: stateId, ...stateData })\n        );\n\n        if (!insertOk && this.config.verbose) {\n          console.warn(`[StateMachinePlugin] Failed to upsert state:`, insertErr.message);\n        }\n      }\n    }\n  }\n\n  /**\n   * Acquire distributed lock for transition\n   * Prevents concurrent transitions for the same entity\n   * @private\n   */\n  async _acquireTransitionLock(machineId, entityId) {\n    const storage = this.getStorage();\n    const lockName = `transition-${machineId}-${entityId}`;\n\n    const lock = await storage.acquireLock(lockName, {\n      ttl: this.config.lockTTL,\n      timeout: this.config.lockTimeout,\n      workerId: this.config.workerId\n    });\n\n    if (!lock) {\n      throw new StateMachineError('Could not acquire transition lock - concurrent transition in progress', {\n        operation: 'send',\n        machineId,\n        entityId,\n        lockTimeout: this.config.lockTimeout,\n        workerId: this.config.workerId,\n        suggestion: 'Wait for current transition to complete or increase lockTimeout'\n      });\n    }\n\n    return lockName;\n  }\n\n  /**\n   * Release distributed lock for transition\n   * @private\n   */\n  async _releaseTransitionLock(lockName) {\n    const storage = this.getStorage();\n    const [ok, err] = await tryFn(() => storage.releaseLock(lockName));\n\n    if (!ok && this.config.verbose) {\n      console.warn(`[StateMachinePlugin] Failed to release lock '${lockName}':`, err.message);\n    }\n  }\n\n  /**\n   * Get current state for an entity\n   */\n  async getState(machineId, entityId) {\n    const machine = this.machines.get(machineId);\n    if (!machine) {\n      throw new StateMachineError(`State machine '${machineId}' not found`, {\n        operation: 'getState',\n        machineId,\n        availableMachines: Array.from(this.machines.keys()),\n        suggestion: 'Check machine ID or use getMachines() to list available machines'\n      });\n    }\n    \n    // Check in-memory cache first\n    if (machine.currentStates.has(entityId)) {\n      return machine.currentStates.get(entityId);\n    }\n    \n    // Check persistent storage\n    if (this.config.persistTransitions) {\n      const stateId = `${machineId}_${entityId}`;\n      const [ok, err, stateRecord] = await tryFn(() => \n        this.database.resources[this.config.stateResource].get(stateId)\n      );\n      \n      if (ok && stateRecord) {\n        machine.currentStates.set(entityId, stateRecord.currentState);\n        return stateRecord.currentState;\n      }\n    }\n    \n    // Default to initial state\n    const initialState = machine.config.initialState;\n    machine.currentStates.set(entityId, initialState);\n    return initialState;\n  }\n\n  /**\n   * Get valid events for current state\n   * Can accept either a state name (sync) or entityId (async to fetch latest state)\n   */\n  async getValidEvents(machineId, stateOrEntityId) {\n    const machine = this.machines.get(machineId);\n    if (!machine) {\n      throw new StateMachineError(`State machine '${machineId}' not found`, {\n        operation: 'getValidEvents',\n        machineId,\n        availableMachines: Array.from(this.machines.keys()),\n        suggestion: 'Check machine ID or use getMachines() to list available machines'\n      });\n    }\n\n    let state;\n    if (machine.config.states[stateOrEntityId]) {\n      // stateOrEntityId is a state name - direct lookup\n      state = stateOrEntityId;\n    } else {\n      // stateOrEntityId is an entityId - fetch latest state from storage\n      state = await this.getState(machineId, stateOrEntityId);\n    }\n\n    const stateConfig = machine.config.states[state];\n    return stateConfig && stateConfig.on ? Object.keys(stateConfig.on) : [];\n  }\n\n  /**\n   * Get transition history for an entity\n   */\n  async getTransitionHistory(machineId, entityId, options = {}) {\n    if (!this.config.persistTransitions) {\n      return [];\n    }\n\n    const { limit = 50, offset = 0 } = options;\n\n    const [ok, err, transitions] = await tryFn(() =>\n      this.database.resources[this.config.transitionLogResource].query({\n        machineId,\n        entityId\n      }, {\n        limit,\n        offset\n      })\n    );\n\n    if (!ok) {\n      if (this.config.verbose) {\n        console.warn(`[StateMachinePlugin] Failed to get transition history:`, err.message);\n      }\n      return [];\n    }\n\n    // Sort by timestamp descending (newest first)\n    const sorted = (transitions || []).sort((a, b) => b.timestamp - a.timestamp);\n\n    return sorted.map(t => ({\n      from: t.fromState,\n      to: t.toState,\n      event: t.event,\n      context: t.context,\n      timestamp: new Date(t.timestamp).toISOString()\n    }));\n  }\n\n  /**\n   * Initialize entity state (useful for new entities)\n   */\n  async initializeEntity(machineId, entityId, context = {}) {\n    const machine = this.machines.get(machineId);\n    if (!machine) {\n      throw new StateMachineError(`State machine '${machineId}' not found`, {\n        operation: 'initializeEntity',\n        machineId,\n        availableMachines: Array.from(this.machines.keys()),\n        suggestion: 'Check machine ID or use getMachines() to list available machines'\n      });\n    }\n\n    const initialState = machine.config.initialState;\n    machine.currentStates.set(entityId, initialState);\n\n    if (this.config.persistTransitions) {\n      const now = new Date().toISOString();\n      const stateId = `${machineId}_${entityId}`;\n\n      // Try to insert, ignore if already exists (idempotent)\n      const [ok, err] = await tryFn(() =>\n        this.database.resources[this.config.stateResource].insert({\n          id: stateId,\n          machineId,\n          entityId,\n          currentState: initialState,\n          context,\n          lastTransition: null,\n          updatedAt: now\n        })\n      );\n\n      // Only throw if error is NOT \"already exists\"\n      if (!ok && err && !err.message?.includes('already exists')) {\n        throw new StateMachineError('Failed to initialize entity state', {\n          operation: 'initializeEntity',\n          machineId,\n          entityId,\n          initialState,\n          original: err,\n          suggestion: 'Check state resource configuration and database permissions'\n        });\n      }\n    }\n\n    // Execute entry action for initial state\n    const initialStateConfig = machine.config.states[initialState];\n    if (initialStateConfig && initialStateConfig.entry) {\n      await this._executeAction(initialStateConfig.entry, context, 'INIT', machineId, entityId);\n    }\n\n    this.emit('entity_initialized', { machineId, entityId, initialState });\n\n    return initialState;\n  }\n\n  /**\n   * Get machine definition\n   */\n  getMachineDefinition(machineId) {\n    const machine = this.machines.get(machineId);\n    return machine ? machine.config : null;\n  }\n\n  /**\n   * Get all available machines\n   */\n  getMachines() {\n    return Array.from(this.machines.keys());\n  }\n\n  /**\n   * Visualize state machine (returns DOT format for graphviz)\n   */\n  visualize(machineId) {\n    const machine = this.machines.get(machineId);\n    if (!machine) {\n      throw new StateMachineError(`State machine '${machineId}' not found`, {\n        operation: 'visualize',\n        machineId,\n        availableMachines: Array.from(this.machines.keys()),\n        suggestion: 'Check machine ID or use getMachines() to list available machines'\n      });\n    }\n    \n    let dot = `digraph ${machineId} {\\n`;\n    dot += `  rankdir=LR;\\n`;\n    dot += `  node [shape=circle];\\n`;\n    \n    // Add states\n    for (const [stateName, stateConfig] of Object.entries(machine.config.states)) {\n      const shape = stateConfig.type === 'final' ? 'doublecircle' : 'circle';\n      const color = stateConfig.meta?.color || 'lightblue';\n      dot += `  ${stateName} [shape=${shape}, fillcolor=${color}, style=filled];\\n`;\n    }\n    \n    // Add transitions\n    for (const [stateName, stateConfig] of Object.entries(machine.config.states)) {\n      if (stateConfig.on) {\n        for (const [event, targetState] of Object.entries(stateConfig.on)) {\n          dot += `  ${stateName} -> ${targetState} [label=\"${event}\"];\\n`;\n        }\n      }\n    }\n    \n    // Mark initial state\n    dot += `  start [shape=point];\\n`;\n    dot += `  start -> ${machine.config.initialState};\\n`;\n    \n    dot += `}\\n`;\n    \n    return dot;\n  }\n\n  async start() {\n    if (this.config.verbose) {\n      console.log(`[StateMachinePlugin] Started with ${this.machines.size} state machines`);\n    }\n  }\n\n  async stop() {\n    this.machines.clear();\n    this.removeAllListeners();\n  }\n}\n\nexport default StateMachinePlugin;","/**\n * TfStatePlugin Error Classes\n * Custom errors for Terraform/OpenTofu state operations\n */\n\n/**\n * Base error for all Terraform/OpenTofu state operations\n */\nexport class TfStateError extends Error {\n  constructor(message, context = {}) {\n    super(message);\n    this.name = 'TfStateError';\n    this.context = context;\n    Error.captureStackTrace(this, this.constructor);\n  }\n}\n\n/**\n * Thrown when state file is invalid or corrupted\n */\nexport class InvalidStateFileError extends TfStateError {\n  constructor(filePath, reason, context = {}) {\n    super(`Invalid Tfstate file \"${filePath}\": ${reason}`, context);\n    this.name = 'InvalidStateFileError';\n    this.filePath = filePath;\n    this.reason = reason;\n  }\n}\n\n/**\n * Thrown when state file version is not supported\n */\nexport class UnsupportedStateVersionError extends TfStateError {\n  constructor(version, supportedVersions, context = {}) {\n    super(\n      `Tfstate version ${version} is not supported. Supported versions: ${supportedVersions.join(', ')}`,\n      context\n    );\n    this.name = 'UnsupportedStateVersionError';\n    this.version = version;\n    this.supportedVersions = supportedVersions;\n  }\n}\n\n/**\n * Thrown when state file cannot be read\n */\nexport class StateFileNotFoundError extends TfStateError {\n  constructor(filePath, context = {}) {\n    super(`Tfstate file not found: ${filePath}`, context);\n    this.name = 'StateFileNotFoundError';\n    this.filePath = filePath;\n  }\n}\n\n/**\n * Thrown when resource extraction fails\n */\nexport class ResourceExtractionError extends TfStateError {\n  constructor(resourceAddress, originalError, context = {}) {\n    super(\n      `Failed to extract resource \"${resourceAddress}\": ${originalError.message}`,\n      context\n    );\n    this.name = 'ResourceExtractionError';\n    this.resourceAddress = resourceAddress;\n    this.originalError = originalError;\n  }\n}\n\n/**\n * Thrown when state diff calculation fails\n */\nexport class StateDiffError extends TfStateError {\n  constructor(oldSerial, newSerial, originalError, context = {}) {\n    super(\n      `Failed to calculate diff between state serials ${oldSerial} and ${newSerial}: ${originalError.message}`,\n      context\n    );\n    this.name = 'StateDiffError';\n    this.oldSerial = oldSerial;\n    this.newSerial = newSerial;\n    this.originalError = originalError;\n  }\n}\n\n/**\n * Thrown when file watching setup fails\n */\nexport class FileWatchError extends TfStateError {\n  constructor(path, originalError, context = {}) {\n    super(`Failed to watch path \"${path}\": ${originalError.message}`, context);\n    this.name = 'FileWatchError';\n    this.path = path;\n    this.originalError = originalError;\n  }\n}\n\n/**\n * Thrown when resource filtering fails\n */\nexport class ResourceFilterError extends TfStateError {\n  constructor(filterExpression, originalError, context = {}) {\n    super(\n      `Failed to apply resource filter \"${filterExpression}\": ${originalError.message}`,\n      context\n    );\n    this.name = 'ResourceFilterError';\n    this.filterExpression = filterExpression;\n    this.originalError = originalError;\n  }\n}\n","/**\n * Base Driver Class for TfState Plugin\n *\n * All tfstate drivers must extend this class and implement the required methods.\n */\nexport class TfStateDriver {\n  constructor(config = {}) {\n    this.config = config;\n    this.selector = config.selector || '**/*.tfstate';\n  }\n\n  /**\n   * Initialize the driver\n   * Called during plugin installation\n   */\n  async initialize() {\n    throw new Error('Driver must implement initialize()');\n  }\n\n  /**\n   * List all state files matching the selector\n   * @returns {Promise<Array>} Array of state file metadata { path, lastModified, size }\n   */\n  async listStateFiles() {\n    throw new Error('Driver must implement listStateFiles()');\n  }\n\n  /**\n   * Read a state file content\n   * @param {string} path - Path to the state file\n   * @returns {Promise<Object>} Parsed state file content\n   */\n  async readStateFile(path) {\n    throw new Error('Driver must implement readStateFile()');\n  }\n\n  /**\n   * Get state file metadata\n   * @param {string} path - Path to the state file\n   * @returns {Promise<Object>} Metadata { path, lastModified, size, etag }\n   */\n  async getStateFileMetadata(path) {\n    throw new Error('Driver must implement getStateFileMetadata()');\n  }\n\n  /**\n   * Check if a state file has been modified since last check\n   * @param {string} path - Path to the state file\n   * @param {Date} since - Check modifications since this date\n   * @returns {Promise<boolean>} True if modified\n   */\n  async hasBeenModified(path, since) {\n    const metadata = await this.getStateFileMetadata(path);\n    return new Date(metadata.lastModified) > new Date(since);\n  }\n\n  /**\n   * Match a path against the selector pattern\n   * @param {string} path - Path to check\n   * @returns {boolean} True if matches\n   */\n  matchesSelector(path) {\n    const pattern = this.selector\n      .replace(/\\*\\*/g, '__DOUBLE_STAR__')\n      .replace(/\\*/g, '[^/]*')\n      .replace(/__DOUBLE_STAR__/g, '.*')\n      .replace(/\\?/g, '.')\n      .replace(/\\[([^\\]]+)\\]/g, '[$1]');\n\n    const regex = new RegExp(`^${pattern}$`);\n    return regex.test(path);\n  }\n\n  /**\n   * Close/cleanup driver resources\n   */\n  async close() {\n    // Optional cleanup, override if needed\n  }\n}\n","/**\n * S3 Driver for TfState Plugin\n *\n * Reads Terraform/OpenTofu state files from S3 buckets\n */\nimport { TfStateDriver } from './base-driver.js';\nimport { Client } from '../../client.class.js';\nimport tryFn from '../../concerns/try-fn.js';\n\nexport class S3TfStateDriver extends TfStateDriver {\n  constructor(config = {}) {\n    super(config);\n\n    // Parse connection string if provided\n    if (config.connectionString) {\n      this.connectionConfig = this._parseConnectionString(config.connectionString);\n    } else {\n      this.connectionConfig = {\n        bucket: config.bucket,\n        prefix: config.prefix || '',\n        credentials: config.credentials,\n        region: config.region\n      };\n    }\n\n    this.client = null;\n  }\n\n  /**\n   * Parse S3 connection string\n   * Format: s3://accessKey:secretKey@bucket/prefix\n   * @private\n   */\n  _parseConnectionString(connectionString) {\n    try {\n      const url = new URL(connectionString);\n\n      if (url.protocol !== 's3:') {\n        throw new Error('Connection string must use s3:// protocol');\n      }\n\n      const credentials = {};\n      if (url.username) {\n        credentials.accessKeyId = decodeURIComponent(url.username);\n      }\n      if (url.password) {\n        credentials.secretAccessKey = decodeURIComponent(url.password);\n      }\n\n      // Extract bucket and prefix from hostname and pathname\n      const bucket = url.hostname;\n      const prefix = url.pathname ? url.pathname.substring(1) : ''; // Remove leading '/'\n\n      // Extract region from search params if provided\n      const region = url.searchParams.get('region') || 'us-east-1';\n\n      return {\n        bucket,\n        prefix,\n        credentials: Object.keys(credentials).length > 0 ? credentials : undefined,\n        region\n      };\n    } catch (error) {\n      throw new Error(`Invalid S3 connection string: ${error.message}`);\n    }\n  }\n\n  /**\n   * Initialize S3 client\n   */\n  async initialize() {\n    const { bucket, credentials, region } = this.connectionConfig;\n\n    // Create S3 client using s3db's Client class\n    this.client = new Client({\n      bucketName: bucket,\n      credentials,\n      region\n    });\n\n    await this.client.connect();\n  }\n\n  /**\n   * List all state files in S3 matching the selector\n   */\n  async listStateFiles() {\n    const { bucket, prefix } = this.connectionConfig;\n\n    const [ok, err, data] = await tryFn(async () => {\n      return await this.client.listObjectsV2({\n        Bucket: bucket,\n        Prefix: prefix\n      });\n    });\n\n    if (!ok) {\n      throw new Error(`Failed to list S3 objects: ${err.message}`);\n    }\n\n    const objects = data.Contents || [];\n\n    // Filter by selector and .tfstate extension\n    const stateFiles = objects\n      .filter(obj => {\n        const relativePath = obj.Key.startsWith(prefix)\n          ? obj.Key.substring(prefix.length)\n          : obj.Key;\n\n        return this.matchesSelector(relativePath) && relativePath.endsWith('.tfstate');\n      })\n      .map(obj => ({\n        path: obj.Key,\n        lastModified: obj.LastModified,\n        size: obj.Size,\n        etag: obj.ETag\n      }));\n\n    return stateFiles;\n  }\n\n  /**\n   * Read a state file from S3\n   */\n  async readStateFile(path) {\n    const { bucket } = this.connectionConfig;\n\n    const [ok, err, data] = await tryFn(async () => {\n      return await this.client.getObject({\n        Bucket: bucket,\n        Key: path\n      });\n    });\n\n    if (!ok) {\n      throw new Error(`Failed to read state file ${path}: ${err.message}`);\n    }\n\n    try {\n      const content = data.Body.toString('utf-8');\n      return JSON.parse(content);\n    } catch (parseError) {\n      throw new Error(`Failed to parse state file ${path}: ${parseError.message}`);\n    }\n  }\n\n  /**\n   * Get state file metadata from S3\n   */\n  async getStateFileMetadata(path) {\n    const { bucket } = this.connectionConfig;\n\n    const [ok, err, data] = await tryFn(async () => {\n      return await this.client.headObject({\n        Bucket: bucket,\n        Key: path\n      });\n    });\n\n    if (!ok) {\n      throw new Error(`Failed to get metadata for ${path}: ${err.message}`);\n    }\n\n    return {\n      path,\n      lastModified: data.LastModified,\n      size: data.ContentLength,\n      etag: data.ETag\n    };\n  }\n\n  /**\n   * Check if state file has been modified\n   */\n  async hasBeenModified(path, since) {\n    const metadata = await this.getStateFileMetadata(path);\n    const lastModified = new Date(metadata.lastModified);\n    const sinceDate = new Date(since);\n\n    return lastModified > sinceDate;\n  }\n\n  /**\n   * Close S3 client\n   */\n  async close() {\n    if (this.client) {\n      await this.client.disconnect();\n      this.client = null;\n    }\n  }\n}\n","export const balanced = (a, b, str) => {\n    const ma = a instanceof RegExp ? maybeMatch(a, str) : a;\n    const mb = b instanceof RegExp ? maybeMatch(b, str) : b;\n    const r = ma !== null && mb != null && range(ma, mb, str);\n    return (r && {\n        start: r[0],\n        end: r[1],\n        pre: str.slice(0, r[0]),\n        body: str.slice(r[0] + ma.length, r[1]),\n        post: str.slice(r[1] + mb.length),\n    });\n};\nconst maybeMatch = (reg, str) => {\n    const m = str.match(reg);\n    return m ? m[0] : null;\n};\nexport const range = (a, b, str) => {\n    let begs, beg, left, right = undefined, result;\n    let ai = str.indexOf(a);\n    let bi = str.indexOf(b, ai + 1);\n    let i = ai;\n    if (ai >= 0 && bi > 0) {\n        if (a === b) {\n            return [ai, bi];\n        }\n        begs = [];\n        left = str.length;\n        while (i >= 0 && !result) {\n            if (i === ai) {\n                begs.push(i);\n                ai = str.indexOf(a, i + 1);\n            }\n            else if (begs.length === 1) {\n                const r = begs.pop();\n                if (r !== undefined)\n                    result = [r, bi];\n            }\n            else {\n                beg = begs.pop();\n                if (beg !== undefined && beg < left) {\n                    left = beg;\n                    right = bi;\n                }\n                bi = str.indexOf(b, i + 1);\n            }\n            i = ai < bi && ai >= 0 ? ai : bi;\n        }\n        if (begs.length && right !== undefined) {\n            result = [left, right];\n        }\n    }\n    return result;\n};\n//# sourceMappingURL=index.js.map","import { balanced } from '@isaacs/balanced-match';\nconst escSlash = '\\0SLASH' + Math.random() + '\\0';\nconst escOpen = '\\0OPEN' + Math.random() + '\\0';\nconst escClose = '\\0CLOSE' + Math.random() + '\\0';\nconst escComma = '\\0COMMA' + Math.random() + '\\0';\nconst escPeriod = '\\0PERIOD' + Math.random() + '\\0';\nconst escSlashPattern = new RegExp(escSlash, 'g');\nconst escOpenPattern = new RegExp(escOpen, 'g');\nconst escClosePattern = new RegExp(escClose, 'g');\nconst escCommaPattern = new RegExp(escComma, 'g');\nconst escPeriodPattern = new RegExp(escPeriod, 'g');\nconst slashPattern = /\\\\\\\\/g;\nconst openPattern = /\\\\{/g;\nconst closePattern = /\\\\}/g;\nconst commaPattern = /\\\\,/g;\nconst periodPattern = /\\\\./g;\nfunction numeric(str) {\n    return !isNaN(str) ? parseInt(str, 10) : str.charCodeAt(0);\n}\nfunction escapeBraces(str) {\n    return str\n        .replace(slashPattern, escSlash)\n        .replace(openPattern, escOpen)\n        .replace(closePattern, escClose)\n        .replace(commaPattern, escComma)\n        .replace(periodPattern, escPeriod);\n}\nfunction unescapeBraces(str) {\n    return str\n        .replace(escSlashPattern, '\\\\')\n        .replace(escOpenPattern, '{')\n        .replace(escClosePattern, '}')\n        .replace(escCommaPattern, ',')\n        .replace(escPeriodPattern, '.');\n}\n/**\n * Basically just str.split(\",\"), but handling cases\n * where we have nested braced sections, which should be\n * treated as individual members, like {a,{b,c},d}\n */\nfunction parseCommaParts(str) {\n    if (!str) {\n        return [''];\n    }\n    const parts = [];\n    const m = balanced('{', '}', str);\n    if (!m) {\n        return str.split(',');\n    }\n    const { pre, body, post } = m;\n    const p = pre.split(',');\n    p[p.length - 1] += '{' + body + '}';\n    const postParts = parseCommaParts(post);\n    if (post.length) {\n        ;\n        p[p.length - 1] += postParts.shift();\n        p.push.apply(p, postParts);\n    }\n    parts.push.apply(parts, p);\n    return parts;\n}\nexport function expand(str) {\n    if (!str) {\n        return [];\n    }\n    // I don't know why Bash 4.3 does this, but it does.\n    // Anything starting with {} will have the first two bytes preserved\n    // but *only* at the top level, so {},a}b will not expand to anything,\n    // but a{},b}c will be expanded to [a}c,abc].\n    // One could argue that this is a bug in Bash, but since the goal of\n    // this module is to match Bash's rules, we escape a leading {}\n    if (str.slice(0, 2) === '{}') {\n        str = '\\\\{\\\\}' + str.slice(2);\n    }\n    return expand_(escapeBraces(str), true).map(unescapeBraces);\n}\nfunction embrace(str) {\n    return '{' + str + '}';\n}\nfunction isPadded(el) {\n    return /^-?0\\d/.test(el);\n}\nfunction lte(i, y) {\n    return i <= y;\n}\nfunction gte(i, y) {\n    return i >= y;\n}\nfunction expand_(str, isTop) {\n    /** @type {string[]} */\n    const expansions = [];\n    const m = balanced('{', '}', str);\n    if (!m)\n        return [str];\n    // no need to expand pre, since it is guaranteed to be free of brace-sets\n    const pre = m.pre;\n    const post = m.post.length ? expand_(m.post, false) : [''];\n    if (/\\$$/.test(m.pre)) {\n        for (let k = 0; k < post.length; k++) {\n            const expansion = pre + '{' + m.body + '}' + post[k];\n            expansions.push(expansion);\n        }\n    }\n    else {\n        const isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n        const isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n        const isSequence = isNumericSequence || isAlphaSequence;\n        const isOptions = m.body.indexOf(',') >= 0;\n        if (!isSequence && !isOptions) {\n            // {a},b}\n            if (m.post.match(/,(?!,).*\\}/)) {\n                str = m.pre + '{' + m.body + escClose + m.post;\n                return expand_(str);\n            }\n            return [str];\n        }\n        let n;\n        if (isSequence) {\n            n = m.body.split(/\\.\\./);\n        }\n        else {\n            n = parseCommaParts(m.body);\n            if (n.length === 1 && n[0] !== undefined) {\n                // x{{a,b}}y ==> x{a}y x{b}y\n                n = expand_(n[0], false).map(embrace);\n                //XXX is this necessary? Can't seem to hit it in tests.\n                /* c8 ignore start */\n                if (n.length === 1) {\n                    return post.map(p => m.pre + n[0] + p);\n                }\n                /* c8 ignore stop */\n            }\n        }\n        // at this point, n is the parts, and we know it's not a comma set\n        // with a single entry.\n        let N;\n        if (isSequence && n[0] !== undefined && n[1] !== undefined) {\n            const x = numeric(n[0]);\n            const y = numeric(n[1]);\n            const width = Math.max(n[0].length, n[1].length);\n            let incr = n.length === 3 && n[2] !== undefined ? Math.abs(numeric(n[2])) : 1;\n            let test = lte;\n            const reverse = y < x;\n            if (reverse) {\n                incr *= -1;\n                test = gte;\n            }\n            const pad = n.some(isPadded);\n            N = [];\n            for (let i = x; test(i, y); i += incr) {\n                let c;\n                if (isAlphaSequence) {\n                    c = String.fromCharCode(i);\n                    if (c === '\\\\') {\n                        c = '';\n                    }\n                }\n                else {\n                    c = String(i);\n                    if (pad) {\n                        const need = width - c.length;\n                        if (need > 0) {\n                            const z = new Array(need + 1).join('0');\n                            if (i < 0) {\n                                c = '-' + z + c.slice(1);\n                            }\n                            else {\n                                c = z + c;\n                            }\n                        }\n                    }\n                }\n                N.push(c);\n            }\n        }\n        else {\n            N = [];\n            for (let j = 0; j < n.length; j++) {\n                N.push.apply(N, expand_(n[j], false));\n            }\n        }\n        for (let j = 0; j < N.length; j++) {\n            for (let k = 0; k < post.length; k++) {\n                const expansion = pre + N[j] + post[k];\n                if (!isTop || isSequence || expansion) {\n                    expansions.push(expansion);\n                }\n            }\n        }\n    }\n    return expansions;\n}\n//# sourceMappingURL=index.js.map","const MAX_PATTERN_LENGTH = 1024 * 64;\nexport const assertValidPattern = (pattern) => {\n    if (typeof pattern !== 'string') {\n        throw new TypeError('invalid pattern');\n    }\n    if (pattern.length > MAX_PATTERN_LENGTH) {\n        throw new TypeError('pattern is too long');\n    }\n};\n//# sourceMappingURL=assert-valid-pattern.js.map","// translate the various posix character classes into unicode properties\n// this works across all unicode locales\n// { <posix class>: [<translation>, /u flag required, negated]\nconst posixClasses = {\n    '[:alnum:]': ['\\\\p{L}\\\\p{Nl}\\\\p{Nd}', true],\n    '[:alpha:]': ['\\\\p{L}\\\\p{Nl}', true],\n    '[:ascii:]': ['\\\\x' + '00-\\\\x' + '7f', false],\n    '[:blank:]': ['\\\\p{Zs}\\\\t', true],\n    '[:cntrl:]': ['\\\\p{Cc}', true],\n    '[:digit:]': ['\\\\p{Nd}', true],\n    '[:graph:]': ['\\\\p{Z}\\\\p{C}', true, true],\n    '[:lower:]': ['\\\\p{Ll}', true],\n    '[:print:]': ['\\\\p{C}', true],\n    '[:punct:]': ['\\\\p{P}', true],\n    '[:space:]': ['\\\\p{Z}\\\\t\\\\r\\\\n\\\\v\\\\f', true],\n    '[:upper:]': ['\\\\p{Lu}', true],\n    '[:word:]': ['\\\\p{L}\\\\p{Nl}\\\\p{Nd}\\\\p{Pc}', true],\n    '[:xdigit:]': ['A-Fa-f0-9', false],\n};\n// only need to escape a few things inside of brace expressions\n// escapes: [ \\ ] -\nconst braceEscape = (s) => s.replace(/[[\\]\\\\-]/g, '\\\\$&');\n// escape all regexp magic characters\nconst regexpEscape = (s) => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n// everything has already been escaped, we just have to join\nconst rangesToString = (ranges) => ranges.join('');\n// takes a glob string at a posix brace expression, and returns\n// an equivalent regular expression source, and boolean indicating\n// whether the /u flag needs to be applied, and the number of chars\n// consumed to parse the character class.\n// This also removes out of order ranges, and returns ($.) if the\n// entire class just no good.\nexport const parseClass = (glob, position) => {\n    const pos = position;\n    /* c8 ignore start */\n    if (glob.charAt(pos) !== '[') {\n        throw new Error('not in a brace expression');\n    }\n    /* c8 ignore stop */\n    const ranges = [];\n    const negs = [];\n    let i = pos + 1;\n    let sawStart = false;\n    let uflag = false;\n    let escaping = false;\n    let negate = false;\n    let endPos = pos;\n    let rangeStart = '';\n    WHILE: while (i < glob.length) {\n        const c = glob.charAt(i);\n        if ((c === '!' || c === '^') && i === pos + 1) {\n            negate = true;\n            i++;\n            continue;\n        }\n        if (c === ']' && sawStart && !escaping) {\n            endPos = i + 1;\n            break;\n        }\n        sawStart = true;\n        if (c === '\\\\') {\n            if (!escaping) {\n                escaping = true;\n                i++;\n                continue;\n            }\n            // escaped \\ char, fall through and treat like normal char\n        }\n        if (c === '[' && !escaping) {\n            // either a posix class, a collation equivalent, or just a [\n            for (const [cls, [unip, u, neg]] of Object.entries(posixClasses)) {\n                if (glob.startsWith(cls, i)) {\n                    // invalid, [a-[] is fine, but not [a-[:alpha]]\n                    if (rangeStart) {\n                        return ['$.', false, glob.length - pos, true];\n                    }\n                    i += cls.length;\n                    if (neg)\n                        negs.push(unip);\n                    else\n                        ranges.push(unip);\n                    uflag = uflag || u;\n                    continue WHILE;\n                }\n            }\n        }\n        // now it's just a normal character, effectively\n        escaping = false;\n        if (rangeStart) {\n            // throw this range away if it's not valid, but others\n            // can still match.\n            if (c > rangeStart) {\n                ranges.push(braceEscape(rangeStart) + '-' + braceEscape(c));\n            }\n            else if (c === rangeStart) {\n                ranges.push(braceEscape(c));\n            }\n            rangeStart = '';\n            i++;\n            continue;\n        }\n        // now might be the start of a range.\n        // can be either c-d or c-] or c<more...>] or c] at this point\n        if (glob.startsWith('-]', i + 1)) {\n            ranges.push(braceEscape(c + '-'));\n            i += 2;\n            continue;\n        }\n        if (glob.startsWith('-', i + 1)) {\n            rangeStart = c;\n            i += 2;\n            continue;\n        }\n        // not the start of a range, just a single character\n        ranges.push(braceEscape(c));\n        i++;\n    }\n    if (endPos < i) {\n        // didn't see the end of the class, not a valid class,\n        // but might still be valid as a literal match.\n        return ['', false, 0, false];\n    }\n    // if we got no ranges and no negates, then we have a range that\n    // cannot possibly match anything, and that poisons the whole glob\n    if (!ranges.length && !negs.length) {\n        return ['$.', false, glob.length - pos, true];\n    }\n    // if we got one positive range, and it's a single character, then that's\n    // not actually a magic pattern, it's just that one literal character.\n    // we should not treat that as \"magic\", we should just return the literal\n    // character. [_] is a perfectly valid way to escape glob magic chars.\n    if (negs.length === 0 &&\n        ranges.length === 1 &&\n        /^\\\\?.$/.test(ranges[0]) &&\n        !negate) {\n        const r = ranges[0].length === 2 ? ranges[0].slice(-1) : ranges[0];\n        return [regexpEscape(r), false, endPos - pos, false];\n    }\n    const sranges = '[' + (negate ? '^' : '') + rangesToString(ranges) + ']';\n    const snegs = '[' + (negate ? '' : '^') + rangesToString(negs) + ']';\n    const comb = ranges.length && negs.length\n        ? '(' + sranges + '|' + snegs + ')'\n        : ranges.length\n            ? sranges\n            : snegs;\n    return [comb, uflag, endPos - pos, true];\n};\n//# sourceMappingURL=brace-expressions.js.map","/**\n * Un-escape a string that has been escaped with {@link escape}.\n *\n * If the {@link windowsPathsNoEscape} option is used, then square-brace\n * escapes are removed, but not backslash escapes.  For example, it will turn\n * the string `'[*]'` into `*`, but it will not turn `'\\\\*'` into `'*'`,\n * becuase `\\` is a path separator in `windowsPathsNoEscape` mode.\n *\n * When `windowsPathsNoEscape` is not set, then both brace escapes and\n * backslash escapes are removed.\n *\n * Slashes (and backslashes in `windowsPathsNoEscape` mode) cannot be escaped\n * or unescaped.\n */\nexport const unescape = (s, { windowsPathsNoEscape = false, } = {}) => {\n    return windowsPathsNoEscape\n        ? s.replace(/\\[([^\\/\\\\])\\]/g, '$1')\n        : s.replace(/((?!\\\\).|^)\\[([^\\/\\\\])\\]/g, '$1$2').replace(/\\\\([^\\/])/g, '$1');\n};\n//# sourceMappingURL=unescape.js.map","// parse a single path portion\nimport { parseClass } from './brace-expressions.js';\nimport { unescape } from './unescape.js';\nconst types = new Set(['!', '?', '+', '*', '@']);\nconst isExtglobType = (c) => types.has(c);\n// Patterns that get prepended to bind to the start of either the\n// entire string, or just a single path portion, to prevent dots\n// and/or traversal patterns, when needed.\n// Exts don't need the ^ or / bit, because the root binds that already.\nconst startNoTraversal = '(?!(?:^|/)\\\\.\\\\.?(?:$|/))';\nconst startNoDot = '(?!\\\\.)';\n// characters that indicate a start of pattern needs the \"no dots\" bit,\n// because a dot *might* be matched. ( is not in the list, because in\n// the case of a child extglob, it will handle the prevention itself.\nconst addPatternStart = new Set(['[', '.']);\n// cases where traversal is A-OK, no dot prevention needed\nconst justDots = new Set(['..', '.']);\nconst reSpecials = new Set('().*{}+?[]^$\\\\!');\nconst regExpEscape = (s) => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\n// any single thing other than /\nconst qmark = '[^/]';\n// * => any number of characters\nconst star = qmark + '*?';\n// use + when we need to ensure that *something* matches, because the * is\n// the only thing in the path portion.\nconst starNoEmpty = qmark + '+?';\n// remove the \\ chars that we added if we end up doing a nonmagic compare\n// const deslash = (s: string) => s.replace(/\\\\(.)/g, '$1')\nexport class AST {\n    type;\n    #root;\n    #hasMagic;\n    #uflag = false;\n    #parts = [];\n    #parent;\n    #parentIndex;\n    #negs;\n    #filledNegs = false;\n    #options;\n    #toString;\n    // set to true if it's an extglob with no children\n    // (which really means one child of '')\n    #emptyExt = false;\n    constructor(type, parent, options = {}) {\n        this.type = type;\n        // extglobs are inherently magical\n        if (type)\n            this.#hasMagic = true;\n        this.#parent = parent;\n        this.#root = this.#parent ? this.#parent.#root : this;\n        this.#options = this.#root === this ? options : this.#root.#options;\n        this.#negs = this.#root === this ? [] : this.#root.#negs;\n        if (type === '!' && !this.#root.#filledNegs)\n            this.#negs.push(this);\n        this.#parentIndex = this.#parent ? this.#parent.#parts.length : 0;\n    }\n    get hasMagic() {\n        /* c8 ignore start */\n        if (this.#hasMagic !== undefined)\n            return this.#hasMagic;\n        /* c8 ignore stop */\n        for (const p of this.#parts) {\n            if (typeof p === 'string')\n                continue;\n            if (p.type || p.hasMagic)\n                return (this.#hasMagic = true);\n        }\n        // note: will be undefined until we generate the regexp src and find out\n        return this.#hasMagic;\n    }\n    // reconstructs the pattern\n    toString() {\n        if (this.#toString !== undefined)\n            return this.#toString;\n        if (!this.type) {\n            return (this.#toString = this.#parts.map(p => String(p)).join(''));\n        }\n        else {\n            return (this.#toString =\n                this.type + '(' + this.#parts.map(p => String(p)).join('|') + ')');\n        }\n    }\n    #fillNegs() {\n        /* c8 ignore start */\n        if (this !== this.#root)\n            throw new Error('should only call on root');\n        if (this.#filledNegs)\n            return this;\n        /* c8 ignore stop */\n        // call toString() once to fill this out\n        this.toString();\n        this.#filledNegs = true;\n        let n;\n        while ((n = this.#negs.pop())) {\n            if (n.type !== '!')\n                continue;\n            // walk up the tree, appending everthing that comes AFTER parentIndex\n            let p = n;\n            let pp = p.#parent;\n            while (pp) {\n                for (let i = p.#parentIndex + 1; !pp.type && i < pp.#parts.length; i++) {\n                    for (const part of n.#parts) {\n                        /* c8 ignore start */\n                        if (typeof part === 'string') {\n                            throw new Error('string part in extglob AST??');\n                        }\n                        /* c8 ignore stop */\n                        part.copyIn(pp.#parts[i]);\n                    }\n                }\n                p = pp;\n                pp = p.#parent;\n            }\n        }\n        return this;\n    }\n    push(...parts) {\n        for (const p of parts) {\n            if (p === '')\n                continue;\n            /* c8 ignore start */\n            if (typeof p !== 'string' && !(p instanceof AST && p.#parent === this)) {\n                throw new Error('invalid part: ' + p);\n            }\n            /* c8 ignore stop */\n            this.#parts.push(p);\n        }\n    }\n    toJSON() {\n        const ret = this.type === null\n            ? this.#parts.slice().map(p => (typeof p === 'string' ? p : p.toJSON()))\n            : [this.type, ...this.#parts.map(p => p.toJSON())];\n        if (this.isStart() && !this.type)\n            ret.unshift([]);\n        if (this.isEnd() &&\n            (this === this.#root ||\n                (this.#root.#filledNegs && this.#parent?.type === '!'))) {\n            ret.push({});\n        }\n        return ret;\n    }\n    isStart() {\n        if (this.#root === this)\n            return true;\n        // if (this.type) return !!this.#parent?.isStart()\n        if (!this.#parent?.isStart())\n            return false;\n        if (this.#parentIndex === 0)\n            return true;\n        // if everything AHEAD of this is a negation, then it's still the \"start\"\n        const p = this.#parent;\n        for (let i = 0; i < this.#parentIndex; i++) {\n            const pp = p.#parts[i];\n            if (!(pp instanceof AST && pp.type === '!')) {\n                return false;\n            }\n        }\n        return true;\n    }\n    isEnd() {\n        if (this.#root === this)\n            return true;\n        if (this.#parent?.type === '!')\n            return true;\n        if (!this.#parent?.isEnd())\n            return false;\n        if (!this.type)\n            return this.#parent?.isEnd();\n        // if not root, it'll always have a parent\n        /* c8 ignore start */\n        const pl = this.#parent ? this.#parent.#parts.length : 0;\n        /* c8 ignore stop */\n        return this.#parentIndex === pl - 1;\n    }\n    copyIn(part) {\n        if (typeof part === 'string')\n            this.push(part);\n        else\n            this.push(part.clone(this));\n    }\n    clone(parent) {\n        const c = new AST(this.type, parent);\n        for (const p of this.#parts) {\n            c.copyIn(p);\n        }\n        return c;\n    }\n    static #parseAST(str, ast, pos, opt) {\n        let escaping = false;\n        let inBrace = false;\n        let braceStart = -1;\n        let braceNeg = false;\n        if (ast.type === null) {\n            // outside of a extglob, append until we find a start\n            let i = pos;\n            let acc = '';\n            while (i < str.length) {\n                const c = str.charAt(i++);\n                // still accumulate escapes at this point, but we do ignore\n                // starts that are escaped\n                if (escaping || c === '\\\\') {\n                    escaping = !escaping;\n                    acc += c;\n                    continue;\n                }\n                if (inBrace) {\n                    if (i === braceStart + 1) {\n                        if (c === '^' || c === '!') {\n                            braceNeg = true;\n                        }\n                    }\n                    else if (c === ']' && !(i === braceStart + 2 && braceNeg)) {\n                        inBrace = false;\n                    }\n                    acc += c;\n                    continue;\n                }\n                else if (c === '[') {\n                    inBrace = true;\n                    braceStart = i;\n                    braceNeg = false;\n                    acc += c;\n                    continue;\n                }\n                if (!opt.noext && isExtglobType(c) && str.charAt(i) === '(') {\n                    ast.push(acc);\n                    acc = '';\n                    const ext = new AST(c, ast);\n                    i = AST.#parseAST(str, ext, i, opt);\n                    ast.push(ext);\n                    continue;\n                }\n                acc += c;\n            }\n            ast.push(acc);\n            return i;\n        }\n        // some kind of extglob, pos is at the (\n        // find the next | or )\n        let i = pos + 1;\n        let part = new AST(null, ast);\n        const parts = [];\n        let acc = '';\n        while (i < str.length) {\n            const c = str.charAt(i++);\n            // still accumulate escapes at this point, but we do ignore\n            // starts that are escaped\n            if (escaping || c === '\\\\') {\n                escaping = !escaping;\n                acc += c;\n                continue;\n            }\n            if (inBrace) {\n                if (i === braceStart + 1) {\n                    if (c === '^' || c === '!') {\n                        braceNeg = true;\n                    }\n                }\n                else if (c === ']' && !(i === braceStart + 2 && braceNeg)) {\n                    inBrace = false;\n                }\n                acc += c;\n                continue;\n            }\n            else if (c === '[') {\n                inBrace = true;\n                braceStart = i;\n                braceNeg = false;\n                acc += c;\n                continue;\n            }\n            if (isExtglobType(c) && str.charAt(i) === '(') {\n                part.push(acc);\n                acc = '';\n                const ext = new AST(c, part);\n                part.push(ext);\n                i = AST.#parseAST(str, ext, i, opt);\n                continue;\n            }\n            if (c === '|') {\n                part.push(acc);\n                acc = '';\n                parts.push(part);\n                part = new AST(null, ast);\n                continue;\n            }\n            if (c === ')') {\n                if (acc === '' && ast.#parts.length === 0) {\n                    ast.#emptyExt = true;\n                }\n                part.push(acc);\n                acc = '';\n                ast.push(...parts, part);\n                return i;\n            }\n            acc += c;\n        }\n        // unfinished extglob\n        // if we got here, it was a malformed extglob! not an extglob, but\n        // maybe something else in there.\n        ast.type = null;\n        ast.#hasMagic = undefined;\n        ast.#parts = [str.substring(pos - 1)];\n        return i;\n    }\n    static fromGlob(pattern, options = {}) {\n        const ast = new AST(null, undefined, options);\n        AST.#parseAST(pattern, ast, 0, options);\n        return ast;\n    }\n    // returns the regular expression if there's magic, or the unescaped\n    // string if not.\n    toMMPattern() {\n        // should only be called on root\n        /* c8 ignore start */\n        if (this !== this.#root)\n            return this.#root.toMMPattern();\n        /* c8 ignore stop */\n        const glob = this.toString();\n        const [re, body, hasMagic, uflag] = this.toRegExpSource();\n        // if we're in nocase mode, and not nocaseMagicOnly, then we do\n        // still need a regular expression if we have to case-insensitively\n        // match capital/lowercase characters.\n        const anyMagic = hasMagic ||\n            this.#hasMagic ||\n            (this.#options.nocase &&\n                !this.#options.nocaseMagicOnly &&\n                glob.toUpperCase() !== glob.toLowerCase());\n        if (!anyMagic) {\n            return body;\n        }\n        const flags = (this.#options.nocase ? 'i' : '') + (uflag ? 'u' : '');\n        return Object.assign(new RegExp(`^${re}$`, flags), {\n            _src: re,\n            _glob: glob,\n        });\n    }\n    get options() {\n        return this.#options;\n    }\n    // returns the string match, the regexp source, whether there's magic\n    // in the regexp (so a regular expression is required) and whether or\n    // not the uflag is needed for the regular expression (for posix classes)\n    // TODO: instead of injecting the start/end at this point, just return\n    // the BODY of the regexp, along with the start/end portions suitable\n    // for binding the start/end in either a joined full-path makeRe context\n    // (where we bind to (^|/), or a standalone matchPart context (where\n    // we bind to ^, and not /).  Otherwise slashes get duped!\n    //\n    // In part-matching mode, the start is:\n    // - if not isStart: nothing\n    // - if traversal possible, but not allowed: ^(?!\\.\\.?$)\n    // - if dots allowed or not possible: ^\n    // - if dots possible and not allowed: ^(?!\\.)\n    // end is:\n    // - if not isEnd(): nothing\n    // - else: $\n    //\n    // In full-path matching mode, we put the slash at the START of the\n    // pattern, so start is:\n    // - if first pattern: same as part-matching mode\n    // - if not isStart(): nothing\n    // - if traversal possible, but not allowed: /(?!\\.\\.?(?:$|/))\n    // - if dots allowed or not possible: /\n    // - if dots possible and not allowed: /(?!\\.)\n    // end is:\n    // - if last pattern, same as part-matching mode\n    // - else nothing\n    //\n    // Always put the (?:$|/) on negated tails, though, because that has to be\n    // there to bind the end of the negated pattern portion, and it's easier to\n    // just stick it in now rather than try to inject it later in the middle of\n    // the pattern.\n    //\n    // We can just always return the same end, and leave it up to the caller\n    // to know whether it's going to be used joined or in parts.\n    // And, if the start is adjusted slightly, can do the same there:\n    // - if not isStart: nothing\n    // - if traversal possible, but not allowed: (?:/|^)(?!\\.\\.?$)\n    // - if dots allowed or not possible: (?:/|^)\n    // - if dots possible and not allowed: (?:/|^)(?!\\.)\n    //\n    // But it's better to have a simpler binding without a conditional, for\n    // performance, so probably better to return both start options.\n    //\n    // Then the caller just ignores the end if it's not the first pattern,\n    // and the start always gets applied.\n    //\n    // But that's always going to be $ if it's the ending pattern, or nothing,\n    // so the caller can just attach $ at the end of the pattern when building.\n    //\n    // So the todo is:\n    // - better detect what kind of start is needed\n    // - return both flavors of starting pattern\n    // - attach $ at the end of the pattern when creating the actual RegExp\n    //\n    // Ah, but wait, no, that all only applies to the root when the first pattern\n    // is not an extglob. If the first pattern IS an extglob, then we need all\n    // that dot prevention biz to live in the extglob portions, because eg\n    // +(*|.x*) can match .xy but not .yx.\n    //\n    // So, return the two flavors if it's #root and the first child is not an\n    // AST, otherwise leave it to the child AST to handle it, and there,\n    // use the (?:^|/) style of start binding.\n    //\n    // Even simplified further:\n    // - Since the start for a join is eg /(?!\\.) and the start for a part\n    // is ^(?!\\.), we can just prepend (?!\\.) to the pattern (either root\n    // or start or whatever) and prepend ^ or / at the Regexp construction.\n    toRegExpSource(allowDot) {\n        const dot = allowDot ?? !!this.#options.dot;\n        if (this.#root === this)\n            this.#fillNegs();\n        if (!this.type) {\n            const noEmpty = this.isStart() && this.isEnd();\n            const src = this.#parts\n                .map(p => {\n                const [re, _, hasMagic, uflag] = typeof p === 'string'\n                    ? AST.#parseGlob(p, this.#hasMagic, noEmpty)\n                    : p.toRegExpSource(allowDot);\n                this.#hasMagic = this.#hasMagic || hasMagic;\n                this.#uflag = this.#uflag || uflag;\n                return re;\n            })\n                .join('');\n            let start = '';\n            if (this.isStart()) {\n                if (typeof this.#parts[0] === 'string') {\n                    // this is the string that will match the start of the pattern,\n                    // so we need to protect against dots and such.\n                    // '.' and '..' cannot match unless the pattern is that exactly,\n                    // even if it starts with . or dot:true is set.\n                    const dotTravAllowed = this.#parts.length === 1 && justDots.has(this.#parts[0]);\n                    if (!dotTravAllowed) {\n                        const aps = addPatternStart;\n                        // check if we have a possibility of matching . or ..,\n                        // and prevent that.\n                        const needNoTrav = \n                        // dots are allowed, and the pattern starts with [ or .\n                        (dot && aps.has(src.charAt(0))) ||\n                            // the pattern starts with \\., and then [ or .\n                            (src.startsWith('\\\\.') && aps.has(src.charAt(2))) ||\n                            // the pattern starts with \\.\\., and then [ or .\n                            (src.startsWith('\\\\.\\\\.') && aps.has(src.charAt(4)));\n                        // no need to prevent dots if it can't match a dot, or if a\n                        // sub-pattern will be preventing it anyway.\n                        const needNoDot = !dot && !allowDot && aps.has(src.charAt(0));\n                        start = needNoTrav ? startNoTraversal : needNoDot ? startNoDot : '';\n                    }\n                }\n            }\n            // append the \"end of path portion\" pattern to negation tails\n            let end = '';\n            if (this.isEnd() &&\n                this.#root.#filledNegs &&\n                this.#parent?.type === '!') {\n                end = '(?:$|\\\\/)';\n            }\n            const final = start + src + end;\n            return [\n                final,\n                unescape(src),\n                (this.#hasMagic = !!this.#hasMagic),\n                this.#uflag,\n            ];\n        }\n        // We need to calculate the body *twice* if it's a repeat pattern\n        // at the start, once in nodot mode, then again in dot mode, so a\n        // pattern like *(?) can match 'x.y'\n        const repeated = this.type === '*' || this.type === '+';\n        // some kind of extglob\n        const start = this.type === '!' ? '(?:(?!(?:' : '(?:';\n        let body = this.#partsToRegExp(dot);\n        if (this.isStart() && this.isEnd() && !body && this.type !== '!') {\n            // invalid extglob, has to at least be *something* present, if it's\n            // the entire path portion.\n            const s = this.toString();\n            this.#parts = [s];\n            this.type = null;\n            this.#hasMagic = undefined;\n            return [s, unescape(this.toString()), false, false];\n        }\n        // XXX abstract out this map method\n        let bodyDotAllowed = !repeated || allowDot || dot || !startNoDot\n            ? ''\n            : this.#partsToRegExp(true);\n        if (bodyDotAllowed === body) {\n            bodyDotAllowed = '';\n        }\n        if (bodyDotAllowed) {\n            body = `(?:${body})(?:${bodyDotAllowed})*?`;\n        }\n        // an empty !() is exactly equivalent to a starNoEmpty\n        let final = '';\n        if (this.type === '!' && this.#emptyExt) {\n            final = (this.isStart() && !dot ? startNoDot : '') + starNoEmpty;\n        }\n        else {\n            const close = this.type === '!'\n                ? // !() must match something,but !(x) can match ''\n                    '))' +\n                        (this.isStart() && !dot && !allowDot ? startNoDot : '') +\n                        star +\n                        ')'\n                : this.type === '@'\n                    ? ')'\n                    : this.type === '?'\n                        ? ')?'\n                        : this.type === '+' && bodyDotAllowed\n                            ? ')'\n                            : this.type === '*' && bodyDotAllowed\n                                ? `)?`\n                                : `)${this.type}`;\n            final = start + body + close;\n        }\n        return [\n            final,\n            unescape(body),\n            (this.#hasMagic = !!this.#hasMagic),\n            this.#uflag,\n        ];\n    }\n    #partsToRegExp(dot) {\n        return this.#parts\n            .map(p => {\n            // extglob ASTs should only contain parent ASTs\n            /* c8 ignore start */\n            if (typeof p === 'string') {\n                throw new Error('string type in extglob ast??');\n            }\n            /* c8 ignore stop */\n            // can ignore hasMagic, because extglobs are already always magic\n            const [re, _, _hasMagic, uflag] = p.toRegExpSource(dot);\n            this.#uflag = this.#uflag || uflag;\n            return re;\n        })\n            .filter(p => !(this.isStart() && this.isEnd()) || !!p)\n            .join('|');\n    }\n    static #parseGlob(glob, hasMagic, noEmpty = false) {\n        let escaping = false;\n        let re = '';\n        let uflag = false;\n        for (let i = 0; i < glob.length; i++) {\n            const c = glob.charAt(i);\n            if (escaping) {\n                escaping = false;\n                re += (reSpecials.has(c) ? '\\\\' : '') + c;\n                continue;\n            }\n            if (c === '\\\\') {\n                if (i === glob.length - 1) {\n                    re += '\\\\\\\\';\n                }\n                else {\n                    escaping = true;\n                }\n                continue;\n            }\n            if (c === '[') {\n                const [src, needUflag, consumed, magic] = parseClass(glob, i);\n                if (consumed) {\n                    re += src;\n                    uflag = uflag || needUflag;\n                    i += consumed - 1;\n                    hasMagic = hasMagic || magic;\n                    continue;\n                }\n            }\n            if (c === '*') {\n                if (noEmpty && glob === '*')\n                    re += starNoEmpty;\n                else\n                    re += star;\n                hasMagic = true;\n                continue;\n            }\n            if (c === '?') {\n                re += qmark;\n                hasMagic = true;\n                continue;\n            }\n            re += regExpEscape(c);\n        }\n        return [re, unescape(glob), !!hasMagic, uflag];\n    }\n}\n//# sourceMappingURL=ast.js.map","/**\n * Escape all magic characters in a glob pattern.\n *\n * If the {@link windowsPathsNoEscape | GlobOptions.windowsPathsNoEscape}\n * option is used, then characters are escaped by wrapping in `[]`, because\n * a magic character wrapped in a character class can only be satisfied by\n * that exact character.  In this mode, `\\` is _not_ escaped, because it is\n * not interpreted as a magic character, but instead as a path separator.\n */\nexport const escape = (s, { windowsPathsNoEscape = false, } = {}) => {\n    // don't need to escape +@! because we escape the parens\n    // that make those magic, and escaping ! as [!] isn't valid,\n    // because [!]] is a valid glob class meaning not ']'.\n    return windowsPathsNoEscape\n        ? s.replace(/[?*()[\\]]/g, '[$&]')\n        : s.replace(/[?*()[\\]\\\\]/g, '\\\\$&');\n};\n//# sourceMappingURL=escape.js.map","import { expand } from '@isaacs/brace-expansion';\nimport { assertValidPattern } from './assert-valid-pattern.js';\nimport { AST } from './ast.js';\nimport { escape } from './escape.js';\nimport { unescape } from './unescape.js';\nexport const minimatch = (p, pattern, options = {}) => {\n    assertValidPattern(pattern);\n    // shortcut: comments match nothing.\n    if (!options.nocomment && pattern.charAt(0) === '#') {\n        return false;\n    }\n    return new Minimatch(pattern, options).match(p);\n};\n// Optimized checking for the most common glob patterns.\nconst starDotExtRE = /^\\*+([^+@!?\\*\\[\\(]*)$/;\nconst starDotExtTest = (ext) => (f) => !f.startsWith('.') && f.endsWith(ext);\nconst starDotExtTestDot = (ext) => (f) => f.endsWith(ext);\nconst starDotExtTestNocase = (ext) => {\n    ext = ext.toLowerCase();\n    return (f) => !f.startsWith('.') && f.toLowerCase().endsWith(ext);\n};\nconst starDotExtTestNocaseDot = (ext) => {\n    ext = ext.toLowerCase();\n    return (f) => f.toLowerCase().endsWith(ext);\n};\nconst starDotStarRE = /^\\*+\\.\\*+$/;\nconst starDotStarTest = (f) => !f.startsWith('.') && f.includes('.');\nconst starDotStarTestDot = (f) => f !== '.' && f !== '..' && f.includes('.');\nconst dotStarRE = /^\\.\\*+$/;\nconst dotStarTest = (f) => f !== '.' && f !== '..' && f.startsWith('.');\nconst starRE = /^\\*+$/;\nconst starTest = (f) => f.length !== 0 && !f.startsWith('.');\nconst starTestDot = (f) => f.length !== 0 && f !== '.' && f !== '..';\nconst qmarksRE = /^\\?+([^+@!?\\*\\[\\(]*)?$/;\nconst qmarksTestNocase = ([$0, ext = '']) => {\n    const noext = qmarksTestNoExt([$0]);\n    if (!ext)\n        return noext;\n    ext = ext.toLowerCase();\n    return (f) => noext(f) && f.toLowerCase().endsWith(ext);\n};\nconst qmarksTestNocaseDot = ([$0, ext = '']) => {\n    const noext = qmarksTestNoExtDot([$0]);\n    if (!ext)\n        return noext;\n    ext = ext.toLowerCase();\n    return (f) => noext(f) && f.toLowerCase().endsWith(ext);\n};\nconst qmarksTestDot = ([$0, ext = '']) => {\n    const noext = qmarksTestNoExtDot([$0]);\n    return !ext ? noext : (f) => noext(f) && f.endsWith(ext);\n};\nconst qmarksTest = ([$0, ext = '']) => {\n    const noext = qmarksTestNoExt([$0]);\n    return !ext ? noext : (f) => noext(f) && f.endsWith(ext);\n};\nconst qmarksTestNoExt = ([$0]) => {\n    const len = $0.length;\n    return (f) => f.length === len && !f.startsWith('.');\n};\nconst qmarksTestNoExtDot = ([$0]) => {\n    const len = $0.length;\n    return (f) => f.length === len && f !== '.' && f !== '..';\n};\n/* c8 ignore start */\nconst defaultPlatform = (typeof process === 'object' && process\n    ? (typeof process.env === 'object' &&\n        process.env &&\n        process.env.__MINIMATCH_TESTING_PLATFORM__) ||\n        process.platform\n    : 'posix');\nconst path = {\n    win32: { sep: '\\\\' },\n    posix: { sep: '/' },\n};\n/* c8 ignore stop */\nexport const sep = defaultPlatform === 'win32' ? path.win32.sep : path.posix.sep;\nminimatch.sep = sep;\nexport const GLOBSTAR = Symbol('globstar **');\nminimatch.GLOBSTAR = GLOBSTAR;\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nconst qmark = '[^/]';\n// * => any number of characters\nconst star = qmark + '*?';\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nconst twoStarDot = '(?:(?!(?:\\\\/|^)(?:\\\\.{1,2})($|\\\\/)).)*?';\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nconst twoStarNoDot = '(?:(?!(?:\\\\/|^)\\\\.).)*?';\nexport const filter = (pattern, options = {}) => (p) => minimatch(p, pattern, options);\nminimatch.filter = filter;\nconst ext = (a, b = {}) => Object.assign({}, a, b);\nexport const defaults = (def) => {\n    if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n        return minimatch;\n    }\n    const orig = minimatch;\n    const m = (p, pattern, options = {}) => orig(p, pattern, ext(def, options));\n    return Object.assign(m, {\n        Minimatch: class Minimatch extends orig.Minimatch {\n            constructor(pattern, options = {}) {\n                super(pattern, ext(def, options));\n            }\n            static defaults(options) {\n                return orig.defaults(ext(def, options)).Minimatch;\n            }\n        },\n        AST: class AST extends orig.AST {\n            /* c8 ignore start */\n            constructor(type, parent, options = {}) {\n                super(type, parent, ext(def, options));\n            }\n            /* c8 ignore stop */\n            static fromGlob(pattern, options = {}) {\n                return orig.AST.fromGlob(pattern, ext(def, options));\n            }\n        },\n        unescape: (s, options = {}) => orig.unescape(s, ext(def, options)),\n        escape: (s, options = {}) => orig.escape(s, ext(def, options)),\n        filter: (pattern, options = {}) => orig.filter(pattern, ext(def, options)),\n        defaults: (options) => orig.defaults(ext(def, options)),\n        makeRe: (pattern, options = {}) => orig.makeRe(pattern, ext(def, options)),\n        braceExpand: (pattern, options = {}) => orig.braceExpand(pattern, ext(def, options)),\n        match: (list, pattern, options = {}) => orig.match(list, pattern, ext(def, options)),\n        sep: orig.sep,\n        GLOBSTAR: GLOBSTAR,\n    });\n};\nminimatch.defaults = defaults;\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nexport const braceExpand = (pattern, options = {}) => {\n    assertValidPattern(pattern);\n    // Thanks to Yeting Li <https://github.com/yetingli> for\n    // improving this regexp to avoid a ReDOS vulnerability.\n    if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n        // shortcut. no need to expand.\n        return [pattern];\n    }\n    return expand(pattern);\n};\nminimatch.braceExpand = braceExpand;\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nexport const makeRe = (pattern, options = {}) => new Minimatch(pattern, options).makeRe();\nminimatch.makeRe = makeRe;\nexport const match = (list, pattern, options = {}) => {\n    const mm = new Minimatch(pattern, options);\n    list = list.filter(f => mm.match(f));\n    if (mm.options.nonull && !list.length) {\n        list.push(pattern);\n    }\n    return list;\n};\nminimatch.match = match;\n// replace stuff like \\* with *\nconst globMagic = /[?*]|[+@!]\\(.*?\\)|\\[|\\]/;\nconst regExpEscape = (s) => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&');\nexport class Minimatch {\n    options;\n    set;\n    pattern;\n    windowsPathsNoEscape;\n    nonegate;\n    negate;\n    comment;\n    empty;\n    preserveMultipleSlashes;\n    partial;\n    globSet;\n    globParts;\n    nocase;\n    isWindows;\n    platform;\n    windowsNoMagicRoot;\n    regexp;\n    constructor(pattern, options = {}) {\n        assertValidPattern(pattern);\n        options = options || {};\n        this.options = options;\n        this.pattern = pattern;\n        this.platform = options.platform || defaultPlatform;\n        this.isWindows = this.platform === 'win32';\n        this.windowsPathsNoEscape =\n            !!options.windowsPathsNoEscape || options.allowWindowsEscape === false;\n        if (this.windowsPathsNoEscape) {\n            this.pattern = this.pattern.replace(/\\\\/g, '/');\n        }\n        this.preserveMultipleSlashes = !!options.preserveMultipleSlashes;\n        this.regexp = null;\n        this.negate = false;\n        this.nonegate = !!options.nonegate;\n        this.comment = false;\n        this.empty = false;\n        this.partial = !!options.partial;\n        this.nocase = !!this.options.nocase;\n        this.windowsNoMagicRoot =\n            options.windowsNoMagicRoot !== undefined\n                ? options.windowsNoMagicRoot\n                : !!(this.isWindows && this.nocase);\n        this.globSet = [];\n        this.globParts = [];\n        this.set = [];\n        // make the set of regexps etc.\n        this.make();\n    }\n    hasMagic() {\n        if (this.options.magicalBraces && this.set.length > 1) {\n            return true;\n        }\n        for (const pattern of this.set) {\n            for (const part of pattern) {\n                if (typeof part !== 'string')\n                    return true;\n            }\n        }\n        return false;\n    }\n    debug(..._) { }\n    make() {\n        const pattern = this.pattern;\n        const options = this.options;\n        // empty patterns and comments match nothing.\n        if (!options.nocomment && pattern.charAt(0) === '#') {\n            this.comment = true;\n            return;\n        }\n        if (!pattern) {\n            this.empty = true;\n            return;\n        }\n        // step 1: figure out negation, etc.\n        this.parseNegate();\n        // step 2: expand braces\n        this.globSet = [...new Set(this.braceExpand())];\n        if (options.debug) {\n            this.debug = (...args) => console.error(...args);\n        }\n        this.debug(this.pattern, this.globSet);\n        // step 3: now we have a set, so turn each one into a series of\n        // path-portion matching patterns.\n        // These will be regexps, except in the case of \"**\", which is\n        // set to the GLOBSTAR object for globstar behavior,\n        // and will not contain any / characters\n        //\n        // First, we preprocess to make the glob pattern sets a bit simpler\n        // and deduped.  There are some perf-killing patterns that can cause\n        // problems with a glob walk, but we can simplify them down a bit.\n        const rawGlobParts = this.globSet.map(s => this.slashSplit(s));\n        this.globParts = this.preprocess(rawGlobParts);\n        this.debug(this.pattern, this.globParts);\n        // glob --> regexps\n        let set = this.globParts.map((s, _, __) => {\n            if (this.isWindows && this.windowsNoMagicRoot) {\n                // check if it's a drive or unc path.\n                const isUNC = s[0] === '' &&\n                    s[1] === '' &&\n                    (s[2] === '?' || !globMagic.test(s[2])) &&\n                    !globMagic.test(s[3]);\n                const isDrive = /^[a-z]:/i.test(s[0]);\n                if (isUNC) {\n                    return [...s.slice(0, 4), ...s.slice(4).map(ss => this.parse(ss))];\n                }\n                else if (isDrive) {\n                    return [s[0], ...s.slice(1).map(ss => this.parse(ss))];\n                }\n            }\n            return s.map(ss => this.parse(ss));\n        });\n        this.debug(this.pattern, set);\n        // filter out everything that didn't compile properly.\n        this.set = set.filter(s => s.indexOf(false) === -1);\n        // do not treat the ? in UNC paths as magic\n        if (this.isWindows) {\n            for (let i = 0; i < this.set.length; i++) {\n                const p = this.set[i];\n                if (p[0] === '' &&\n                    p[1] === '' &&\n                    this.globParts[i][2] === '?' &&\n                    typeof p[3] === 'string' &&\n                    /^[a-z]:$/i.test(p[3])) {\n                    p[2] = '?';\n                }\n            }\n        }\n        this.debug(this.pattern, this.set);\n    }\n    // various transforms to equivalent pattern sets that are\n    // faster to process in a filesystem walk.  The goal is to\n    // eliminate what we can, and push all ** patterns as far\n    // to the right as possible, even if it increases the number\n    // of patterns that we have to process.\n    preprocess(globParts) {\n        // if we're not in globstar mode, then turn all ** into *\n        if (this.options.noglobstar) {\n            for (let i = 0; i < globParts.length; i++) {\n                for (let j = 0; j < globParts[i].length; j++) {\n                    if (globParts[i][j] === '**') {\n                        globParts[i][j] = '*';\n                    }\n                }\n            }\n        }\n        const { optimizationLevel = 1 } = this.options;\n        if (optimizationLevel >= 2) {\n            // aggressive optimization for the purpose of fs walking\n            globParts = this.firstPhasePreProcess(globParts);\n            globParts = this.secondPhasePreProcess(globParts);\n        }\n        else if (optimizationLevel >= 1) {\n            // just basic optimizations to remove some .. parts\n            globParts = this.levelOneOptimize(globParts);\n        }\n        else {\n            // just collapse multiple ** portions into one\n            globParts = this.adjascentGlobstarOptimize(globParts);\n        }\n        return globParts;\n    }\n    // just get rid of adjascent ** portions\n    adjascentGlobstarOptimize(globParts) {\n        return globParts.map(parts => {\n            let gs = -1;\n            while (-1 !== (gs = parts.indexOf('**', gs + 1))) {\n                let i = gs;\n                while (parts[i + 1] === '**') {\n                    i++;\n                }\n                if (i !== gs) {\n                    parts.splice(gs, i - gs);\n                }\n            }\n            return parts;\n        });\n    }\n    // get rid of adjascent ** and resolve .. portions\n    levelOneOptimize(globParts) {\n        return globParts.map(parts => {\n            parts = parts.reduce((set, part) => {\n                const prev = set[set.length - 1];\n                if (part === '**' && prev === '**') {\n                    return set;\n                }\n                if (part === '..') {\n                    if (prev && prev !== '..' && prev !== '.' && prev !== '**') {\n                        set.pop();\n                        return set;\n                    }\n                }\n                set.push(part);\n                return set;\n            }, []);\n            return parts.length === 0 ? [''] : parts;\n        });\n    }\n    levelTwoFileOptimize(parts) {\n        if (!Array.isArray(parts)) {\n            parts = this.slashSplit(parts);\n        }\n        let didSomething = false;\n        do {\n            didSomething = false;\n            // <pre>/<e>/<rest> -> <pre>/<rest>\n            if (!this.preserveMultipleSlashes) {\n                for (let i = 1; i < parts.length - 1; i++) {\n                    const p = parts[i];\n                    // don't squeeze out UNC patterns\n                    if (i === 1 && p === '' && parts[0] === '')\n                        continue;\n                    if (p === '.' || p === '') {\n                        didSomething = true;\n                        parts.splice(i, 1);\n                        i--;\n                    }\n                }\n                if (parts[0] === '.' &&\n                    parts.length === 2 &&\n                    (parts[1] === '.' || parts[1] === '')) {\n                    didSomething = true;\n                    parts.pop();\n                }\n            }\n            // <pre>/<p>/../<rest> -> <pre>/<rest>\n            let dd = 0;\n            while (-1 !== (dd = parts.indexOf('..', dd + 1))) {\n                const p = parts[dd - 1];\n                if (p && p !== '.' && p !== '..' && p !== '**') {\n                    didSomething = true;\n                    parts.splice(dd - 1, 2);\n                    dd -= 2;\n                }\n            }\n        } while (didSomething);\n        return parts.length === 0 ? [''] : parts;\n    }\n    // First phase: single-pattern processing\n    // <pre> is 1 or more portions\n    // <rest> is 1 or more portions\n    // <p> is any portion other than ., .., '', or **\n    // <e> is . or ''\n    //\n    // **/.. is *brutal* for filesystem walking performance, because\n    // it effectively resets the recursive walk each time it occurs,\n    // and ** cannot be reduced out by a .. pattern part like a regexp\n    // or most strings (other than .., ., and '') can be.\n    //\n    // <pre>/**/../<p>/<p>/<rest> -> {<pre>/../<p>/<p>/<rest>,<pre>/**/<p>/<p>/<rest>}\n    // <pre>/<e>/<rest> -> <pre>/<rest>\n    // <pre>/<p>/../<rest> -> <pre>/<rest>\n    // **/**/<rest> -> **/<rest>\n    //\n    // **/*/<rest> -> */**/<rest> <== not valid because ** doesn't follow\n    // this WOULD be allowed if ** did follow symlinks, or * didn't\n    firstPhasePreProcess(globParts) {\n        let didSomething = false;\n        do {\n            didSomething = false;\n            // <pre>/**/../<p>/<p>/<rest> -> {<pre>/../<p>/<p>/<rest>,<pre>/**/<p>/<p>/<rest>}\n            for (let parts of globParts) {\n                let gs = -1;\n                while (-1 !== (gs = parts.indexOf('**', gs + 1))) {\n                    let gss = gs;\n                    while (parts[gss + 1] === '**') {\n                        // <pre>/**/**/<rest> -> <pre>/**/<rest>\n                        gss++;\n                    }\n                    // eg, if gs is 2 and gss is 4, that means we have 3 **\n                    // parts, and can remove 2 of them.\n                    if (gss > gs) {\n                        parts.splice(gs + 1, gss - gs);\n                    }\n                    let next = parts[gs + 1];\n                    const p = parts[gs + 2];\n                    const p2 = parts[gs + 3];\n                    if (next !== '..')\n                        continue;\n                    if (!p ||\n                        p === '.' ||\n                        p === '..' ||\n                        !p2 ||\n                        p2 === '.' ||\n                        p2 === '..') {\n                        continue;\n                    }\n                    didSomething = true;\n                    // edit parts in place, and push the new one\n                    parts.splice(gs, 1);\n                    const other = parts.slice(0);\n                    other[gs] = '**';\n                    globParts.push(other);\n                    gs--;\n                }\n                // <pre>/<e>/<rest> -> <pre>/<rest>\n                if (!this.preserveMultipleSlashes) {\n                    for (let i = 1; i < parts.length - 1; i++) {\n                        const p = parts[i];\n                        // don't squeeze out UNC patterns\n                        if (i === 1 && p === '' && parts[0] === '')\n                            continue;\n                        if (p === '.' || p === '') {\n                            didSomething = true;\n                            parts.splice(i, 1);\n                            i--;\n                        }\n                    }\n                    if (parts[0] === '.' &&\n                        parts.length === 2 &&\n                        (parts[1] === '.' || parts[1] === '')) {\n                        didSomething = true;\n                        parts.pop();\n                    }\n                }\n                // <pre>/<p>/../<rest> -> <pre>/<rest>\n                let dd = 0;\n                while (-1 !== (dd = parts.indexOf('..', dd + 1))) {\n                    const p = parts[dd - 1];\n                    if (p && p !== '.' && p !== '..' && p !== '**') {\n                        didSomething = true;\n                        const needDot = dd === 1 && parts[dd + 1] === '**';\n                        const splin = needDot ? ['.'] : [];\n                        parts.splice(dd - 1, 2, ...splin);\n                        if (parts.length === 0)\n                            parts.push('');\n                        dd -= 2;\n                    }\n                }\n            }\n        } while (didSomething);\n        return globParts;\n    }\n    // second phase: multi-pattern dedupes\n    // {<pre>/*/<rest>,<pre>/<p>/<rest>} -> <pre>/*/<rest>\n    // {<pre>/<rest>,<pre>/<rest>} -> <pre>/<rest>\n    // {<pre>/**/<rest>,<pre>/<rest>} -> <pre>/**/<rest>\n    //\n    // {<pre>/**/<rest>,<pre>/**/<p>/<rest>} -> <pre>/**/<rest>\n    // ^-- not valid because ** doens't follow symlinks\n    secondPhasePreProcess(globParts) {\n        for (let i = 0; i < globParts.length - 1; i++) {\n            for (let j = i + 1; j < globParts.length; j++) {\n                const matched = this.partsMatch(globParts[i], globParts[j], !this.preserveMultipleSlashes);\n                if (matched) {\n                    globParts[i] = [];\n                    globParts[j] = matched;\n                    break;\n                }\n            }\n        }\n        return globParts.filter(gs => gs.length);\n    }\n    partsMatch(a, b, emptyGSMatch = false) {\n        let ai = 0;\n        let bi = 0;\n        let result = [];\n        let which = '';\n        while (ai < a.length && bi < b.length) {\n            if (a[ai] === b[bi]) {\n                result.push(which === 'b' ? b[bi] : a[ai]);\n                ai++;\n                bi++;\n            }\n            else if (emptyGSMatch && a[ai] === '**' && b[bi] === a[ai + 1]) {\n                result.push(a[ai]);\n                ai++;\n            }\n            else if (emptyGSMatch && b[bi] === '**' && a[ai] === b[bi + 1]) {\n                result.push(b[bi]);\n                bi++;\n            }\n            else if (a[ai] === '*' &&\n                b[bi] &&\n                (this.options.dot || !b[bi].startsWith('.')) &&\n                b[bi] !== '**') {\n                if (which === 'b')\n                    return false;\n                which = 'a';\n                result.push(a[ai]);\n                ai++;\n                bi++;\n            }\n            else if (b[bi] === '*' &&\n                a[ai] &&\n                (this.options.dot || !a[ai].startsWith('.')) &&\n                a[ai] !== '**') {\n                if (which === 'a')\n                    return false;\n                which = 'b';\n                result.push(b[bi]);\n                ai++;\n                bi++;\n            }\n            else {\n                return false;\n            }\n        }\n        // if we fall out of the loop, it means they two are identical\n        // as long as their lengths match\n        return a.length === b.length && result;\n    }\n    parseNegate() {\n        if (this.nonegate)\n            return;\n        const pattern = this.pattern;\n        let negate = false;\n        let negateOffset = 0;\n        for (let i = 0; i < pattern.length && pattern.charAt(i) === '!'; i++) {\n            negate = !negate;\n            negateOffset++;\n        }\n        if (negateOffset)\n            this.pattern = pattern.slice(negateOffset);\n        this.negate = negate;\n    }\n    // set partial to true to test if, for example,\n    // \"/a/b\" matches the start of \"/*/b/*/d\"\n    // Partial means, if you run out of file before you run\n    // out of pattern, then that's fine, as long as all\n    // the parts match.\n    matchOne(file, pattern, partial = false) {\n        const options = this.options;\n        // UNC paths like //?/X:/... can match X:/... and vice versa\n        // Drive letters in absolute drive or unc paths are always compared\n        // case-insensitively.\n        if (this.isWindows) {\n            const fileDrive = typeof file[0] === 'string' && /^[a-z]:$/i.test(file[0]);\n            const fileUNC = !fileDrive &&\n                file[0] === '' &&\n                file[1] === '' &&\n                file[2] === '?' &&\n                /^[a-z]:$/i.test(file[3]);\n            const patternDrive = typeof pattern[0] === 'string' && /^[a-z]:$/i.test(pattern[0]);\n            const patternUNC = !patternDrive &&\n                pattern[0] === '' &&\n                pattern[1] === '' &&\n                pattern[2] === '?' &&\n                typeof pattern[3] === 'string' &&\n                /^[a-z]:$/i.test(pattern[3]);\n            const fdi = fileUNC ? 3 : fileDrive ? 0 : undefined;\n            const pdi = patternUNC ? 3 : patternDrive ? 0 : undefined;\n            if (typeof fdi === 'number' && typeof pdi === 'number') {\n                const [fd, pd] = [file[fdi], pattern[pdi]];\n                if (fd.toLowerCase() === pd.toLowerCase()) {\n                    pattern[pdi] = fd;\n                    if (pdi > fdi) {\n                        pattern = pattern.slice(pdi);\n                    }\n                    else if (fdi > pdi) {\n                        file = file.slice(fdi);\n                    }\n                }\n            }\n        }\n        // resolve and reduce . and .. portions in the file as well.\n        // dont' need to do the second phase, because it's only one string[]\n        const { optimizationLevel = 1 } = this.options;\n        if (optimizationLevel >= 2) {\n            file = this.levelTwoFileOptimize(file);\n        }\n        this.debug('matchOne', this, { file, pattern });\n        this.debug('matchOne', file.length, pattern.length);\n        for (var fi = 0, pi = 0, fl = file.length, pl = pattern.length; fi < fl && pi < pl; fi++, pi++) {\n            this.debug('matchOne loop');\n            var p = pattern[pi];\n            var f = file[fi];\n            this.debug(pattern, p, f);\n            // should be impossible.\n            // some invalid regexp stuff in the set.\n            /* c8 ignore start */\n            if (p === false) {\n                return false;\n            }\n            /* c8 ignore stop */\n            if (p === GLOBSTAR) {\n                this.debug('GLOBSTAR', [pattern, p, f]);\n                // \"**\"\n                // a/**/b/**/c would match the following:\n                // a/b/x/y/z/c\n                // a/x/y/z/b/c\n                // a/b/x/b/x/c\n                // a/b/c\n                // To do this, take the rest of the pattern after\n                // the **, and see if it would match the file remainder.\n                // If so, return success.\n                // If not, the ** \"swallows\" a segment, and try again.\n                // This is recursively awful.\n                //\n                // a/**/b/**/c matching a/b/x/y/z/c\n                // - a matches a\n                // - doublestar\n                //   - matchOne(b/x/y/z/c, b/**/c)\n                //     - b matches b\n                //     - doublestar\n                //       - matchOne(x/y/z/c, c) -> no\n                //       - matchOne(y/z/c, c) -> no\n                //       - matchOne(z/c, c) -> no\n                //       - matchOne(c, c) yes, hit\n                var fr = fi;\n                var pr = pi + 1;\n                if (pr === pl) {\n                    this.debug('** at the end');\n                    // a ** at the end will just swallow the rest.\n                    // We have found a match.\n                    // however, it will not swallow /.x, unless\n                    // options.dot is set.\n                    // . and .. are *never* matched by **, for explosively\n                    // exponential reasons.\n                    for (; fi < fl; fi++) {\n                        if (file[fi] === '.' ||\n                            file[fi] === '..' ||\n                            (!options.dot && file[fi].charAt(0) === '.'))\n                            return false;\n                    }\n                    return true;\n                }\n                // ok, let's see if we can swallow whatever we can.\n                while (fr < fl) {\n                    var swallowee = file[fr];\n                    this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee);\n                    // XXX remove this slice.  Just pass the start index.\n                    if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n                        this.debug('globstar found match!', fr, fl, swallowee);\n                        // found a match.\n                        return true;\n                    }\n                    else {\n                        // can't swallow \".\" or \"..\" ever.\n                        // can only swallow \".foo\" when explicitly asked.\n                        if (swallowee === '.' ||\n                            swallowee === '..' ||\n                            (!options.dot && swallowee.charAt(0) === '.')) {\n                            this.debug('dot detected!', file, fr, pattern, pr);\n                            break;\n                        }\n                        // ** swallows a segment, and continue.\n                        this.debug('globstar swallow a segment, and continue');\n                        fr++;\n                    }\n                }\n                // no match was found.\n                // However, in partial mode, we can't say this is necessarily over.\n                /* c8 ignore start */\n                if (partial) {\n                    // ran out of file\n                    this.debug('\\n>>> no match, partial?', file, fr, pattern, pr);\n                    if (fr === fl) {\n                        return true;\n                    }\n                }\n                /* c8 ignore stop */\n                return false;\n            }\n            // something other than **\n            // non-magic patterns just have to match exactly\n            // patterns with magic have been turned into regexps.\n            let hit;\n            if (typeof p === 'string') {\n                hit = f === p;\n                this.debug('string match', p, f, hit);\n            }\n            else {\n                hit = p.test(f);\n                this.debug('pattern match', p, f, hit);\n            }\n            if (!hit)\n                return false;\n        }\n        // Note: ending in / means that we'll get a final \"\"\n        // at the end of the pattern.  This can only match a\n        // corresponding \"\" at the end of the file.\n        // If the file ends in /, then it can only match a\n        // a pattern that ends in /, unless the pattern just\n        // doesn't have any more for it. But, a/b/ should *not*\n        // match \"a/b/*\", even though \"\" matches against the\n        // [^/]*? pattern, except in partial mode, where it might\n        // simply not be reached yet.\n        // However, a/b/ should still satisfy a/*\n        // now either we fell off the end of the pattern, or we're done.\n        if (fi === fl && pi === pl) {\n            // ran out of pattern and filename at the same time.\n            // an exact hit!\n            return true;\n        }\n        else if (fi === fl) {\n            // ran out of file, but still had pattern left.\n            // this is ok if we're doing the match as part of\n            // a glob fs traversal.\n            return partial;\n        }\n        else if (pi === pl) {\n            // ran out of pattern, still have file left.\n            // this is only acceptable if we're on the very last\n            // empty segment of a file with a trailing slash.\n            // a/* should match a/b/\n            return fi === fl - 1 && file[fi] === '';\n            /* c8 ignore start */\n        }\n        else {\n            // should be unreachable.\n            throw new Error('wtf?');\n        }\n        /* c8 ignore stop */\n    }\n    braceExpand() {\n        return braceExpand(this.pattern, this.options);\n    }\n    parse(pattern) {\n        assertValidPattern(pattern);\n        const options = this.options;\n        // shortcuts\n        if (pattern === '**')\n            return GLOBSTAR;\n        if (pattern === '')\n            return '';\n        // far and away, the most common glob pattern parts are\n        // *, *.*, and *.<ext>  Add a fast check method for those.\n        let m;\n        let fastTest = null;\n        if ((m = pattern.match(starRE))) {\n            fastTest = options.dot ? starTestDot : starTest;\n        }\n        else if ((m = pattern.match(starDotExtRE))) {\n            fastTest = (options.nocase\n                ? options.dot\n                    ? starDotExtTestNocaseDot\n                    : starDotExtTestNocase\n                : options.dot\n                    ? starDotExtTestDot\n                    : starDotExtTest)(m[1]);\n        }\n        else if ((m = pattern.match(qmarksRE))) {\n            fastTest = (options.nocase\n                ? options.dot\n                    ? qmarksTestNocaseDot\n                    : qmarksTestNocase\n                : options.dot\n                    ? qmarksTestDot\n                    : qmarksTest)(m);\n        }\n        else if ((m = pattern.match(starDotStarRE))) {\n            fastTest = options.dot ? starDotStarTestDot : starDotStarTest;\n        }\n        else if ((m = pattern.match(dotStarRE))) {\n            fastTest = dotStarTest;\n        }\n        const re = AST.fromGlob(pattern, this.options).toMMPattern();\n        if (fastTest && typeof re === 'object') {\n            // Avoids overriding in frozen environments\n            Reflect.defineProperty(re, 'test', { value: fastTest });\n        }\n        return re;\n    }\n    makeRe() {\n        if (this.regexp || this.regexp === false)\n            return this.regexp;\n        // at this point, this.set is a 2d array of partial\n        // pattern strings, or \"**\".\n        //\n        // It's better to use .match().  This function shouldn't\n        // be used, really, but it's pretty convenient sometimes,\n        // when you just want to work with a regex.\n        const set = this.set;\n        if (!set.length) {\n            this.regexp = false;\n            return this.regexp;\n        }\n        const options = this.options;\n        const twoStar = options.noglobstar\n            ? star\n            : options.dot\n                ? twoStarDot\n                : twoStarNoDot;\n        const flags = new Set(options.nocase ? ['i'] : []);\n        // regexpify non-globstar patterns\n        // if ** is only item, then we just do one twoStar\n        // if ** is first, and there are more, prepend (\\/|twoStar\\/)? to next\n        // if ** is last, append (\\/twoStar|) to previous\n        // if ** is in the middle, append (\\/|\\/twoStar\\/) to previous\n        // then filter out GLOBSTAR symbols\n        let re = set\n            .map(pattern => {\n            const pp = pattern.map(p => {\n                if (p instanceof RegExp) {\n                    for (const f of p.flags.split(''))\n                        flags.add(f);\n                }\n                return typeof p === 'string'\n                    ? regExpEscape(p)\n                    : p === GLOBSTAR\n                        ? GLOBSTAR\n                        : p._src;\n            });\n            pp.forEach((p, i) => {\n                const next = pp[i + 1];\n                const prev = pp[i - 1];\n                if (p !== GLOBSTAR || prev === GLOBSTAR) {\n                    return;\n                }\n                if (prev === undefined) {\n                    if (next !== undefined && next !== GLOBSTAR) {\n                        pp[i + 1] = '(?:\\\\/|' + twoStar + '\\\\/)?' + next;\n                    }\n                    else {\n                        pp[i] = twoStar;\n                    }\n                }\n                else if (next === undefined) {\n                    pp[i - 1] = prev + '(?:\\\\/|' + twoStar + ')?';\n                }\n                else if (next !== GLOBSTAR) {\n                    pp[i - 1] = prev + '(?:\\\\/|\\\\/' + twoStar + '\\\\/)' + next;\n                    pp[i + 1] = GLOBSTAR;\n                }\n            });\n            return pp.filter(p => p !== GLOBSTAR).join('/');\n        })\n            .join('|');\n        // need to wrap in parens if we had more than one thing with |,\n        // otherwise only the first will be anchored to ^ and the last to $\n        const [open, close] = set.length > 1 ? ['(?:', ')'] : ['', ''];\n        // must match entire pattern\n        // ending in a * or ** will make it less strict.\n        re = '^' + open + re + close + '$';\n        // can match anything, as long as it's not this.\n        if (this.negate)\n            re = '^(?!' + re + ').+$';\n        try {\n            this.regexp = new RegExp(re, [...flags].join(''));\n            /* c8 ignore start */\n        }\n        catch (ex) {\n            // should be impossible\n            this.regexp = false;\n        }\n        /* c8 ignore stop */\n        return this.regexp;\n    }\n    slashSplit(p) {\n        // if p starts with // on windows, we preserve that\n        // so that UNC paths aren't broken.  Otherwise, any number of\n        // / characters are coalesced into one, unless\n        // preserveMultipleSlashes is set to true.\n        if (this.preserveMultipleSlashes) {\n            return p.split('/');\n        }\n        else if (this.isWindows && /^\\/\\/[^\\/]+/.test(p)) {\n            // add an extra '' for the one we lose\n            return ['', ...p.split(/\\/+/)];\n        }\n        else {\n            return p.split(/\\/+/);\n        }\n    }\n    match(f, partial = this.partial) {\n        this.debug('match', f, this.pattern);\n        // short-circuit in the case of busted things.\n        // comments, etc.\n        if (this.comment) {\n            return false;\n        }\n        if (this.empty) {\n            return f === '';\n        }\n        if (f === '/' && partial) {\n            return true;\n        }\n        const options = this.options;\n        // windows: need to use /, not \\\n        if (this.isWindows) {\n            f = f.split('\\\\').join('/');\n        }\n        // treat the test path as a set of pathparts.\n        const ff = this.slashSplit(f);\n        this.debug(this.pattern, 'split', ff);\n        // just ONE of the pattern sets in this.set needs to match\n        // in order for it to be valid.  If negating, then just one\n        // match means that we have failed.\n        // Either way, return on the first hit.\n        const set = this.set;\n        this.debug(this.pattern, 'set', set);\n        // Find the basename of the path by looking for the last non-empty segment\n        let filename = ff[ff.length - 1];\n        if (!filename) {\n            for (let i = ff.length - 2; !filename && i >= 0; i--) {\n                filename = ff[i];\n            }\n        }\n        for (let i = 0; i < set.length; i++) {\n            const pattern = set[i];\n            let file = ff;\n            if (options.matchBase && pattern.length === 1) {\n                file = [filename];\n            }\n            const hit = this.matchOne(file, pattern, partial);\n            if (hit) {\n                if (options.flipNegate) {\n                    return true;\n                }\n                return !this.negate;\n            }\n        }\n        // didn't get any hits.  this is success if it's a negative\n        // pattern, failure otherwise.\n        if (options.flipNegate) {\n            return false;\n        }\n        return this.negate;\n    }\n    static defaults(def) {\n        return minimatch.defaults(def).Minimatch;\n    }\n}\n/* c8 ignore start */\nexport { AST } from './ast.js';\nexport { escape } from './escape.js';\nexport { unescape } from './unescape.js';\n/* c8 ignore stop */\nminimatch.AST = AST;\nminimatch.Minimatch = Minimatch;\nminimatch.escape = escape;\nminimatch.unescape = unescape;\n//# sourceMappingURL=index.js.map","/**\n * @module LRUCache\n */\nconst defaultPerf = (typeof performance === 'object' &&\n    performance &&\n    typeof performance.now === 'function') ?\n    performance\n    : Date;\nconst warned = new Set();\n/* c8 ignore start */\nconst PROCESS = (typeof process === 'object' && !!process ?\n    process\n    : {});\n/* c8 ignore start */\nconst emitWarning = (msg, type, code, fn) => {\n    typeof PROCESS.emitWarning === 'function' ?\n        PROCESS.emitWarning(msg, type, code, fn)\n        : console.error(`[${code}] ${type}: ${msg}`);\n};\nlet AC = globalThis.AbortController;\nlet AS = globalThis.AbortSignal;\n/* c8 ignore start */\nif (typeof AC === 'undefined') {\n    //@ts-ignore\n    AS = class AbortSignal {\n        onabort;\n        _onabort = [];\n        reason;\n        aborted = false;\n        addEventListener(_, fn) {\n            this._onabort.push(fn);\n        }\n    };\n    //@ts-ignore\n    AC = class AbortController {\n        constructor() {\n            warnACPolyfill();\n        }\n        signal = new AS();\n        abort(reason) {\n            if (this.signal.aborted)\n                return;\n            //@ts-ignore\n            this.signal.reason = reason;\n            //@ts-ignore\n            this.signal.aborted = true;\n            //@ts-ignore\n            for (const fn of this.signal._onabort) {\n                fn(reason);\n            }\n            this.signal.onabort?.(reason);\n        }\n    };\n    let printACPolyfillWarning = PROCESS.env?.LRU_CACHE_IGNORE_AC_WARNING !== '1';\n    const warnACPolyfill = () => {\n        if (!printACPolyfillWarning)\n            return;\n        printACPolyfillWarning = false;\n        emitWarning('AbortController is not defined. If using lru-cache in ' +\n            'node 14, load an AbortController polyfill from the ' +\n            '`node-abort-controller` package. A minimal polyfill is ' +\n            'provided for use by LRUCache.fetch(), but it should not be ' +\n            'relied upon in other contexts (eg, passing it to other APIs that ' +\n            'use AbortController/AbortSignal might have undesirable effects). ' +\n            'You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.', 'NO_ABORT_CONTROLLER', 'ENOTSUP', warnACPolyfill);\n    };\n}\n/* c8 ignore stop */\nconst shouldWarn = (code) => !warned.has(code);\nconst TYPE = Symbol('type');\nconst isPosInt = (n) => n && n === Math.floor(n) && n > 0 && isFinite(n);\n/* c8 ignore start */\n// This is a little bit ridiculous, tbh.\n// The maximum array length is 2^32-1 or thereabouts on most JS impls.\n// And well before that point, you're caching the entire world, I mean,\n// that's ~32GB of just integers for the next/prev links, plus whatever\n// else to hold that many keys and values.  Just filling the memory with\n// zeroes at init time is brutal when you get that big.\n// But why not be complete?\n// Maybe in the future, these limits will have expanded.\nconst getUintArray = (max) => !isPosInt(max) ? null\n    : max <= Math.pow(2, 8) ? Uint8Array\n        : max <= Math.pow(2, 16) ? Uint16Array\n            : max <= Math.pow(2, 32) ? Uint32Array\n                : max <= Number.MAX_SAFE_INTEGER ? ZeroArray\n                    : null;\n/* c8 ignore stop */\nclass ZeroArray extends Array {\n    constructor(size) {\n        super(size);\n        this.fill(0);\n    }\n}\nclass Stack {\n    heap;\n    length;\n    // private constructor\n    static #constructing = false;\n    static create(max) {\n        const HeapCls = getUintArray(max);\n        if (!HeapCls)\n            return [];\n        Stack.#constructing = true;\n        const s = new Stack(max, HeapCls);\n        Stack.#constructing = false;\n        return s;\n    }\n    constructor(max, HeapCls) {\n        /* c8 ignore start */\n        if (!Stack.#constructing) {\n            throw new TypeError('instantiate Stack using Stack.create(n)');\n        }\n        /* c8 ignore stop */\n        this.heap = new HeapCls(max);\n        this.length = 0;\n    }\n    push(n) {\n        this.heap[this.length++] = n;\n    }\n    pop() {\n        return this.heap[--this.length];\n    }\n}\n/**\n * Default export, the thing you're using this module to get.\n *\n * The `K` and `V` types define the key and value types, respectively. The\n * optional `FC` type defines the type of the `context` object passed to\n * `cache.fetch()` and `cache.memo()`.\n *\n * Keys and values **must not** be `null` or `undefined`.\n *\n * All properties from the options object (with the exception of `max`,\n * `maxSize`, `fetchMethod`, `memoMethod`, `dispose` and `disposeAfter`) are\n * added as normal public members. (The listed options are read-only getters.)\n *\n * Changing any of these will alter the defaults for subsequent method calls.\n */\nexport class LRUCache {\n    // options that cannot be changed without disaster\n    #max;\n    #maxSize;\n    #dispose;\n    #onInsert;\n    #disposeAfter;\n    #fetchMethod;\n    #memoMethod;\n    #perf;\n    /**\n     * {@link LRUCache.OptionsBase.perf}\n     */\n    get perf() {\n        return this.#perf;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.ttl}\n     */\n    ttl;\n    /**\n     * {@link LRUCache.OptionsBase.ttlResolution}\n     */\n    ttlResolution;\n    /**\n     * {@link LRUCache.OptionsBase.ttlAutopurge}\n     */\n    ttlAutopurge;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnGet}\n     */\n    updateAgeOnGet;\n    /**\n     * {@link LRUCache.OptionsBase.updateAgeOnHas}\n     */\n    updateAgeOnHas;\n    /**\n     * {@link LRUCache.OptionsBase.allowStale}\n     */\n    allowStale;\n    /**\n     * {@link LRUCache.OptionsBase.noDisposeOnSet}\n     */\n    noDisposeOnSet;\n    /**\n     * {@link LRUCache.OptionsBase.noUpdateTTL}\n     */\n    noUpdateTTL;\n    /**\n     * {@link LRUCache.OptionsBase.maxEntrySize}\n     */\n    maxEntrySize;\n    /**\n     * {@link LRUCache.OptionsBase.sizeCalculation}\n     */\n    sizeCalculation;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnFetchRejection}\n     */\n    noDeleteOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.noDeleteOnStaleGet}\n     */\n    noDeleteOnStaleGet;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchAbort}\n     */\n    allowStaleOnFetchAbort;\n    /**\n     * {@link LRUCache.OptionsBase.allowStaleOnFetchRejection}\n     */\n    allowStaleOnFetchRejection;\n    /**\n     * {@link LRUCache.OptionsBase.ignoreFetchAbort}\n     */\n    ignoreFetchAbort;\n    // computed properties\n    #size;\n    #calculatedSize;\n    #keyMap;\n    #keyList;\n    #valList;\n    #next;\n    #prev;\n    #head;\n    #tail;\n    #free;\n    #disposed;\n    #sizes;\n    #starts;\n    #ttls;\n    #hasDispose;\n    #hasFetchMethod;\n    #hasDisposeAfter;\n    #hasOnInsert;\n    /**\n     * Do not call this method unless you need to inspect the\n     * inner workings of the cache.  If anything returned by this\n     * object is modified in any way, strange breakage may occur.\n     *\n     * These fields are private for a reason!\n     *\n     * @internal\n     */\n    static unsafeExposeInternals(c) {\n        return {\n            // properties\n            starts: c.#starts,\n            ttls: c.#ttls,\n            sizes: c.#sizes,\n            keyMap: c.#keyMap,\n            keyList: c.#keyList,\n            valList: c.#valList,\n            next: c.#next,\n            prev: c.#prev,\n            get head() {\n                return c.#head;\n            },\n            get tail() {\n                return c.#tail;\n            },\n            free: c.#free,\n            // methods\n            isBackgroundFetch: (p) => c.#isBackgroundFetch(p),\n            backgroundFetch: (k, index, options, context) => c.#backgroundFetch(k, index, options, context),\n            moveToTail: (index) => c.#moveToTail(index),\n            indexes: (options) => c.#indexes(options),\n            rindexes: (options) => c.#rindexes(options),\n            isStale: (index) => c.#isStale(index),\n        };\n    }\n    // Protected read-only members\n    /**\n     * {@link LRUCache.OptionsBase.max} (read-only)\n     */\n    get max() {\n        return this.#max;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.maxSize} (read-only)\n     */\n    get maxSize() {\n        return this.#maxSize;\n    }\n    /**\n     * The total computed size of items in the cache (read-only)\n     */\n    get calculatedSize() {\n        return this.#calculatedSize;\n    }\n    /**\n     * The number of items stored in the cache (read-only)\n     */\n    get size() {\n        return this.#size;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.fetchMethod} (read-only)\n     */\n    get fetchMethod() {\n        return this.#fetchMethod;\n    }\n    get memoMethod() {\n        return this.#memoMethod;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.dispose} (read-only)\n     */\n    get dispose() {\n        return this.#dispose;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.onInsert} (read-only)\n     */\n    get onInsert() {\n        return this.#onInsert;\n    }\n    /**\n     * {@link LRUCache.OptionsBase.disposeAfter} (read-only)\n     */\n    get disposeAfter() {\n        return this.#disposeAfter;\n    }\n    constructor(options) {\n        const { max = 0, ttl, ttlResolution = 1, ttlAutopurge, updateAgeOnGet, updateAgeOnHas, allowStale, dispose, onInsert, disposeAfter, noDisposeOnSet, noUpdateTTL, maxSize = 0, maxEntrySize = 0, sizeCalculation, fetchMethod, memoMethod, noDeleteOnFetchRejection, noDeleteOnStaleGet, allowStaleOnFetchRejection, allowStaleOnFetchAbort, ignoreFetchAbort, perf, } = options;\n        if (perf !== undefined) {\n            if (typeof perf?.now !== 'function') {\n                throw new TypeError('perf option must have a now() method if specified');\n            }\n        }\n        this.#perf = perf ?? defaultPerf;\n        if (max !== 0 && !isPosInt(max)) {\n            throw new TypeError('max option must be a nonnegative integer');\n        }\n        const UintArray = max ? getUintArray(max) : Array;\n        if (!UintArray) {\n            throw new Error('invalid max value: ' + max);\n        }\n        this.#max = max;\n        this.#maxSize = maxSize;\n        this.maxEntrySize = maxEntrySize || this.#maxSize;\n        this.sizeCalculation = sizeCalculation;\n        if (this.sizeCalculation) {\n            if (!this.#maxSize && !this.maxEntrySize) {\n                throw new TypeError('cannot set sizeCalculation without setting maxSize or maxEntrySize');\n            }\n            if (typeof this.sizeCalculation !== 'function') {\n                throw new TypeError('sizeCalculation set to non-function');\n            }\n        }\n        if (memoMethod !== undefined &&\n            typeof memoMethod !== 'function') {\n            throw new TypeError('memoMethod must be a function if defined');\n        }\n        this.#memoMethod = memoMethod;\n        if (fetchMethod !== undefined &&\n            typeof fetchMethod !== 'function') {\n            throw new TypeError('fetchMethod must be a function if specified');\n        }\n        this.#fetchMethod = fetchMethod;\n        this.#hasFetchMethod = !!fetchMethod;\n        this.#keyMap = new Map();\n        this.#keyList = new Array(max).fill(undefined);\n        this.#valList = new Array(max).fill(undefined);\n        this.#next = new UintArray(max);\n        this.#prev = new UintArray(max);\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free = Stack.create(max);\n        this.#size = 0;\n        this.#calculatedSize = 0;\n        if (typeof dispose === 'function') {\n            this.#dispose = dispose;\n        }\n        if (typeof onInsert === 'function') {\n            this.#onInsert = onInsert;\n        }\n        if (typeof disposeAfter === 'function') {\n            this.#disposeAfter = disposeAfter;\n            this.#disposed = [];\n        }\n        else {\n            this.#disposeAfter = undefined;\n            this.#disposed = undefined;\n        }\n        this.#hasDispose = !!this.#dispose;\n        this.#hasOnInsert = !!this.#onInsert;\n        this.#hasDisposeAfter = !!this.#disposeAfter;\n        this.noDisposeOnSet = !!noDisposeOnSet;\n        this.noUpdateTTL = !!noUpdateTTL;\n        this.noDeleteOnFetchRejection = !!noDeleteOnFetchRejection;\n        this.allowStaleOnFetchRejection = !!allowStaleOnFetchRejection;\n        this.allowStaleOnFetchAbort = !!allowStaleOnFetchAbort;\n        this.ignoreFetchAbort = !!ignoreFetchAbort;\n        // NB: maxEntrySize is set to maxSize if it's set\n        if (this.maxEntrySize !== 0) {\n            if (this.#maxSize !== 0) {\n                if (!isPosInt(this.#maxSize)) {\n                    throw new TypeError('maxSize must be a positive integer if specified');\n                }\n            }\n            if (!isPosInt(this.maxEntrySize)) {\n                throw new TypeError('maxEntrySize must be a positive integer if specified');\n            }\n            this.#initializeSizeTracking();\n        }\n        this.allowStale = !!allowStale;\n        this.noDeleteOnStaleGet = !!noDeleteOnStaleGet;\n        this.updateAgeOnGet = !!updateAgeOnGet;\n        this.updateAgeOnHas = !!updateAgeOnHas;\n        this.ttlResolution =\n            isPosInt(ttlResolution) || ttlResolution === 0 ?\n                ttlResolution\n                : 1;\n        this.ttlAutopurge = !!ttlAutopurge;\n        this.ttl = ttl || 0;\n        if (this.ttl) {\n            if (!isPosInt(this.ttl)) {\n                throw new TypeError('ttl must be a positive integer if specified');\n            }\n            this.#initializeTTLTracking();\n        }\n        // do not allow completely unbounded caches\n        if (this.#max === 0 && this.ttl === 0 && this.#maxSize === 0) {\n            throw new TypeError('At least one of max, maxSize, or ttl is required');\n        }\n        if (!this.ttlAutopurge && !this.#max && !this.#maxSize) {\n            const code = 'LRU_CACHE_UNBOUNDED';\n            if (shouldWarn(code)) {\n                warned.add(code);\n                const msg = 'TTL caching without ttlAutopurge, max, or maxSize can ' +\n                    'result in unbounded memory consumption.';\n                emitWarning(msg, 'UnboundedCacheWarning', code, LRUCache);\n            }\n        }\n    }\n    /**\n     * Return the number of ms left in the item's TTL. If item is not in cache,\n     * returns `0`. Returns `Infinity` if item is in cache without a defined TTL.\n     */\n    getRemainingTTL(key) {\n        return this.#keyMap.has(key) ? Infinity : 0;\n    }\n    #initializeTTLTracking() {\n        const ttls = new ZeroArray(this.#max);\n        const starts = new ZeroArray(this.#max);\n        this.#ttls = ttls;\n        this.#starts = starts;\n        this.#setItemTTL = (index, ttl, start = this.#perf.now()) => {\n            starts[index] = ttl !== 0 ? start : 0;\n            ttls[index] = ttl;\n            if (ttl !== 0 && this.ttlAutopurge) {\n                const t = setTimeout(() => {\n                    if (this.#isStale(index)) {\n                        this.#delete(this.#keyList[index], 'expire');\n                    }\n                }, ttl + 1);\n                // unref() not supported on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n        };\n        this.#updateItemAge = index => {\n            starts[index] = ttls[index] !== 0 ? this.#perf.now() : 0;\n        };\n        this.#statusTTL = (status, index) => {\n            if (ttls[index]) {\n                const ttl = ttls[index];\n                const start = starts[index];\n                /* c8 ignore next */\n                if (!ttl || !start)\n                    return;\n                status.ttl = ttl;\n                status.start = start;\n                status.now = cachedNow || getNow();\n                const age = status.now - start;\n                status.remainingTTL = ttl - age;\n            }\n        };\n        // debounce calls to perf.now() to 1s so we're not hitting\n        // that costly call repeatedly.\n        let cachedNow = 0;\n        const getNow = () => {\n            const n = this.#perf.now();\n            if (this.ttlResolution > 0) {\n                cachedNow = n;\n                const t = setTimeout(() => (cachedNow = 0), this.ttlResolution);\n                // not available on all platforms\n                /* c8 ignore start */\n                if (t.unref) {\n                    t.unref();\n                }\n                /* c8 ignore stop */\n            }\n            return n;\n        };\n        this.getRemainingTTL = key => {\n            const index = this.#keyMap.get(key);\n            if (index === undefined) {\n                return 0;\n            }\n            const ttl = ttls[index];\n            const start = starts[index];\n            if (!ttl || !start) {\n                return Infinity;\n            }\n            const age = (cachedNow || getNow()) - start;\n            return ttl - age;\n        };\n        this.#isStale = index => {\n            const s = starts[index];\n            const t = ttls[index];\n            return !!t && !!s && (cachedNow || getNow()) - s > t;\n        };\n    }\n    // conditionally set private methods related to TTL\n    #updateItemAge = () => { };\n    #statusTTL = () => { };\n    #setItemTTL = () => { };\n    /* c8 ignore stop */\n    #isStale = () => false;\n    #initializeSizeTracking() {\n        const sizes = new ZeroArray(this.#max);\n        this.#calculatedSize = 0;\n        this.#sizes = sizes;\n        this.#removeItemSize = index => {\n            this.#calculatedSize -= sizes[index];\n            sizes[index] = 0;\n        };\n        this.#requireSize = (k, v, size, sizeCalculation) => {\n            // provisionally accept background fetches.\n            // actual value size will be checked when they return.\n            if (this.#isBackgroundFetch(v)) {\n                return 0;\n            }\n            if (!isPosInt(size)) {\n                if (sizeCalculation) {\n                    if (typeof sizeCalculation !== 'function') {\n                        throw new TypeError('sizeCalculation must be a function');\n                    }\n                    size = sizeCalculation(v, k);\n                    if (!isPosInt(size)) {\n                        throw new TypeError('sizeCalculation return invalid (expect positive integer)');\n                    }\n                }\n                else {\n                    throw new TypeError('invalid size value (must be positive integer). ' +\n                        'When maxSize or maxEntrySize is used, sizeCalculation ' +\n                        'or size must be set.');\n                }\n            }\n            return size;\n        };\n        this.#addItemSize = (index, size, status) => {\n            sizes[index] = size;\n            if (this.#maxSize) {\n                const maxSize = this.#maxSize - sizes[index];\n                while (this.#calculatedSize > maxSize) {\n                    this.#evict(true);\n                }\n            }\n            this.#calculatedSize += sizes[index];\n            if (status) {\n                status.entrySize = size;\n                status.totalCalculatedSize = this.#calculatedSize;\n            }\n        };\n    }\n    #removeItemSize = _i => { };\n    #addItemSize = (_i, _s, _st) => { };\n    #requireSize = (_k, _v, size, sizeCalculation) => {\n        if (size || sizeCalculation) {\n            throw new TypeError('cannot set size without setting maxSize or maxEntrySize on cache');\n        }\n        return 0;\n    };\n    *#indexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#tail; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#head) {\n                    break;\n                }\n                else {\n                    i = this.#prev[i];\n                }\n            }\n        }\n    }\n    *#rindexes({ allowStale = this.allowStale } = {}) {\n        if (this.#size) {\n            for (let i = this.#head; true;) {\n                if (!this.#isValidIndex(i)) {\n                    break;\n                }\n                if (allowStale || !this.#isStale(i)) {\n                    yield i;\n                }\n                if (i === this.#tail) {\n                    break;\n                }\n                else {\n                    i = this.#next[i];\n                }\n            }\n        }\n    }\n    #isValidIndex(index) {\n        return (index !== undefined &&\n            this.#keyMap.get(this.#keyList[index]) === index);\n    }\n    /**\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from most recently used to least recently used.\n     */\n    *entries() {\n        for (const i of this.#indexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.entries}\n     *\n     * Return a generator yielding `[key, value]` pairs,\n     * in order from least recently used to most recently used.\n     */\n    *rentries() {\n        for (const i of this.#rindexes()) {\n            if (this.#valList[i] !== undefined &&\n                this.#keyList[i] !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield [this.#keyList[i], this.#valList[i]];\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the keys in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *keys() {\n        for (const i of this.#indexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.keys}\n     *\n     * Return a generator yielding the keys in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rkeys() {\n        for (const i of this.#rindexes()) {\n            const k = this.#keyList[i];\n            if (k !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield k;\n            }\n        }\n    }\n    /**\n     * Return a generator yielding the values in the cache,\n     * in order from most recently used to least recently used.\n     */\n    *values() {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Inverse order version of {@link LRUCache.values}\n     *\n     * Return a generator yielding the values in the cache,\n     * in order from least recently used to most recently used.\n     */\n    *rvalues() {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            if (v !== undefined &&\n                !this.#isBackgroundFetch(this.#valList[i])) {\n                yield this.#valList[i];\n            }\n        }\n    }\n    /**\n     * Iterating over the cache itself yields the same results as\n     * {@link LRUCache.entries}\n     */\n    [Symbol.iterator]() {\n        return this.entries();\n    }\n    /**\n     * A String value that is used in the creation of the default string\n     * description of an object. Called by the built-in method\n     * `Object.prototype.toString`.\n     */\n    [Symbol.toStringTag] = 'LRUCache';\n    /**\n     * Find a value for which the supplied fn method returns a truthy value,\n     * similar to `Array.find()`. fn is called as `fn(value, key, cache)`.\n     */\n    find(fn, getOptions = {}) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n            if (value === undefined)\n                continue;\n            if (fn(value, this.#keyList[i], this)) {\n                return this.get(this.#keyList[i], getOptions);\n            }\n        }\n    }\n    /**\n     * Call the supplied function on each item in the cache, in order from most\n     * recently used to least recently used.\n     *\n     * `fn` is called as `fn(value, key, cache)`.\n     *\n     * If `thisp` is provided, function will be called in the `this`-context of\n     * the provided object, or the cache if no `thisp` object is provided.\n     *\n     * Does not update age or recenty of use, or iterate over stale values.\n     */\n    forEach(fn, thisp = this) {\n        for (const i of this.#indexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * The same as {@link LRUCache.forEach} but items are iterated over in\n     * reverse order.  (ie, less recently used items are iterated over first.)\n     */\n    rforEach(fn, thisp = this) {\n        for (const i of this.#rindexes()) {\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n            if (value === undefined)\n                continue;\n            fn.call(thisp, value, this.#keyList[i], this);\n        }\n    }\n    /**\n     * Delete any stale entries. Returns true if anything was removed,\n     * false otherwise.\n     */\n    purgeStale() {\n        let deleted = false;\n        for (const i of this.#rindexes({ allowStale: true })) {\n            if (this.#isStale(i)) {\n                this.#delete(this.#keyList[i], 'expire');\n                deleted = true;\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Get the extended info about a given entry, to get its value, size, and\n     * TTL info simultaneously. Returns `undefined` if the key is not present.\n     *\n     * Unlike {@link LRUCache#dump}, which is designed to be portable and survive\n     * serialization, the `start` value is always the current timestamp, and the\n     * `ttl` is a calculated remaining time to live (negative if expired).\n     *\n     * Always returns stale values, if their info is found in the cache, so be\n     * sure to check for expirations (ie, a negative {@link LRUCache.Entry#ttl})\n     * if relevant.\n     */\n    info(key) {\n        const i = this.#keyMap.get(key);\n        if (i === undefined)\n            return undefined;\n        const v = this.#valList[i];\n        /* c8 ignore start - this isn't tested for the info function,\n         * but it's the same logic as found in other places. */\n        const value = this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n        if (value === undefined)\n            return undefined;\n        /* c8 ignore end */\n        const entry = { value };\n        if (this.#ttls && this.#starts) {\n            const ttl = this.#ttls[i];\n            const start = this.#starts[i];\n            if (ttl && start) {\n                const remain = ttl - (this.#perf.now() - start);\n                entry.ttl = remain;\n                entry.start = Date.now();\n            }\n        }\n        if (this.#sizes) {\n            entry.size = this.#sizes[i];\n        }\n        return entry;\n    }\n    /**\n     * Return an array of [key, {@link LRUCache.Entry}] tuples which can be\n     * passed to {@link LRUCache#load}.\n     *\n     * The `start` fields are calculated relative to a portable `Date.now()`\n     * timestamp, even if `performance.now()` is available.\n     *\n     * Stale entries are always included in the `dump`, even if\n     * {@link LRUCache.OptionsBase.allowStale} is false.\n     *\n     * Note: this returns an actual array, not a generator, so it can be more\n     * easily passed around.\n     */\n    dump() {\n        const arr = [];\n        for (const i of this.#indexes({ allowStale: true })) {\n            const key = this.#keyList[i];\n            const v = this.#valList[i];\n            const value = this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n            if (value === undefined || key === undefined)\n                continue;\n            const entry = { value };\n            if (this.#ttls && this.#starts) {\n                entry.ttl = this.#ttls[i];\n                // always dump the start relative to a portable timestamp\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = this.#perf.now() - this.#starts[i];\n                entry.start = Math.floor(Date.now() - age);\n            }\n            if (this.#sizes) {\n                entry.size = this.#sizes[i];\n            }\n            arr.unshift([key, entry]);\n        }\n        return arr;\n    }\n    /**\n     * Reset the cache and load in the items in entries in the order listed.\n     *\n     * The shape of the resulting cache may be different if the same options are\n     * not used in both caches.\n     *\n     * The `start` fields are assumed to be calculated relative to a portable\n     * `Date.now()` timestamp, even if `performance.now()` is available.\n     */\n    load(arr) {\n        this.clear();\n        for (const [key, entry] of arr) {\n            if (entry.start) {\n                // entry.start is a portable timestamp, but we may be using\n                // node's performance.now(), so calculate the offset, so that\n                // we get the intended remaining TTL, no matter how long it's\n                // been on ice.\n                //\n                // it's ok for this to be a bit slow, it's a rare operation.\n                const age = Date.now() - entry.start;\n                entry.start = this.#perf.now() - age;\n            }\n            this.set(key, entry.value, entry);\n        }\n    }\n    /**\n     * Add a value to the cache.\n     *\n     * Note: if `undefined` is specified as a value, this is an alias for\n     * {@link LRUCache#delete}\n     *\n     * Fields on the {@link LRUCache.SetOptions} options param will override\n     * their corresponding values in the constructor options for the scope\n     * of this single `set()` operation.\n     *\n     * If `start` is provided, then that will set the effective start\n     * time for the TTL calculation. Note that this must be a previous\n     * value of `performance.now()` if supported, or a previous value of\n     * `Date.now()` if not.\n     *\n     * Options object may also include `size`, which will prevent\n     * calling the `sizeCalculation` function and just use the specified\n     * number if it is a positive integer, and `noDisposeOnSet` which\n     * will prevent calling a `dispose` function in the case of\n     * overwrites.\n     *\n     * If the `size` (or return value of `sizeCalculation`) for a given\n     * entry is greater than `maxEntrySize`, then the item will not be\n     * added to the cache.\n     *\n     * Will update the recency of the entry.\n     *\n     * If the value is `undefined`, then this is an alias for\n     * `cache.delete(key)`. `undefined` is never stored in the cache.\n     */\n    set(k, v, setOptions = {}) {\n        if (v === undefined) {\n            this.delete(k);\n            return this;\n        }\n        const { ttl = this.ttl, start, noDisposeOnSet = this.noDisposeOnSet, sizeCalculation = this.sizeCalculation, status, } = setOptions;\n        let { noUpdateTTL = this.noUpdateTTL } = setOptions;\n        const size = this.#requireSize(k, v, setOptions.size || 0, sizeCalculation);\n        // if the item doesn't fit, don't do anything\n        // NB: maxEntrySize set to maxSize by default\n        if (this.maxEntrySize && size > this.maxEntrySize) {\n            if (status) {\n                status.set = 'miss';\n                status.maxEntrySizeExceeded = true;\n            }\n            // have to delete, in case something is there already.\n            this.#delete(k, 'set');\n            return this;\n        }\n        let index = this.#size === 0 ? undefined : this.#keyMap.get(k);\n        if (index === undefined) {\n            // addition\n            index = (this.#size === 0 ? this.#tail\n                : this.#free.length !== 0 ? this.#free.pop()\n                    : this.#size === this.#max ? this.#evict(false)\n                        : this.#size);\n            this.#keyList[index] = k;\n            this.#valList[index] = v;\n            this.#keyMap.set(k, index);\n            this.#next[this.#tail] = index;\n            this.#prev[index] = this.#tail;\n            this.#tail = index;\n            this.#size++;\n            this.#addItemSize(index, size, status);\n            if (status)\n                status.set = 'add';\n            noUpdateTTL = false;\n            if (this.#hasOnInsert) {\n                this.#onInsert?.(v, k, 'add');\n            }\n        }\n        else {\n            // update\n            this.#moveToTail(index);\n            const oldVal = this.#valList[index];\n            if (v !== oldVal) {\n                if (this.#hasFetchMethod && this.#isBackgroundFetch(oldVal)) {\n                    oldVal.__abortController.abort(new Error('replaced'));\n                    const { __staleWhileFetching: s } = oldVal;\n                    if (s !== undefined && !noDisposeOnSet) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(s, k, 'set');\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([s, k, 'set']);\n                        }\n                    }\n                }\n                else if (!noDisposeOnSet) {\n                    if (this.#hasDispose) {\n                        this.#dispose?.(oldVal, k, 'set');\n                    }\n                    if (this.#hasDisposeAfter) {\n                        this.#disposed?.push([oldVal, k, 'set']);\n                    }\n                }\n                this.#removeItemSize(index);\n                this.#addItemSize(index, size, status);\n                this.#valList[index] = v;\n                if (status) {\n                    status.set = 'replace';\n                    const oldValue = oldVal && this.#isBackgroundFetch(oldVal) ?\n                        oldVal.__staleWhileFetching\n                        : oldVal;\n                    if (oldValue !== undefined)\n                        status.oldValue = oldValue;\n                }\n            }\n            else if (status) {\n                status.set = 'update';\n            }\n            if (this.#hasOnInsert) {\n                this.onInsert?.(v, k, v === oldVal ? 'update' : 'replace');\n            }\n        }\n        if (ttl !== 0 && !this.#ttls) {\n            this.#initializeTTLTracking();\n        }\n        if (this.#ttls) {\n            if (!noUpdateTTL) {\n                this.#setItemTTL(index, ttl, start);\n            }\n            if (status)\n                this.#statusTTL(status, index);\n        }\n        if (!noDisposeOnSet && this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return this;\n    }\n    /**\n     * Evict the least recently used item, returning its value or\n     * `undefined` if cache is empty.\n     */\n    pop() {\n        try {\n            while (this.#size) {\n                const val = this.#valList[this.#head];\n                this.#evict(true);\n                if (this.#isBackgroundFetch(val)) {\n                    if (val.__staleWhileFetching) {\n                        return val.__staleWhileFetching;\n                    }\n                }\n                else if (val !== undefined) {\n                    return val;\n                }\n            }\n        }\n        finally {\n            if (this.#hasDisposeAfter && this.#disposed) {\n                const dt = this.#disposed;\n                let task;\n                while ((task = dt?.shift())) {\n                    this.#disposeAfter?.(...task);\n                }\n            }\n        }\n    }\n    #evict(free) {\n        const head = this.#head;\n        const k = this.#keyList[head];\n        const v = this.#valList[head];\n        if (this.#hasFetchMethod && this.#isBackgroundFetch(v)) {\n            v.__abortController.abort(new Error('evicted'));\n        }\n        else if (this.#hasDispose || this.#hasDisposeAfter) {\n            if (this.#hasDispose) {\n                this.#dispose?.(v, k, 'evict');\n            }\n            if (this.#hasDisposeAfter) {\n                this.#disposed?.push([v, k, 'evict']);\n            }\n        }\n        this.#removeItemSize(head);\n        // if we aren't about to use the index, then null these out\n        if (free) {\n            this.#keyList[head] = undefined;\n            this.#valList[head] = undefined;\n            this.#free.push(head);\n        }\n        if (this.#size === 1) {\n            this.#head = this.#tail = 0;\n            this.#free.length = 0;\n        }\n        else {\n            this.#head = this.#next[head];\n        }\n        this.#keyMap.delete(k);\n        this.#size--;\n        return head;\n    }\n    /**\n     * Check if a key is in the cache, without updating the recency of use.\n     * Will return false if the item is stale, even though it is technically\n     * in the cache.\n     *\n     * Check if a key is in the cache, without updating the recency of\n     * use. Age is updated if {@link LRUCache.OptionsBase.updateAgeOnHas} is set\n     * to `true` in either the options or the constructor.\n     *\n     * Will return `false` if the item is stale, even though it is technically in\n     * the cache. The difference can be determined (if it matters) by using a\n     * `status` argument, and inspecting the `has` field.\n     *\n     * Will not update item age unless\n     * {@link LRUCache.OptionsBase.updateAgeOnHas} is set.\n     */\n    has(k, hasOptions = {}) {\n        const { updateAgeOnHas = this.updateAgeOnHas, status } = hasOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v) &&\n                v.__staleWhileFetching === undefined) {\n                return false;\n            }\n            if (!this.#isStale(index)) {\n                if (updateAgeOnHas) {\n                    this.#updateItemAge(index);\n                }\n                if (status) {\n                    status.has = 'hit';\n                    this.#statusTTL(status, index);\n                }\n                return true;\n            }\n            else if (status) {\n                status.has = 'stale';\n                this.#statusTTL(status, index);\n            }\n        }\n        else if (status) {\n            status.has = 'miss';\n        }\n        return false;\n    }\n    /**\n     * Like {@link LRUCache#get} but doesn't update recency or delete stale\n     * items.\n     *\n     * Returns `undefined` if the item is stale, unless\n     * {@link LRUCache.OptionsBase.allowStale} is set.\n     */\n    peek(k, peekOptions = {}) {\n        const { allowStale = this.allowStale } = peekOptions;\n        const index = this.#keyMap.get(k);\n        if (index === undefined ||\n            (!allowStale && this.#isStale(index))) {\n            return;\n        }\n        const v = this.#valList[index];\n        // either stale and allowed, or forcing a refresh of non-stale value\n        return this.#isBackgroundFetch(v) ? v.__staleWhileFetching : v;\n    }\n    #backgroundFetch(k, index, options, context) {\n        const v = index === undefined ? undefined : this.#valList[index];\n        if (this.#isBackgroundFetch(v)) {\n            return v;\n        }\n        const ac = new AC();\n        const { signal } = options;\n        // when/if our AC signals, then stop listening to theirs.\n        signal?.addEventListener('abort', () => ac.abort(signal.reason), {\n            signal: ac.signal,\n        });\n        const fetchOpts = {\n            signal: ac.signal,\n            options,\n            context,\n        };\n        const cb = (v, updateCache = false) => {\n            const { aborted } = ac.signal;\n            const ignoreAbort = options.ignoreFetchAbort && v !== undefined;\n            if (options.status) {\n                if (aborted && !updateCache) {\n                    options.status.fetchAborted = true;\n                    options.status.fetchError = ac.signal.reason;\n                    if (ignoreAbort)\n                        options.status.fetchAbortIgnored = true;\n                }\n                else {\n                    options.status.fetchResolved = true;\n                }\n            }\n            if (aborted && !ignoreAbort && !updateCache) {\n                return fetchFail(ac.signal.reason);\n            }\n            // either we didn't abort, and are still here, or we did, and ignored\n            const bf = p;\n            // if nothing else has been written there but we're set to update the\n            // cache and ignore the abort, or if it's still pending on this specific\n            // background request, then write it to the cache.\n            const vl = this.#valList[index];\n            if (vl === p || ignoreAbort && updateCache && vl === undefined) {\n                if (v === undefined) {\n                    if (bf.__staleWhileFetching !== undefined) {\n                        this.#valList[index] = bf.__staleWhileFetching;\n                    }\n                    else {\n                        this.#delete(k, 'fetch');\n                    }\n                }\n                else {\n                    if (options.status)\n                        options.status.fetchUpdated = true;\n                    this.set(k, v, fetchOpts.options);\n                }\n            }\n            return v;\n        };\n        const eb = (er) => {\n            if (options.status) {\n                options.status.fetchRejected = true;\n                options.status.fetchError = er;\n            }\n            return fetchFail(er);\n        };\n        const fetchFail = (er) => {\n            const { aborted } = ac.signal;\n            const allowStaleAborted = aborted && options.allowStaleOnFetchAbort;\n            const allowStale = allowStaleAborted || options.allowStaleOnFetchRejection;\n            const noDelete = allowStale || options.noDeleteOnFetchRejection;\n            const bf = p;\n            if (this.#valList[index] === p) {\n                // if we allow stale on fetch rejections, then we need to ensure that\n                // the stale value is not removed from the cache when the fetch fails.\n                const del = !noDelete || bf.__staleWhileFetching === undefined;\n                if (del) {\n                    this.#delete(k, 'fetch');\n                }\n                else if (!allowStaleAborted) {\n                    // still replace the *promise* with the stale value,\n                    // since we are done with the promise at this point.\n                    // leave it untouched if we're still waiting for an\n                    // aborted background fetch that hasn't yet returned.\n                    this.#valList[index] = bf.__staleWhileFetching;\n                }\n            }\n            if (allowStale) {\n                if (options.status && bf.__staleWhileFetching !== undefined) {\n                    options.status.returnedStale = true;\n                }\n                return bf.__staleWhileFetching;\n            }\n            else if (bf.__returned === bf) {\n                throw er;\n            }\n        };\n        const pcall = (res, rej) => {\n            const fmp = this.#fetchMethod?.(k, v, fetchOpts);\n            if (fmp && fmp instanceof Promise) {\n                fmp.then(v => res(v === undefined ? undefined : v), rej);\n            }\n            // ignored, we go until we finish, regardless.\n            // defer check until we are actually aborting,\n            // so fetchMethod can override.\n            ac.signal.addEventListener('abort', () => {\n                if (!options.ignoreFetchAbort ||\n                    options.allowStaleOnFetchAbort) {\n                    res(undefined);\n                    // when it eventually resolves, update the cache.\n                    if (options.allowStaleOnFetchAbort) {\n                        res = v => cb(v, true);\n                    }\n                }\n            });\n        };\n        if (options.status)\n            options.status.fetchDispatched = true;\n        const p = new Promise(pcall).then(cb, eb);\n        const bf = Object.assign(p, {\n            __abortController: ac,\n            __staleWhileFetching: v,\n            __returned: undefined,\n        });\n        if (index === undefined) {\n            // internal, don't expose status.\n            this.set(k, bf, { ...fetchOpts.options, status: undefined });\n            index = this.#keyMap.get(k);\n        }\n        else {\n            this.#valList[index] = bf;\n        }\n        return bf;\n    }\n    #isBackgroundFetch(p) {\n        if (!this.#hasFetchMethod)\n            return false;\n        const b = p;\n        return (!!b &&\n            b instanceof Promise &&\n            b.hasOwnProperty('__staleWhileFetching') &&\n            b.__abortController instanceof AC);\n    }\n    async fetch(k, fetchOptions = {}) {\n        const { \n        // get options\n        allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, \n        // set options\n        ttl = this.ttl, noDisposeOnSet = this.noDisposeOnSet, size = 0, sizeCalculation = this.sizeCalculation, noUpdateTTL = this.noUpdateTTL, \n        // fetch exclusive options\n        noDeleteOnFetchRejection = this.noDeleteOnFetchRejection, allowStaleOnFetchRejection = this.allowStaleOnFetchRejection, ignoreFetchAbort = this.ignoreFetchAbort, allowStaleOnFetchAbort = this.allowStaleOnFetchAbort, context, forceRefresh = false, status, signal, } = fetchOptions;\n        if (!this.#hasFetchMethod) {\n            if (status)\n                status.fetch = 'get';\n            return this.get(k, {\n                allowStale,\n                updateAgeOnGet,\n                noDeleteOnStaleGet,\n                status,\n            });\n        }\n        const options = {\n            allowStale,\n            updateAgeOnGet,\n            noDeleteOnStaleGet,\n            ttl,\n            noDisposeOnSet,\n            size,\n            sizeCalculation,\n            noUpdateTTL,\n            noDeleteOnFetchRejection,\n            allowStaleOnFetchRejection,\n            allowStaleOnFetchAbort,\n            ignoreFetchAbort,\n            status,\n            signal,\n        };\n        let index = this.#keyMap.get(k);\n        if (index === undefined) {\n            if (status)\n                status.fetch = 'miss';\n            const p = this.#backgroundFetch(k, index, options, context);\n            return (p.__returned = p);\n        }\n        else {\n            // in cache, maybe already fetching\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                const stale = allowStale && v.__staleWhileFetching !== undefined;\n                if (status) {\n                    status.fetch = 'inflight';\n                    if (stale)\n                        status.returnedStale = true;\n                }\n                return stale ? v.__staleWhileFetching : (v.__returned = v);\n            }\n            // if we force a refresh, that means do NOT serve the cached value,\n            // unless we are already in the process of refreshing the cache.\n            const isStale = this.#isStale(index);\n            if (!forceRefresh && !isStale) {\n                if (status)\n                    status.fetch = 'hit';\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                if (status)\n                    this.#statusTTL(status, index);\n                return v;\n            }\n            // ok, it is stale or a forced refresh, and not already fetching.\n            // refresh the cache.\n            const p = this.#backgroundFetch(k, index, options, context);\n            const hasStale = p.__staleWhileFetching !== undefined;\n            const staleVal = hasStale && allowStale;\n            if (status) {\n                status.fetch = isStale ? 'stale' : 'refresh';\n                if (staleVal && isStale)\n                    status.returnedStale = true;\n            }\n            return staleVal ? p.__staleWhileFetching : (p.__returned = p);\n        }\n    }\n    async forceFetch(k, fetchOptions = {}) {\n        const v = await this.fetch(k, fetchOptions);\n        if (v === undefined)\n            throw new Error('fetch() returned undefined');\n        return v;\n    }\n    memo(k, memoOptions = {}) {\n        const memoMethod = this.#memoMethod;\n        if (!memoMethod) {\n            throw new Error('no memoMethod provided to constructor');\n        }\n        const { context, forceRefresh, ...options } = memoOptions;\n        const v = this.get(k, options);\n        if (!forceRefresh && v !== undefined)\n            return v;\n        const vv = memoMethod(k, v, {\n            options,\n            context,\n        });\n        this.set(k, vv, options);\n        return vv;\n    }\n    /**\n     * Return a value from the cache. Will update the recency of the cache\n     * entry found.\n     *\n     * If the key is not found, get() will return `undefined`.\n     */\n    get(k, getOptions = {}) {\n        const { allowStale = this.allowStale, updateAgeOnGet = this.updateAgeOnGet, noDeleteOnStaleGet = this.noDeleteOnStaleGet, status, } = getOptions;\n        const index = this.#keyMap.get(k);\n        if (index !== undefined) {\n            const value = this.#valList[index];\n            const fetching = this.#isBackgroundFetch(value);\n            if (status)\n                this.#statusTTL(status, index);\n            if (this.#isStale(index)) {\n                if (status)\n                    status.get = 'stale';\n                // delete only if not an in-flight background fetch\n                if (!fetching) {\n                    if (!noDeleteOnStaleGet) {\n                        this.#delete(k, 'expire');\n                    }\n                    if (status && allowStale)\n                        status.returnedStale = true;\n                    return allowStale ? value : undefined;\n                }\n                else {\n                    if (status &&\n                        allowStale &&\n                        value.__staleWhileFetching !== undefined) {\n                        status.returnedStale = true;\n                    }\n                    return allowStale ? value.__staleWhileFetching : undefined;\n                }\n            }\n            else {\n                if (status)\n                    status.get = 'hit';\n                // if we're currently fetching it, we don't actually have it yet\n                // it's not stale, which means this isn't a staleWhileRefetching.\n                // If it's not stale, and fetching, AND has a __staleWhileFetching\n                // value, then that means the user fetched with {forceRefresh:true},\n                // so it's safe to return that value.\n                if (fetching) {\n                    return value.__staleWhileFetching;\n                }\n                this.#moveToTail(index);\n                if (updateAgeOnGet) {\n                    this.#updateItemAge(index);\n                }\n                return value;\n            }\n        }\n        else if (status) {\n            status.get = 'miss';\n        }\n    }\n    #connect(p, n) {\n        this.#prev[n] = p;\n        this.#next[p] = n;\n    }\n    #moveToTail(index) {\n        // if tail already, nothing to do\n        // if head, move head to next[index]\n        // else\n        //   move next[prev[index]] to next[index] (head has no prev)\n        //   move prev[next[index]] to prev[index]\n        // prev[index] = tail\n        // next[tail] = index\n        // tail = index\n        if (index !== this.#tail) {\n            if (index === this.#head) {\n                this.#head = this.#next[index];\n            }\n            else {\n                this.#connect(this.#prev[index], this.#next[index]);\n            }\n            this.#connect(this.#tail, index);\n            this.#tail = index;\n        }\n    }\n    /**\n     * Deletes a key out of the cache.\n     *\n     * Returns true if the key was deleted, false otherwise.\n     */\n    delete(k) {\n        return this.#delete(k, 'delete');\n    }\n    #delete(k, reason) {\n        let deleted = false;\n        if (this.#size !== 0) {\n            const index = this.#keyMap.get(k);\n            if (index !== undefined) {\n                deleted = true;\n                if (this.#size === 1) {\n                    this.#clear(reason);\n                }\n                else {\n                    this.#removeItemSize(index);\n                    const v = this.#valList[index];\n                    if (this.#isBackgroundFetch(v)) {\n                        v.__abortController.abort(new Error('deleted'));\n                    }\n                    else if (this.#hasDispose || this.#hasDisposeAfter) {\n                        if (this.#hasDispose) {\n                            this.#dispose?.(v, k, reason);\n                        }\n                        if (this.#hasDisposeAfter) {\n                            this.#disposed?.push([v, k, reason]);\n                        }\n                    }\n                    this.#keyMap.delete(k);\n                    this.#keyList[index] = undefined;\n                    this.#valList[index] = undefined;\n                    if (index === this.#tail) {\n                        this.#tail = this.#prev[index];\n                    }\n                    else if (index === this.#head) {\n                        this.#head = this.#next[index];\n                    }\n                    else {\n                        const pi = this.#prev[index];\n                        this.#next[pi] = this.#next[index];\n                        const ni = this.#next[index];\n                        this.#prev[ni] = this.#prev[index];\n                    }\n                    this.#size--;\n                    this.#free.push(index);\n                }\n            }\n        }\n        if (this.#hasDisposeAfter && this.#disposed?.length) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n        return deleted;\n    }\n    /**\n     * Clear the cache entirely, throwing away all values.\n     */\n    clear() {\n        return this.#clear('delete');\n    }\n    #clear(reason) {\n        for (const index of this.#rindexes({ allowStale: true })) {\n            const v = this.#valList[index];\n            if (this.#isBackgroundFetch(v)) {\n                v.__abortController.abort(new Error('deleted'));\n            }\n            else {\n                const k = this.#keyList[index];\n                if (this.#hasDispose) {\n                    this.#dispose?.(v, k, reason);\n                }\n                if (this.#hasDisposeAfter) {\n                    this.#disposed?.push([v, k, reason]);\n                }\n            }\n        }\n        this.#keyMap.clear();\n        this.#valList.fill(undefined);\n        this.#keyList.fill(undefined);\n        if (this.#ttls && this.#starts) {\n            this.#ttls.fill(0);\n            this.#starts.fill(0);\n        }\n        if (this.#sizes) {\n            this.#sizes.fill(0);\n        }\n        this.#head = 0;\n        this.#tail = 0;\n        this.#free.length = 0;\n        this.#calculatedSize = 0;\n        this.#size = 0;\n        if (this.#hasDisposeAfter && this.#disposed) {\n            const dt = this.#disposed;\n            let task;\n            while ((task = dt?.shift())) {\n                this.#disposeAfter?.(...task);\n            }\n        }\n    }\n}\n//# sourceMappingURL=index.js.map","const proc = typeof process === 'object' && process\n    ? process\n    : {\n        stdout: null,\n        stderr: null,\n    };\nimport { EventEmitter } from 'node:events';\nimport Stream from 'node:stream';\nimport { StringDecoder } from 'node:string_decoder';\n/**\n * Return true if the argument is a Minipass stream, Node stream, or something\n * else that Minipass can interact with.\n */\nexport const isStream = (s) => !!s &&\n    typeof s === 'object' &&\n    (s instanceof Minipass ||\n        s instanceof Stream ||\n        isReadable(s) ||\n        isWritable(s));\n/**\n * Return true if the argument is a valid {@link Minipass.Readable}\n */\nexport const isReadable = (s) => !!s &&\n    typeof s === 'object' &&\n    s instanceof EventEmitter &&\n    typeof s.pipe === 'function' &&\n    // node core Writable streams have a pipe() method, but it throws\n    s.pipe !== Stream.Writable.prototype.pipe;\n/**\n * Return true if the argument is a valid {@link Minipass.Writable}\n */\nexport const isWritable = (s) => !!s &&\n    typeof s === 'object' &&\n    s instanceof EventEmitter &&\n    typeof s.write === 'function' &&\n    typeof s.end === 'function';\nconst EOF = Symbol('EOF');\nconst MAYBE_EMIT_END = Symbol('maybeEmitEnd');\nconst EMITTED_END = Symbol('emittedEnd');\nconst EMITTING_END = Symbol('emittingEnd');\nconst EMITTED_ERROR = Symbol('emittedError');\nconst CLOSED = Symbol('closed');\nconst READ = Symbol('read');\nconst FLUSH = Symbol('flush');\nconst FLUSHCHUNK = Symbol('flushChunk');\nconst ENCODING = Symbol('encoding');\nconst DECODER = Symbol('decoder');\nconst FLOWING = Symbol('flowing');\nconst PAUSED = Symbol('paused');\nconst RESUME = Symbol('resume');\nconst BUFFER = Symbol('buffer');\nconst PIPES = Symbol('pipes');\nconst BUFFERLENGTH = Symbol('bufferLength');\nconst BUFFERPUSH = Symbol('bufferPush');\nconst BUFFERSHIFT = Symbol('bufferShift');\nconst OBJECTMODE = Symbol('objectMode');\n// internal event when stream is destroyed\nconst DESTROYED = Symbol('destroyed');\n// internal event when stream has an error\nconst ERROR = Symbol('error');\nconst EMITDATA = Symbol('emitData');\nconst EMITEND = Symbol('emitEnd');\nconst EMITEND2 = Symbol('emitEnd2');\nconst ASYNC = Symbol('async');\nconst ABORT = Symbol('abort');\nconst ABORTED = Symbol('aborted');\nconst SIGNAL = Symbol('signal');\nconst DATALISTENERS = Symbol('dataListeners');\nconst DISCARDED = Symbol('discarded');\nconst defer = (fn) => Promise.resolve().then(fn);\nconst nodefer = (fn) => fn();\nconst isEndish = (ev) => ev === 'end' || ev === 'finish' || ev === 'prefinish';\nconst isArrayBufferLike = (b) => b instanceof ArrayBuffer ||\n    (!!b &&\n        typeof b === 'object' &&\n        b.constructor &&\n        b.constructor.name === 'ArrayBuffer' &&\n        b.byteLength >= 0);\nconst isArrayBufferView = (b) => !Buffer.isBuffer(b) && ArrayBuffer.isView(b);\n/**\n * Internal class representing a pipe to a destination stream.\n *\n * @internal\n */\nclass Pipe {\n    src;\n    dest;\n    opts;\n    ondrain;\n    constructor(src, dest, opts) {\n        this.src = src;\n        this.dest = dest;\n        this.opts = opts;\n        this.ondrain = () => src[RESUME]();\n        this.dest.on('drain', this.ondrain);\n    }\n    unpipe() {\n        this.dest.removeListener('drain', this.ondrain);\n    }\n    // only here for the prototype\n    /* c8 ignore start */\n    proxyErrors(_er) { }\n    /* c8 ignore stop */\n    end() {\n        this.unpipe();\n        if (this.opts.end)\n            this.dest.end();\n    }\n}\n/**\n * Internal class representing a pipe to a destination stream where\n * errors are proxied.\n *\n * @internal\n */\nclass PipeProxyErrors extends Pipe {\n    unpipe() {\n        this.src.removeListener('error', this.proxyErrors);\n        super.unpipe();\n    }\n    constructor(src, dest, opts) {\n        super(src, dest, opts);\n        this.proxyErrors = er => dest.emit('error', er);\n        src.on('error', this.proxyErrors);\n    }\n}\nconst isObjectModeOptions = (o) => !!o.objectMode;\nconst isEncodingOptions = (o) => !o.objectMode && !!o.encoding && o.encoding !== 'buffer';\n/**\n * Main export, the Minipass class\n *\n * `RType` is the type of data emitted, defaults to Buffer\n *\n * `WType` is the type of data to be written, if RType is buffer or string,\n * then any {@link Minipass.ContiguousData} is allowed.\n *\n * `Events` is the set of event handler signatures that this object\n * will emit, see {@link Minipass.Events}\n */\nexport class Minipass extends EventEmitter {\n    [FLOWING] = false;\n    [PAUSED] = false;\n    [PIPES] = [];\n    [BUFFER] = [];\n    [OBJECTMODE];\n    [ENCODING];\n    [ASYNC];\n    [DECODER];\n    [EOF] = false;\n    [EMITTED_END] = false;\n    [EMITTING_END] = false;\n    [CLOSED] = false;\n    [EMITTED_ERROR] = null;\n    [BUFFERLENGTH] = 0;\n    [DESTROYED] = false;\n    [SIGNAL];\n    [ABORTED] = false;\n    [DATALISTENERS] = 0;\n    [DISCARDED] = false;\n    /**\n     * true if the stream can be written\n     */\n    writable = true;\n    /**\n     * true if the stream can be read\n     */\n    readable = true;\n    /**\n     * If `RType` is Buffer, then options do not need to be provided.\n     * Otherwise, an options object must be provided to specify either\n     * {@link Minipass.SharedOptions.objectMode} or\n     * {@link Minipass.SharedOptions.encoding}, as appropriate.\n     */\n    constructor(...args) {\n        const options = (args[0] ||\n            {});\n        super();\n        if (options.objectMode && typeof options.encoding === 'string') {\n            throw new TypeError('Encoding and objectMode may not be used together');\n        }\n        if (isObjectModeOptions(options)) {\n            this[OBJECTMODE] = true;\n            this[ENCODING] = null;\n        }\n        else if (isEncodingOptions(options)) {\n            this[ENCODING] = options.encoding;\n            this[OBJECTMODE] = false;\n        }\n        else {\n            this[OBJECTMODE] = false;\n            this[ENCODING] = null;\n        }\n        this[ASYNC] = !!options.async;\n        this[DECODER] = this[ENCODING]\n            ? new StringDecoder(this[ENCODING])\n            : null;\n        //@ts-ignore - private option for debugging and testing\n        if (options && options.debugExposeBuffer === true) {\n            Object.defineProperty(this, 'buffer', { get: () => this[BUFFER] });\n        }\n        //@ts-ignore - private option for debugging and testing\n        if (options && options.debugExposePipes === true) {\n            Object.defineProperty(this, 'pipes', { get: () => this[PIPES] });\n        }\n        const { signal } = options;\n        if (signal) {\n            this[SIGNAL] = signal;\n            if (signal.aborted) {\n                this[ABORT]();\n            }\n            else {\n                signal.addEventListener('abort', () => this[ABORT]());\n            }\n        }\n    }\n    /**\n     * The amount of data stored in the buffer waiting to be read.\n     *\n     * For Buffer strings, this will be the total byte length.\n     * For string encoding streams, this will be the string character length,\n     * according to JavaScript's `string.length` logic.\n     * For objectMode streams, this is a count of the items waiting to be\n     * emitted.\n     */\n    get bufferLength() {\n        return this[BUFFERLENGTH];\n    }\n    /**\n     * The `BufferEncoding` currently in use, or `null`\n     */\n    get encoding() {\n        return this[ENCODING];\n    }\n    /**\n     * @deprecated - This is a read only property\n     */\n    set encoding(_enc) {\n        throw new Error('Encoding must be set at instantiation time');\n    }\n    /**\n     * @deprecated - Encoding may only be set at instantiation time\n     */\n    setEncoding(_enc) {\n        throw new Error('Encoding must be set at instantiation time');\n    }\n    /**\n     * True if this is an objectMode stream\n     */\n    get objectMode() {\n        return this[OBJECTMODE];\n    }\n    /**\n     * @deprecated - This is a read-only property\n     */\n    set objectMode(_om) {\n        throw new Error('objectMode must be set at instantiation time');\n    }\n    /**\n     * true if this is an async stream\n     */\n    get ['async']() {\n        return this[ASYNC];\n    }\n    /**\n     * Set to true to make this stream async.\n     *\n     * Once set, it cannot be unset, as this would potentially cause incorrect\n     * behavior.  Ie, a sync stream can be made async, but an async stream\n     * cannot be safely made sync.\n     */\n    set ['async'](a) {\n        this[ASYNC] = this[ASYNC] || !!a;\n    }\n    // drop everything and get out of the flow completely\n    [ABORT]() {\n        this[ABORTED] = true;\n        this.emit('abort', this[SIGNAL]?.reason);\n        this.destroy(this[SIGNAL]?.reason);\n    }\n    /**\n     * True if the stream has been aborted.\n     */\n    get aborted() {\n        return this[ABORTED];\n    }\n    /**\n     * No-op setter. Stream aborted status is set via the AbortSignal provided\n     * in the constructor options.\n     */\n    set aborted(_) { }\n    write(chunk, encoding, cb) {\n        if (this[ABORTED])\n            return false;\n        if (this[EOF])\n            throw new Error('write after end');\n        if (this[DESTROYED]) {\n            this.emit('error', Object.assign(new Error('Cannot call write after a stream was destroyed'), { code: 'ERR_STREAM_DESTROYED' }));\n            return true;\n        }\n        if (typeof encoding === 'function') {\n            cb = encoding;\n            encoding = 'utf8';\n        }\n        if (!encoding)\n            encoding = 'utf8';\n        const fn = this[ASYNC] ? defer : nodefer;\n        // convert array buffers and typed array views into buffers\n        // at some point in the future, we may want to do the opposite!\n        // leave strings and buffers as-is\n        // anything is only allowed if in object mode, so throw\n        if (!this[OBJECTMODE] && !Buffer.isBuffer(chunk)) {\n            if (isArrayBufferView(chunk)) {\n                //@ts-ignore - sinful unsafe type changing\n                chunk = Buffer.from(chunk.buffer, chunk.byteOffset, chunk.byteLength);\n            }\n            else if (isArrayBufferLike(chunk)) {\n                //@ts-ignore - sinful unsafe type changing\n                chunk = Buffer.from(chunk);\n            }\n            else if (typeof chunk !== 'string') {\n                throw new Error('Non-contiguous data written to non-objectMode stream');\n            }\n        }\n        // handle object mode up front, since it's simpler\n        // this yields better performance, fewer checks later.\n        if (this[OBJECTMODE]) {\n            // maybe impossible?\n            /* c8 ignore start */\n            if (this[FLOWING] && this[BUFFERLENGTH] !== 0)\n                this[FLUSH](true);\n            /* c8 ignore stop */\n            if (this[FLOWING])\n                this.emit('data', chunk);\n            else\n                this[BUFFERPUSH](chunk);\n            if (this[BUFFERLENGTH] !== 0)\n                this.emit('readable');\n            if (cb)\n                fn(cb);\n            return this[FLOWING];\n        }\n        // at this point the chunk is a buffer or string\n        // don't buffer it up or send it to the decoder\n        if (!chunk.length) {\n            if (this[BUFFERLENGTH] !== 0)\n                this.emit('readable');\n            if (cb)\n                fn(cb);\n            return this[FLOWING];\n        }\n        // fast-path writing strings of same encoding to a stream with\n        // an empty buffer, skipping the buffer/decoder dance\n        if (typeof chunk === 'string' &&\n            // unless it is a string already ready for us to use\n            !(encoding === this[ENCODING] && !this[DECODER]?.lastNeed)) {\n            //@ts-ignore - sinful unsafe type change\n            chunk = Buffer.from(chunk, encoding);\n        }\n        if (Buffer.isBuffer(chunk) && this[ENCODING]) {\n            //@ts-ignore - sinful unsafe type change\n            chunk = this[DECODER].write(chunk);\n        }\n        // Note: flushing CAN potentially switch us into not-flowing mode\n        if (this[FLOWING] && this[BUFFERLENGTH] !== 0)\n            this[FLUSH](true);\n        if (this[FLOWING])\n            this.emit('data', chunk);\n        else\n            this[BUFFERPUSH](chunk);\n        if (this[BUFFERLENGTH] !== 0)\n            this.emit('readable');\n        if (cb)\n            fn(cb);\n        return this[FLOWING];\n    }\n    /**\n     * Low-level explicit read method.\n     *\n     * In objectMode, the argument is ignored, and one item is returned if\n     * available.\n     *\n     * `n` is the number of bytes (or in the case of encoding streams,\n     * characters) to consume. If `n` is not provided, then the entire buffer\n     * is returned, or `null` is returned if no data is available.\n     *\n     * If `n` is greater that the amount of data in the internal buffer,\n     * then `null` is returned.\n     */\n    read(n) {\n        if (this[DESTROYED])\n            return null;\n        this[DISCARDED] = false;\n        if (this[BUFFERLENGTH] === 0 ||\n            n === 0 ||\n            (n && n > this[BUFFERLENGTH])) {\n            this[MAYBE_EMIT_END]();\n            return null;\n        }\n        if (this[OBJECTMODE])\n            n = null;\n        if (this[BUFFER].length > 1 && !this[OBJECTMODE]) {\n            // not object mode, so if we have an encoding, then RType is string\n            // otherwise, must be Buffer\n            this[BUFFER] = [\n                (this[ENCODING]\n                    ? this[BUFFER].join('')\n                    : Buffer.concat(this[BUFFER], this[BUFFERLENGTH])),\n            ];\n        }\n        const ret = this[READ](n || null, this[BUFFER][0]);\n        this[MAYBE_EMIT_END]();\n        return ret;\n    }\n    [READ](n, chunk) {\n        if (this[OBJECTMODE])\n            this[BUFFERSHIFT]();\n        else {\n            const c = chunk;\n            if (n === c.length || n === null)\n                this[BUFFERSHIFT]();\n            else if (typeof c === 'string') {\n                this[BUFFER][0] = c.slice(n);\n                chunk = c.slice(0, n);\n                this[BUFFERLENGTH] -= n;\n            }\n            else {\n                this[BUFFER][0] = c.subarray(n);\n                chunk = c.subarray(0, n);\n                this[BUFFERLENGTH] -= n;\n            }\n        }\n        this.emit('data', chunk);\n        if (!this[BUFFER].length && !this[EOF])\n            this.emit('drain');\n        return chunk;\n    }\n    end(chunk, encoding, cb) {\n        if (typeof chunk === 'function') {\n            cb = chunk;\n            chunk = undefined;\n        }\n        if (typeof encoding === 'function') {\n            cb = encoding;\n            encoding = 'utf8';\n        }\n        if (chunk !== undefined)\n            this.write(chunk, encoding);\n        if (cb)\n            this.once('end', cb);\n        this[EOF] = true;\n        this.writable = false;\n        // if we haven't written anything, then go ahead and emit,\n        // even if we're not reading.\n        // we'll re-emit if a new 'end' listener is added anyway.\n        // This makes MP more suitable to write-only use cases.\n        if (this[FLOWING] || !this[PAUSED])\n            this[MAYBE_EMIT_END]();\n        return this;\n    }\n    // don't let the internal resume be overwritten\n    [RESUME]() {\n        if (this[DESTROYED])\n            return;\n        if (!this[DATALISTENERS] && !this[PIPES].length) {\n            this[DISCARDED] = true;\n        }\n        this[PAUSED] = false;\n        this[FLOWING] = true;\n        this.emit('resume');\n        if (this[BUFFER].length)\n            this[FLUSH]();\n        else if (this[EOF])\n            this[MAYBE_EMIT_END]();\n        else\n            this.emit('drain');\n    }\n    /**\n     * Resume the stream if it is currently in a paused state\n     *\n     * If called when there are no pipe destinations or `data` event listeners,\n     * this will place the stream in a \"discarded\" state, where all data will\n     * be thrown away. The discarded state is removed if a pipe destination or\n     * data handler is added, if pause() is called, or if any synchronous or\n     * asynchronous iteration is started.\n     */\n    resume() {\n        return this[RESUME]();\n    }\n    /**\n     * Pause the stream\n     */\n    pause() {\n        this[FLOWING] = false;\n        this[PAUSED] = true;\n        this[DISCARDED] = false;\n    }\n    /**\n     * true if the stream has been forcibly destroyed\n     */\n    get destroyed() {\n        return this[DESTROYED];\n    }\n    /**\n     * true if the stream is currently in a flowing state, meaning that\n     * any writes will be immediately emitted.\n     */\n    get flowing() {\n        return this[FLOWING];\n    }\n    /**\n     * true if the stream is currently in a paused state\n     */\n    get paused() {\n        return this[PAUSED];\n    }\n    [BUFFERPUSH](chunk) {\n        if (this[OBJECTMODE])\n            this[BUFFERLENGTH] += 1;\n        else\n            this[BUFFERLENGTH] += chunk.length;\n        this[BUFFER].push(chunk);\n    }\n    [BUFFERSHIFT]() {\n        if (this[OBJECTMODE])\n            this[BUFFERLENGTH] -= 1;\n        else\n            this[BUFFERLENGTH] -= this[BUFFER][0].length;\n        return this[BUFFER].shift();\n    }\n    [FLUSH](noDrain = false) {\n        do { } while (this[FLUSHCHUNK](this[BUFFERSHIFT]()) &&\n            this[BUFFER].length);\n        if (!noDrain && !this[BUFFER].length && !this[EOF])\n            this.emit('drain');\n    }\n    [FLUSHCHUNK](chunk) {\n        this.emit('data', chunk);\n        return this[FLOWING];\n    }\n    /**\n     * Pipe all data emitted by this stream into the destination provided.\n     *\n     * Triggers the flow of data.\n     */\n    pipe(dest, opts) {\n        if (this[DESTROYED])\n            return dest;\n        this[DISCARDED] = false;\n        const ended = this[EMITTED_END];\n        opts = opts || {};\n        if (dest === proc.stdout || dest === proc.stderr)\n            opts.end = false;\n        else\n            opts.end = opts.end !== false;\n        opts.proxyErrors = !!opts.proxyErrors;\n        // piping an ended stream ends immediately\n        if (ended) {\n            if (opts.end)\n                dest.end();\n        }\n        else {\n            // \"as\" here just ignores the WType, which pipes don't care about,\n            // since they're only consuming from us, and writing to the dest\n            this[PIPES].push(!opts.proxyErrors\n                ? new Pipe(this, dest, opts)\n                : new PipeProxyErrors(this, dest, opts));\n            if (this[ASYNC])\n                defer(() => this[RESUME]());\n            else\n                this[RESUME]();\n        }\n        return dest;\n    }\n    /**\n     * Fully unhook a piped destination stream.\n     *\n     * If the destination stream was the only consumer of this stream (ie,\n     * there are no other piped destinations or `'data'` event listeners)\n     * then the flow of data will stop until there is another consumer or\n     * {@link Minipass#resume} is explicitly called.\n     */\n    unpipe(dest) {\n        const p = this[PIPES].find(p => p.dest === dest);\n        if (p) {\n            if (this[PIPES].length === 1) {\n                if (this[FLOWING] && this[DATALISTENERS] === 0) {\n                    this[FLOWING] = false;\n                }\n                this[PIPES] = [];\n            }\n            else\n                this[PIPES].splice(this[PIPES].indexOf(p), 1);\n            p.unpipe();\n        }\n    }\n    /**\n     * Alias for {@link Minipass#on}\n     */\n    addListener(ev, handler) {\n        return this.on(ev, handler);\n    }\n    /**\n     * Mostly identical to `EventEmitter.on`, with the following\n     * behavior differences to prevent data loss and unnecessary hangs:\n     *\n     * - Adding a 'data' event handler will trigger the flow of data\n     *\n     * - Adding a 'readable' event handler when there is data waiting to be read\n     *   will cause 'readable' to be emitted immediately.\n     *\n     * - Adding an 'endish' event handler ('end', 'finish', etc.) which has\n     *   already passed will cause the event to be emitted immediately and all\n     *   handlers removed.\n     *\n     * - Adding an 'error' event handler after an error has been emitted will\n     *   cause the event to be re-emitted immediately with the error previously\n     *   raised.\n     */\n    on(ev, handler) {\n        const ret = super.on(ev, handler);\n        if (ev === 'data') {\n            this[DISCARDED] = false;\n            this[DATALISTENERS]++;\n            if (!this[PIPES].length && !this[FLOWING]) {\n                this[RESUME]();\n            }\n        }\n        else if (ev === 'readable' && this[BUFFERLENGTH] !== 0) {\n            super.emit('readable');\n        }\n        else if (isEndish(ev) && this[EMITTED_END]) {\n            super.emit(ev);\n            this.removeAllListeners(ev);\n        }\n        else if (ev === 'error' && this[EMITTED_ERROR]) {\n            const h = handler;\n            if (this[ASYNC])\n                defer(() => h.call(this, this[EMITTED_ERROR]));\n            else\n                h.call(this, this[EMITTED_ERROR]);\n        }\n        return ret;\n    }\n    /**\n     * Alias for {@link Minipass#off}\n     */\n    removeListener(ev, handler) {\n        return this.off(ev, handler);\n    }\n    /**\n     * Mostly identical to `EventEmitter.off`\n     *\n     * If a 'data' event handler is removed, and it was the last consumer\n     * (ie, there are no pipe destinations or other 'data' event listeners),\n     * then the flow of data will stop until there is another consumer or\n     * {@link Minipass#resume} is explicitly called.\n     */\n    off(ev, handler) {\n        const ret = super.off(ev, handler);\n        // if we previously had listeners, and now we don't, and we don't\n        // have any pipes, then stop the flow, unless it's been explicitly\n        // put in a discarded flowing state via stream.resume().\n        if (ev === 'data') {\n            this[DATALISTENERS] = this.listeners('data').length;\n            if (this[DATALISTENERS] === 0 &&\n                !this[DISCARDED] &&\n                !this[PIPES].length) {\n                this[FLOWING] = false;\n            }\n        }\n        return ret;\n    }\n    /**\n     * Mostly identical to `EventEmitter.removeAllListeners`\n     *\n     * If all 'data' event handlers are removed, and they were the last consumer\n     * (ie, there are no pipe destinations), then the flow of data will stop\n     * until there is another consumer or {@link Minipass#resume} is explicitly\n     * called.\n     */\n    removeAllListeners(ev) {\n        const ret = super.removeAllListeners(ev);\n        if (ev === 'data' || ev === undefined) {\n            this[DATALISTENERS] = 0;\n            if (!this[DISCARDED] && !this[PIPES].length) {\n                this[FLOWING] = false;\n            }\n        }\n        return ret;\n    }\n    /**\n     * true if the 'end' event has been emitted\n     */\n    get emittedEnd() {\n        return this[EMITTED_END];\n    }\n    [MAYBE_EMIT_END]() {\n        if (!this[EMITTING_END] &&\n            !this[EMITTED_END] &&\n            !this[DESTROYED] &&\n            this[BUFFER].length === 0 &&\n            this[EOF]) {\n            this[EMITTING_END] = true;\n            this.emit('end');\n            this.emit('prefinish');\n            this.emit('finish');\n            if (this[CLOSED])\n                this.emit('close');\n            this[EMITTING_END] = false;\n        }\n    }\n    /**\n     * Mostly identical to `EventEmitter.emit`, with the following\n     * behavior differences to prevent data loss and unnecessary hangs:\n     *\n     * If the stream has been destroyed, and the event is something other\n     * than 'close' or 'error', then `false` is returned and no handlers\n     * are called.\n     *\n     * If the event is 'end', and has already been emitted, then the event\n     * is ignored. If the stream is in a paused or non-flowing state, then\n     * the event will be deferred until data flow resumes. If the stream is\n     * async, then handlers will be called on the next tick rather than\n     * immediately.\n     *\n     * If the event is 'close', and 'end' has not yet been emitted, then\n     * the event will be deferred until after 'end' is emitted.\n     *\n     * If the event is 'error', and an AbortSignal was provided for the stream,\n     * and there are no listeners, then the event is ignored, matching the\n     * behavior of node core streams in the presense of an AbortSignal.\n     *\n     * If the event is 'finish' or 'prefinish', then all listeners will be\n     * removed after emitting the event, to prevent double-firing.\n     */\n    emit(ev, ...args) {\n        const data = args[0];\n        // error and close are only events allowed after calling destroy()\n        if (ev !== 'error' &&\n            ev !== 'close' &&\n            ev !== DESTROYED &&\n            this[DESTROYED]) {\n            return false;\n        }\n        else if (ev === 'data') {\n            return !this[OBJECTMODE] && !data\n                ? false\n                : this[ASYNC]\n                    ? (defer(() => this[EMITDATA](data)), true)\n                    : this[EMITDATA](data);\n        }\n        else if (ev === 'end') {\n            return this[EMITEND]();\n        }\n        else if (ev === 'close') {\n            this[CLOSED] = true;\n            // don't emit close before 'end' and 'finish'\n            if (!this[EMITTED_END] && !this[DESTROYED])\n                return false;\n            const ret = super.emit('close');\n            this.removeAllListeners('close');\n            return ret;\n        }\n        else if (ev === 'error') {\n            this[EMITTED_ERROR] = data;\n            super.emit(ERROR, data);\n            const ret = !this[SIGNAL] || this.listeners('error').length\n                ? super.emit('error', data)\n                : false;\n            this[MAYBE_EMIT_END]();\n            return ret;\n        }\n        else if (ev === 'resume') {\n            const ret = super.emit('resume');\n            this[MAYBE_EMIT_END]();\n            return ret;\n        }\n        else if (ev === 'finish' || ev === 'prefinish') {\n            const ret = super.emit(ev);\n            this.removeAllListeners(ev);\n            return ret;\n        }\n        // Some other unknown event\n        const ret = super.emit(ev, ...args);\n        this[MAYBE_EMIT_END]();\n        return ret;\n    }\n    [EMITDATA](data) {\n        for (const p of this[PIPES]) {\n            if (p.dest.write(data) === false)\n                this.pause();\n        }\n        const ret = this[DISCARDED] ? false : super.emit('data', data);\n        this[MAYBE_EMIT_END]();\n        return ret;\n    }\n    [EMITEND]() {\n        if (this[EMITTED_END])\n            return false;\n        this[EMITTED_END] = true;\n        this.readable = false;\n        return this[ASYNC]\n            ? (defer(() => this[EMITEND2]()), true)\n            : this[EMITEND2]();\n    }\n    [EMITEND2]() {\n        if (this[DECODER]) {\n            const data = this[DECODER].end();\n            if (data) {\n                for (const p of this[PIPES]) {\n                    p.dest.write(data);\n                }\n                if (!this[DISCARDED])\n                    super.emit('data', data);\n            }\n        }\n        for (const p of this[PIPES]) {\n            p.end();\n        }\n        const ret = super.emit('end');\n        this.removeAllListeners('end');\n        return ret;\n    }\n    /**\n     * Return a Promise that resolves to an array of all emitted data once\n     * the stream ends.\n     */\n    async collect() {\n        const buf = Object.assign([], {\n            dataLength: 0,\n        });\n        if (!this[OBJECTMODE])\n            buf.dataLength = 0;\n        // set the promise first, in case an error is raised\n        // by triggering the flow here.\n        const p = this.promise();\n        this.on('data', c => {\n            buf.push(c);\n            if (!this[OBJECTMODE])\n                buf.dataLength += c.length;\n        });\n        await p;\n        return buf;\n    }\n    /**\n     * Return a Promise that resolves to the concatenation of all emitted data\n     * once the stream ends.\n     *\n     * Not allowed on objectMode streams.\n     */\n    async concat() {\n        if (this[OBJECTMODE]) {\n            throw new Error('cannot concat in objectMode');\n        }\n        const buf = await this.collect();\n        return (this[ENCODING]\n            ? buf.join('')\n            : Buffer.concat(buf, buf.dataLength));\n    }\n    /**\n     * Return a void Promise that resolves once the stream ends.\n     */\n    async promise() {\n        return new Promise((resolve, reject) => {\n            this.on(DESTROYED, () => reject(new Error('stream destroyed')));\n            this.on('error', er => reject(er));\n            this.on('end', () => resolve());\n        });\n    }\n    /**\n     * Asynchronous `for await of` iteration.\n     *\n     * This will continue emitting all chunks until the stream terminates.\n     */\n    [Symbol.asyncIterator]() {\n        // set this up front, in case the consumer doesn't call next()\n        // right away.\n        this[DISCARDED] = false;\n        let stopped = false;\n        const stop = async () => {\n            this.pause();\n            stopped = true;\n            return { value: undefined, done: true };\n        };\n        const next = () => {\n            if (stopped)\n                return stop();\n            const res = this.read();\n            if (res !== null)\n                return Promise.resolve({ done: false, value: res });\n            if (this[EOF])\n                return stop();\n            let resolve;\n            let reject;\n            const onerr = (er) => {\n                this.off('data', ondata);\n                this.off('end', onend);\n                this.off(DESTROYED, ondestroy);\n                stop();\n                reject(er);\n            };\n            const ondata = (value) => {\n                this.off('error', onerr);\n                this.off('end', onend);\n                this.off(DESTROYED, ondestroy);\n                this.pause();\n                resolve({ value, done: !!this[EOF] });\n            };\n            const onend = () => {\n                this.off('error', onerr);\n                this.off('data', ondata);\n                this.off(DESTROYED, ondestroy);\n                stop();\n                resolve({ done: true, value: undefined });\n            };\n            const ondestroy = () => onerr(new Error('stream destroyed'));\n            return new Promise((res, rej) => {\n                reject = rej;\n                resolve = res;\n                this.once(DESTROYED, ondestroy);\n                this.once('error', onerr);\n                this.once('end', onend);\n                this.once('data', ondata);\n            });\n        };\n        return {\n            next,\n            throw: stop,\n            return: stop,\n            [Symbol.asyncIterator]() {\n                return this;\n            },\n        };\n    }\n    /**\n     * Synchronous `for of` iteration.\n     *\n     * The iteration will terminate when the internal buffer runs out, even\n     * if the stream has not yet terminated.\n     */\n    [Symbol.iterator]() {\n        // set this up front, in case the consumer doesn't call next()\n        // right away.\n        this[DISCARDED] = false;\n        let stopped = false;\n        const stop = () => {\n            this.pause();\n            this.off(ERROR, stop);\n            this.off(DESTROYED, stop);\n            this.off('end', stop);\n            stopped = true;\n            return { done: true, value: undefined };\n        };\n        const next = () => {\n            if (stopped)\n                return stop();\n            const value = this.read();\n            return value === null ? stop() : { done: false, value };\n        };\n        this.once('end', stop);\n        this.once(ERROR, stop);\n        this.once(DESTROYED, stop);\n        return {\n            next,\n            throw: stop,\n            return: stop,\n            [Symbol.iterator]() {\n                return this;\n            },\n        };\n    }\n    /**\n     * Destroy a stream, preventing it from being used for any further purpose.\n     *\n     * If the stream has a `close()` method, then it will be called on\n     * destruction.\n     *\n     * After destruction, any attempt to write data, read data, or emit most\n     * events will be ignored.\n     *\n     * If an error argument is provided, then it will be emitted in an\n     * 'error' event.\n     */\n    destroy(er) {\n        if (this[DESTROYED]) {\n            if (er)\n                this.emit('error', er);\n            else\n                this.emit(DESTROYED);\n            return this;\n        }\n        this[DESTROYED] = true;\n        this[DISCARDED] = true;\n        // throw away all buffered data, it's never coming out\n        this[BUFFER].length = 0;\n        this[BUFFERLENGTH] = 0;\n        const wc = this;\n        if (typeof wc.close === 'function' && !this[CLOSED])\n            wc.close();\n        if (er)\n            this.emit('error', er);\n        // if no error to emit, still reject pending promises\n        else\n            this.emit(DESTROYED);\n        return this;\n    }\n    /**\n     * Alias for {@link isStream}\n     *\n     * Former export location, maintained for backwards compatibility.\n     *\n     * @deprecated\n     */\n    static get isStream() {\n        return isStream;\n    }\n}\n//# sourceMappingURL=index.js.map","import { LRUCache } from 'lru-cache';\nimport { posix, win32 } from 'node:path';\nimport { fileURLToPath } from 'node:url';\nimport { lstatSync, readdir as readdirCB, readdirSync, readlinkSync, realpathSync as rps, } from 'fs';\nimport * as actualFS from 'node:fs';\nconst realpathSync = rps.native;\n// TODO: test perf of fs/promises realpath vs realpathCB,\n// since the promises one uses realpath.native\nimport { lstat, readdir, readlink, realpath } from 'node:fs/promises';\nimport { Minipass } from 'minipass';\nconst defaultFS = {\n    lstatSync,\n    readdir: readdirCB,\n    readdirSync,\n    readlinkSync,\n    realpathSync,\n    promises: {\n        lstat,\n        readdir,\n        readlink,\n        realpath,\n    },\n};\n// if they just gave us require('fs') then use our default\nconst fsFromOption = (fsOption) => !fsOption || fsOption === defaultFS || fsOption === actualFS ?\n    defaultFS\n    : {\n        ...defaultFS,\n        ...fsOption,\n        promises: {\n            ...defaultFS.promises,\n            ...(fsOption.promises || {}),\n        },\n    };\n// turn something like //?/c:/ into c:\\\nconst uncDriveRegexp = /^\\\\\\\\\\?\\\\([a-z]:)\\\\?$/i;\nconst uncToDrive = (rootPath) => rootPath.replace(/\\//g, '\\\\').replace(uncDriveRegexp, '$1\\\\');\n// windows paths are separated by either / or \\\nconst eitherSep = /[\\\\\\/]/;\nconst UNKNOWN = 0; // may not even exist, for all we know\nconst IFIFO = 0b0001;\nconst IFCHR = 0b0010;\nconst IFDIR = 0b0100;\nconst IFBLK = 0b0110;\nconst IFREG = 0b1000;\nconst IFLNK = 0b1010;\nconst IFSOCK = 0b1100;\nconst IFMT = 0b1111;\n// mask to unset low 4 bits\nconst IFMT_UNKNOWN = ~IFMT;\n// set after successfully calling readdir() and getting entries.\nconst READDIR_CALLED = 0b0000_0001_0000;\n// set after a successful lstat()\nconst LSTAT_CALLED = 0b0000_0010_0000;\n// set if an entry (or one of its parents) is definitely not a dir\nconst ENOTDIR = 0b0000_0100_0000;\n// set if an entry (or one of its parents) does not exist\n// (can also be set on lstat errors like EACCES or ENAMETOOLONG)\nconst ENOENT = 0b0000_1000_0000;\n// cannot have child entries -- also verify &IFMT is either IFDIR or IFLNK\n// set if we fail to readlink\nconst ENOREADLINK = 0b0001_0000_0000;\n// set if we know realpath() will fail\nconst ENOREALPATH = 0b0010_0000_0000;\nconst ENOCHILD = ENOTDIR | ENOENT | ENOREALPATH;\nconst TYPEMASK = 0b0011_1111_1111;\nconst entToType = (s) => s.isFile() ? IFREG\n    : s.isDirectory() ? IFDIR\n        : s.isSymbolicLink() ? IFLNK\n            : s.isCharacterDevice() ? IFCHR\n                : s.isBlockDevice() ? IFBLK\n                    : s.isSocket() ? IFSOCK\n                        : s.isFIFO() ? IFIFO\n                            : UNKNOWN;\n// normalize unicode path names\nconst normalizeCache = new Map();\nconst normalize = (s) => {\n    const c = normalizeCache.get(s);\n    if (c)\n        return c;\n    const n = s.normalize('NFKD');\n    normalizeCache.set(s, n);\n    return n;\n};\nconst normalizeNocaseCache = new Map();\nconst normalizeNocase = (s) => {\n    const c = normalizeNocaseCache.get(s);\n    if (c)\n        return c;\n    const n = normalize(s.toLowerCase());\n    normalizeNocaseCache.set(s, n);\n    return n;\n};\n/**\n * An LRUCache for storing resolved path strings or Path objects.\n * @internal\n */\nexport class ResolveCache extends LRUCache {\n    constructor() {\n        super({ max: 256 });\n    }\n}\n// In order to prevent blowing out the js heap by allocating hundreds of\n// thousands of Path entries when walking extremely large trees, the \"children\"\n// in this tree are represented by storing an array of Path entries in an\n// LRUCache, indexed by the parent.  At any time, Path.children() may return an\n// empty array, indicating that it doesn't know about any of its children, and\n// thus has to rebuild that cache.  This is fine, it just means that we don't\n// benefit as much from having the cached entries, but huge directory walks\n// don't blow out the stack, and smaller ones are still as fast as possible.\n//\n//It does impose some complexity when building up the readdir data, because we\n//need to pass a reference to the children array that we started with.\n/**\n * an LRUCache for storing child entries.\n * @internal\n */\nexport class ChildrenCache extends LRUCache {\n    constructor(maxSize = 16 * 1024) {\n        super({\n            maxSize,\n            // parent + children\n            sizeCalculation: a => a.length + 1,\n        });\n    }\n}\nconst setAsCwd = Symbol('PathScurry setAsCwd');\n/**\n * Path objects are sort of like a super-powered\n * {@link https://nodejs.org/docs/latest/api/fs.html#class-fsdirent fs.Dirent}\n *\n * Each one represents a single filesystem entry on disk, which may or may not\n * exist. It includes methods for reading various types of information via\n * lstat, readlink, and readdir, and caches all information to the greatest\n * degree possible.\n *\n * Note that fs operations that would normally throw will instead return an\n * \"empty\" value. This is in order to prevent excessive overhead from error\n * stack traces.\n */\nexport class PathBase {\n    /**\n     * the basename of this path\n     *\n     * **Important**: *always* test the path name against any test string\n     * usingthe {@link isNamed} method, and not by directly comparing this\n     * string. Otherwise, unicode path strings that the system sees as identical\n     * will not be properly treated as the same path, leading to incorrect\n     * behavior and possible security issues.\n     */\n    name;\n    /**\n     * the Path entry corresponding to the path root.\n     *\n     * @internal\n     */\n    root;\n    /**\n     * All roots found within the current PathScurry family\n     *\n     * @internal\n     */\n    roots;\n    /**\n     * a reference to the parent path, or undefined in the case of root entries\n     *\n     * @internal\n     */\n    parent;\n    /**\n     * boolean indicating whether paths are compared case-insensitively\n     * @internal\n     */\n    nocase;\n    /**\n     * boolean indicating that this path is the current working directory\n     * of the PathScurry collection that contains it.\n     */\n    isCWD = false;\n    // potential default fs override\n    #fs;\n    // Stats fields\n    #dev;\n    get dev() {\n        return this.#dev;\n    }\n    #mode;\n    get mode() {\n        return this.#mode;\n    }\n    #nlink;\n    get nlink() {\n        return this.#nlink;\n    }\n    #uid;\n    get uid() {\n        return this.#uid;\n    }\n    #gid;\n    get gid() {\n        return this.#gid;\n    }\n    #rdev;\n    get rdev() {\n        return this.#rdev;\n    }\n    #blksize;\n    get blksize() {\n        return this.#blksize;\n    }\n    #ino;\n    get ino() {\n        return this.#ino;\n    }\n    #size;\n    get size() {\n        return this.#size;\n    }\n    #blocks;\n    get blocks() {\n        return this.#blocks;\n    }\n    #atimeMs;\n    get atimeMs() {\n        return this.#atimeMs;\n    }\n    #mtimeMs;\n    get mtimeMs() {\n        return this.#mtimeMs;\n    }\n    #ctimeMs;\n    get ctimeMs() {\n        return this.#ctimeMs;\n    }\n    #birthtimeMs;\n    get birthtimeMs() {\n        return this.#birthtimeMs;\n    }\n    #atime;\n    get atime() {\n        return this.#atime;\n    }\n    #mtime;\n    get mtime() {\n        return this.#mtime;\n    }\n    #ctime;\n    get ctime() {\n        return this.#ctime;\n    }\n    #birthtime;\n    get birthtime() {\n        return this.#birthtime;\n    }\n    #matchName;\n    #depth;\n    #fullpath;\n    #fullpathPosix;\n    #relative;\n    #relativePosix;\n    #type;\n    #children;\n    #linkTarget;\n    #realpath;\n    /**\n     * This property is for compatibility with the Dirent class as of\n     * Node v20, where Dirent['parentPath'] refers to the path of the\n     * directory that was passed to readdir. For root entries, it's the path\n     * to the entry itself.\n     */\n    get parentPath() {\n        return (this.parent || this).fullpath();\n    }\n    /**\n     * Deprecated alias for Dirent['parentPath'] Somewhat counterintuitively,\n     * this property refers to the *parent* path, not the path object itself.\n     *\n     * @deprecated\n     */\n    get path() {\n        return this.parentPath;\n    }\n    /**\n     * Do not create new Path objects directly.  They should always be accessed\n     * via the PathScurry class or other methods on the Path class.\n     *\n     * @internal\n     */\n    constructor(name, type = UNKNOWN, root, roots, nocase, children, opts) {\n        this.name = name;\n        this.#matchName = nocase ? normalizeNocase(name) : normalize(name);\n        this.#type = type & TYPEMASK;\n        this.nocase = nocase;\n        this.roots = roots;\n        this.root = root || this;\n        this.#children = children;\n        this.#fullpath = opts.fullpath;\n        this.#relative = opts.relative;\n        this.#relativePosix = opts.relativePosix;\n        this.parent = opts.parent;\n        if (this.parent) {\n            this.#fs = this.parent.#fs;\n        }\n        else {\n            this.#fs = fsFromOption(opts.fs);\n        }\n    }\n    /**\n     * Returns the depth of the Path object from its root.\n     *\n     * For example, a path at `/foo/bar` would have a depth of 2.\n     */\n    depth() {\n        if (this.#depth !== undefined)\n            return this.#depth;\n        if (!this.parent)\n            return (this.#depth = 0);\n        return (this.#depth = this.parent.depth() + 1);\n    }\n    /**\n     * @internal\n     */\n    childrenCache() {\n        return this.#children;\n    }\n    /**\n     * Get the Path object referenced by the string path, resolved from this Path\n     */\n    resolve(path) {\n        if (!path) {\n            return this;\n        }\n        const rootPath = this.getRootString(path);\n        const dir = path.substring(rootPath.length);\n        const dirParts = dir.split(this.splitSep);\n        const result = rootPath ?\n            this.getRoot(rootPath).#resolveParts(dirParts)\n            : this.#resolveParts(dirParts);\n        return result;\n    }\n    #resolveParts(dirParts) {\n        let p = this;\n        for (const part of dirParts) {\n            p = p.child(part);\n        }\n        return p;\n    }\n    /**\n     * Returns the cached children Path objects, if still available.  If they\n     * have fallen out of the cache, then returns an empty array, and resets the\n     * READDIR_CALLED bit, so that future calls to readdir() will require an fs\n     * lookup.\n     *\n     * @internal\n     */\n    children() {\n        const cached = this.#children.get(this);\n        if (cached) {\n            return cached;\n        }\n        const children = Object.assign([], { provisional: 0 });\n        this.#children.set(this, children);\n        this.#type &= ~READDIR_CALLED;\n        return children;\n    }\n    /**\n     * Resolves a path portion and returns or creates the child Path.\n     *\n     * Returns `this` if pathPart is `''` or `'.'`, or `parent` if pathPart is\n     * `'..'`.\n     *\n     * This should not be called directly.  If `pathPart` contains any path\n     * separators, it will lead to unsafe undefined behavior.\n     *\n     * Use `Path.resolve()` instead.\n     *\n     * @internal\n     */\n    child(pathPart, opts) {\n        if (pathPart === '' || pathPart === '.') {\n            return this;\n        }\n        if (pathPart === '..') {\n            return this.parent || this;\n        }\n        // find the child\n        const children = this.children();\n        const name = this.nocase ? normalizeNocase(pathPart) : normalize(pathPart);\n        for (const p of children) {\n            if (p.#matchName === name) {\n                return p;\n            }\n        }\n        // didn't find it, create provisional child, since it might not\n        // actually exist.  If we know the parent isn't a dir, then\n        // in fact it CAN'T exist.\n        const s = this.parent ? this.sep : '';\n        const fullpath = this.#fullpath ? this.#fullpath + s + pathPart : undefined;\n        const pchild = this.newChild(pathPart, UNKNOWN, {\n            ...opts,\n            parent: this,\n            fullpath,\n        });\n        if (!this.canReaddir()) {\n            pchild.#type |= ENOENT;\n        }\n        // don't have to update provisional, because if we have real children,\n        // then provisional is set to children.length, otherwise a lower number\n        children.push(pchild);\n        return pchild;\n    }\n    /**\n     * The relative path from the cwd. If it does not share an ancestor with\n     * the cwd, then this ends up being equivalent to the fullpath()\n     */\n    relative() {\n        if (this.isCWD)\n            return '';\n        if (this.#relative !== undefined) {\n            return this.#relative;\n        }\n        const name = this.name;\n        const p = this.parent;\n        if (!p) {\n            return (this.#relative = this.name);\n        }\n        const pv = p.relative();\n        return pv + (!pv || !p.parent ? '' : this.sep) + name;\n    }\n    /**\n     * The relative path from the cwd, using / as the path separator.\n     * If it does not share an ancestor with\n     * the cwd, then this ends up being equivalent to the fullpathPosix()\n     * On posix systems, this is identical to relative().\n     */\n    relativePosix() {\n        if (this.sep === '/')\n            return this.relative();\n        if (this.isCWD)\n            return '';\n        if (this.#relativePosix !== undefined)\n            return this.#relativePosix;\n        const name = this.name;\n        const p = this.parent;\n        if (!p) {\n            return (this.#relativePosix = this.fullpathPosix());\n        }\n        const pv = p.relativePosix();\n        return pv + (!pv || !p.parent ? '' : '/') + name;\n    }\n    /**\n     * The fully resolved path string for this Path entry\n     */\n    fullpath() {\n        if (this.#fullpath !== undefined) {\n            return this.#fullpath;\n        }\n        const name = this.name;\n        const p = this.parent;\n        if (!p) {\n            return (this.#fullpath = this.name);\n        }\n        const pv = p.fullpath();\n        const fp = pv + (!p.parent ? '' : this.sep) + name;\n        return (this.#fullpath = fp);\n    }\n    /**\n     * On platforms other than windows, this is identical to fullpath.\n     *\n     * On windows, this is overridden to return the forward-slash form of the\n     * full UNC path.\n     */\n    fullpathPosix() {\n        if (this.#fullpathPosix !== undefined)\n            return this.#fullpathPosix;\n        if (this.sep === '/')\n            return (this.#fullpathPosix = this.fullpath());\n        if (!this.parent) {\n            const p = this.fullpath().replace(/\\\\/g, '/');\n            if (/^[a-z]:\\//i.test(p)) {\n                return (this.#fullpathPosix = `//?/${p}`);\n            }\n            else {\n                return (this.#fullpathPosix = p);\n            }\n        }\n        const p = this.parent;\n        const pfpp = p.fullpathPosix();\n        const fpp = pfpp + (!pfpp || !p.parent ? '' : '/') + this.name;\n        return (this.#fullpathPosix = fpp);\n    }\n    /**\n     * Is the Path of an unknown type?\n     *\n     * Note that we might know *something* about it if there has been a previous\n     * filesystem operation, for example that it does not exist, or is not a\n     * link, or whether it has child entries.\n     */\n    isUnknown() {\n        return (this.#type & IFMT) === UNKNOWN;\n    }\n    isType(type) {\n        return this[`is${type}`]();\n    }\n    getType() {\n        return (this.isUnknown() ? 'Unknown'\n            : this.isDirectory() ? 'Directory'\n                : this.isFile() ? 'File'\n                    : this.isSymbolicLink() ? 'SymbolicLink'\n                        : this.isFIFO() ? 'FIFO'\n                            : this.isCharacterDevice() ? 'CharacterDevice'\n                                : this.isBlockDevice() ? 'BlockDevice'\n                                    : /* c8 ignore start */ this.isSocket() ? 'Socket'\n                                        : 'Unknown');\n        /* c8 ignore stop */\n    }\n    /**\n     * Is the Path a regular file?\n     */\n    isFile() {\n        return (this.#type & IFMT) === IFREG;\n    }\n    /**\n     * Is the Path a directory?\n     */\n    isDirectory() {\n        return (this.#type & IFMT) === IFDIR;\n    }\n    /**\n     * Is the path a character device?\n     */\n    isCharacterDevice() {\n        return (this.#type & IFMT) === IFCHR;\n    }\n    /**\n     * Is the path a block device?\n     */\n    isBlockDevice() {\n        return (this.#type & IFMT) === IFBLK;\n    }\n    /**\n     * Is the path a FIFO pipe?\n     */\n    isFIFO() {\n        return (this.#type & IFMT) === IFIFO;\n    }\n    /**\n     * Is the path a socket?\n     */\n    isSocket() {\n        return (this.#type & IFMT) === IFSOCK;\n    }\n    /**\n     * Is the path a symbolic link?\n     */\n    isSymbolicLink() {\n        return (this.#type & IFLNK) === IFLNK;\n    }\n    /**\n     * Return the entry if it has been subject of a successful lstat, or\n     * undefined otherwise.\n     *\n     * Does not read the filesystem, so an undefined result *could* simply\n     * mean that we haven't called lstat on it.\n     */\n    lstatCached() {\n        return this.#type & LSTAT_CALLED ? this : undefined;\n    }\n    /**\n     * Return the cached link target if the entry has been the subject of a\n     * successful readlink, or undefined otherwise.\n     *\n     * Does not read the filesystem, so an undefined result *could* just mean we\n     * don't have any cached data. Only use it if you are very sure that a\n     * readlink() has been called at some point.\n     */\n    readlinkCached() {\n        return this.#linkTarget;\n    }\n    /**\n     * Returns the cached realpath target if the entry has been the subject\n     * of a successful realpath, or undefined otherwise.\n     *\n     * Does not read the filesystem, so an undefined result *could* just mean we\n     * don't have any cached data. Only use it if you are very sure that a\n     * realpath() has been called at some point.\n     */\n    realpathCached() {\n        return this.#realpath;\n    }\n    /**\n     * Returns the cached child Path entries array if the entry has been the\n     * subject of a successful readdir(), or [] otherwise.\n     *\n     * Does not read the filesystem, so an empty array *could* just mean we\n     * don't have any cached data. Only use it if you are very sure that a\n     * readdir() has been called recently enough to still be valid.\n     */\n    readdirCached() {\n        const children = this.children();\n        return children.slice(0, children.provisional);\n    }\n    /**\n     * Return true if it's worth trying to readlink.  Ie, we don't (yet) have\n     * any indication that readlink will definitely fail.\n     *\n     * Returns false if the path is known to not be a symlink, if a previous\n     * readlink failed, or if the entry does not exist.\n     */\n    canReadlink() {\n        if (this.#linkTarget)\n            return true;\n        if (!this.parent)\n            return false;\n        // cases where it cannot possibly succeed\n        const ifmt = this.#type & IFMT;\n        return !((ifmt !== UNKNOWN && ifmt !== IFLNK) ||\n            this.#type & ENOREADLINK ||\n            this.#type & ENOENT);\n    }\n    /**\n     * Return true if readdir has previously been successfully called on this\n     * path, indicating that cachedReaddir() is likely valid.\n     */\n    calledReaddir() {\n        return !!(this.#type & READDIR_CALLED);\n    }\n    /**\n     * Returns true if the path is known to not exist. That is, a previous lstat\n     * or readdir failed to verify its existence when that would have been\n     * expected, or a parent entry was marked either enoent or enotdir.\n     */\n    isENOENT() {\n        return !!(this.#type & ENOENT);\n    }\n    /**\n     * Return true if the path is a match for the given path name.  This handles\n     * case sensitivity and unicode normalization.\n     *\n     * Note: even on case-sensitive systems, it is **not** safe to test the\n     * equality of the `.name` property to determine whether a given pathname\n     * matches, due to unicode normalization mismatches.\n     *\n     * Always use this method instead of testing the `path.name` property\n     * directly.\n     */\n    isNamed(n) {\n        return !this.nocase ?\n            this.#matchName === normalize(n)\n            : this.#matchName === normalizeNocase(n);\n    }\n    /**\n     * Return the Path object corresponding to the target of a symbolic link.\n     *\n     * If the Path is not a symbolic link, or if the readlink call fails for any\n     * reason, `undefined` is returned.\n     *\n     * Result is cached, and thus may be outdated if the filesystem is mutated.\n     */\n    async readlink() {\n        const target = this.#linkTarget;\n        if (target) {\n            return target;\n        }\n        if (!this.canReadlink()) {\n            return undefined;\n        }\n        /* c8 ignore start */\n        // already covered by the canReadlink test, here for ts grumples\n        if (!this.parent) {\n            return undefined;\n        }\n        /* c8 ignore stop */\n        try {\n            const read = await this.#fs.promises.readlink(this.fullpath());\n            const linkTarget = (await this.parent.realpath())?.resolve(read);\n            if (linkTarget) {\n                return (this.#linkTarget = linkTarget);\n            }\n        }\n        catch (er) {\n            this.#readlinkFail(er.code);\n            return undefined;\n        }\n    }\n    /**\n     * Synchronous {@link PathBase.readlink}\n     */\n    readlinkSync() {\n        const target = this.#linkTarget;\n        if (target) {\n            return target;\n        }\n        if (!this.canReadlink()) {\n            return undefined;\n        }\n        /* c8 ignore start */\n        // already covered by the canReadlink test, here for ts grumples\n        if (!this.parent) {\n            return undefined;\n        }\n        /* c8 ignore stop */\n        try {\n            const read = this.#fs.readlinkSync(this.fullpath());\n            const linkTarget = this.parent.realpathSync()?.resolve(read);\n            if (linkTarget) {\n                return (this.#linkTarget = linkTarget);\n            }\n        }\n        catch (er) {\n            this.#readlinkFail(er.code);\n            return undefined;\n        }\n    }\n    #readdirSuccess(children) {\n        // succeeded, mark readdir called bit\n        this.#type |= READDIR_CALLED;\n        // mark all remaining provisional children as ENOENT\n        for (let p = children.provisional; p < children.length; p++) {\n            const c = children[p];\n            if (c)\n                c.#markENOENT();\n        }\n    }\n    #markENOENT() {\n        // mark as UNKNOWN and ENOENT\n        if (this.#type & ENOENT)\n            return;\n        this.#type = (this.#type | ENOENT) & IFMT_UNKNOWN;\n        this.#markChildrenENOENT();\n    }\n    #markChildrenENOENT() {\n        // all children are provisional and do not exist\n        const children = this.children();\n        children.provisional = 0;\n        for (const p of children) {\n            p.#markENOENT();\n        }\n    }\n    #markENOREALPATH() {\n        this.#type |= ENOREALPATH;\n        this.#markENOTDIR();\n    }\n    // save the information when we know the entry is not a dir\n    #markENOTDIR() {\n        // entry is not a directory, so any children can't exist.\n        // this *should* be impossible, since any children created\n        // after it's been marked ENOTDIR should be marked ENOENT,\n        // so it won't even get to this point.\n        /* c8 ignore start */\n        if (this.#type & ENOTDIR)\n            return;\n        /* c8 ignore stop */\n        let t = this.#type;\n        // this could happen if we stat a dir, then delete it,\n        // then try to read it or one of its children.\n        if ((t & IFMT) === IFDIR)\n            t &= IFMT_UNKNOWN;\n        this.#type = t | ENOTDIR;\n        this.#markChildrenENOENT();\n    }\n    #readdirFail(code = '') {\n        // markENOTDIR and markENOENT also set provisional=0\n        if (code === 'ENOTDIR' || code === 'EPERM') {\n            this.#markENOTDIR();\n        }\n        else if (code === 'ENOENT') {\n            this.#markENOENT();\n        }\n        else {\n            this.children().provisional = 0;\n        }\n    }\n    #lstatFail(code = '') {\n        // Windows just raises ENOENT in this case, disable for win CI\n        /* c8 ignore start */\n        if (code === 'ENOTDIR') {\n            // already know it has a parent by this point\n            const p = this.parent;\n            p.#markENOTDIR();\n        }\n        else if (code === 'ENOENT') {\n            /* c8 ignore stop */\n            this.#markENOENT();\n        }\n    }\n    #readlinkFail(code = '') {\n        let ter = this.#type;\n        ter |= ENOREADLINK;\n        if (code === 'ENOENT')\n            ter |= ENOENT;\n        // windows gets a weird error when you try to readlink a file\n        if (code === 'EINVAL' || code === 'UNKNOWN') {\n            // exists, but not a symlink, we don't know WHAT it is, so remove\n            // all IFMT bits.\n            ter &= IFMT_UNKNOWN;\n        }\n        this.#type = ter;\n        // windows just gets ENOENT in this case.  We do cover the case,\n        // just disabled because it's impossible on Windows CI\n        /* c8 ignore start */\n        if (code === 'ENOTDIR' && this.parent) {\n            this.parent.#markENOTDIR();\n        }\n        /* c8 ignore stop */\n    }\n    #readdirAddChild(e, c) {\n        return (this.#readdirMaybePromoteChild(e, c) ||\n            this.#readdirAddNewChild(e, c));\n    }\n    #readdirAddNewChild(e, c) {\n        // alloc new entry at head, so it's never provisional\n        const type = entToType(e);\n        const child = this.newChild(e.name, type, { parent: this });\n        const ifmt = child.#type & IFMT;\n        if (ifmt !== IFDIR && ifmt !== IFLNK && ifmt !== UNKNOWN) {\n            child.#type |= ENOTDIR;\n        }\n        c.unshift(child);\n        c.provisional++;\n        return child;\n    }\n    #readdirMaybePromoteChild(e, c) {\n        for (let p = c.provisional; p < c.length; p++) {\n            const pchild = c[p];\n            const name = this.nocase ? normalizeNocase(e.name) : normalize(e.name);\n            if (name !== pchild.#matchName) {\n                continue;\n            }\n            return this.#readdirPromoteChild(e, pchild, p, c);\n        }\n    }\n    #readdirPromoteChild(e, p, index, c) {\n        const v = p.name;\n        // retain any other flags, but set ifmt from dirent\n        p.#type = (p.#type & IFMT_UNKNOWN) | entToType(e);\n        // case sensitivity fixing when we learn the true name.\n        if (v !== e.name)\n            p.name = e.name;\n        // just advance provisional index (potentially off the list),\n        // otherwise we have to splice/pop it out and re-insert at head\n        if (index !== c.provisional) {\n            if (index === c.length - 1)\n                c.pop();\n            else\n                c.splice(index, 1);\n            c.unshift(p);\n        }\n        c.provisional++;\n        return p;\n    }\n    /**\n     * Call lstat() on this Path, and update all known information that can be\n     * determined.\n     *\n     * Note that unlike `fs.lstat()`, the returned value does not contain some\n     * information, such as `mode`, `dev`, `nlink`, and `ino`.  If that\n     * information is required, you will need to call `fs.lstat` yourself.\n     *\n     * If the Path refers to a nonexistent file, or if the lstat call fails for\n     * any reason, `undefined` is returned.  Otherwise the updated Path object is\n     * returned.\n     *\n     * Results are cached, and thus may be out of date if the filesystem is\n     * mutated.\n     */\n    async lstat() {\n        if ((this.#type & ENOENT) === 0) {\n            try {\n                this.#applyStat(await this.#fs.promises.lstat(this.fullpath()));\n                return this;\n            }\n            catch (er) {\n                this.#lstatFail(er.code);\n            }\n        }\n    }\n    /**\n     * synchronous {@link PathBase.lstat}\n     */\n    lstatSync() {\n        if ((this.#type & ENOENT) === 0) {\n            try {\n                this.#applyStat(this.#fs.lstatSync(this.fullpath()));\n                return this;\n            }\n            catch (er) {\n                this.#lstatFail(er.code);\n            }\n        }\n    }\n    #applyStat(st) {\n        const { atime, atimeMs, birthtime, birthtimeMs, blksize, blocks, ctime, ctimeMs, dev, gid, ino, mode, mtime, mtimeMs, nlink, rdev, size, uid, } = st;\n        this.#atime = atime;\n        this.#atimeMs = atimeMs;\n        this.#birthtime = birthtime;\n        this.#birthtimeMs = birthtimeMs;\n        this.#blksize = blksize;\n        this.#blocks = blocks;\n        this.#ctime = ctime;\n        this.#ctimeMs = ctimeMs;\n        this.#dev = dev;\n        this.#gid = gid;\n        this.#ino = ino;\n        this.#mode = mode;\n        this.#mtime = mtime;\n        this.#mtimeMs = mtimeMs;\n        this.#nlink = nlink;\n        this.#rdev = rdev;\n        this.#size = size;\n        this.#uid = uid;\n        const ifmt = entToType(st);\n        // retain any other flags, but set the ifmt\n        this.#type = (this.#type & IFMT_UNKNOWN) | ifmt | LSTAT_CALLED;\n        if (ifmt !== UNKNOWN && ifmt !== IFDIR && ifmt !== IFLNK) {\n            this.#type |= ENOTDIR;\n        }\n    }\n    #onReaddirCB = [];\n    #readdirCBInFlight = false;\n    #callOnReaddirCB(children) {\n        this.#readdirCBInFlight = false;\n        const cbs = this.#onReaddirCB.slice();\n        this.#onReaddirCB.length = 0;\n        cbs.forEach(cb => cb(null, children));\n    }\n    /**\n     * Standard node-style callback interface to get list of directory entries.\n     *\n     * If the Path cannot or does not contain any children, then an empty array\n     * is returned.\n     *\n     * Results are cached, and thus may be out of date if the filesystem is\n     * mutated.\n     *\n     * @param cb The callback called with (er, entries).  Note that the `er`\n     * param is somewhat extraneous, as all readdir() errors are handled and\n     * simply result in an empty set of entries being returned.\n     * @param allowZalgo Boolean indicating that immediately known results should\n     * *not* be deferred with `queueMicrotask`. Defaults to `false`. Release\n     * zalgo at your peril, the dark pony lord is devious and unforgiving.\n     */\n    readdirCB(cb, allowZalgo = false) {\n        if (!this.canReaddir()) {\n            if (allowZalgo)\n                cb(null, []);\n            else\n                queueMicrotask(() => cb(null, []));\n            return;\n        }\n        const children = this.children();\n        if (this.calledReaddir()) {\n            const c = children.slice(0, children.provisional);\n            if (allowZalgo)\n                cb(null, c);\n            else\n                queueMicrotask(() => cb(null, c));\n            return;\n        }\n        // don't have to worry about zalgo at this point.\n        this.#onReaddirCB.push(cb);\n        if (this.#readdirCBInFlight) {\n            return;\n        }\n        this.#readdirCBInFlight = true;\n        // else read the directory, fill up children\n        // de-provisionalize any provisional children.\n        const fullpath = this.fullpath();\n        this.#fs.readdir(fullpath, { withFileTypes: true }, (er, entries) => {\n            if (er) {\n                this.#readdirFail(er.code);\n                children.provisional = 0;\n            }\n            else {\n                // if we didn't get an error, we always get entries.\n                //@ts-ignore\n                for (const e of entries) {\n                    this.#readdirAddChild(e, children);\n                }\n                this.#readdirSuccess(children);\n            }\n            this.#callOnReaddirCB(children.slice(0, children.provisional));\n            return;\n        });\n    }\n    #asyncReaddirInFlight;\n    /**\n     * Return an array of known child entries.\n     *\n     * If the Path cannot or does not contain any children, then an empty array\n     * is returned.\n     *\n     * Results are cached, and thus may be out of date if the filesystem is\n     * mutated.\n     */\n    async readdir() {\n        if (!this.canReaddir()) {\n            return [];\n        }\n        const children = this.children();\n        if (this.calledReaddir()) {\n            return children.slice(0, children.provisional);\n        }\n        // else read the directory, fill up children\n        // de-provisionalize any provisional children.\n        const fullpath = this.fullpath();\n        if (this.#asyncReaddirInFlight) {\n            await this.#asyncReaddirInFlight;\n        }\n        else {\n            /* c8 ignore start */\n            let resolve = () => { };\n            /* c8 ignore stop */\n            this.#asyncReaddirInFlight = new Promise(res => (resolve = res));\n            try {\n                for (const e of await this.#fs.promises.readdir(fullpath, {\n                    withFileTypes: true,\n                })) {\n                    this.#readdirAddChild(e, children);\n                }\n                this.#readdirSuccess(children);\n            }\n            catch (er) {\n                this.#readdirFail(er.code);\n                children.provisional = 0;\n            }\n            this.#asyncReaddirInFlight = undefined;\n            resolve();\n        }\n        return children.slice(0, children.provisional);\n    }\n    /**\n     * synchronous {@link PathBase.readdir}\n     */\n    readdirSync() {\n        if (!this.canReaddir()) {\n            return [];\n        }\n        const children = this.children();\n        if (this.calledReaddir()) {\n            return children.slice(0, children.provisional);\n        }\n        // else read the directory, fill up children\n        // de-provisionalize any provisional children.\n        const fullpath = this.fullpath();\n        try {\n            for (const e of this.#fs.readdirSync(fullpath, {\n                withFileTypes: true,\n            })) {\n                this.#readdirAddChild(e, children);\n            }\n            this.#readdirSuccess(children);\n        }\n        catch (er) {\n            this.#readdirFail(er.code);\n            children.provisional = 0;\n        }\n        return children.slice(0, children.provisional);\n    }\n    canReaddir() {\n        if (this.#type & ENOCHILD)\n            return false;\n        const ifmt = IFMT & this.#type;\n        // we always set ENOTDIR when setting IFMT, so should be impossible\n        /* c8 ignore start */\n        if (!(ifmt === UNKNOWN || ifmt === IFDIR || ifmt === IFLNK)) {\n            return false;\n        }\n        /* c8 ignore stop */\n        return true;\n    }\n    shouldWalk(dirs, walkFilter) {\n        return ((this.#type & IFDIR) === IFDIR &&\n            !(this.#type & ENOCHILD) &&\n            !dirs.has(this) &&\n            (!walkFilter || walkFilter(this)));\n    }\n    /**\n     * Return the Path object corresponding to path as resolved\n     * by realpath(3).\n     *\n     * If the realpath call fails for any reason, `undefined` is returned.\n     *\n     * Result is cached, and thus may be outdated if the filesystem is mutated.\n     * On success, returns a Path object.\n     */\n    async realpath() {\n        if (this.#realpath)\n            return this.#realpath;\n        if ((ENOREALPATH | ENOREADLINK | ENOENT) & this.#type)\n            return undefined;\n        try {\n            const rp = await this.#fs.promises.realpath(this.fullpath());\n            return (this.#realpath = this.resolve(rp));\n        }\n        catch (_) {\n            this.#markENOREALPATH();\n        }\n    }\n    /**\n     * Synchronous {@link realpath}\n     */\n    realpathSync() {\n        if (this.#realpath)\n            return this.#realpath;\n        if ((ENOREALPATH | ENOREADLINK | ENOENT) & this.#type)\n            return undefined;\n        try {\n            const rp = this.#fs.realpathSync(this.fullpath());\n            return (this.#realpath = this.resolve(rp));\n        }\n        catch (_) {\n            this.#markENOREALPATH();\n        }\n    }\n    /**\n     * Internal method to mark this Path object as the scurry cwd,\n     * called by {@link PathScurry#chdir}\n     *\n     * @internal\n     */\n    [setAsCwd](oldCwd) {\n        if (oldCwd === this)\n            return;\n        oldCwd.isCWD = false;\n        this.isCWD = true;\n        const changed = new Set([]);\n        let rp = [];\n        let p = this;\n        while (p && p.parent) {\n            changed.add(p);\n            p.#relative = rp.join(this.sep);\n            p.#relativePosix = rp.join('/');\n            p = p.parent;\n            rp.push('..');\n        }\n        // now un-memoize parents of old cwd\n        p = oldCwd;\n        while (p && p.parent && !changed.has(p)) {\n            p.#relative = undefined;\n            p.#relativePosix = undefined;\n            p = p.parent;\n        }\n    }\n}\n/**\n * Path class used on win32 systems\n *\n * Uses `'\\\\'` as the path separator for returned paths, either `'\\\\'` or `'/'`\n * as the path separator for parsing paths.\n */\nexport class PathWin32 extends PathBase {\n    /**\n     * Separator for generating path strings.\n     */\n    sep = '\\\\';\n    /**\n     * Separator for parsing path strings.\n     */\n    splitSep = eitherSep;\n    /**\n     * Do not create new Path objects directly.  They should always be accessed\n     * via the PathScurry class or other methods on the Path class.\n     *\n     * @internal\n     */\n    constructor(name, type = UNKNOWN, root, roots, nocase, children, opts) {\n        super(name, type, root, roots, nocase, children, opts);\n    }\n    /**\n     * @internal\n     */\n    newChild(name, type = UNKNOWN, opts = {}) {\n        return new PathWin32(name, type, this.root, this.roots, this.nocase, this.childrenCache(), opts);\n    }\n    /**\n     * @internal\n     */\n    getRootString(path) {\n        return win32.parse(path).root;\n    }\n    /**\n     * @internal\n     */\n    getRoot(rootPath) {\n        rootPath = uncToDrive(rootPath.toUpperCase());\n        if (rootPath === this.root.name) {\n            return this.root;\n        }\n        // ok, not that one, check if it matches another we know about\n        for (const [compare, root] of Object.entries(this.roots)) {\n            if (this.sameRoot(rootPath, compare)) {\n                return (this.roots[rootPath] = root);\n            }\n        }\n        // otherwise, have to create a new one.\n        return (this.roots[rootPath] = new PathScurryWin32(rootPath, this).root);\n    }\n    /**\n     * @internal\n     */\n    sameRoot(rootPath, compare = this.root.name) {\n        // windows can (rarely) have case-sensitive filesystem, but\n        // UNC and drive letters are always case-insensitive, and canonically\n        // represented uppercase.\n        rootPath = rootPath\n            .toUpperCase()\n            .replace(/\\//g, '\\\\')\n            .replace(uncDriveRegexp, '$1\\\\');\n        return rootPath === compare;\n    }\n}\n/**\n * Path class used on all posix systems.\n *\n * Uses `'/'` as the path separator.\n */\nexport class PathPosix extends PathBase {\n    /**\n     * separator for parsing path strings\n     */\n    splitSep = '/';\n    /**\n     * separator for generating path strings\n     */\n    sep = '/';\n    /**\n     * Do not create new Path objects directly.  They should always be accessed\n     * via the PathScurry class or other methods on the Path class.\n     *\n     * @internal\n     */\n    constructor(name, type = UNKNOWN, root, roots, nocase, children, opts) {\n        super(name, type, root, roots, nocase, children, opts);\n    }\n    /**\n     * @internal\n     */\n    getRootString(path) {\n        return path.startsWith('/') ? '/' : '';\n    }\n    /**\n     * @internal\n     */\n    getRoot(_rootPath) {\n        return this.root;\n    }\n    /**\n     * @internal\n     */\n    newChild(name, type = UNKNOWN, opts = {}) {\n        return new PathPosix(name, type, this.root, this.roots, this.nocase, this.childrenCache(), opts);\n    }\n}\n/**\n * The base class for all PathScurry classes, providing the interface for path\n * resolution and filesystem operations.\n *\n * Typically, you should *not* instantiate this class directly, but rather one\n * of the platform-specific classes, or the exported {@link PathScurry} which\n * defaults to the current platform.\n */\nexport class PathScurryBase {\n    /**\n     * The root Path entry for the current working directory of this Scurry\n     */\n    root;\n    /**\n     * The string path for the root of this Scurry's current working directory\n     */\n    rootPath;\n    /**\n     * A collection of all roots encountered, referenced by rootPath\n     */\n    roots;\n    /**\n     * The Path entry corresponding to this PathScurry's current working directory.\n     */\n    cwd;\n    #resolveCache;\n    #resolvePosixCache;\n    #children;\n    /**\n     * Perform path comparisons case-insensitively.\n     *\n     * Defaults true on Darwin and Windows systems, false elsewhere.\n     */\n    nocase;\n    #fs;\n    /**\n     * This class should not be instantiated directly.\n     *\n     * Use PathScurryWin32, PathScurryDarwin, PathScurryPosix, or PathScurry\n     *\n     * @internal\n     */\n    constructor(cwd = process.cwd(), pathImpl, sep, { nocase, childrenCacheSize = 16 * 1024, fs = defaultFS, } = {}) {\n        this.#fs = fsFromOption(fs);\n        if (cwd instanceof URL || cwd.startsWith('file://')) {\n            cwd = fileURLToPath(cwd);\n        }\n        // resolve and split root, and then add to the store.\n        // this is the only time we call path.resolve()\n        const cwdPath = pathImpl.resolve(cwd);\n        this.roots = Object.create(null);\n        this.rootPath = this.parseRootPath(cwdPath);\n        this.#resolveCache = new ResolveCache();\n        this.#resolvePosixCache = new ResolveCache();\n        this.#children = new ChildrenCache(childrenCacheSize);\n        const split = cwdPath.substring(this.rootPath.length).split(sep);\n        // resolve('/') leaves '', splits to [''], we don't want that.\n        if (split.length === 1 && !split[0]) {\n            split.pop();\n        }\n        /* c8 ignore start */\n        if (nocase === undefined) {\n            throw new TypeError('must provide nocase setting to PathScurryBase ctor');\n        }\n        /* c8 ignore stop */\n        this.nocase = nocase;\n        this.root = this.newRoot(this.#fs);\n        this.roots[this.rootPath] = this.root;\n        let prev = this.root;\n        let len = split.length - 1;\n        const joinSep = pathImpl.sep;\n        let abs = this.rootPath;\n        let sawFirst = false;\n        for (const part of split) {\n            const l = len--;\n            prev = prev.child(part, {\n                relative: new Array(l).fill('..').join(joinSep),\n                relativePosix: new Array(l).fill('..').join('/'),\n                fullpath: (abs += (sawFirst ? '' : joinSep) + part),\n            });\n            sawFirst = true;\n        }\n        this.cwd = prev;\n    }\n    /**\n     * Get the depth of a provided path, string, or the cwd\n     */\n    depth(path = this.cwd) {\n        if (typeof path === 'string') {\n            path = this.cwd.resolve(path);\n        }\n        return path.depth();\n    }\n    /**\n     * Return the cache of child entries.  Exposed so subclasses can create\n     * child Path objects in a platform-specific way.\n     *\n     * @internal\n     */\n    childrenCache() {\n        return this.#children;\n    }\n    /**\n     * Resolve one or more path strings to a resolved string\n     *\n     * Same interface as require('path').resolve.\n     *\n     * Much faster than path.resolve() when called multiple times for the same\n     * path, because the resolved Path objects are cached.  Much slower\n     * otherwise.\n     */\n    resolve(...paths) {\n        // first figure out the minimum number of paths we have to test\n        // we always start at cwd, but any absolutes will bump the start\n        let r = '';\n        for (let i = paths.length - 1; i >= 0; i--) {\n            const p = paths[i];\n            if (!p || p === '.')\n                continue;\n            r = r ? `${p}/${r}` : p;\n            if (this.isAbsolute(p)) {\n                break;\n            }\n        }\n        const cached = this.#resolveCache.get(r);\n        if (cached !== undefined) {\n            return cached;\n        }\n        const result = this.cwd.resolve(r).fullpath();\n        this.#resolveCache.set(r, result);\n        return result;\n    }\n    /**\n     * Resolve one or more path strings to a resolved string, returning\n     * the posix path.  Identical to .resolve() on posix systems, but on\n     * windows will return a forward-slash separated UNC path.\n     *\n     * Same interface as require('path').resolve.\n     *\n     * Much faster than path.resolve() when called multiple times for the same\n     * path, because the resolved Path objects are cached.  Much slower\n     * otherwise.\n     */\n    resolvePosix(...paths) {\n        // first figure out the minimum number of paths we have to test\n        // we always start at cwd, but any absolutes will bump the start\n        let r = '';\n        for (let i = paths.length - 1; i >= 0; i--) {\n            const p = paths[i];\n            if (!p || p === '.')\n                continue;\n            r = r ? `${p}/${r}` : p;\n            if (this.isAbsolute(p)) {\n                break;\n            }\n        }\n        const cached = this.#resolvePosixCache.get(r);\n        if (cached !== undefined) {\n            return cached;\n        }\n        const result = this.cwd.resolve(r).fullpathPosix();\n        this.#resolvePosixCache.set(r, result);\n        return result;\n    }\n    /**\n     * find the relative path from the cwd to the supplied path string or entry\n     */\n    relative(entry = this.cwd) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        return entry.relative();\n    }\n    /**\n     * find the relative path from the cwd to the supplied path string or\n     * entry, using / as the path delimiter, even on Windows.\n     */\n    relativePosix(entry = this.cwd) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        return entry.relativePosix();\n    }\n    /**\n     * Return the basename for the provided string or Path object\n     */\n    basename(entry = this.cwd) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        return entry.name;\n    }\n    /**\n     * Return the dirname for the provided string or Path object\n     */\n    dirname(entry = this.cwd) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        return (entry.parent || entry).fullpath();\n    }\n    async readdir(entry = this.cwd, opts = {\n        withFileTypes: true,\n    }) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            opts = entry;\n            entry = this.cwd;\n        }\n        const { withFileTypes } = opts;\n        if (!entry.canReaddir()) {\n            return [];\n        }\n        else {\n            const p = await entry.readdir();\n            return withFileTypes ? p : p.map(e => e.name);\n        }\n    }\n    readdirSync(entry = this.cwd, opts = {\n        withFileTypes: true,\n    }) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            opts = entry;\n            entry = this.cwd;\n        }\n        const { withFileTypes = true } = opts;\n        if (!entry.canReaddir()) {\n            return [];\n        }\n        else if (withFileTypes) {\n            return entry.readdirSync();\n        }\n        else {\n            return entry.readdirSync().map(e => e.name);\n        }\n    }\n    /**\n     * Call lstat() on the string or Path object, and update all known\n     * information that can be determined.\n     *\n     * Note that unlike `fs.lstat()`, the returned value does not contain some\n     * information, such as `mode`, `dev`, `nlink`, and `ino`.  If that\n     * information is required, you will need to call `fs.lstat` yourself.\n     *\n     * If the Path refers to a nonexistent file, or if the lstat call fails for\n     * any reason, `undefined` is returned.  Otherwise the updated Path object is\n     * returned.\n     *\n     * Results are cached, and thus may be out of date if the filesystem is\n     * mutated.\n     */\n    async lstat(entry = this.cwd) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        return entry.lstat();\n    }\n    /**\n     * synchronous {@link PathScurryBase.lstat}\n     */\n    lstatSync(entry = this.cwd) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        return entry.lstatSync();\n    }\n    async readlink(entry = this.cwd, { withFileTypes } = {\n        withFileTypes: false,\n    }) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            withFileTypes = entry.withFileTypes;\n            entry = this.cwd;\n        }\n        const e = await entry.readlink();\n        return withFileTypes ? e : e?.fullpath();\n    }\n    readlinkSync(entry = this.cwd, { withFileTypes } = {\n        withFileTypes: false,\n    }) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            withFileTypes = entry.withFileTypes;\n            entry = this.cwd;\n        }\n        const e = entry.readlinkSync();\n        return withFileTypes ? e : e?.fullpath();\n    }\n    async realpath(entry = this.cwd, { withFileTypes } = {\n        withFileTypes: false,\n    }) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            withFileTypes = entry.withFileTypes;\n            entry = this.cwd;\n        }\n        const e = await entry.realpath();\n        return withFileTypes ? e : e?.fullpath();\n    }\n    realpathSync(entry = this.cwd, { withFileTypes } = {\n        withFileTypes: false,\n    }) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            withFileTypes = entry.withFileTypes;\n            entry = this.cwd;\n        }\n        const e = entry.realpathSync();\n        return withFileTypes ? e : e?.fullpath();\n    }\n    async walk(entry = this.cwd, opts = {}) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            opts = entry;\n            entry = this.cwd;\n        }\n        const { withFileTypes = true, follow = false, filter, walkFilter, } = opts;\n        const results = [];\n        if (!filter || filter(entry)) {\n            results.push(withFileTypes ? entry : entry.fullpath());\n        }\n        const dirs = new Set();\n        const walk = (dir, cb) => {\n            dirs.add(dir);\n            dir.readdirCB((er, entries) => {\n                /* c8 ignore start */\n                if (er) {\n                    return cb(er);\n                }\n                /* c8 ignore stop */\n                let len = entries.length;\n                if (!len)\n                    return cb();\n                const next = () => {\n                    if (--len === 0) {\n                        cb();\n                    }\n                };\n                for (const e of entries) {\n                    if (!filter || filter(e)) {\n                        results.push(withFileTypes ? e : e.fullpath());\n                    }\n                    if (follow && e.isSymbolicLink()) {\n                        e.realpath()\n                            .then(r => (r?.isUnknown() ? r.lstat() : r))\n                            .then(r => r?.shouldWalk(dirs, walkFilter) ? walk(r, next) : next());\n                    }\n                    else {\n                        if (e.shouldWalk(dirs, walkFilter)) {\n                            walk(e, next);\n                        }\n                        else {\n                            next();\n                        }\n                    }\n                }\n            }, true); // zalgooooooo\n        };\n        const start = entry;\n        return new Promise((res, rej) => {\n            walk(start, er => {\n                /* c8 ignore start */\n                if (er)\n                    return rej(er);\n                /* c8 ignore stop */\n                res(results);\n            });\n        });\n    }\n    walkSync(entry = this.cwd, opts = {}) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            opts = entry;\n            entry = this.cwd;\n        }\n        const { withFileTypes = true, follow = false, filter, walkFilter, } = opts;\n        const results = [];\n        if (!filter || filter(entry)) {\n            results.push(withFileTypes ? entry : entry.fullpath());\n        }\n        const dirs = new Set([entry]);\n        for (const dir of dirs) {\n            const entries = dir.readdirSync();\n            for (const e of entries) {\n                if (!filter || filter(e)) {\n                    results.push(withFileTypes ? e : e.fullpath());\n                }\n                let r = e;\n                if (e.isSymbolicLink()) {\n                    if (!(follow && (r = e.realpathSync())))\n                        continue;\n                    if (r.isUnknown())\n                        r.lstatSync();\n                }\n                if (r.shouldWalk(dirs, walkFilter)) {\n                    dirs.add(r);\n                }\n            }\n        }\n        return results;\n    }\n    /**\n     * Support for `for await`\n     *\n     * Alias for {@link PathScurryBase.iterate}\n     *\n     * Note: As of Node 19, this is very slow, compared to other methods of\n     * walking.  Consider using {@link PathScurryBase.stream} if memory overhead\n     * and backpressure are concerns, or {@link PathScurryBase.walk} if not.\n     */\n    [Symbol.asyncIterator]() {\n        return this.iterate();\n    }\n    iterate(entry = this.cwd, options = {}) {\n        // iterating async over the stream is significantly more performant,\n        // especially in the warm-cache scenario, because it buffers up directory\n        // entries in the background instead of waiting for a yield for each one.\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            options = entry;\n            entry = this.cwd;\n        }\n        return this.stream(entry, options)[Symbol.asyncIterator]();\n    }\n    /**\n     * Iterating over a PathScurry performs a synchronous walk.\n     *\n     * Alias for {@link PathScurryBase.iterateSync}\n     */\n    [Symbol.iterator]() {\n        return this.iterateSync();\n    }\n    *iterateSync(entry = this.cwd, opts = {}) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            opts = entry;\n            entry = this.cwd;\n        }\n        const { withFileTypes = true, follow = false, filter, walkFilter, } = opts;\n        if (!filter || filter(entry)) {\n            yield withFileTypes ? entry : entry.fullpath();\n        }\n        const dirs = new Set([entry]);\n        for (const dir of dirs) {\n            const entries = dir.readdirSync();\n            for (const e of entries) {\n                if (!filter || filter(e)) {\n                    yield withFileTypes ? e : e.fullpath();\n                }\n                let r = e;\n                if (e.isSymbolicLink()) {\n                    if (!(follow && (r = e.realpathSync())))\n                        continue;\n                    if (r.isUnknown())\n                        r.lstatSync();\n                }\n                if (r.shouldWalk(dirs, walkFilter)) {\n                    dirs.add(r);\n                }\n            }\n        }\n    }\n    stream(entry = this.cwd, opts = {}) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            opts = entry;\n            entry = this.cwd;\n        }\n        const { withFileTypes = true, follow = false, filter, walkFilter, } = opts;\n        const results = new Minipass({ objectMode: true });\n        if (!filter || filter(entry)) {\n            results.write(withFileTypes ? entry : entry.fullpath());\n        }\n        const dirs = new Set();\n        const queue = [entry];\n        let processing = 0;\n        const process = () => {\n            let paused = false;\n            while (!paused) {\n                const dir = queue.shift();\n                if (!dir) {\n                    if (processing === 0)\n                        results.end();\n                    return;\n                }\n                processing++;\n                dirs.add(dir);\n                const onReaddir = (er, entries, didRealpaths = false) => {\n                    /* c8 ignore start */\n                    if (er)\n                        return results.emit('error', er);\n                    /* c8 ignore stop */\n                    if (follow && !didRealpaths) {\n                        const promises = [];\n                        for (const e of entries) {\n                            if (e.isSymbolicLink()) {\n                                promises.push(e\n                                    .realpath()\n                                    .then((r) => r?.isUnknown() ? r.lstat() : r));\n                            }\n                        }\n                        if (promises.length) {\n                            Promise.all(promises).then(() => onReaddir(null, entries, true));\n                            return;\n                        }\n                    }\n                    for (const e of entries) {\n                        if (e && (!filter || filter(e))) {\n                            if (!results.write(withFileTypes ? e : e.fullpath())) {\n                                paused = true;\n                            }\n                        }\n                    }\n                    processing--;\n                    for (const e of entries) {\n                        const r = e.realpathCached() || e;\n                        if (r.shouldWalk(dirs, walkFilter)) {\n                            queue.push(r);\n                        }\n                    }\n                    if (paused && !results.flowing) {\n                        results.once('drain', process);\n                    }\n                    else if (!sync) {\n                        process();\n                    }\n                };\n                // zalgo containment\n                let sync = true;\n                dir.readdirCB(onReaddir, true);\n                sync = false;\n            }\n        };\n        process();\n        return results;\n    }\n    streamSync(entry = this.cwd, opts = {}) {\n        if (typeof entry === 'string') {\n            entry = this.cwd.resolve(entry);\n        }\n        else if (!(entry instanceof PathBase)) {\n            opts = entry;\n            entry = this.cwd;\n        }\n        const { withFileTypes = true, follow = false, filter, walkFilter, } = opts;\n        const results = new Minipass({ objectMode: true });\n        const dirs = new Set();\n        if (!filter || filter(entry)) {\n            results.write(withFileTypes ? entry : entry.fullpath());\n        }\n        const queue = [entry];\n        let processing = 0;\n        const process = () => {\n            let paused = false;\n            while (!paused) {\n                const dir = queue.shift();\n                if (!dir) {\n                    if (processing === 0)\n                        results.end();\n                    return;\n                }\n                processing++;\n                dirs.add(dir);\n                const entries = dir.readdirSync();\n                for (const e of entries) {\n                    if (!filter || filter(e)) {\n                        if (!results.write(withFileTypes ? e : e.fullpath())) {\n                            paused = true;\n                        }\n                    }\n                }\n                processing--;\n                for (const e of entries) {\n                    let r = e;\n                    if (e.isSymbolicLink()) {\n                        if (!(follow && (r = e.realpathSync())))\n                            continue;\n                        if (r.isUnknown())\n                            r.lstatSync();\n                    }\n                    if (r.shouldWalk(dirs, walkFilter)) {\n                        queue.push(r);\n                    }\n                }\n            }\n            if (paused && !results.flowing)\n                results.once('drain', process);\n        };\n        process();\n        return results;\n    }\n    chdir(path = this.cwd) {\n        const oldCwd = this.cwd;\n        this.cwd = typeof path === 'string' ? this.cwd.resolve(path) : path;\n        this.cwd[setAsCwd](oldCwd);\n    }\n}\n/**\n * Windows implementation of {@link PathScurryBase}\n *\n * Defaults to case insensitve, uses `'\\\\'` to generate path strings.  Uses\n * {@link PathWin32} for Path objects.\n */\nexport class PathScurryWin32 extends PathScurryBase {\n    /**\n     * separator for generating path strings\n     */\n    sep = '\\\\';\n    constructor(cwd = process.cwd(), opts = {}) {\n        const { nocase = true } = opts;\n        super(cwd, win32, '\\\\', { ...opts, nocase });\n        this.nocase = nocase;\n        for (let p = this.cwd; p; p = p.parent) {\n            p.nocase = this.nocase;\n        }\n    }\n    /**\n     * @internal\n     */\n    parseRootPath(dir) {\n        // if the path starts with a single separator, it's not a UNC, and we'll\n        // just get separator as the root, and driveFromUNC will return \\\n        // In that case, mount \\ on the root from the cwd.\n        return win32.parse(dir).root.toUpperCase();\n    }\n    /**\n     * @internal\n     */\n    newRoot(fs) {\n        return new PathWin32(this.rootPath, IFDIR, undefined, this.roots, this.nocase, this.childrenCache(), { fs });\n    }\n    /**\n     * Return true if the provided path string is an absolute path\n     */\n    isAbsolute(p) {\n        return (p.startsWith('/') || p.startsWith('\\\\') || /^[a-z]:(\\/|\\\\)/i.test(p));\n    }\n}\n/**\n * {@link PathScurryBase} implementation for all posix systems other than Darwin.\n *\n * Defaults to case-sensitive matching, uses `'/'` to generate path strings.\n *\n * Uses {@link PathPosix} for Path objects.\n */\nexport class PathScurryPosix extends PathScurryBase {\n    /**\n     * separator for generating path strings\n     */\n    sep = '/';\n    constructor(cwd = process.cwd(), opts = {}) {\n        const { nocase = false } = opts;\n        super(cwd, posix, '/', { ...opts, nocase });\n        this.nocase = nocase;\n    }\n    /**\n     * @internal\n     */\n    parseRootPath(_dir) {\n        return '/';\n    }\n    /**\n     * @internal\n     */\n    newRoot(fs) {\n        return new PathPosix(this.rootPath, IFDIR, undefined, this.roots, this.nocase, this.childrenCache(), { fs });\n    }\n    /**\n     * Return true if the provided path string is an absolute path\n     */\n    isAbsolute(p) {\n        return p.startsWith('/');\n    }\n}\n/**\n * {@link PathScurryBase} implementation for Darwin (macOS) systems.\n *\n * Defaults to case-insensitive matching, uses `'/'` for generating path\n * strings.\n *\n * Uses {@link PathPosix} for Path objects.\n */\nexport class PathScurryDarwin extends PathScurryPosix {\n    constructor(cwd = process.cwd(), opts = {}) {\n        const { nocase = true } = opts;\n        super(cwd, { ...opts, nocase });\n    }\n}\n/**\n * Default {@link PathBase} implementation for the current platform.\n *\n * {@link PathWin32} on Windows systems, {@link PathPosix} on all others.\n */\nexport const Path = process.platform === 'win32' ? PathWin32 : PathPosix;\n/**\n * Default {@link PathScurryBase} implementation for the current platform.\n *\n * {@link PathScurryWin32} on Windows systems, {@link PathScurryDarwin} on\n * Darwin (macOS) systems, {@link PathScurryPosix} on all others.\n */\nexport const PathScurry = process.platform === 'win32' ? PathScurryWin32\n    : process.platform === 'darwin' ? PathScurryDarwin\n        : PathScurryPosix;\n//# sourceMappingURL=index.js.map","// this is just a very light wrapper around 2 arrays with an offset index\nimport { GLOBSTAR } from 'minimatch';\nconst isPatternList = (pl) => pl.length >= 1;\nconst isGlobList = (gl) => gl.length >= 1;\n/**\n * An immutable-ish view on an array of glob parts and their parsed\n * results\n */\nexport class Pattern {\n    #patternList;\n    #globList;\n    #index;\n    length;\n    #platform;\n    #rest;\n    #globString;\n    #isDrive;\n    #isUNC;\n    #isAbsolute;\n    #followGlobstar = true;\n    constructor(patternList, globList, index, platform) {\n        if (!isPatternList(patternList)) {\n            throw new TypeError('empty pattern list');\n        }\n        if (!isGlobList(globList)) {\n            throw new TypeError('empty glob list');\n        }\n        if (globList.length !== patternList.length) {\n            throw new TypeError('mismatched pattern list and glob list lengths');\n        }\n        this.length = patternList.length;\n        if (index < 0 || index >= this.length) {\n            throw new TypeError('index out of range');\n        }\n        this.#patternList = patternList;\n        this.#globList = globList;\n        this.#index = index;\n        this.#platform = platform;\n        // normalize root entries of absolute patterns on initial creation.\n        if (this.#index === 0) {\n            // c: => ['c:/']\n            // C:/ => ['C:/']\n            // C:/x => ['C:/', 'x']\n            // //host/share => ['//host/share/']\n            // //host/share/ => ['//host/share/']\n            // //host/share/x => ['//host/share/', 'x']\n            // /etc => ['/', 'etc']\n            // / => ['/']\n            if (this.isUNC()) {\n                // '' / '' / 'host' / 'share'\n                const [p0, p1, p2, p3, ...prest] = this.#patternList;\n                const [g0, g1, g2, g3, ...grest] = this.#globList;\n                if (prest[0] === '') {\n                    // ends in /\n                    prest.shift();\n                    grest.shift();\n                }\n                const p = [p0, p1, p2, p3, ''].join('/');\n                const g = [g0, g1, g2, g3, ''].join('/');\n                this.#patternList = [p, ...prest];\n                this.#globList = [g, ...grest];\n                this.length = this.#patternList.length;\n            }\n            else if (this.isDrive() || this.isAbsolute()) {\n                const [p1, ...prest] = this.#patternList;\n                const [g1, ...grest] = this.#globList;\n                if (prest[0] === '') {\n                    // ends in /\n                    prest.shift();\n                    grest.shift();\n                }\n                const p = p1 + '/';\n                const g = g1 + '/';\n                this.#patternList = [p, ...prest];\n                this.#globList = [g, ...grest];\n                this.length = this.#patternList.length;\n            }\n        }\n    }\n    /**\n     * The first entry in the parsed list of patterns\n     */\n    pattern() {\n        return this.#patternList[this.#index];\n    }\n    /**\n     * true of if pattern() returns a string\n     */\n    isString() {\n        return typeof this.#patternList[this.#index] === 'string';\n    }\n    /**\n     * true of if pattern() returns GLOBSTAR\n     */\n    isGlobstar() {\n        return this.#patternList[this.#index] === GLOBSTAR;\n    }\n    /**\n     * true if pattern() returns a regexp\n     */\n    isRegExp() {\n        return this.#patternList[this.#index] instanceof RegExp;\n    }\n    /**\n     * The /-joined set of glob parts that make up this pattern\n     */\n    globString() {\n        return (this.#globString =\n            this.#globString ||\n                (this.#index === 0 ?\n                    this.isAbsolute() ?\n                        this.#globList[0] + this.#globList.slice(1).join('/')\n                        : this.#globList.join('/')\n                    : this.#globList.slice(this.#index).join('/')));\n    }\n    /**\n     * true if there are more pattern parts after this one\n     */\n    hasMore() {\n        return this.length > this.#index + 1;\n    }\n    /**\n     * The rest of the pattern after this part, or null if this is the end\n     */\n    rest() {\n        if (this.#rest !== undefined)\n            return this.#rest;\n        if (!this.hasMore())\n            return (this.#rest = null);\n        this.#rest = new Pattern(this.#patternList, this.#globList, this.#index + 1, this.#platform);\n        this.#rest.#isAbsolute = this.#isAbsolute;\n        this.#rest.#isUNC = this.#isUNC;\n        this.#rest.#isDrive = this.#isDrive;\n        return this.#rest;\n    }\n    /**\n     * true if the pattern represents a //unc/path/ on windows\n     */\n    isUNC() {\n        const pl = this.#patternList;\n        return this.#isUNC !== undefined ?\n            this.#isUNC\n            : (this.#isUNC =\n                this.#platform === 'win32' &&\n                    this.#index === 0 &&\n                    pl[0] === '' &&\n                    pl[1] === '' &&\n                    typeof pl[2] === 'string' &&\n                    !!pl[2] &&\n                    typeof pl[3] === 'string' &&\n                    !!pl[3]);\n    }\n    // pattern like C:/...\n    // split = ['C:', ...]\n    // XXX: would be nice to handle patterns like `c:*` to test the cwd\n    // in c: for *, but I don't know of a way to even figure out what that\n    // cwd is without actually chdir'ing into it?\n    /**\n     * True if the pattern starts with a drive letter on Windows\n     */\n    isDrive() {\n        const pl = this.#patternList;\n        return this.#isDrive !== undefined ?\n            this.#isDrive\n            : (this.#isDrive =\n                this.#platform === 'win32' &&\n                    this.#index === 0 &&\n                    this.length > 1 &&\n                    typeof pl[0] === 'string' &&\n                    /^[a-z]:$/i.test(pl[0]));\n    }\n    // pattern = '/' or '/...' or '/x/...'\n    // split = ['', ''] or ['', ...] or ['', 'x', ...]\n    // Drive and UNC both considered absolute on windows\n    /**\n     * True if the pattern is rooted on an absolute path\n     */\n    isAbsolute() {\n        const pl = this.#patternList;\n        return this.#isAbsolute !== undefined ?\n            this.#isAbsolute\n            : (this.#isAbsolute =\n                (pl[0] === '' && pl.length > 1) ||\n                    this.isDrive() ||\n                    this.isUNC());\n    }\n    /**\n     * consume the root of the pattern, and return it\n     */\n    root() {\n        const p = this.#patternList[0];\n        return (typeof p === 'string' && this.isAbsolute() && this.#index === 0) ?\n            p\n            : '';\n    }\n    /**\n     * Check to see if the current globstar pattern is allowed to follow\n     * a symbolic link.\n     */\n    checkFollowGlobstar() {\n        return !(this.#index === 0 ||\n            !this.isGlobstar() ||\n            !this.#followGlobstar);\n    }\n    /**\n     * Mark that the current globstar pattern is following a symbolic link\n     */\n    markFollowGlobstar() {\n        if (this.#index === 0 || !this.isGlobstar() || !this.#followGlobstar)\n            return false;\n        this.#followGlobstar = false;\n        return true;\n    }\n}\n//# sourceMappingURL=pattern.js.map","// give it a pattern, and it'll be able to tell you if\n// a given path should be ignored.\n// Ignoring a path ignores its children if the pattern ends in /**\n// Ignores are always parsed in dot:true mode\nimport { Minimatch } from 'minimatch';\nimport { Pattern } from './pattern.js';\nconst defaultPlatform = (typeof process === 'object' &&\n    process &&\n    typeof process.platform === 'string') ?\n    process.platform\n    : 'linux';\n/**\n * Class used to process ignored patterns\n */\nexport class Ignore {\n    relative;\n    relativeChildren;\n    absolute;\n    absoluteChildren;\n    platform;\n    mmopts;\n    constructor(ignored, { nobrace, nocase, noext, noglobstar, platform = defaultPlatform, }) {\n        this.relative = [];\n        this.absolute = [];\n        this.relativeChildren = [];\n        this.absoluteChildren = [];\n        this.platform = platform;\n        this.mmopts = {\n            dot: true,\n            nobrace,\n            nocase,\n            noext,\n            noglobstar,\n            optimizationLevel: 2,\n            platform,\n            nocomment: true,\n            nonegate: true,\n        };\n        for (const ign of ignored)\n            this.add(ign);\n    }\n    add(ign) {\n        // this is a little weird, but it gives us a clean set of optimized\n        // minimatch matchers, without getting tripped up if one of them\n        // ends in /** inside a brace section, and it's only inefficient at\n        // the start of the walk, not along it.\n        // It'd be nice if the Pattern class just had a .test() method, but\n        // handling globstars is a bit of a pita, and that code already lives\n        // in minimatch anyway.\n        // Another way would be if maybe Minimatch could take its set/globParts\n        // as an option, and then we could at least just use Pattern to test\n        // for absolute-ness.\n        // Yet another way, Minimatch could take an array of glob strings, and\n        // a cwd option, and do the right thing.\n        const mm = new Minimatch(ign, this.mmopts);\n        for (let i = 0; i < mm.set.length; i++) {\n            const parsed = mm.set[i];\n            const globParts = mm.globParts[i];\n            /* c8 ignore start */\n            if (!parsed || !globParts) {\n                throw new Error('invalid pattern object');\n            }\n            // strip off leading ./ portions\n            // https://github.com/isaacs/node-glob/issues/570\n            while (parsed[0] === '.' && globParts[0] === '.') {\n                parsed.shift();\n                globParts.shift();\n            }\n            /* c8 ignore stop */\n            const p = new Pattern(parsed, globParts, 0, this.platform);\n            const m = new Minimatch(p.globString(), this.mmopts);\n            const children = globParts[globParts.length - 1] === '**';\n            const absolute = p.isAbsolute();\n            if (absolute)\n                this.absolute.push(m);\n            else\n                this.relative.push(m);\n            if (children) {\n                if (absolute)\n                    this.absoluteChildren.push(m);\n                else\n                    this.relativeChildren.push(m);\n            }\n        }\n    }\n    ignored(p) {\n        const fullpath = p.fullpath();\n        const fullpaths = `${fullpath}/`;\n        const relative = p.relative() || '.';\n        const relatives = `${relative}/`;\n        for (const m of this.relative) {\n            if (m.match(relative) || m.match(relatives))\n                return true;\n        }\n        for (const m of this.absolute) {\n            if (m.match(fullpath) || m.match(fullpaths))\n                return true;\n        }\n        return false;\n    }\n    childrenIgnored(p) {\n        const fullpath = p.fullpath() + '/';\n        const relative = (p.relative() || '.') + '/';\n        for (const m of this.relativeChildren) {\n            if (m.match(relative))\n                return true;\n        }\n        for (const m of this.absoluteChildren) {\n            if (m.match(fullpath))\n                return true;\n        }\n        return false;\n    }\n}\n//# sourceMappingURL=ignore.js.map","// synchronous utility for filtering entries and calculating subwalks\nimport { GLOBSTAR } from 'minimatch';\n/**\n * A cache of which patterns have been processed for a given Path\n */\nexport class HasWalkedCache {\n    store;\n    constructor(store = new Map()) {\n        this.store = store;\n    }\n    copy() {\n        return new HasWalkedCache(new Map(this.store));\n    }\n    hasWalked(target, pattern) {\n        return this.store.get(target.fullpath())?.has(pattern.globString());\n    }\n    storeWalked(target, pattern) {\n        const fullpath = target.fullpath();\n        const cached = this.store.get(fullpath);\n        if (cached)\n            cached.add(pattern.globString());\n        else\n            this.store.set(fullpath, new Set([pattern.globString()]));\n    }\n}\n/**\n * A record of which paths have been matched in a given walk step,\n * and whether they only are considered a match if they are a directory,\n * and whether their absolute or relative path should be returned.\n */\nexport class MatchRecord {\n    store = new Map();\n    add(target, absolute, ifDir) {\n        const n = (absolute ? 2 : 0) | (ifDir ? 1 : 0);\n        const current = this.store.get(target);\n        this.store.set(target, current === undefined ? n : n & current);\n    }\n    // match, absolute, ifdir\n    entries() {\n        return [...this.store.entries()].map(([path, n]) => [\n            path,\n            !!(n & 2),\n            !!(n & 1),\n        ]);\n    }\n}\n/**\n * A collection of patterns that must be processed in a subsequent step\n * for a given path.\n */\nexport class SubWalks {\n    store = new Map();\n    add(target, pattern) {\n        if (!target.canReaddir()) {\n            return;\n        }\n        const subs = this.store.get(target);\n        if (subs) {\n            if (!subs.find(p => p.globString() === pattern.globString())) {\n                subs.push(pattern);\n            }\n        }\n        else\n            this.store.set(target, [pattern]);\n    }\n    get(target) {\n        const subs = this.store.get(target);\n        /* c8 ignore start */\n        if (!subs) {\n            throw new Error('attempting to walk unknown path');\n        }\n        /* c8 ignore stop */\n        return subs;\n    }\n    entries() {\n        return this.keys().map(k => [k, this.store.get(k)]);\n    }\n    keys() {\n        return [...this.store.keys()].filter(t => t.canReaddir());\n    }\n}\n/**\n * The class that processes patterns for a given path.\n *\n * Handles child entry filtering, and determining whether a path's\n * directory contents must be read.\n */\nexport class Processor {\n    hasWalkedCache;\n    matches = new MatchRecord();\n    subwalks = new SubWalks();\n    patterns;\n    follow;\n    dot;\n    opts;\n    constructor(opts, hasWalkedCache) {\n        this.opts = opts;\n        this.follow = !!opts.follow;\n        this.dot = !!opts.dot;\n        this.hasWalkedCache =\n            hasWalkedCache ? hasWalkedCache.copy() : new HasWalkedCache();\n    }\n    processPatterns(target, patterns) {\n        this.patterns = patterns;\n        const processingSet = patterns.map(p => [target, p]);\n        // map of paths to the magic-starting subwalks they need to walk\n        // first item in patterns is the filter\n        for (let [t, pattern] of processingSet) {\n            this.hasWalkedCache.storeWalked(t, pattern);\n            const root = pattern.root();\n            const absolute = pattern.isAbsolute() && this.opts.absolute !== false;\n            // start absolute patterns at root\n            if (root) {\n                t = t.resolve(root === '/' && this.opts.root !== undefined ?\n                    this.opts.root\n                    : root);\n                const rest = pattern.rest();\n                if (!rest) {\n                    this.matches.add(t, true, false);\n                    continue;\n                }\n                else {\n                    pattern = rest;\n                }\n            }\n            if (t.isENOENT())\n                continue;\n            let p;\n            let rest;\n            let changed = false;\n            while (typeof (p = pattern.pattern()) === 'string' &&\n                (rest = pattern.rest())) {\n                const c = t.resolve(p);\n                t = c;\n                pattern = rest;\n                changed = true;\n            }\n            p = pattern.pattern();\n            rest = pattern.rest();\n            if (changed) {\n                if (this.hasWalkedCache.hasWalked(t, pattern))\n                    continue;\n                this.hasWalkedCache.storeWalked(t, pattern);\n            }\n            // now we have either a final string for a known entry,\n            // more strings for an unknown entry,\n            // or a pattern starting with magic, mounted on t.\n            if (typeof p === 'string') {\n                // must not be final entry, otherwise we would have\n                // concatenated it earlier.\n                const ifDir = p === '..' || p === '' || p === '.';\n                this.matches.add(t.resolve(p), absolute, ifDir);\n                continue;\n            }\n            else if (p === GLOBSTAR) {\n                // if no rest, match and subwalk pattern\n                // if rest, process rest and subwalk pattern\n                // if it's a symlink, but we didn't get here by way of a\n                // globstar match (meaning it's the first time THIS globstar\n                // has traversed a symlink), then we follow it. Otherwise, stop.\n                if (!t.isSymbolicLink() ||\n                    this.follow ||\n                    pattern.checkFollowGlobstar()) {\n                    this.subwalks.add(t, pattern);\n                }\n                const rp = rest?.pattern();\n                const rrest = rest?.rest();\n                if (!rest || ((rp === '' || rp === '.') && !rrest)) {\n                    // only HAS to be a dir if it ends in **/ or **/.\n                    // but ending in ** will match files as well.\n                    this.matches.add(t, absolute, rp === '' || rp === '.');\n                }\n                else {\n                    if (rp === '..') {\n                        // this would mean you're matching **/.. at the fs root,\n                        // and no thanks, I'm not gonna test that specific case.\n                        /* c8 ignore start */\n                        const tp = t.parent || t;\n                        /* c8 ignore stop */\n                        if (!rrest)\n                            this.matches.add(tp, absolute, true);\n                        else if (!this.hasWalkedCache.hasWalked(tp, rrest)) {\n                            this.subwalks.add(tp, rrest);\n                        }\n                    }\n                }\n            }\n            else if (p instanceof RegExp) {\n                this.subwalks.add(t, pattern);\n            }\n        }\n        return this;\n    }\n    subwalkTargets() {\n        return this.subwalks.keys();\n    }\n    child() {\n        return new Processor(this.opts, this.hasWalkedCache);\n    }\n    // return a new Processor containing the subwalks for each\n    // child entry, and a set of matches, and\n    // a hasWalkedCache that's a copy of this one\n    // then we're going to call\n    filterEntries(parent, entries) {\n        const patterns = this.subwalks.get(parent);\n        // put matches and entry walks into the results processor\n        const results = this.child();\n        for (const e of entries) {\n            for (const pattern of patterns) {\n                const absolute = pattern.isAbsolute();\n                const p = pattern.pattern();\n                const rest = pattern.rest();\n                if (p === GLOBSTAR) {\n                    results.testGlobstar(e, pattern, rest, absolute);\n                }\n                else if (p instanceof RegExp) {\n                    results.testRegExp(e, p, rest, absolute);\n                }\n                else {\n                    results.testString(e, p, rest, absolute);\n                }\n            }\n        }\n        return results;\n    }\n    testGlobstar(e, pattern, rest, absolute) {\n        if (this.dot || !e.name.startsWith('.')) {\n            if (!pattern.hasMore()) {\n                this.matches.add(e, absolute, false);\n            }\n            if (e.canReaddir()) {\n                // if we're in follow mode or it's not a symlink, just keep\n                // testing the same pattern. If there's more after the globstar,\n                // then this symlink consumes the globstar. If not, then we can\n                // follow at most ONE symlink along the way, so we mark it, which\n                // also checks to ensure that it wasn't already marked.\n                if (this.follow || !e.isSymbolicLink()) {\n                    this.subwalks.add(e, pattern);\n                }\n                else if (e.isSymbolicLink()) {\n                    if (rest && pattern.checkFollowGlobstar()) {\n                        this.subwalks.add(e, rest);\n                    }\n                    else if (pattern.markFollowGlobstar()) {\n                        this.subwalks.add(e, pattern);\n                    }\n                }\n            }\n        }\n        // if the NEXT thing matches this entry, then also add\n        // the rest.\n        if (rest) {\n            const rp = rest.pattern();\n            if (typeof rp === 'string' &&\n                // dots and empty were handled already\n                rp !== '..' &&\n                rp !== '' &&\n                rp !== '.') {\n                this.testString(e, rp, rest.rest(), absolute);\n            }\n            else if (rp === '..') {\n                /* c8 ignore start */\n                const ep = e.parent || e;\n                /* c8 ignore stop */\n                this.subwalks.add(ep, rest);\n            }\n            else if (rp instanceof RegExp) {\n                this.testRegExp(e, rp, rest.rest(), absolute);\n            }\n        }\n    }\n    testRegExp(e, p, rest, absolute) {\n        if (!p.test(e.name))\n            return;\n        if (!rest) {\n            this.matches.add(e, absolute, false);\n        }\n        else {\n            this.subwalks.add(e, rest);\n        }\n    }\n    testString(e, p, rest, absolute) {\n        // should never happen?\n        if (!e.isNamed(p))\n            return;\n        if (!rest) {\n            this.matches.add(e, absolute, false);\n        }\n        else {\n            this.subwalks.add(e, rest);\n        }\n    }\n}\n//# sourceMappingURL=processor.js.map","/**\n * Single-use utility classes to provide functionality to the {@link Glob}\n * methods.\n *\n * @module\n */\nimport { Minipass } from 'minipass';\nimport { Ignore } from './ignore.js';\nimport { Processor } from './processor.js';\nconst makeIgnore = (ignore, opts) => typeof ignore === 'string' ? new Ignore([ignore], opts)\n    : Array.isArray(ignore) ? new Ignore(ignore, opts)\n        : ignore;\n/**\n * basic walking utilities that all the glob walker types use\n */\nexport class GlobUtil {\n    path;\n    patterns;\n    opts;\n    seen = new Set();\n    paused = false;\n    aborted = false;\n    #onResume = [];\n    #ignore;\n    #sep;\n    signal;\n    maxDepth;\n    includeChildMatches;\n    constructor(patterns, path, opts) {\n        this.patterns = patterns;\n        this.path = path;\n        this.opts = opts;\n        this.#sep = !opts.posix && opts.platform === 'win32' ? '\\\\' : '/';\n        this.includeChildMatches = opts.includeChildMatches !== false;\n        if (opts.ignore || !this.includeChildMatches) {\n            this.#ignore = makeIgnore(opts.ignore ?? [], opts);\n            if (!this.includeChildMatches &&\n                typeof this.#ignore.add !== 'function') {\n                const m = 'cannot ignore child matches, ignore lacks add() method.';\n                throw new Error(m);\n            }\n        }\n        // ignore, always set with maxDepth, but it's optional on the\n        // GlobOptions type\n        /* c8 ignore start */\n        this.maxDepth = opts.maxDepth || Infinity;\n        /* c8 ignore stop */\n        if (opts.signal) {\n            this.signal = opts.signal;\n            this.signal.addEventListener('abort', () => {\n                this.#onResume.length = 0;\n            });\n        }\n    }\n    #ignored(path) {\n        return this.seen.has(path) || !!this.#ignore?.ignored?.(path);\n    }\n    #childrenIgnored(path) {\n        return !!this.#ignore?.childrenIgnored?.(path);\n    }\n    // backpressure mechanism\n    pause() {\n        this.paused = true;\n    }\n    resume() {\n        /* c8 ignore start */\n        if (this.signal?.aborted)\n            return;\n        /* c8 ignore stop */\n        this.paused = false;\n        let fn = undefined;\n        while (!this.paused && (fn = this.#onResume.shift())) {\n            fn();\n        }\n    }\n    onResume(fn) {\n        if (this.signal?.aborted)\n            return;\n        /* c8 ignore start */\n        if (!this.paused) {\n            fn();\n        }\n        else {\n            /* c8 ignore stop */\n            this.#onResume.push(fn);\n        }\n    }\n    // do the requisite realpath/stat checking, and return the path\n    // to add or undefined to filter it out.\n    async matchCheck(e, ifDir) {\n        if (ifDir && this.opts.nodir)\n            return undefined;\n        let rpc;\n        if (this.opts.realpath) {\n            rpc = e.realpathCached() || (await e.realpath());\n            if (!rpc)\n                return undefined;\n            e = rpc;\n        }\n        const needStat = e.isUnknown() || this.opts.stat;\n        const s = needStat ? await e.lstat() : e;\n        if (this.opts.follow && this.opts.nodir && s?.isSymbolicLink()) {\n            const target = await s.realpath();\n            /* c8 ignore start */\n            if (target && (target.isUnknown() || this.opts.stat)) {\n                await target.lstat();\n            }\n            /* c8 ignore stop */\n        }\n        return this.matchCheckTest(s, ifDir);\n    }\n    matchCheckTest(e, ifDir) {\n        return (e &&\n            (this.maxDepth === Infinity || e.depth() <= this.maxDepth) &&\n            (!ifDir || e.canReaddir()) &&\n            (!this.opts.nodir || !e.isDirectory()) &&\n            (!this.opts.nodir ||\n                !this.opts.follow ||\n                !e.isSymbolicLink() ||\n                !e.realpathCached()?.isDirectory()) &&\n            !this.#ignored(e)) ?\n            e\n            : undefined;\n    }\n    matchCheckSync(e, ifDir) {\n        if (ifDir && this.opts.nodir)\n            return undefined;\n        let rpc;\n        if (this.opts.realpath) {\n            rpc = e.realpathCached() || e.realpathSync();\n            if (!rpc)\n                return undefined;\n            e = rpc;\n        }\n        const needStat = e.isUnknown() || this.opts.stat;\n        const s = needStat ? e.lstatSync() : e;\n        if (this.opts.follow && this.opts.nodir && s?.isSymbolicLink()) {\n            const target = s.realpathSync();\n            if (target && (target?.isUnknown() || this.opts.stat)) {\n                target.lstatSync();\n            }\n        }\n        return this.matchCheckTest(s, ifDir);\n    }\n    matchFinish(e, absolute) {\n        if (this.#ignored(e))\n            return;\n        // we know we have an ignore if this is false, but TS doesn't\n        if (!this.includeChildMatches && this.#ignore?.add) {\n            const ign = `${e.relativePosix()}/**`;\n            this.#ignore.add(ign);\n        }\n        const abs = this.opts.absolute === undefined ? absolute : this.opts.absolute;\n        this.seen.add(e);\n        const mark = this.opts.mark && e.isDirectory() ? this.#sep : '';\n        // ok, we have what we need!\n        if (this.opts.withFileTypes) {\n            this.matchEmit(e);\n        }\n        else if (abs) {\n            const abs = this.opts.posix ? e.fullpathPosix() : e.fullpath();\n            this.matchEmit(abs + mark);\n        }\n        else {\n            const rel = this.opts.posix ? e.relativePosix() : e.relative();\n            const pre = this.opts.dotRelative && !rel.startsWith('..' + this.#sep) ?\n                '.' + this.#sep\n                : '';\n            this.matchEmit(!rel ? '.' + mark : pre + rel + mark);\n        }\n    }\n    async match(e, absolute, ifDir) {\n        const p = await this.matchCheck(e, ifDir);\n        if (p)\n            this.matchFinish(p, absolute);\n    }\n    matchSync(e, absolute, ifDir) {\n        const p = this.matchCheckSync(e, ifDir);\n        if (p)\n            this.matchFinish(p, absolute);\n    }\n    walkCB(target, patterns, cb) {\n        /* c8 ignore start */\n        if (this.signal?.aborted)\n            cb();\n        /* c8 ignore stop */\n        this.walkCB2(target, patterns, new Processor(this.opts), cb);\n    }\n    walkCB2(target, patterns, processor, cb) {\n        if (this.#childrenIgnored(target))\n            return cb();\n        if (this.signal?.aborted)\n            cb();\n        if (this.paused) {\n            this.onResume(() => this.walkCB2(target, patterns, processor, cb));\n            return;\n        }\n        processor.processPatterns(target, patterns);\n        // done processing.  all of the above is sync, can be abstracted out.\n        // subwalks is a map of paths to the entry filters they need\n        // matches is a map of paths to [absolute, ifDir] tuples.\n        let tasks = 1;\n        const next = () => {\n            if (--tasks === 0)\n                cb();\n        };\n        for (const [m, absolute, ifDir] of processor.matches.entries()) {\n            if (this.#ignored(m))\n                continue;\n            tasks++;\n            this.match(m, absolute, ifDir).then(() => next());\n        }\n        for (const t of processor.subwalkTargets()) {\n            if (this.maxDepth !== Infinity && t.depth() >= this.maxDepth) {\n                continue;\n            }\n            tasks++;\n            const childrenCached = t.readdirCached();\n            if (t.calledReaddir())\n                this.walkCB3(t, childrenCached, processor, next);\n            else {\n                t.readdirCB((_, entries) => this.walkCB3(t, entries, processor, next), true);\n            }\n        }\n        next();\n    }\n    walkCB3(target, entries, processor, cb) {\n        processor = processor.filterEntries(target, entries);\n        let tasks = 1;\n        const next = () => {\n            if (--tasks === 0)\n                cb();\n        };\n        for (const [m, absolute, ifDir] of processor.matches.entries()) {\n            if (this.#ignored(m))\n                continue;\n            tasks++;\n            this.match(m, absolute, ifDir).then(() => next());\n        }\n        for (const [target, patterns] of processor.subwalks.entries()) {\n            tasks++;\n            this.walkCB2(target, patterns, processor.child(), next);\n        }\n        next();\n    }\n    walkCBSync(target, patterns, cb) {\n        /* c8 ignore start */\n        if (this.signal?.aborted)\n            cb();\n        /* c8 ignore stop */\n        this.walkCB2Sync(target, patterns, new Processor(this.opts), cb);\n    }\n    walkCB2Sync(target, patterns, processor, cb) {\n        if (this.#childrenIgnored(target))\n            return cb();\n        if (this.signal?.aborted)\n            cb();\n        if (this.paused) {\n            this.onResume(() => this.walkCB2Sync(target, patterns, processor, cb));\n            return;\n        }\n        processor.processPatterns(target, patterns);\n        // done processing.  all of the above is sync, can be abstracted out.\n        // subwalks is a map of paths to the entry filters they need\n        // matches is a map of paths to [absolute, ifDir] tuples.\n        let tasks = 1;\n        const next = () => {\n            if (--tasks === 0)\n                cb();\n        };\n        for (const [m, absolute, ifDir] of processor.matches.entries()) {\n            if (this.#ignored(m))\n                continue;\n            this.matchSync(m, absolute, ifDir);\n        }\n        for (const t of processor.subwalkTargets()) {\n            if (this.maxDepth !== Infinity && t.depth() >= this.maxDepth) {\n                continue;\n            }\n            tasks++;\n            const children = t.readdirSync();\n            this.walkCB3Sync(t, children, processor, next);\n        }\n        next();\n    }\n    walkCB3Sync(target, entries, processor, cb) {\n        processor = processor.filterEntries(target, entries);\n        let tasks = 1;\n        const next = () => {\n            if (--tasks === 0)\n                cb();\n        };\n        for (const [m, absolute, ifDir] of processor.matches.entries()) {\n            if (this.#ignored(m))\n                continue;\n            this.matchSync(m, absolute, ifDir);\n        }\n        for (const [target, patterns] of processor.subwalks.entries()) {\n            tasks++;\n            this.walkCB2Sync(target, patterns, processor.child(), next);\n        }\n        next();\n    }\n}\nexport class GlobWalker extends GlobUtil {\n    matches = new Set();\n    constructor(patterns, path, opts) {\n        super(patterns, path, opts);\n    }\n    matchEmit(e) {\n        this.matches.add(e);\n    }\n    async walk() {\n        if (this.signal?.aborted)\n            throw this.signal.reason;\n        if (this.path.isUnknown()) {\n            await this.path.lstat();\n        }\n        await new Promise((res, rej) => {\n            this.walkCB(this.path, this.patterns, () => {\n                if (this.signal?.aborted) {\n                    rej(this.signal.reason);\n                }\n                else {\n                    res(this.matches);\n                }\n            });\n        });\n        return this.matches;\n    }\n    walkSync() {\n        if (this.signal?.aborted)\n            throw this.signal.reason;\n        if (this.path.isUnknown()) {\n            this.path.lstatSync();\n        }\n        // nothing for the callback to do, because this never pauses\n        this.walkCBSync(this.path, this.patterns, () => {\n            if (this.signal?.aborted)\n                throw this.signal.reason;\n        });\n        return this.matches;\n    }\n}\nexport class GlobStream extends GlobUtil {\n    results;\n    constructor(patterns, path, opts) {\n        super(patterns, path, opts);\n        this.results = new Minipass({\n            signal: this.signal,\n            objectMode: true,\n        });\n        this.results.on('drain', () => this.resume());\n        this.results.on('resume', () => this.resume());\n    }\n    matchEmit(e) {\n        this.results.write(e);\n        if (!this.results.flowing)\n            this.pause();\n    }\n    stream() {\n        const target = this.path;\n        if (target.isUnknown()) {\n            target.lstat().then(() => {\n                this.walkCB(target, this.patterns, () => this.results.end());\n            });\n        }\n        else {\n            this.walkCB(target, this.patterns, () => this.results.end());\n        }\n        return this.results;\n    }\n    streamSync() {\n        if (this.path.isUnknown()) {\n            this.path.lstatSync();\n        }\n        this.walkCBSync(this.path, this.patterns, () => this.results.end());\n        return this.results;\n    }\n}\n//# sourceMappingURL=walker.js.map","import { Minimatch } from 'minimatch';\nimport { fileURLToPath } from 'node:url';\nimport { PathScurry, PathScurryDarwin, PathScurryPosix, PathScurryWin32, } from 'path-scurry';\nimport { Pattern } from './pattern.js';\nimport { GlobStream, GlobWalker } from './walker.js';\n// if no process global, just call it linux.\n// so we default to case-sensitive, / separators\nconst defaultPlatform = (typeof process === 'object' &&\n    process &&\n    typeof process.platform === 'string') ?\n    process.platform\n    : 'linux';\n/**\n * An object that can perform glob pattern traversals.\n */\nexport class Glob {\n    absolute;\n    cwd;\n    root;\n    dot;\n    dotRelative;\n    follow;\n    ignore;\n    magicalBraces;\n    mark;\n    matchBase;\n    maxDepth;\n    nobrace;\n    nocase;\n    nodir;\n    noext;\n    noglobstar;\n    pattern;\n    platform;\n    realpath;\n    scurry;\n    stat;\n    signal;\n    windowsPathsNoEscape;\n    withFileTypes;\n    includeChildMatches;\n    /**\n     * The options provided to the constructor.\n     */\n    opts;\n    /**\n     * An array of parsed immutable {@link Pattern} objects.\n     */\n    patterns;\n    /**\n     * All options are stored as properties on the `Glob` object.\n     *\n     * See {@link GlobOptions} for full options descriptions.\n     *\n     * Note that a previous `Glob` object can be passed as the\n     * `GlobOptions` to another `Glob` instantiation to re-use settings\n     * and caches with a new pattern.\n     *\n     * Traversal functions can be called multiple times to run the walk\n     * again.\n     */\n    constructor(pattern, opts) {\n        /* c8 ignore start */\n        if (!opts)\n            throw new TypeError('glob options required');\n        /* c8 ignore stop */\n        this.withFileTypes = !!opts.withFileTypes;\n        this.signal = opts.signal;\n        this.follow = !!opts.follow;\n        this.dot = !!opts.dot;\n        this.dotRelative = !!opts.dotRelative;\n        this.nodir = !!opts.nodir;\n        this.mark = !!opts.mark;\n        if (!opts.cwd) {\n            this.cwd = '';\n        }\n        else if (opts.cwd instanceof URL || opts.cwd.startsWith('file://')) {\n            opts.cwd = fileURLToPath(opts.cwd);\n        }\n        this.cwd = opts.cwd || '';\n        this.root = opts.root;\n        this.magicalBraces = !!opts.magicalBraces;\n        this.nobrace = !!opts.nobrace;\n        this.noext = !!opts.noext;\n        this.realpath = !!opts.realpath;\n        this.absolute = opts.absolute;\n        this.includeChildMatches = opts.includeChildMatches !== false;\n        this.noglobstar = !!opts.noglobstar;\n        this.matchBase = !!opts.matchBase;\n        this.maxDepth =\n            typeof opts.maxDepth === 'number' ? opts.maxDepth : Infinity;\n        this.stat = !!opts.stat;\n        this.ignore = opts.ignore;\n        if (this.withFileTypes && this.absolute !== undefined) {\n            throw new Error('cannot set absolute and withFileTypes:true');\n        }\n        if (typeof pattern === 'string') {\n            pattern = [pattern];\n        }\n        this.windowsPathsNoEscape =\n            !!opts.windowsPathsNoEscape ||\n                opts.allowWindowsEscape ===\n                    false;\n        if (this.windowsPathsNoEscape) {\n            pattern = pattern.map(p => p.replace(/\\\\/g, '/'));\n        }\n        if (this.matchBase) {\n            if (opts.noglobstar) {\n                throw new TypeError('base matching requires globstar');\n            }\n            pattern = pattern.map(p => (p.includes('/') ? p : `./**/${p}`));\n        }\n        this.pattern = pattern;\n        this.platform = opts.platform || defaultPlatform;\n        this.opts = { ...opts, platform: this.platform };\n        if (opts.scurry) {\n            this.scurry = opts.scurry;\n            if (opts.nocase !== undefined &&\n                opts.nocase !== opts.scurry.nocase) {\n                throw new Error('nocase option contradicts provided scurry option');\n            }\n        }\n        else {\n            const Scurry = opts.platform === 'win32' ? PathScurryWin32\n                : opts.platform === 'darwin' ? PathScurryDarwin\n                    : opts.platform ? PathScurryPosix\n                        : PathScurry;\n            this.scurry = new Scurry(this.cwd, {\n                nocase: opts.nocase,\n                fs: opts.fs,\n            });\n        }\n        this.nocase = this.scurry.nocase;\n        // If you do nocase:true on a case-sensitive file system, then\n        // we need to use regexps instead of strings for non-magic\n        // path portions, because statting `aBc` won't return results\n        // for the file `AbC` for example.\n        const nocaseMagicOnly = this.platform === 'darwin' || this.platform === 'win32';\n        const mmo = {\n            // default nocase based on platform\n            ...opts,\n            dot: this.dot,\n            matchBase: this.matchBase,\n            nobrace: this.nobrace,\n            nocase: this.nocase,\n            nocaseMagicOnly,\n            nocomment: true,\n            noext: this.noext,\n            nonegate: true,\n            optimizationLevel: 2,\n            platform: this.platform,\n            windowsPathsNoEscape: this.windowsPathsNoEscape,\n            debug: !!this.opts.debug,\n        };\n        const mms = this.pattern.map(p => new Minimatch(p, mmo));\n        const [matchSet, globParts] = mms.reduce((set, m) => {\n            set[0].push(...m.set);\n            set[1].push(...m.globParts);\n            return set;\n        }, [[], []]);\n        this.patterns = matchSet.map((set, i) => {\n            const g = globParts[i];\n            /* c8 ignore start */\n            if (!g)\n                throw new Error('invalid pattern object');\n            /* c8 ignore stop */\n            return new Pattern(set, g, 0, this.platform);\n        });\n    }\n    async walk() {\n        // Walkers always return array of Path objects, so we just have to\n        // coerce them into the right shape.  It will have already called\n        // realpath() if the option was set to do so, so we know that's cached.\n        // start out knowing the cwd, at least\n        return [\n            ...(await new GlobWalker(this.patterns, this.scurry.cwd, {\n                ...this.opts,\n                maxDepth: this.maxDepth !== Infinity ?\n                    this.maxDepth + this.scurry.cwd.depth()\n                    : Infinity,\n                platform: this.platform,\n                nocase: this.nocase,\n                includeChildMatches: this.includeChildMatches,\n            }).walk()),\n        ];\n    }\n    walkSync() {\n        return [\n            ...new GlobWalker(this.patterns, this.scurry.cwd, {\n                ...this.opts,\n                maxDepth: this.maxDepth !== Infinity ?\n                    this.maxDepth + this.scurry.cwd.depth()\n                    : Infinity,\n                platform: this.platform,\n                nocase: this.nocase,\n                includeChildMatches: this.includeChildMatches,\n            }).walkSync(),\n        ];\n    }\n    stream() {\n        return new GlobStream(this.patterns, this.scurry.cwd, {\n            ...this.opts,\n            maxDepth: this.maxDepth !== Infinity ?\n                this.maxDepth + this.scurry.cwd.depth()\n                : Infinity,\n            platform: this.platform,\n            nocase: this.nocase,\n            includeChildMatches: this.includeChildMatches,\n        }).stream();\n    }\n    streamSync() {\n        return new GlobStream(this.patterns, this.scurry.cwd, {\n            ...this.opts,\n            maxDepth: this.maxDepth !== Infinity ?\n                this.maxDepth + this.scurry.cwd.depth()\n                : Infinity,\n            platform: this.platform,\n            nocase: this.nocase,\n            includeChildMatches: this.includeChildMatches,\n        }).streamSync();\n    }\n    /**\n     * Default sync iteration function. Returns a Generator that\n     * iterates over the results.\n     */\n    iterateSync() {\n        return this.streamSync()[Symbol.iterator]();\n    }\n    [Symbol.iterator]() {\n        return this.iterateSync();\n    }\n    /**\n     * Default async iteration function. Returns an AsyncGenerator that\n     * iterates over the results.\n     */\n    iterate() {\n        return this.stream()[Symbol.asyncIterator]();\n    }\n    [Symbol.asyncIterator]() {\n        return this.iterate();\n    }\n}\n//# sourceMappingURL=glob.js.map","import { Minimatch } from 'minimatch';\n/**\n * Return true if the patterns provided contain any magic glob characters,\n * given the options provided.\n *\n * Brace expansion is not considered \"magic\" unless the `magicalBraces` option\n * is set, as brace expansion just turns one string into an array of strings.\n * So a pattern like `'x{a,b}y'` would return `false`, because `'xay'` and\n * `'xby'` both do not contain any magic glob characters, and it's treated the\n * same as if you had called it on `['xay', 'xby']`. When `magicalBraces:true`\n * is in the options, brace expansion _is_ treated as a pattern having magic.\n */\nexport const hasMagic = (pattern, options = {}) => {\n    if (!Array.isArray(pattern)) {\n        pattern = [pattern];\n    }\n    for (const p of pattern) {\n        if (new Minimatch(p, options).hasMagic())\n            return true;\n    }\n    return false;\n};\n//# sourceMappingURL=has-magic.js.map","import { escape, unescape } from 'minimatch';\nimport { Glob } from './glob.js';\nimport { hasMagic } from './has-magic.js';\nexport { escape, unescape } from 'minimatch';\nexport { Glob } from './glob.js';\nexport { hasMagic } from './has-magic.js';\nexport { Ignore } from './ignore.js';\nexport function globStreamSync(pattern, options = {}) {\n    return new Glob(pattern, options).streamSync();\n}\nexport function globStream(pattern, options = {}) {\n    return new Glob(pattern, options).stream();\n}\nexport function globSync(pattern, options = {}) {\n    return new Glob(pattern, options).walkSync();\n}\nasync function glob_(pattern, options = {}) {\n    return new Glob(pattern, options).walk();\n}\nexport function globIterateSync(pattern, options = {}) {\n    return new Glob(pattern, options).iterateSync();\n}\nexport function globIterate(pattern, options = {}) {\n    return new Glob(pattern, options).iterate();\n}\n// aliases: glob.sync.stream() glob.stream.sync() glob.sync() etc\nexport const streamSync = globStreamSync;\nexport const stream = Object.assign(globStream, { sync: globStreamSync });\nexport const iterateSync = globIterateSync;\nexport const iterate = Object.assign(globIterate, {\n    sync: globIterateSync,\n});\nexport const sync = Object.assign(globSync, {\n    stream: globStreamSync,\n    iterate: globIterateSync,\n});\nexport const glob = Object.assign(glob_, {\n    glob: glob_,\n    globSync,\n    sync,\n    globStream,\n    stream,\n    globStreamSync,\n    streamSync,\n    globIterate,\n    iterate,\n    globIterateSync,\n    iterateSync,\n    Glob,\n    hasMagic,\n    escape,\n    unescape,\n});\nglob.glob = glob;\n//# sourceMappingURL=index.js.map","/**\n * Filesystem Driver for TfState Plugin\n *\n * Reads Terraform/OpenTofu state files from local filesystem\n * Useful for development and testing\n */\nimport { TfStateDriver } from './base-driver.js';\nimport { readFile, stat } from 'fs/promises';\nimport { join, relative } from 'path';\nimport { glob } from 'glob';\n\nexport class FilesystemTfStateDriver extends TfStateDriver {\n  constructor(config = {}) {\n    super(config);\n    this.basePath = config.basePath || config.path || process.cwd();\n  }\n\n  /**\n   * Initialize filesystem driver\n   */\n  async initialize() {\n    // Verify base path exists\n    try {\n      const stats = await stat(this.basePath);\n      if (!stats.isDirectory()) {\n        throw new Error(`Base path is not a directory: ${this.basePath}`);\n      }\n    } catch (error) {\n      throw new Error(`Invalid base path: ${this.basePath} - ${error.message}`);\n    }\n  }\n\n  /**\n   * List all state files matching the selector\n   */\n  async listStateFiles() {\n    const pattern = join(this.basePath, this.selector);\n\n    try {\n      const files = await glob(pattern, {\n        nodir: true,\n        absolute: false,\n        cwd: this.basePath\n      });\n\n      const stateFiles = await Promise.all(\n        files.map(async (file) => {\n          const fullPath = join(this.basePath, file);\n          const stats = await stat(fullPath);\n\n          return {\n            path: file,\n            fullPath,\n            lastModified: stats.mtime,\n            size: stats.size,\n            etag: `${stats.mtime.getTime()}-${stats.size}` // Pseudo-etag\n          };\n        })\n      );\n\n      return stateFiles;\n    } catch (error) {\n      throw new Error(`Failed to list state files: ${error.message}`);\n    }\n  }\n\n  /**\n   * Read a state file from filesystem\n   */\n  async readStateFile(path) {\n    const fullPath = path.startsWith(this.basePath)\n      ? path\n      : join(this.basePath, path);\n\n    try {\n      const content = await readFile(fullPath, 'utf-8');\n      return JSON.parse(content);\n    } catch (error) {\n      if (error.code === 'ENOENT') {\n        throw new Error(`State file not found: ${path}`);\n      }\n      throw new Error(`Failed to read state file ${path}: ${error.message}`);\n    }\n  }\n\n  /**\n   * Get state file metadata from filesystem\n   */\n  async getStateFileMetadata(path) {\n    const fullPath = path.startsWith(this.basePath)\n      ? path\n      : join(this.basePath, path);\n\n    try {\n      const stats = await stat(fullPath);\n\n      return {\n        path,\n        fullPath,\n        lastModified: stats.mtime,\n        size: stats.size,\n        etag: `${stats.mtime.getTime()}-${stats.size}`\n      };\n    } catch (error) {\n      if (error.code === 'ENOENT') {\n        throw new Error(`State file not found: ${path}`);\n      }\n      throw new Error(`Failed to get metadata for ${path}: ${error.message}`);\n    }\n  }\n\n  /**\n   * Check if state file has been modified\n   */\n  async hasBeenModified(path, since) {\n    const metadata = await this.getStateFileMetadata(path);\n    const lastModified = new Date(metadata.lastModified);\n    const sinceDate = new Date(since);\n\n    return lastModified > sinceDate;\n  }\n\n  /**\n   * Close filesystem driver (no-op)\n   */\n  async close() {\n    // Nothing to close for filesystem\n  }\n}\n","/**\n * TfStatePlugin - High-Performance Terraform/OpenTofu State Management\n *\n * Reads and tracks Terraform/OpenTofu state files with automatic partition optimization for lightning-fast queries.\n * Enables infrastructure-as-code audit trails, drift detection, and historical analysis.\n *\n * **✅ OpenTofu Compatibility**: Fully compatible with both Terraform and OpenTofu (https://opentofu.org).\n * OpenTofu maintains backward compatibility with Terraform's state file format, so this plugin works seamlessly with both.\n *\n * === 🚀 Key Features ===\n * ✅ **Multi-version support**: Tfstate v3 and v4\n * ✅ **Multiple sources**: Local files, S3 buckets, remote backends\n * ✅ **SHA256 deduplication**: Prevent duplicate state imports automatically\n * ✅ **Historical tracking**: Full audit trail of infrastructure changes\n * ✅ **Diff calculation**: Automatic detection of added/modified/deleted resources\n * ✅ **Batch import**: Process multiple state files with controlled parallelism\n * ✅ **Resource filtering**: Include/exclude resources by type or pattern\n * ✅ **Auto-sync**: File watching and cron-based monitoring (optional)\n * ✅ **Export capability**: Convert back to Tfstate format\n * ✅ **Automatic partition optimization**: 10-100x faster queries with zero configuration\n *\n * === ⚡ Performance Optimizations (Auto-Applied) ===\n * 1. **Partition-optimized queries**: Uses bySerial, bySha256, bySourceFile partitions automatically\n * 2. **Partition caching**: Eliminates repeated partition lookups (100% faster on cache hits)\n * 3. **Parallel batch insert**: Insert resources with controlled parallelism (10x faster)\n * 4. **SHA256-based deduplication**: O(1) duplicate detection via partition (vs O(n) full scan)\n * 5. **Diff calculation optimization**: O(1) lookups for old/new state comparison\n * 6. **Smart query replacement**: Replaces unsupported operators ($lt, $in) with partition queries + filter\n * 7. **Zero-config**: All optimizations work automatically - no configuration required!\n *\n * === 📊 Performance Benchmarks ===\n *\n * **Without Partitions**:\n * - Import 1000-resource state: ~30s (sequential insert + full scans)\n * - Diff calculation: ~10s (O(n) queries for old/new states)\n * - Export by serial: ~8s (O(n) full scan)\n * - Duplicate check: ~5s (O(n) full scan)\n *\n * **With Partitions** (automatic):\n * - Import 1000-resource state: ~3s (parallel insert + O(1) lookups) → **10x faster**\n * - Diff calculation: ~100ms (O(1) partition queries) → **100x faster**\n * - Export by serial: ~80ms (O(1) partition lookup) → **100x faster**\n * - Duplicate check: ~10ms (O(1) SHA256 partition lookup) → **500x faster**\n *\n * === 🎯 Best Practices for Maximum Performance ===\n *\n * 1. **Partition strategy** (automatically configured):\n *    ```javascript\n *    // State files resource - optimal for lookups\n *    partitions: {\n *      bySourceFile: { fields: { sourceFile: 'string' } },  // ← For tracking states by file\n *      bySerial: { fields: { serial: 'number' } },          // ← For version lookups\n *      bySha256: { fields: { sha256Hash: 'string' } }       // ← For deduplication (critical!)\n *    }\n *\n *    // Resources - optimal for queries\n *    partitions: {\n *      bySerial: { fields: { stateSerial: 'number' } },     // ← For diff calculations\n *      byType: { fields: { resourceType: 'string' } },      // ← For resource filtering\n *      bySourceFile: { fields: { sourceFile: 'string' } }   // ← For file-based queries\n *    }\n *    ```\n *\n * 2. **Use batch import** for multiple files:\n *    ```javascript\n *    // Process 100 state files in parallel (parallelism: 5)\n *    await plugin.importStatesFromS3Glob('my-bucket', 'terraform/**\\/*.tfstate', {\n *      parallelism: 5  // Process 5 files at a time\n *    });\n *    ```\n *\n * 3. **Monitor performance** (verbose mode):\n *    ```javascript\n *    const plugin = new TfStatePlugin({ verbose: true });\n *    // Logs partition usage, batch processing, deduplication\n *    ```\n *\n * 4. **Check stats regularly**:\n *    ```javascript\n *    const stats = plugin.getStats();\n *    console.log(`Partition cache hits: ${stats.partitionCacheHits}`);\n *    console.log(`Partition queries optimized: ${stats.partitionQueriesOptimized}`);\n *    console.log(`States processed: ${stats.statesProcessed}`);\n *    ```\n *\n * 5. **Enable diff tracking** for infrastructure auditing:\n *    ```javascript\n *    const plugin = new TfStatePlugin({\n *      trackDiffs: true,  // Track all changes between state versions\n *      diffsLookback: 20  // Keep last 20 diffs per state file\n *    });\n *    ```\n *\n * === 📝 Configuration Examples ===\n *\n * **Basic - Local file import**:\n * ```javascript\n * const plugin = new TfStatePlugin({\n *   resourceName: 'terraform_resources',\n *   trackDiffs: true,\n *   filters: {\n *     types: ['aws_instance', 'aws_s3_bucket', 'aws_rds_cluster'],\n *     exclude: ['data.*']  // Exclude all data sources\n *   }\n * });\n *\n * await database.usePlugin(plugin);\n * await plugin.importState('./terraform.tfstate');\n * ```\n *\n * **Advanced - S3 backend with monitoring**:\n * ```javascript\n * const plugin = new TfStatePlugin({\n *   driver: 's3',\n *   config: {\n *     bucket: 'my-terraform-states',\n *     prefix: 'production/',\n *     region: 'us-east-1'\n *   },\n *   monitor: {\n *     enabled: true,\n *     cron: '*\\/10 * * * *'  // Check every 10 minutes\n *   },\n *   diffs: {\n *     enabled: true,\n *     lookback: 50\n *   },\n *   verbose: true\n * });\n *\n * await database.usePlugin(plugin);\n * ```\n *\n * **Batch Import - Multiple environments**:\n * ```javascript\n * // Import all state files from S3 with glob pattern\n * const result = await plugin.importStatesFromS3Glob(\n *   'terraform-states-bucket',\n *   'environments/**\\/*.tfstate',\n *   { parallelism: 10 }  // Process 10 files concurrently\n * );\n * console.log(`Processed ${result.filesProcessed} state files`);\n * console.log(`Total resources: ${result.totalResourcesInserted}`);\n * ```\n *\n * === 💡 Usage Examples ===\n *\n * **Import from local file**:\n * ```javascript\n * const result = await plugin.importState('./terraform.tfstate');\n * console.log(`Imported ${result.resourcesInserted} resources from serial ${result.serial}`);\n * ```\n *\n * **Import from S3 (Terraform remote backend)**:\n * ```javascript\n * await plugin.importStateFromS3('my-terraform-bucket', 'prod/terraform.tfstate');\n * ```\n *\n * **Query resources by type** (uses partition automatically):\n * ```javascript\n * const instances = await database.resources.terraform_resources.list({\n *   partition: 'byType',\n *   partitionValues: { resourceType: 'aws_instance' }\n * });\n * ```\n *\n * **Get diff between states**:\n * ```javascript\n * const diff = await plugin.compareStates('./terraform.tfstate', 5, 10);\n * console.log(`Added: ${diff.added.length}`);\n * console.log(`Modified: ${diff.modified.length}`);\n * console.log(`Deleted: ${diff.deleted.length}`);\n * ```\n *\n * **Export state to file**:\n * ```javascript\n * await plugin.exportStateToFile('./exported-state.tfstate', { serial: 5 });\n * ```\n *\n * **Get diff timeline** (historical analysis):\n * ```javascript\n * const timeline = await plugin.getDiffTimeline('./terraform.tfstate', {\n *   lookback: 30\n * });\n * console.log(`Total changes over ${timeline.totalDiffs} versions:`);\n * console.log(`- Added: ${timeline.summary.totalAdded}`);\n * console.log(`- Modified: ${timeline.summary.totalModified}`);\n * console.log(`- Deleted: ${timeline.summary.totalDeleted}`);\n * ```\n *\n * === 🔧 Troubleshooting ===\n *\n * **Slow imports**:\n * - Check `partitionQueriesOptimized` stat - should be > 0\n * - Verify partitions exist (automatically created on install)\n * - Increase `parallelism` for batch imports (default: database.parallelism || 10)\n *\n * **Duplicate states**:\n * - Plugin automatically detects duplicates via SHA256 hash\n * - Check console for \"State already imported (SHA256 match)\" messages\n *\n * **High S3 costs**:\n * - Use partition queries to reduce full scans\n * - Enable verbose mode to see which operations use partitions\n * - Consider filtering resources to reduce storage\n *\n * === 🎓 Real-World Use Cases ===\n *\n * **Multi-Environment Infrastructure Tracking**:\n * ```javascript\n * // Track dev, staging, prod state files\n * await plugin.importStatesFromS3Glob('terraform-states', 'environments/**\\/*.tfstate');\n *\n * // Query all EC2 instances across environments\n * const allInstances = await database.resources.terraform_resources.list({\n *   partition: 'byType',\n *   partitionValues: { resourceType: 'aws_instance' }\n * });\n * ```\n *\n * **Drift Detection**:\n * ```javascript\n * // Import current state\n * await plugin.importState('./terraform.tfstate');\n *\n * // Get diff from 1 hour ago\n * const recentDiff = await plugin.compareStates('./terraform.tfstate', serial-5, serial);\n * if (recentDiff.modified.length > 0) {\n *   console.warn('Infrastructure drift detected!');\n * }\n * ```\n *\n * **Cost Analysis**:\n * ```javascript\n * // Track RDS cluster changes over time\n * const timeline = await plugin.getDiffTimeline('./terraform.tfstate');\n * const rdsChanges = timeline.diffs\n *   .map(d => d.changes.added.filter(r => r.type === 'aws_rds_cluster'))\n *   .flat();\n * console.log(`Added ${rdsChanges.length} RDS clusters over time`);\n * ```\n */\n\nimport { readFile, watch, readdir } from 'fs/promises';\nimport { existsSync } from 'fs';\nimport { join, sep } from 'path';\nimport { createHash } from 'crypto';\nimport { Plugin } from '../plugin.class.js';\nimport tryFn from '../../concerns/try-fn.js';\nimport requirePluginDependency from '../concerns/plugin-dependencies.js';\nimport { idGenerator } from '../../concerns/id.js';\nimport {\n  TfStateError,\n  InvalidStateFileError,\n  UnsupportedStateVersionError,\n  StateFileNotFoundError,\n  ResourceExtractionError,\n  StateDiffError,\n  FileWatchError,\n  ResourceFilterError\n} from './errors.js';\nimport { S3TfStateDriver } from './s3-driver.js';\nimport { FilesystemTfStateDriver } from './filesystem-driver.js';\n\nexport class TfStatePlugin extends Plugin {\n  constructor(config = {}) {\n    super(config);\n\n    // Driver-based configuration\n    this.driverType = config.driver || null;\n    this.driverConfig = config.config || {};\n\n    // Resource names\n    const resources = config.resources || {};\n    this.resourceName = resources.resources || config.resourceName || 'plg_tfstate_resources';\n    this.stateFilesName = resources.stateFiles || config.stateFilesName || 'plg_tfstate_state_files';\n    this.diffsName = resources.diffs || config.diffsName || 'plg_tfstate_state_diffs';\n\n    // Monitoring configuration\n    const monitor = config.monitor || {};\n    this.monitorEnabled = monitor.enabled || false;\n    this.monitorCron = monitor.cron || '*/5 * * * *';\n\n    // Diff configuration\n    const diffs = config.diffs || {};\n    this.trackDiffs = diffs.enabled !== undefined ? diffs.enabled : (config.trackDiffs !== undefined ? config.trackDiffs : true);\n    this.diffsLookback = diffs.lookback || 10;\n\n    // Partition configuration\n    this.asyncPartitions = config.asyncPartitions !== undefined ? config.asyncPartitions : true;\n\n    // Other config\n    this.autoSync = config.autoSync || false;\n    this.watchPaths = config.watchPaths || [];\n    this.filters = config.filters || {};\n    this.verbose = config.verbose || false;\n\n    // Supported Tfstate versions\n    this.supportedVersions = [3, 4];\n\n    // Internal state\n    this.driver = null; // Will be initialized in onInstall\n    this.resource = null;\n    this.stateFilesResource = null;\n    this.diffsResource = null;\n    this.watchers = [];\n    this.cronTask = null;\n    this.lastProcessedSerial = null;\n\n    // Cache partition lookups (resourceName:fieldName -> partitionName)\n    this._partitionCache = new Map();\n\n    // Statistics\n    this.stats = {\n      statesProcessed: 0,\n      resourcesExtracted: 0,\n      resourcesInserted: 0,\n      diffsCalculated: 0,\n      errors: 0,\n      lastProcessedSerial: null,\n      partitionCacheHits: 0,\n      partitionQueriesOptimized: 0\n    };\n  }\n\n  /**\n   * Install the plugin\n   * @override\n   */\n  async onInstall() {\n    if (this.verbose) {\n      console.log('[TfStatePlugin] Installing...');\n    }\n\n    // Initialize driver if using new config format\n    if (this.driverType) {\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Initializing ${this.driverType} driver...`);\n      }\n\n      if (this.driverType === 's3') {\n        this.driver = new S3TfStateDriver(this.driverConfig);\n      } else if (this.driverType === 'filesystem') {\n        this.driver = new FilesystemTfStateDriver(this.driverConfig);\n      } else {\n        throw new TfStateError(`Unsupported driver type: ${this.driverType}`);\n      }\n\n      await this.driver.initialize();\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Driver initialized successfully`);\n      }\n    }\n\n    // Resource 0: Terraform Lineages (Master tracking resource)\n    // NEW: Tracks unique Tfstate lineages for efficient diff tracking\n    this.lineagesName = 'plg_tfstate_lineages';\n    this.lineagesResource = await this.database.createResource({\n      name: this.lineagesName,\n      attributes: {\n        id: 'string|required',           // = lineage UUID from Tfstate\n        latestSerial: 'number',           // Track latest for quick access\n        latestStateId: 'string',          // FK to stateFilesResource\n        totalStates: 'number',            // Counter\n        firstImportedAt: 'number',\n        lastImportedAt: 'number',\n        metadata: 'json'                  // Custom tags, project info, etc.\n      },\n      timestamps: true,\n      asyncPartitions: this.asyncPartitions,  // Configurable async partitions\n      partitions: {},                     // No partitions - simple tracking resource\n      createdBy: 'TfStatePlugin'\n    });\n\n    // Resource 1: Tfstate Files Metadata\n    // Dedicated to tracking state file metadata with SHA256 hash for deduplication\n    this.stateFilesResource = await this.database.createResource({\n      name: this.stateFilesName,\n      attributes: {\n        id: 'string|required',\n        lineageId: 'string|required',     // NEW: FK to lineages (= lineage UUID)\n        sourceFile: 'string|required',    // Full path or s3:// URI\n        serial: 'number|required',\n        lineage: 'string|required',       // Denormalized for queries\n        terraformVersion: 'string',\n        stateVersion: 'number|required',\n        resourceCount: 'number',\n        sha256Hash: 'string|required',    // SHA256 hash for deduplication\n        importedAt: 'number|required'\n      },\n      timestamps: true,\n      asyncPartitions: this.asyncPartitions,  // Configurable async partitions\n      partitions: {\n        byLineage: { fields: { lineageId: 'string' } },                        // NEW: Primary lookup\n        byLineageSerial: { fields: { lineageId: 'string', serial: 'number' } }, // NEW: Composite key\n        bySourceFile: { fields: { sourceFile: 'string' } },                    // Legacy support\n        bySerial: { fields: { serial: 'number' } },\n        bySha256: { fields: { sha256Hash: 'string' } }\n      },\n      createdBy: 'TfStatePlugin'\n    });\n\n    // Resource 2: Terraform Resources\n    // Store extracted resources with foreign key to state files\n    this.resource = await this.database.createResource({\n      name: this.resourceName,\n      attributes: {\n        id: 'string|required',\n        stateFileId: 'string|required',   // FK to stateFilesResource\n        lineageId: 'string|required',     // NEW: FK to lineages\n        // Denormalized fields for fast queries\n        stateSerial: 'number|required',\n        sourceFile: 'string|required',\n        // Resource data\n        resourceType: 'string|required',\n        resourceName: 'string|required',\n        resourceAddress: 'string|required',\n        providerName: 'string|required',\n        mode: 'string', // managed or data\n        attributes: 'json',\n        dependencies: 'array',\n        importedAt: 'number|required'\n      },\n      timestamps: true,\n      asyncPartitions: this.asyncPartitions,  // Configurable async partitions\n      partitions: {\n        byLineageSerial: { fields: { lineageId: 'string', stateSerial: 'number' } }, // NEW: Efficient diff queries\n        byLineage: { fields: { lineageId: 'string' } },                               // NEW: All resources for lineage\n        byType: { fields: { resourceType: 'string' } },\n        byProvider: { fields: { providerName: 'string' } },\n        bySerial: { fields: { stateSerial: 'number' } },\n        bySourceFile: { fields: { sourceFile: 'string' } },                           // Legacy support\n        byProviderAndType: { fields: { providerName: 'string', resourceType: 'string' } },\n        byLineageType: { fields: { lineageId: 'string', resourceType: 'string' } }   // NEW: Type queries per lineage\n      },\n      createdBy: 'TfStatePlugin'\n    });\n\n    // Resource 3: Tfstate Diffs\n    // Track changes between state versions (if diff tracking enabled)\n    if (this.trackDiffs) {\n      this.diffsResource = await this.database.createResource({\n        name: this.diffsName,\n        attributes: {\n          id: 'string|required',\n          lineageId: 'string|required',     // NEW: FK to lineages\n          oldSerial: 'number|required',\n          newSerial: 'number|required',\n          oldStateId: 'string',              // NEW: FK to stateFilesResource\n          newStateId: 'string|required',     // NEW: FK to stateFilesResource\n          calculatedAt: 'number|required',\n          // Summary statistics\n          summary: {\n            type: 'object',\n            props: {\n              addedCount: 'number',\n              modifiedCount: 'number',\n              deletedCount: 'number'\n            }\n          },\n          // Detailed changes\n          changes: {\n            type: 'object',\n            props: {\n              added: 'array',\n              modified: 'array',\n              deleted: 'array'\n            }\n          }\n        },\n        behavior: 'body-only',              // Force all data to body for reliable nested object handling\n        timestamps: true,\n        asyncPartitions: this.asyncPartitions,  // Configurable async partitions\n        partitions: {\n          byLineage: { fields: { lineageId: 'string' } },                               // NEW: All diffs for lineage\n          byLineageNewSerial: { fields: { lineageId: 'string', newSerial: 'number' } }, // NEW: Specific version lookup\n          byNewSerial: { fields: { newSerial: 'number' } },\n          byOldSerial: { fields: { oldSerial: 'number' } }\n        },\n        createdBy: 'TfStatePlugin'\n      });\n    }\n\n    if (this.verbose) {\n      const resourcesCreated = [this.lineagesName, this.stateFilesName, this.resourceName];\n      if (this.trackDiffs) resourcesCreated.push(this.diffsName);\n      console.log(`[TfStatePlugin] Created resources: ${resourcesCreated.join(', ')}`);\n    }\n\n    if (this.autoSync && this.watchPaths.length > 0) {\n      await this._setupFileWatchers();\n    }\n\n    if (this.monitorEnabled && this.driver) {\n      await this._setupCronMonitoring();\n    }\n\n    this.emit('installed', {\n      plugin: 'TfStatePlugin',\n      stateFilesName: this.stateFilesName,\n      resourceName: this.resourceName,\n      diffsName: this.diffsName,\n      monitorEnabled: this.monitorEnabled,\n      driverType: this.driverType\n    });\n  }\n\n  /**\n   * Start the plugin\n   * @override\n   */\n  async onStart() {\n    if (this.verbose) {\n      console.log('[TfStatePlugin] Started');\n    }\n  }\n\n  /**\n   * Stop the plugin\n   * @override\n   */\n  async onStop() {\n    // Stop cron monitoring\n    if (this.cronTask) {\n      this.cronTask.stop();\n      this.cronTask = null;\n\n      if (this.verbose) {\n        console.log('[TfStatePlugin] Stopped cron monitoring');\n      }\n    }\n\n    for (const watcher of this.watchers) {\n      try {\n        // fs.promises.watch returns an AsyncIterator with a return() method\n        if (watcher && typeof watcher.return === 'function') {\n          await watcher.return();\n        } else if (watcher && typeof watcher.close === 'function') {\n          await watcher.close();\n        }\n      } catch (error) {\n        // Ignore errors when closing watchers\n        if (this.verbose) {\n          console.warn('[TfStatePlugin] Error closing watcher:', error.message);\n        }\n      }\n    }\n    this.watchers = [];\n\n    // Close driver\n    if (this.driver) {\n      await this.driver.close();\n      this.driver = null;\n\n      if (this.verbose) {\n        console.log('[TfStatePlugin] Driver closed');\n      }\n    }\n\n    if (this.verbose) {\n      console.log('[TfStatePlugin] Stopped');\n    }\n  }\n\n  /**\n   * Import multiple Terraform/OpenTofu states from local filesystem using glob pattern\n   * @param {string} pattern - Glob pattern for matching state files\n   * @param {Object} options - Optional parallelism settings\n   * @returns {Promise<Object>} Consolidated import result with statistics\n   *\n   * @example\n   * await plugin.importStatesGlob('./terraform/ ** /*.tfstate');\n   * await plugin.importStatesGlob('./environments/ * /terraform.tfstate', { parallelism: 10 });\n   */\n  async importStatesGlob(pattern, options = {}) {\n    const startTime = Date.now();\n    const parallelism = options.parallelism || 5;\n\n    if (this.verbose) {\n      console.log(`[TfStatePlugin] Finding local files matching: ${pattern}`);\n    }\n\n    try {\n      // Find all matching files\n      const matchingFiles = await this._findFilesGlob(pattern);\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Found ${matchingFiles.length} matching files`);\n      }\n\n      if (matchingFiles.length === 0) {\n        return {\n          filesProcessed: 0,\n          totalResourcesExtracted: 0,\n          totalResourcesInserted: 0,\n          files: [],\n          duration: Date.now() - startTime\n        };\n      }\n\n      // Import states with controlled parallelism\n      const results = [];\n      const files = [];\n\n      for (let i = 0; i < matchingFiles.length; i += parallelism) {\n        const batch = matchingFiles.slice(i, i + parallelism);\n\n        const batchPromises = batch.map(async (filePath) => {\n          try {\n            const result = await this.importState(filePath);\n            return { success: true, file: filePath, result };\n          } catch (error) {\n            if (this.verbose) {\n              console.error(`[TfStatePlugin] Failed to import ${filePath}:`, error.message);\n            }\n            return { success: false, file: filePath, error: error.message };\n          }\n        });\n\n        const batchResults = await Promise.all(batchPromises);\n        results.push(...batchResults);\n      }\n\n      // Consolidate statistics\n      const successful = results.filter(r => r.success);\n      const failed = results.filter(r => !r.success);\n\n      successful.forEach(r => {\n        if (!r.result.skipped) {\n          files.push({\n            file: r.file,\n            serial: r.result.serial,\n            resourcesExtracted: r.result.resourcesExtracted,\n            resourcesInserted: r.result.resourcesInserted\n          });\n        }\n      });\n\n      const totalResourcesExtracted = successful\n        .filter(r => !r.result.skipped)\n        .reduce((sum, r) => sum + (r.result.resourcesExtracted || 0), 0);\n      const totalResourcesInserted = successful\n        .filter(r => !r.result.skipped)\n        .reduce((sum, r) => sum + (r.result.resourcesInserted || 0), 0);\n\n      const duration = Date.now() - startTime;\n\n      const consolidatedResult = {\n        filesProcessed: successful.length,\n        filesFailed: failed.length,\n        totalResourcesExtracted,\n        totalResourcesInserted,\n        files,\n        failedFiles: failed.map(f => ({ file: f.file, error: f.error })),\n        duration\n      };\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Glob import completed:`, consolidatedResult);\n      }\n\n      this.emit('globImportCompleted', consolidatedResult);\n\n      return consolidatedResult;\n    } catch (error) {\n      this.stats.errors++;\n      if (this.verbose) {\n        console.error(`[TfStatePlugin] Glob import failed:`, error);\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * Find files matching glob pattern\n   * @private\n   */\n  async _findFilesGlob(pattern) {\n    const files = [];\n\n    // Extract base directory from pattern (everything before first wildcard)\n    const baseMatch = pattern.match(/^([^*?[\\]]+)/);\n    const baseDir = baseMatch ? baseMatch[1] : '.';\n\n    // Extract the pattern part (everything after base)\n    const patternPart = pattern.slice(baseDir.length);\n\n    // Recursively find all .tfstate files in the directory\n    const findFiles = async (dir) => {\n      try {\n        const entries = await readdir(dir, { withFileTypes: true });\n\n        for (const entry of entries) {\n          const fullPath = join(dir, entry.name);\n\n          if (entry.isDirectory()) {\n            // Recurse into subdirectories\n            await findFiles(fullPath);\n          } else if (entry.isFile() && entry.name.endsWith('.tfstate')) {\n            // Check if file matches the pattern\n            if (this._matchesGlobPattern(fullPath, pattern)) {\n              files.push(fullPath);\n            }\n          }\n        }\n      } catch (error) {\n        // Ignore permission errors and continue\n        if (error.code !== 'EACCES' && error.code !== 'EPERM') {\n          throw error;\n        }\n      }\n    };\n\n    await findFiles(baseDir);\n\n    return files;\n  }\n\n  /**\n   * Import Terraform/OpenTofu state from remote S3 bucket\n   * @param {string} bucket - S3 bucket name\n   * @param {string} key - S3 object key (path to .tfstate file)\n   * @param {Object} options - Optional S3 client override\n   * @returns {Promise<Object>} Import result with statistics\n   */\n  async importStateFromS3(bucket, key, options = {}) {\n    const startTime = Date.now();\n    const sourceFile = `s3://${bucket}/${key}`;\n\n    if (this.verbose) {\n      console.log(`[TfStatePlugin] Importing from S3: ${sourceFile}`);\n    }\n\n    try {\n      // Use provided client or database client\n      const client = options.client || this.database.client;\n\n      // Fetch state from S3\n      const [ok, err, data] = await tryFn(async () => {\n        return await client.getObject(key);\n      });\n\n      if (!ok) {\n        throw new StateFileNotFoundError(sourceFile, {\n          originalError: err\n        });\n      }\n\n      // Parse JSON\n      const stateContent = data.Body.toString('utf-8');\n      let state;\n      try {\n        state = JSON.parse(stateContent);\n      } catch (parseError) {\n        throw new InvalidStateFileError(sourceFile, 'Invalid JSON', {\n          originalError: parseError\n        });\n      }\n\n      // Validate state structure\n      this._validateState(state, sourceFile);\n\n      // Validate version\n      this._validateStateVersion(state);\n\n      // Calculate SHA256 hash for deduplication\n      const sha256Hash = this._calculateSHA256(state);\n\n      // Check if this exact state already exists (by SHA256) - use partition if available\n      const partitionName = this._findPartitionByField(this.stateFilesResource, 'sha256Hash');\n      let existingByHash;\n\n      if (partitionName) {\n        // Efficient: Use partition query (O(1))\n        this.stats.partitionQueriesOptimized++;\n        existingByHash = await this.stateFilesResource.list({\n          partition: partitionName,\n          partitionValues: { sha256Hash },\n          limit: 1\n        });\n      } else {\n        // Fallback: Use query() without partition\n        existingByHash = await this.stateFilesResource.query({ sha256Hash }, { limit: 1 });\n      }\n\n      if (existingByHash.length > 0) {\n        // Exact same state already imported, skip\n        const existing = existingByHash[0];\n\n        if (this.verbose) {\n          console.log(`[TfStatePlugin] State already imported (SHA256 match), skipping`);\n        }\n\n        return {\n          skipped: true,\n          reason: 'duplicate',\n          serial: state.serial,\n          stateFileId: existing.id,\n          sha256Hash,\n          source: sourceFile\n        };\n      }\n\n      const currentTime = Date.now();\n\n      // Create state file record\n      const stateFileRecord = {\n        id: idGenerator(),\n        sourceFile,\n        serial: state.serial,\n        lineage: state.lineage,\n        terraformVersion: state.terraform_version,\n        stateVersion: state.version,\n        resourceCount: (state.resources || []).length,\n        sha256Hash,\n        importedAt: currentTime\n      };\n\n      const [insertOk, insertErr, stateFileResult] = await tryFn(async () => {\n        return await this.stateFilesResource.insert(stateFileRecord);\n      });\n\n      if (!insertOk) {\n        throw new TfStateError(`Failed to save state file metadata: ${insertErr.message}`, {\n          originalError: insertErr\n        });\n      }\n\n      const stateFileId = stateFileResult.id;\n\n      // Extract resources with stateFileId\n      const resources = await this._extractResources(state, sourceFile, stateFileId);\n\n      // Calculate diff if enabled\n      let diff = null;\n      let diffRecord = null;\n      if (this.trackDiffs) {\n        diff = await this._calculateDiff(state, sourceFile, stateFileId);\n\n        // Save diff to diffsResource\n        if (diff && !diff.isFirst) {\n          diffRecord = await this._saveDiff(diff, sourceFile, stateFileId);\n        }\n      }\n\n      // Insert resources\n      const inserted = await this._insertResources(resources);\n\n      // Update last processed serial\n      this.lastProcessedSerial = state.serial;\n\n      // Update statistics\n      this.stats.statesProcessed++;\n      this.stats.resourcesExtracted += (resources.totalExtracted || resources.length);\n      this.stats.resourcesInserted += inserted.length;\n      this.stats.lastProcessedSerial = state.serial;\n      if (diff && !diff.isFirst) this.stats.diffsCalculated++;\n\n      const duration = Date.now() - startTime;\n\n      const result = {\n        serial: state.serial,\n        lineage: state.lineage,\n        terraformVersion: state.terraform_version,\n        resourcesExtracted: (resources.totalExtracted || resources.length),\n        resourcesInserted: inserted.length,\n        stateFileId,\n        sha256Hash,\n        source: sourceFile,\n        diff: diff ? {\n          added: diff.added.length,\n          modified: diff.modified.length,\n          deleted: diff.deleted.length,\n          isFirst: diff.isFirst || false\n        } : null,\n        duration\n      };\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] S3 import completed:`, result);\n      }\n\n      this.emit('stateImported', result);\n\n      return result;\n    } catch (error) {\n      this.stats.errors++;\n      if (this.verbose) {\n        console.error(`[TfStatePlugin] S3 import failed:`, error);\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * Import multiple Terraform/OpenTofu states from S3 using glob pattern\n   * @param {string} bucket - S3 bucket name\n   * @param {string} pattern - Glob pattern for matching state files\n   * @param {Object} options - Optional S3 client override and parallelism settings\n   * @returns {Promise<Object>} Consolidated import result with statistics\n   */\n  async importStatesFromS3Glob(bucket, pattern, options = {}) {\n    const startTime = Date.now();\n    const client = options.client || this.database.client;\n    const parallelism = options.parallelism || 5;\n\n    if (this.verbose) {\n      console.log(`[TfStatePlugin] Listing S3 objects: s3://${bucket}/${pattern}`);\n    }\n\n    try {\n      // List all objects in the bucket\n      const [ok, err, data] = await tryFn(async () => {\n        const params = {};\n\n        // Extract prefix from pattern (everything before first wildcard)\n        const prefixMatch = pattern.match(/^([^*?[\\]]+)/);\n        if (prefixMatch) {\n          params.prefix = prefixMatch[1];\n        }\n\n        return await client.listObjects(params);\n      });\n\n      if (!ok) {\n        throw new TfStateError(`Failed to list objects in s3://${bucket}`, {\n          originalError: err\n        });\n      }\n\n      const allObjects = data.Contents || [];\n\n      // Filter objects using glob pattern matching\n      const matchingObjects = allObjects.filter(obj => {\n        return this._matchesGlobPattern(obj.Key, pattern);\n      });\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Found ${matchingObjects.length} matching files`);\n      }\n\n      if (matchingObjects.length === 0) {\n        return {\n          filesProcessed: 0,\n          totalResourcesExtracted: 0,\n          totalResourcesInserted: 0,\n          files: [],\n          duration: Date.now() - startTime\n        };\n      }\n\n      // Import states with controlled parallelism\n      const results = [];\n      const files = [];\n\n      for (let i = 0; i < matchingObjects.length; i += parallelism) {\n        const batch = matchingObjects.slice(i, i + parallelism);\n\n        const batchPromises = batch.map(async (obj) => {\n          try {\n            const result = await this.importStateFromS3(bucket, obj.Key, options);\n            return { success: true, key: obj.Key, result };\n          } catch (error) {\n            if (this.verbose) {\n              console.error(`[TfStatePlugin] Failed to import ${obj.Key}:`, error.message);\n            }\n            return { success: false, key: obj.Key, error: error.message };\n          }\n        });\n\n        const batchResults = await Promise.all(batchPromises);\n        results.push(...batchResults);\n      }\n\n      // Consolidate statistics\n      const successful = results.filter(r => r.success);\n      const failed = results.filter(r => !r.success);\n\n      successful.forEach(r => {\n        files.push({\n          file: r.key,\n          serial: r.result.serial,\n          resourcesExtracted: r.result.resourcesExtracted,\n          resourcesInserted: r.result.resourcesInserted\n        });\n      });\n\n      const totalResourcesExtracted = successful.reduce((sum, r) => sum + r.result.resourcesExtracted, 0);\n      const totalResourcesInserted = successful.reduce((sum, r) => sum + r.result.resourcesInserted, 0);\n\n      const duration = Date.now() - startTime;\n\n      const consolidatedResult = {\n        filesProcessed: successful.length,\n        filesFailed: failed.length,\n        totalResourcesExtracted,\n        totalResourcesInserted,\n        files,\n        failedFiles: failed.map(f => ({ file: f.key, error: f.error })),\n        duration\n      };\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Glob import completed:`, consolidatedResult);\n      }\n\n      this.emit('globImportCompleted', consolidatedResult);\n\n      return consolidatedResult;\n    } catch (error) {\n      this.stats.errors++;\n      if (this.verbose) {\n        console.error(`[TfStatePlugin] Glob import failed:`, error);\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * Match S3 key against glob pattern\n   * Simple glob matching supporting *, **, ?, and []\n   * @private\n   */\n  _matchesGlobPattern(key, pattern) {\n    // First, temporarily replace glob wildcards with placeholders\n    let regexPattern = pattern\n      .replace(/\\*\\*/g, '\\x00\\x00')  // ** → double null\n      .replace(/\\*/g, '\\x00')         // * → single null\n      .replace(/\\?/g, '\\x01');        // ? → SOH\n\n    // Now escape special regex characters (but NOT the placeholders or [])\n    // We keep [] as-is since they're valid in both glob and regex\n    regexPattern = regexPattern\n      .replace(/[.+^${}()|\\\\]/g, '\\\\$&');\n\n    // Convert glob patterns to regex\n    regexPattern = regexPattern\n      .replace(/\\x00\\x00/g, '__DOUBLE_STAR__')  // Restore ** as placeholder\n      .replace(/\\x00/g, '[^/]*')                 // * → match anything except /\n      .replace(/\\x01/g, '.');                    // ? → match any single char\n\n    // Handle ** properly\n    // **/ matches zero or more directories\n    regexPattern = regexPattern.replace(/__DOUBLE_STAR__\\//g, '(?:.*/)?');\n    regexPattern = regexPattern.replace(/__DOUBLE_STAR__/g, '.*');\n\n    const regex = new RegExp(`^${regexPattern}$`);\n    return regex.test(key);\n  }\n\n  /**\n   * Ensure lineage record exists and is up-to-date\n   * Creates or updates the lineage tracking record\n   * @private\n   */\n  async _ensureLineage(lineageUuid, stateMeta) {\n    if (!lineageUuid) {\n      throw new TfStateError('Lineage UUID is required for state tracking');\n    }\n\n    // Try to get existing lineage record\n    const [getOk, getErr, existingLineage] = await tryFn(async () => {\n      return await this.lineagesResource.get(lineageUuid);\n    });\n\n    const currentTime = Date.now();\n\n    if (existingLineage) {\n      // Update existing lineage record\n      const updates = {\n        lastImportedAt: currentTime\n      };\n\n      // Update latest serial if this is newer\n      if (stateMeta.serial > (existingLineage.latestSerial || 0)) {\n        updates.latestSerial = stateMeta.serial;\n        updates.latestStateId = stateMeta.stateFileId;\n      }\n\n      // Increment total states counter\n      if (existingLineage.totalStates !== undefined) {\n        updates.totalStates = existingLineage.totalStates + 1;\n      } else {\n        updates.totalStates = 1;\n      }\n\n      await this.lineagesResource.update(lineageUuid, updates);\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Updated lineage: ${lineageUuid} (serial ${stateMeta.serial})`);\n      }\n\n      return { ...existingLineage, ...updates };\n    } else {\n      // Create new lineage record\n      const lineageRecord = {\n        id: lineageUuid,\n        latestSerial: stateMeta.serial,\n        latestStateId: stateMeta.stateFileId,\n        totalStates: 1,\n        firstImportedAt: currentTime,\n        lastImportedAt: currentTime,\n        metadata: {}\n      };\n\n      await this.lineagesResource.insert(lineageRecord);\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Created new lineage: ${lineageUuid}`);\n      }\n\n      return lineageRecord;\n    }\n  }\n\n  /**\n   * Import Terraform/OpenTofu state from file\n   * @param {string} filePath - Path to .tfstate file\n   * @returns {Promise<Object>} Import result with statistics\n   */\n  async importState(filePath) {\n    const startTime = Date.now();\n\n    if (this.verbose) {\n      console.log(`[TfStatePlugin] Importing state from: ${filePath}`);\n    }\n\n    // Read and parse state file\n    const state = await this._readStateFile(filePath);\n\n    // Validate state version\n    this._validateStateVersion(state);\n\n    // Calculate SHA256 hash for deduplication\n    const sha256Hash = this._calculateSHA256(state);\n\n    // Check if this exact state already exists (by SHA256)\n    const existingByHash = await this.stateFilesResource.query({ sha256Hash }, { limit: 1 });\n\n    if (existingByHash.length > 0) {\n      // Exact same state already imported, skip\n      const existing = existingByHash[0];\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] State already imported (SHA256 match), skipping`);\n      }\n\n      return {\n        skipped: true,\n        reason: 'duplicate',\n        serial: state.serial,\n        stateFileId: existing.id,\n        sha256Hash\n      };\n    }\n\n    const currentTime = Date.now();\n\n    // Extract lineage UUID (required for lineage-based tracking)\n    const lineageUuid = state.lineage;\n    if (!lineageUuid) {\n      throw new TfStateError('State file missing lineage field - cannot track state progression', {\n        filePath,\n        serial: state.serial\n      });\n    }\n\n    // Create state file record with lineageId\n    const stateFileRecord = {\n      id: idGenerator(),\n      lineageId: lineageUuid,           // NEW: FK to lineages\n      sourceFile: filePath,\n      serial: state.serial,\n      lineage: state.lineage,           // Denormalized for queries\n      terraformVersion: state.terraform_version,\n      stateVersion: state.version,\n      resourceCount: (state.resources || []).length,\n      sha256Hash,\n      importedAt: currentTime\n    };\n\n    const [insertOk, insertErr, stateFileResult] = await tryFn(async () => {\n      return await this.stateFilesResource.insert(stateFileRecord);\n    });\n\n    if (!insertOk) {\n      throw new TfStateError(`Failed to save state file metadata: ${insertErr.message}`, {\n        originalError: insertErr\n      });\n    }\n\n    const stateFileId = stateFileResult.id;\n\n    // Ensure lineage record exists and is updated\n    await this._ensureLineage(lineageUuid, {\n      serial: state.serial,\n      stateFileId\n    });\n\n    // Extract resources with stateFileId and lineageId\n    const resources = await this._extractResources(state, filePath, stateFileId, lineageUuid);\n\n    // Insert resources BEFORE diff calculation so they're available for querying\n    const inserted = await this._insertResources(resources);\n\n    // Calculate diff if enabled (using lineage-based tracking)\n    let diff = null;\n    let diffRecord = null;\n    if (this.trackDiffs) {\n      diff = await this._calculateDiff(state, lineageUuid, stateFileId);\n\n      // Save diff to diffsResource\n      if (diff && !diff.isFirst) {\n        diffRecord = await this._saveDiff(diff, lineageUuid, stateFileId);\n      }\n    }\n\n    // Update last processed serial\n    this.lastProcessedSerial = state.serial;\n\n    // Update statistics\n    this.stats.statesProcessed++;\n    this.stats.resourcesExtracted += (resources.totalExtracted || resources.length);\n    this.stats.resourcesInserted += inserted.length;\n    this.stats.lastProcessedSerial = state.serial;\n    if (diff && !diff.isFirst) this.stats.diffsCalculated++;\n\n    const duration = Date.now() - startTime;\n\n    const result = {\n      serial: state.serial,\n      lineage: state.lineage,\n      terraformVersion: state.terraform_version,\n      resourcesExtracted: (resources.totalExtracted || resources.length),\n      resourcesInserted: inserted.length,\n      stateFileId,\n      sha256Hash,\n      diff: diff ? {\n        added: diff.added.length,\n        modified: diff.modified.length,\n        deleted: diff.deleted.length,\n        isFirst: diff.isFirst || false\n      } : null,\n      duration\n    };\n\n    if (this.verbose) {\n      console.log(`[TfStatePlugin] Import completed:`, result);\n    }\n\n    this.emit('stateImported', result);\n\n    return result;\n  }\n\n  /**\n   * Read and parse Tfstate file\n   * @private\n   */\n  async _readStateFile(filePath) {\n    if (!existsSync(filePath)) {\n      throw new StateFileNotFoundError(filePath);\n    }\n\n    const [ok, err, content] = await tryFn(async () => {\n      return await readFile(filePath, 'utf-8');\n    });\n\n    if (!ok) {\n      throw new InvalidStateFileError(filePath, `Failed to read file: ${err.message}`);\n    }\n\n    const [parseOk, parseErr, state] = await tryFn(async () => {\n      return JSON.parse(content);\n    });\n\n    if (!parseOk) {\n      throw new InvalidStateFileError(filePath, `Invalid JSON: ${parseErr.message}`);\n    }\n\n    return state;\n  }\n\n  /**\n   * Validate basic state structure\n   * @private\n   */\n  _validateState(state, filePath) {\n    if (!state || typeof state !== 'object') {\n      throw new InvalidStateFileError(filePath, 'State must be a valid JSON object');\n    }\n\n    if (!state.version) {\n      throw new InvalidStateFileError(filePath, 'Missing version field');\n    }\n\n    if (state.serial === undefined) {\n      throw new InvalidStateFileError(filePath, 'Missing serial field');\n    }\n  }\n\n  /**\n   * Validate Tfstate version\n   * @private\n   */\n  _validateStateVersion(state) {\n    const version = state.version;\n\n    if (!version) {\n      throw new InvalidStateFileError('unknown', 'Missing version field');\n    }\n\n    if (!this.supportedVersions.includes(version)) {\n      throw new UnsupportedStateVersionError(version, this.supportedVersions);\n    }\n  }\n\n  /**\n   * Extract resources from Tfstate\n   * @private\n   */\n  async _extractResources(state, filePath, stateFileId, lineageId) {\n    const resources = [];\n    let totalExtracted = 0;\n    const stateSerial = state.serial;\n    const stateVersion = state.version;\n    const importedAt = Date.now();\n\n    // Extract resources from state (format varies by version)\n    const stateResources = state.resources || [];\n\n    for (const resource of stateResources) {\n      try {\n        // Extract instances (can be multiple for count/for_each)\n        const instances = resource.instances || [resource];\n\n        for (const instance of instances) {\n          totalExtracted++; // Count all extracted resources before filtering\n\n          const extracted = this._extractResourceInstance(\n            resource,\n            instance,\n            stateSerial,\n            stateVersion,\n            importedAt,\n            filePath,    // Pass source file path\n            stateFileId, // Pass state file ID (foreign key)\n            lineageId    // NEW: Pass lineage ID (foreign key)\n          );\n\n          // Apply filters\n          if (this._shouldIncludeResource(extracted)) {\n            resources.push(extracted);\n          }\n        }\n      } catch (error) {\n        this.stats.errors++;\n\n        if (this.verbose) {\n          console.error(`[TfStatePlugin] Failed to extract resource:`, error);\n        }\n\n        throw new ResourceExtractionError(resource.name || 'unknown', error);\n      }\n    }\n\n    // Store total extracted count as metadata on the returned array\n    resources.totalExtracted = totalExtracted;\n\n    return resources;\n  }\n\n  /**\n   * Extract single resource instance\n   * @private\n   */\n  _extractResourceInstance(resource, instance, stateSerial, stateVersion, importedAt, sourceFile, stateFileId, lineageId) {\n    const resourceType = resource.type;\n    const resourceName = resource.name;\n    const mode = resource.mode || 'managed';\n\n    // Detect provider from resource type (e.g., aws_instance → aws)\n    const providerName = this._detectProvider(resourceType);\n\n    // Generate address (e.g., aws_instance.web_server or data.aws_ami.ubuntu)\n    const resourceAddress = mode === 'data'\n      ? `data.${resourceType}.${resourceName}`\n      : `${resourceType}.${resourceName}`;\n\n    // Extract attributes\n    const attributes = instance.attributes || instance.attributes_flat || {};\n\n    // Extract dependencies\n    const dependencies = resource.depends_on || instance.depends_on || [];\n\n    return {\n      id: idGenerator(),\n      stateFileId,        // Foreign key to state_files\n      lineageId,          // NEW: Foreign key to lineages\n      stateSerial,        // Denormalized for fast queries\n      sourceFile: sourceFile || null, // Denormalized for informational purposes\n      resourceType,\n      resourceName,\n      resourceAddress,\n      providerName,\n      mode,\n      attributes,\n      dependencies,\n      importedAt\n    };\n  }\n\n  /**\n   * Detect provider from resource type\n   * @private\n   */\n  _detectProvider(resourceType) {\n    if (!resourceType) return 'unknown';\n\n    // Extract prefix (everything before first underscore)\n    const prefix = resourceType.split('_')[0];\n\n    // Provider map\n    const providerMap = {\n      'aws': 'aws',\n      'google': 'google',\n      'azurerm': 'azure',\n      'azuread': 'azure',\n      'azuredevops': 'azure',\n      'kubernetes': 'kubernetes',\n      'helm': 'kubernetes',\n      'random': 'random',\n      'null': 'null',\n      'local': 'local',\n      'time': 'time',\n      'tls': 'tls',\n      'http': 'http',\n      'external': 'external',\n      'terraform': 'terraform',\n      'datadog': 'datadog',\n      'cloudflare': 'cloudflare',\n      'github': 'github',\n      'gitlab': 'gitlab',\n      'vault': 'vault'\n    };\n\n    return providerMap[prefix] || 'unknown';\n  }\n\n  /**\n   * Check if resource should be included based on filters\n   * @private\n   */\n  _shouldIncludeResource(resource) {\n    const { types, providers, exclude, include } = this.filters;\n\n    // Include filter (allowlist)\n    if (include && include.length > 0) {\n      const matches = include.some(pattern => {\n        return this._matchesPattern(resource.resourceAddress, pattern);\n      });\n      if (!matches) return false;\n    }\n\n    // Type filter\n    if (types && types.length > 0) {\n      if (!types.includes(resource.resourceType)) {\n        return false;\n      }\n    }\n\n    // Provider filter\n    if (providers && providers.length > 0) {\n      if (!providers.includes(resource.providerName)) {\n        return false;\n      }\n    }\n\n    // Exclude filter (blocklist)\n    if (exclude && exclude.length > 0) {\n      const matches = exclude.some(pattern => {\n        return this._matchesPattern(resource.resourceAddress, pattern);\n      });\n      if (matches) return false;\n    }\n\n    return true;\n  }\n\n  /**\n   * Match resource address against pattern (supports wildcards)\n   * @private\n   */\n  _matchesPattern(address, pattern) {\n    // Convert pattern to regex (simple wildcard support)\n    // Handle .* as wildcard sequence, escape other dots\n    const regexPattern = pattern\n      .replace(/\\.\\*/g, '___WILDCARD___')  // Protect .* wildcards\n      .replace(/\\*/g, '[^.]*')             // * matches anything except dots\n      .replace(/\\./g, '\\\\.')               // Escape remaining literal dots\n      .replace(/___WILDCARD___/g, '.*');   // Restore .* wildcards\n\n    const regex = new RegExp(`^${regexPattern}$`);\n    return regex.test(address);\n  }\n\n  /**\n   * Calculate diff between current and previous state\n   * NEW: Uses lineage-based tracking for O(1) lookup\n   * @private\n   */\n  async _calculateDiff(currentState, lineageId, currentStateFileId) {\n    if (!this.diffsResource) return null;\n\n    const currentSerial = currentState.serial;\n\n    // O(1) lookup: Direct partition query for previous state\n    // NEW: Uses byLineageSerial partition for efficient lookup\n    const previousStateFiles = await this.stateFilesResource.listPartition({\n      partition: 'byLineageSerial',\n      partitionValues: { lineageId, serial: currentSerial - 1 }\n    });\n\n    if (this.verbose) {\n      console.log(\n        `[TfStatePlugin] Diff calculation (lineage-based): found ${previousStateFiles.length} previous states for lineage=${lineageId}, serial=${currentSerial - 1}`\n      );\n    }\n\n    if (previousStateFiles.length === 0) {\n      // First state for this lineage, no diff\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] First state for lineage ${lineageId}, no previous state`);\n      }\n      return {\n        added: [],\n        modified: [],\n        deleted: [],\n        isFirst: true,\n        oldSerial: null,\n        newSerial: currentSerial,\n        oldStateId: null,\n        newStateId: currentStateFileId,\n        lineageId\n      };\n    }\n\n    const previousStateFile = previousStateFiles[0];\n    const previousSerial = previousStateFile.serial;\n    const previousStateFileId = previousStateFile.id;\n\n    if (this.verbose) {\n      console.log(\n        `[TfStatePlugin] Using previous state: serial ${previousSerial} (id: ${previousStateFileId})`\n      );\n    }\n\n    const [ok, err, diff] = await tryFn(async () => {\n      return await this._computeDiff(previousSerial, currentSerial, lineageId);\n    });\n\n    if (!ok) {\n      throw new StateDiffError(previousSerial, currentSerial, err);\n    }\n\n    // Add metadata to diff\n    diff.oldSerial = previousSerial;\n    diff.newSerial = currentSerial;\n    diff.oldStateId = previousStateFileId;\n    diff.newStateId = currentStateFileId;\n    diff.lineageId = lineageId;\n\n    return diff;\n  }\n\n  /**\n   * Compute diff between two state serials\n   * NEW: Uses lineage-based partition for efficient resource lookup\n   * @private\n   */\n  async _computeDiff(oldSerial, newSerial, lineageId) {\n    // NEW: Use lineage-based partition for O(1) lookup\n    const partitionName = 'byLineageSerial';\n\n    let oldResources, newResources;\n\n    // Efficient: Use lineage-based partition queries (O(1) per serial)\n    this.stats.partitionQueriesOptimized += 2;\n    [oldResources, newResources] = await Promise.all([\n      this.resource.listPartition({\n        partition: partitionName,\n        partitionValues: { lineageId, stateSerial: oldSerial }\n      }),\n      this.resource.listPartition({\n        partition: partitionName,\n        partitionValues: { lineageId, stateSerial: newSerial }\n      })\n    ]);\n\n    if (this.verbose) {\n      console.log(\n        `[TfStatePlugin] Diff computation using lineage partition: ${oldResources.length} old + ${newResources.length} new resources`\n      );\n    }\n\n    // Fallback removed - lineage-based partitions are always available\n    if (oldResources.length === 0 && newResources.length === 0) {\n      if (this.verbose) {\n        console.log('[TfStatePlugin] No resources found for either serial');\n      }\n      return {\n        added: [],\n        modified: [],\n        deleted: []\n      };\n    }\n\n    // Create maps for easier lookup by resourceAddress\n    const oldMap = new Map(oldResources.map(r => [r.resourceAddress, r]));\n    const newMap = new Map(newResources.map(r => [r.resourceAddress, r]));\n\n    const added = [];\n    const modified = [];\n    const deleted = [];\n\n    // Find added and modified\n    for (const [address, newResource] of newMap) {\n      if (!oldMap.has(address)) {\n        added.push({\n          address,\n          type: newResource.resourceType,\n          name: newResource.resourceName\n        });\n      } else {\n        // Check if modified (simple attribute comparison)\n        const oldResource = oldMap.get(address);\n        if (JSON.stringify(oldResource.attributes) !== JSON.stringify(newResource.attributes)) {\n          modified.push({\n            address,\n            type: newResource.resourceType,\n            name: newResource.resourceName,\n            changes: this._computeAttributeChanges(oldResource.attributes, newResource.attributes)\n          });\n        }\n      }\n    }\n\n    // Find deleted\n    for (const [address, oldResource] of oldMap) {\n      if (!newMap.has(address)) {\n        deleted.push({\n          address,\n          type: oldResource.resourceType,\n          name: oldResource.resourceName\n        });\n      }\n    }\n\n    return { added, modified, deleted, oldSerial, newSerial };\n  }\n\n  /**\n   * Compute changes between old and new attributes\n   * @private\n   */\n  _computeAttributeChanges(oldAttrs, newAttrs) {\n    const changes = [];\n    const allKeys = new Set([...Object.keys(oldAttrs || {}), ...Object.keys(newAttrs || {})]);\n\n    for (const key of allKeys) {\n      const oldValue = oldAttrs?.[key];\n      const newValue = newAttrs?.[key];\n\n      if (JSON.stringify(oldValue) !== JSON.stringify(newValue)) {\n        changes.push({\n          field: key,\n          oldValue,\n          newValue\n        });\n      }\n    }\n\n    return changes;\n  }\n\n  /**\n   * Save diff to diffsResource\n   * NEW: Includes lineage-based fields for efficient querying\n   * @private\n   */\n  async _saveDiff(diff, lineageId, newStateFileId) {\n    const diffRecord = {\n      id: idGenerator(),\n      lineageId: diff.lineageId || lineageId,     // NEW: FK to lineages\n      oldSerial: diff.oldSerial,\n      newSerial: diff.newSerial,\n      oldStateId: diff.oldStateId,                 // NEW: FK to state_files\n      newStateId: diff.newStateId || newStateFileId, // NEW: FK to state_files\n      calculatedAt: Date.now(),\n      summary: {\n        addedCount: diff.added.length,\n        modifiedCount: diff.modified.length,\n        deletedCount: diff.deleted.length\n      },\n      changes: {\n        added: diff.added,\n        modified: diff.modified,\n        deleted: diff.deleted\n      }\n    };\n\n    const [ok, err, result] = await tryFn(async () => {\n      return await this.diffsResource.insert(diffRecord);\n    });\n\n    if (!ok) {\n      if (this.verbose) {\n        console.error(`[TfStatePlugin] Failed to save diff:`, err);\n      }\n      throw new TfStateError(`Failed to save diff: ${err.message}`, {\n        originalError: err\n      });\n    }\n\n    return result;\n  }\n\n  /**\n   * Calculate SHA256 hash of state content\n   * @private\n   */\n  _calculateSHA256(state) {\n    const stateString = JSON.stringify(state);\n    return createHash('sha256').update(stateString).digest('hex');\n  }\n\n  /**\n   * Insert resources into database with controlled parallelism\n   * @private\n   */\n  async _insertResources(resources) {\n    if (resources.length === 0) return [];\n\n    const inserted = [];\n    const parallelism = this.database.parallelism || 10;\n\n    // Process in batches to control parallelism\n    for (let i = 0; i < resources.length; i += parallelism) {\n      const batch = resources.slice(i, i + parallelism);\n\n      const batchPromises = batch.map(async (resource) => {\n        const [ok, err, result] = await tryFn(async () => {\n          return await this.resource.insert(resource);\n        });\n\n        if (ok) {\n          return { success: true, result };\n        } else {\n          this.stats.errors++;\n          if (this.verbose) {\n            console.error(`[TfStatePlugin] Failed to insert resource ${resource.resourceAddress}:`, err);\n          }\n          return { success: false, error: err };\n        }\n      });\n\n      const batchResults = await Promise.all(batchPromises);\n\n      // Collect successful inserts\n      batchResults.forEach(br => {\n        if (br.success) {\n          inserted.push(br.result);\n        }\n      });\n    }\n\n    if (this.verbose && resources.length > parallelism) {\n      console.log(`[TfStatePlugin] Batch inserted ${inserted.length}/${resources.length} resources (parallelism: ${parallelism})`);\n    }\n\n    return inserted;\n  }\n\n  /**\n   * Setup cron-based monitoring for state file changes\n   * @private\n   */\n  async _setupCronMonitoring() {\n    if (!this.driver) {\n      throw new TfStateError('Cannot setup monitoring without a driver');\n    }\n\n    if (this.verbose) {\n      console.log(`[TfStatePlugin] Setting up cron monitoring: ${this.monitorCron}`);\n    }\n\n    // Validate plugin dependencies are installed\n    await requirePluginDependency('tfstate-plugin');\n\n    // Dynamically import node-cron\n    const [ok, err, cronModule] = await tryFn(() => import('node-cron'));\n    if (!ok) {\n      throw new TfStateError(`Failed to import node-cron: ${err.message}`);\n    }\n    const cron = cronModule.default;\n\n    // Validate cron expression\n    if (!cron.validate(this.monitorCron)) {\n      throw new TfStateError(`Invalid cron expression: ${this.monitorCron}`);\n    }\n\n    // Create cron task\n    this.cronTask = cron.schedule(this.monitorCron, async () => {\n      try {\n        await this._monitorStateFiles();\n      } catch (error) {\n        this.stats.errors++;\n        if (this.verbose) {\n          console.error('[TfStatePlugin] Monitoring error:', error);\n        }\n        this.emit('monitoringError', { error: error.message });\n      }\n    });\n\n    if (this.verbose) {\n      console.log('[TfStatePlugin] Cron monitoring started');\n    }\n\n    this.emit('monitoringStarted', { cron: this.monitorCron });\n  }\n\n  /**\n   * Monitor state files for changes\n   * Called by cron task\n   * @private\n   */\n  async _monitorStateFiles() {\n    if (!this.driver) return;\n\n    if (this.verbose) {\n      console.log('[TfStatePlugin] Checking for state file changes...');\n    }\n\n    const startTime = Date.now();\n\n    try {\n      // List all state files matching selector\n      const stateFiles = await this.driver.listStateFiles();\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Found ${stateFiles.length} state files`);\n      }\n\n      // Process each state file\n      let changedFiles = 0;\n      let newFiles = 0;\n\n      for (const fileMetadata of stateFiles) {\n        try {\n          // Check if this file exists in our database\n          const existing = await this.stateFilesResource.query({\n            sourceFile: fileMetadata.path\n          }, { limit: 1, sort: { serial: -1 } });\n\n          let shouldProcess = false;\n\n          if (existing.length === 0) {\n            // New file\n            shouldProcess = true;\n            newFiles++;\n          } else {\n            // Check if file has been modified\n            const lastImported = existing[0].importedAt;\n            const hasChanged = await this.driver.hasBeenModified(\n              fileMetadata.path,\n              new Date(lastImported)\n            );\n\n            if (hasChanged) {\n              shouldProcess = true;\n              changedFiles++;\n            }\n          }\n\n          if (shouldProcess) {\n            // Read and import the state file\n            const state = await this.driver.readStateFile(fileMetadata.path);\n\n            // Validate and process\n            this._validateState(state, fileMetadata.path);\n            this._validateStateVersion(state);\n\n            // Calculate SHA256\n            const sha256Hash = this._calculateSHA256(state);\n\n            // Check for duplicates\n            const duplicates = await this.stateFilesResource.query({ sha256Hash }, { limit: 1 });\n\n            if (duplicates.length > 0) {\n              // Skip duplicate\n              if (this.verbose) {\n                console.log(`[TfStatePlugin] Skipped duplicate: ${fileMetadata.path}`);\n              }\n              continue;\n            }\n\n            // Create state file record\n            const currentTime = Date.now();\n            const stateFileRecord = {\n              id: idGenerator(),\n              sourceFile: fileMetadata.path,\n              serial: state.serial,\n              lineage: state.lineage,\n              terraformVersion: state.terraform_version,\n              stateVersion: state.version,\n              resourceCount: (state.resources || []).length,\n              sha256Hash,\n              importedAt: currentTime\n            };\n\n            const [insertOk, insertErr, stateFileResult] = await tryFn(async () => {\n              return await this.stateFilesResource.insert(stateFileRecord);\n            });\n\n            if (!insertOk) {\n              throw new TfStateError(`Failed to save state file: ${insertErr.message}`);\n            }\n\n            const stateFileId = stateFileResult.id;\n\n            // Extract resources\n            const resources = await this._extractResources(state, fileMetadata.path, stateFileId);\n\n            // Calculate diff if enabled\n            if (this.trackDiffs) {\n              const diff = await this._calculateDiff(state, fileMetadata.path, stateFileId);\n              if (diff && !diff.isFirst) {\n                await this._saveDiff(diff, fileMetadata.path, stateFileId);\n                this.stats.diffsCalculated++;\n              }\n            }\n\n            // Insert resources\n            const inserted = await this._insertResources(resources);\n\n            // Update stats\n            this.stats.statesProcessed++;\n            this.stats.resourcesExtracted += (resources.totalExtracted || resources.length);\n            this.stats.resourcesInserted += inserted.length;\n            this.stats.lastProcessedSerial = state.serial;\n\n            if (this.verbose) {\n              console.log(`[TfStatePlugin] Processed ${fileMetadata.path}: ${resources.totalExtracted || resources.length} resources`);\n            }\n\n            this.emit('stateFileProcessed', {\n              path: fileMetadata.path,\n              serial: state.serial,\n              resourcesExtracted: (resources.totalExtracted || resources.length),\n              resourcesInserted: inserted.length\n            });\n          }\n        } catch (error) {\n          this.stats.errors++;\n          if (this.verbose) {\n            console.error(`[TfStatePlugin] Failed to process ${fileMetadata.path}:`, error);\n          }\n          this.emit('processingError', {\n            path: fileMetadata.path,\n            error: error.message\n          });\n        }\n      }\n\n      const duration = Date.now() - startTime;\n\n      const result = {\n        totalFiles: stateFiles.length,\n        newFiles,\n        changedFiles,\n        duration\n      };\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Monitoring completed:`, result);\n      }\n\n      this.emit('monitoringCompleted', result);\n\n      return result;\n    } catch (error) {\n      this.stats.errors++;\n      if (this.verbose) {\n        console.error('[TfStatePlugin] Monitoring failed:', error);\n      }\n      throw error;\n    }\n  }\n\n  /**\n   * Setup file watchers for auto-sync\n   * @private\n   */\n  async _setupFileWatchers() {\n    for (const path of this.watchPaths) {\n      try {\n        const watcher = watch(path);\n\n        (async () => {\n          for await (const event of watcher) {\n            if (event.eventType === 'change' && event.filename.endsWith('.tfstate')) {\n              const filePath = `${path}/${event.filename}`;\n\n              if (this.verbose) {\n                console.log(`[TfStatePlugin] Detected change: ${filePath}`);\n              }\n\n              try {\n                await this.importState(filePath);\n              } catch (error) {\n                this.stats.errors++;\n                console.error(`[TfStatePlugin] Auto-import failed:`, error);\n                this.emit('importError', { filePath, error });\n              }\n            }\n          }\n        })();\n\n        this.watchers.push(watcher);\n\n        if (this.verbose) {\n          console.log(`[TfStatePlugin] Watching: ${path}`);\n        }\n      } catch (error) {\n        throw new FileWatchError(path, error);\n      }\n    }\n  }\n\n  /**\n   * Export resources to Tfstate format\n   * @param {Object} options - Export options\n   * @param {number} options.serial - Specific serial to export (default: latest)\n   * @param {string[]} options.resourceTypes - Filter by resource types\n   * @param {string} options.terraformVersion - Terraform version for output (default: '1.5.0')\n   * @param {string} options.lineage - State lineage (default: auto-generated)\n   * @param {Object} options.outputs - Terraform outputs to include\n   * @returns {Promise<Object>} Tfstate object\n   *\n   * @example\n   * // Export latest state\n   * const state = await plugin.exportState();\n   *\n   * // Export specific serial\n   * const state = await plugin.exportState({ serial: 5 });\n   *\n   * // Export only EC2 instances\n   * const state = await plugin.exportState({\n   *   resourceTypes: ['aws_instance']\n   * });\n   */\n  async exportState(options = {}) {\n    const {\n      serial,\n      resourceTypes,\n      terraformVersion = '1.5.0',\n      lineage,\n      outputs = {},\n      sourceFile // Optional: export from specific source file\n    } = options;\n\n    // Determine which serial to export\n    let targetSerial = serial;\n\n    if (!targetSerial) {\n      // Get latest serial from state files\n      const queryFilter = sourceFile ? { sourceFile } : {};\n\n      const latestStateFiles = await this.stateFilesResource.query(queryFilter, {\n        limit: 1,\n        sort: { serial: -1 }\n      });\n\n      if (latestStateFiles.length > 0) {\n        targetSerial = latestStateFiles[0].serial;\n      }\n\n      // If still no serial, use lastProcessedSerial or 1\n      if (!targetSerial) {\n        targetSerial = this.lastProcessedSerial || 1;\n      }\n    }\n\n    // Query resources for this serial - use partition if available\n    const partitionName = this._findPartitionByField(this.resource, 'stateSerial');\n    let resources;\n\n    if (partitionName) {\n      // Efficient: Use partition query (O(1))\n      this.stats.partitionQueriesOptimized++;\n      resources = await this.resource.list({\n        partition: partitionName,\n        partitionValues: { stateSerial: targetSerial }\n      });\n\n      if (this.verbose) {\n        console.log(`[TfStatePlugin] Export using partition ${partitionName}: ${resources.length} resources`);\n      }\n\n      // Filter by resource types if specified (query() doesn't support $in operator)\n      if (resourceTypes && resourceTypes.length > 0) {\n        resources = resources.filter(r => resourceTypes.includes(r.resourceType));\n      }\n    } else {\n      // Fallback: Load all and filter (query() doesn't support $in operator)\n      if (this.verbose) {\n        console.log('[TfStatePlugin] No partition found for stateSerial, using full scan');\n      }\n      const allResources = await this.resource.list({ limit: 100000 });\n      resources = allResources.filter(r => {\n        if (r.stateSerial !== targetSerial) return false;\n        if (resourceTypes && resourceTypes.length > 0) {\n          return resourceTypes.includes(r.resourceType);\n        }\n        return true;\n      });\n    }\n\n    if (this.verbose) {\n      console.log(`[TfStatePlugin] Exporting ${resources.length} resources from serial ${targetSerial}`);\n    }\n\n    // Group resources by type+name to reconstruct Terraform structure\n    const resourceMap = new Map();\n\n    for (const resource of resources) {\n      const key = `${resource.mode}.${resource.resourceType}.${resource.resourceName}`;\n\n      if (!resourceMap.has(key)) {\n        resourceMap.set(key, {\n          mode: resource.mode || 'managed',\n          type: resource.resourceType,\n          name: resource.resourceName,\n          provider: resource.providerName,\n          instances: []\n        });\n      }\n\n      // Add instance\n      resourceMap.get(key).instances.push({\n        attributes: resource.attributes,\n        dependencies: resource.dependencies || []\n      });\n    }\n\n    // Sort instances deterministically for each resource group\n    for (const resourceGroup of resourceMap.values()) {\n      resourceGroup.instances.sort((a, b) => {\n        // Sort by attributes.id if available (most common identifier)\n        const aId = a.attributes?.id;\n        const bId = b.attributes?.id;\n        if (aId && bId) {\n          return String(aId).localeCompare(String(bId));\n        }\n        // Fallback: sort by stringified attributes for deterministic ordering\n        return JSON.stringify(a.attributes).localeCompare(JSON.stringify(b.attributes));\n      });\n    }\n\n    // Convert map to array\n    const terraformResources = Array.from(resourceMap.values());\n\n    // Generate or use provided lineage\n    const stateLineage = lineage || `s3db-export-${Date.now()}`;\n\n    // Construct state object\n    const state = {\n      version: 4,\n      terraform_version: terraformVersion,\n      serial: targetSerial,\n      lineage: stateLineage,\n      outputs,\n      resources: terraformResources\n    };\n\n    if (this.verbose) {\n      console.log(`[TfStatePlugin] Export complete:`, {\n        serial: targetSerial,\n        resourceCount: resources.length,\n        groupedResourceCount: terraformResources.length\n      });\n    }\n\n    this.emit('stateExported', { serial: targetSerial, resourceCount: resources.length });\n\n    return state;\n  }\n\n  /**\n   * Export state to local file\n   * @param {string} filePath - Output file path\n   * @param {Object} options - Export options (see exportState)\n   * @returns {Promise<Object>} Export result with file path and stats\n   *\n   * @example\n   * // Export to file\n   * await plugin.exportStateToFile('./exported-state.tfstate');\n   *\n   * // Export specific serial\n   * await plugin.exportStateToFile('./state-v5.tfstate', { serial: 5 });\n   */\n  async exportStateToFile(filePath, options = {}) {\n    const state = await this.exportState(options);\n\n    const { writeFileSync } = await import('fs');\n    writeFileSync(filePath, JSON.stringify(state, null, 2));\n\n    if (this.verbose) {\n      console.log(`[TfStatePlugin] State exported to file: ${filePath}`);\n    }\n\n    return {\n      filePath,\n      serial: state.serial,\n      resourceCount: state.resources.reduce((sum, r) => sum + r.instances.length, 0),\n      groupedResourceCount: state.resources.length\n    };\n  }\n\n  /**\n   * Export state to S3\n   * @param {string} bucket - S3 bucket name\n   * @param {string} key - S3 object key\n   * @param {Object} options - Export options (see exportState)\n   * @param {Object} options.client - Optional S3 client override\n   * @returns {Promise<Object>} Export result with S3 location and stats\n   *\n   * @example\n   * // Export to S3\n   * await plugin.exportStateToS3('my-bucket', 'terraform/exported.tfstate');\n   *\n   * // Export with custom options\n   * await plugin.exportStateToS3('my-bucket', 'terraform/prod.tfstate', {\n   *   serial: 10,\n   *   terraformVersion: '1.6.0',\n   *   lineage: 'prod-infrastructure'\n   * });\n   */\n  async exportStateToS3(bucket, key, options = {}) {\n    const state = await this.exportState(options);\n    const client = options.client || this.database.client;\n\n    await client.putObject({\n      key: key,\n      body: JSON.stringify(state, null, 2),\n      contentType: 'application/json'\n    });\n\n    if (this.verbose) {\n      console.log(`[TfStatePlugin] State exported to S3: s3://${bucket}/${key}`);\n    }\n\n    this.emit('stateExportedToS3', { bucket, key, serial: state.serial });\n\n    return {\n      bucket,\n      key,\n      location: `s3://${bucket}/${key}`,\n      serial: state.serial,\n      resourceCount: state.resources.reduce((sum, r) => sum + r.instances.length, 0),\n      groupedResourceCount: state.resources.length\n    };\n  }\n\n  /**\n   * Get diffs with lookback support\n   * Retrieves the last N diffs for a given state file\n   * @param {string} sourceFile - Source file path\n   * @param {Object} options - Query options\n   * @param {number} options.lookback - Number of historical diffs to retrieve (default: this.diffsLookback)\n   * @param {boolean} options.includeDetails - Include detailed changes (default: false, only summary)\n   * @returns {Promise<Array>} Array of diffs ordered by serial (newest first)\n   *\n   * @example\n   * // Get last 10 diffs\n   * const diffs = await plugin.getDiffsWithLookback('terraform.tfstate');\n   *\n   * // Get last 5 diffs with details\n   * const diffs = await plugin.getDiffsWithLookback('terraform.tfstate', {\n   *   lookback: 5,\n   *   includeDetails: true\n   * });\n   */\n  async getDiffsWithLookback(sourceFile, options = {}) {\n    if (!this.diffsResource) {\n      throw new TfStateError('Diff tracking is not enabled for this plugin');\n    }\n\n    const lookback = options.lookback || this.diffsLookback;\n    const includeDetails = options.includeDetails || false;\n\n    // Query diffs for this source file\n    const diffs = await this.diffsResource.query(\n      { sourceFile },\n      {\n        limit: lookback,\n        sort: { newSerial: -1 } // Newest first\n      }\n    );\n\n    if (!includeDetails) {\n      // Return only summary information\n      return diffs.map(diff => ({\n        id: diff.id,\n        oldSerial: diff.oldSerial,\n        newSerial: diff.newSerial,\n        calculatedAt: diff.calculatedAt,\n        summary: diff.summary\n      }));\n    }\n\n    return diffs;\n  }\n\n  /**\n   * Get diff timeline for a state file\n   * Shows progression of changes over time\n   * @param {string} sourceFile - Source file path\n   * @param {Object} options - Query options\n   * @param {number} options.lookback - Number of diffs to include in timeline\n   * @returns {Promise<Object>} Timeline with statistics and diff history\n   *\n   * @example\n   * const timeline = await plugin.getDiffTimeline('terraform.tfstate', { lookback: 20 });\n   * console.log(timeline.summary); // Overall statistics\n   * console.log(timeline.diffs); // Chronological diff history\n   */\n  async getDiffTimeline(sourceFile, options = {}) {\n    const diffs = await this.getDiffsWithLookback(sourceFile, {\n      ...options,\n      includeDetails: false\n    });\n\n    // Calculate cumulative statistics\n    const timeline = {\n      sourceFile,\n      totalDiffs: diffs.length,\n      summary: {\n        totalAdded: 0,\n        totalModified: 0,\n        totalDeleted: 0,\n        serialRange: {\n          oldest: diffs.length > 0 ? Math.min(...diffs.map(d => d.oldSerial)) : null,\n          newest: diffs.length > 0 ? Math.max(...diffs.map(d => d.newSerial)) : null\n        },\n        timeRange: {\n          first: diffs.length > 0 ? Math.min(...diffs.map(d => d.calculatedAt)) : null,\n          last: diffs.length > 0 ? Math.max(...diffs.map(d => d.calculatedAt)) : null\n        }\n      },\n      diffs: diffs.reverse() // Oldest first for timeline view\n    };\n\n    // Sum up all changes\n    for (const diff of diffs) {\n      if (diff.summary) {\n        timeline.summary.totalAdded += diff.summary.addedCount || 0;\n        timeline.summary.totalModified += diff.summary.modifiedCount || 0;\n        timeline.summary.totalDeleted += diff.summary.deletedCount || 0;\n      }\n    }\n\n    return timeline;\n  }\n\n  /**\n   * Compare two specific state serials\n   * @param {string} sourceFile - Source file path\n   * @param {number} oldSerial - Old state serial\n   * @param {number} newSerial - New state serial\n   * @returns {Promise<Object>} Diff object or null if not found\n   *\n   * @example\n   * const diff = await plugin.compareStates('terraform.tfstate', 5, 10);\n   */\n  async compareStates(sourceFile, oldSerial, newSerial) {\n    if (!this.diffsResource) {\n      throw new TfStateError('Diff tracking is not enabled for this plugin');\n    }\n\n    const diffs = await this.diffsResource.query({\n      sourceFile,\n      oldSerial,\n      newSerial\n    }, { limit: 1 });\n\n    if (diffs.length === 0) {\n      // Diff doesn't exist yet, calculate it\n      const [ok, err, result] = await tryFn(async () => {\n        return await this._computeDiff(oldSerial, newSerial);\n      });\n\n      if (!ok) {\n        throw new StateDiffError(oldSerial, newSerial, err);\n      }\n\n      // Add metadata\n      result.sourceFile = sourceFile;\n      result.oldSerial = oldSerial;\n      result.newSerial = newSerial;\n\n      return result;\n    }\n\n    return diffs[0];\n  }\n\n  /**\n   * Trigger monitoring check manually\n   * Useful for testing or on-demand synchronization\n   * @returns {Promise<Object>} Monitoring result\n   *\n   * @example\n   * const result = await plugin.triggerMonitoring();\n   * console.log(`Processed ${result.newFiles} new files`);\n   */\n  async triggerMonitoring() {\n    if (!this.driver) {\n      throw new TfStateError('Driver not initialized. Use driver-based configuration to enable monitoring.');\n    }\n\n    return await this._monitorStateFiles();\n  }\n\n  /**\n   * Get resources by type (uses partition for fast queries)\n   * @param {string} type - Resource type (e.g., 'aws_instance')\n   * @returns {Promise<Array>} Resources of the specified type\n   *\n   * @example\n   * const ec2Instances = await plugin.getResourcesByType('aws_instance');\n   */\n  async getResourcesByType(type) {\n    return await this.resource.listPartition({\n      partition: 'byType',\n      partitionValues: { resourceType: type }\n    });\n  }\n\n  /**\n   * Get resources by provider (uses partition for fast queries)\n   * @param {string} provider - Provider name (e.g., 'aws', 'google', 'azure')\n   * @returns {Promise<Array>} Resources from the specified provider\n   *\n   * @example\n   * const awsResources = await plugin.getResourcesByProvider('aws');\n   */\n  async getResourcesByProvider(provider) {\n    return await this.resource.listPartition({\n      partition: 'byProvider',\n      partitionValues: { providerName: provider }\n    });\n  }\n\n  /**\n   * Get resources by provider and type (uses partition for ultra-fast queries)\n   * @param {string} provider - Provider name (e.g., 'aws')\n   * @param {string} type - Resource type (e.g., 'aws_instance')\n   * @returns {Promise<Array>} Resources matching both provider and type\n   *\n   * @example\n   * const awsRds = await plugin.getResourcesByProviderAndType('aws', 'aws_db_instance');\n   */\n  async getResourcesByProviderAndType(provider, type) {\n    return await this.resource.listPartition({\n      partition: 'byProviderAndType',\n      partitionValues: {\n        providerName: provider,\n        resourceType: type\n      }\n    });\n  }\n\n  /**\n   * Get diff between two state serials\n   * Alias for compareStates() for API consistency\n   * @param {string} sourceFile - Source file path\n   * @param {number} oldSerial - Old state serial\n   * @param {number} newSerial - New state serial\n   * @returns {Promise<Object>} Diff object\n   *\n   * @example\n   * const diff = await plugin.getDiff('terraform.tfstate', 1, 2);\n   */\n  async getDiff(sourceFile, oldSerial, newSerial) {\n    return await this.compareStates(sourceFile, oldSerial, newSerial);\n  }\n\n  /**\n   * Get statistics by provider\n   * @returns {Promise<Object>} Provider counts { aws: 150, google: 30, ... }\n   *\n   * @example\n   * const stats = await plugin.getStatsByProvider();\n   * console.log(`AWS resources: ${stats.aws}`);\n   */\n  async getStatsByProvider() {\n    const allResources = await this.resource.list({ limit: 100000 });\n\n    const providerCounts = {};\n    for (const resource of allResources) {\n      const provider = resource.providerName || 'unknown';\n      providerCounts[provider] = (providerCounts[provider] || 0) + 1;\n    }\n\n    return providerCounts;\n  }\n\n  /**\n   * Get statistics by resource type\n   * @returns {Promise<Object>} Type counts { aws_instance: 20, aws_s3_bucket: 50, ... }\n   *\n   * @example\n   * const stats = await plugin.getStatsByType();\n   * console.log(`EC2 instances: ${stats.aws_instance}`);\n   */\n  async getStatsByType() {\n    const allResources = await this.resource.list({ limit: 100000 });\n\n    const typeCounts = {};\n    for (const resource of allResources) {\n      const type = resource.resourceType;\n      typeCounts[type] = (typeCounts[type] || 0) + 1;\n    }\n\n    return typeCounts;\n  }\n\n  /**\n   * Find partition by field name (for efficient queries)\n   * Uses cache to avoid repeated lookups\n   * @private\n   */\n  _findPartitionByField(resource, fieldName) {\n    if (!resource.config.partitions) return null;\n\n    // Check cache first\n    const cacheKey = `${resource.name}:${fieldName}`;\n    if (this._partitionCache.has(cacheKey)) {\n      this.stats.partitionCacheHits++;\n      return this._partitionCache.get(cacheKey);\n    }\n\n    // Find best partition for this field\n    // Prefer single-field partitions over multi-field ones (more specific)\n    let bestPartition = null;\n    let bestFieldCount = Infinity;\n\n    for (const [partitionName, partitionConfig] of Object.entries(resource.config.partitions)) {\n      if (partitionConfig.fields && fieldName in partitionConfig.fields) {\n        const fieldCount = Object.keys(partitionConfig.fields).length;\n\n        // Prefer partitions with fewer fields (more specific)\n        if (fieldCount < bestFieldCount) {\n          bestPartition = partitionName;\n          bestFieldCount = fieldCount;\n        }\n      }\n    }\n\n    // Cache the result (even if null, to avoid repeated lookups)\n    this._partitionCache.set(cacheKey, bestPartition);\n\n    return bestPartition;\n  }\n\n  /**\n   * Get plugin statistics\n   * @returns {Promise<Object>} Statistics with provider/type breakdowns\n   *\n   * @example\n   * const stats = await plugin.getStats();\n   * console.log(`Total: ${stats.totalResources} resources`);\n   * console.log(`Providers:`, stats.providers);\n   */\n  async getStats() {\n    // Get state files count\n    const stateFiles = await this.stateFilesResource.list({ limit: 100000 });\n\n    // Get resources and calculate breakdowns\n    const allResources = await this.resource.list({ limit: 100000 });\n\n    // Provider breakdown\n    const providers = {};\n    const types = {};\n    for (const resource of allResources) {\n      const provider = resource.providerName || 'unknown';\n      const type = resource.resourceType;\n\n      providers[provider] = (providers[provider] || 0) + 1;\n      types[type] = (types[type] || 0) + 1;\n    }\n\n    // Get latest serial\n    const latestSerial = stateFiles.length > 0\n      ? Math.max(...stateFiles.map(sf => sf.serial))\n      : null;\n\n    // Get diffs count\n    const diffsCount = this.trackDiffs && this.diffsResource\n      ? (await this.diffsResource.list({ limit: 100000 })).length\n      : 0;\n\n    return {\n      totalStates: stateFiles.length,\n      totalResources: allResources.length,\n      totalDiffs: diffsCount,\n      latestSerial,\n      providers,\n      types,\n      // Runtime stats\n      statesProcessed: this.stats.statesProcessed,\n      resourcesExtracted: this.stats.resourcesExtracted,\n      resourcesInserted: this.stats.resourcesInserted,\n      diffsCalculated: this.stats.diffsCalculated,\n      errors: this.stats.errors,\n      partitionCacheHits: this.stats.partitionCacheHits,\n      partitionQueriesOptimized: this.stats.partitionQueriesOptimized\n    };\n  }\n}\n\nexport default TfStatePlugin;\n","/**\n * Vector Distance Functions\n *\n * Provides distance/similarity calculations for vector operations.\n * All distance functions return lower values for more similar vectors.\n */\n\n/**\n * Calculate cosine distance between two vectors\n *\n * Range: 0 (identical) to 2 (opposite direction)\n * Best for: Normalized vectors, semantic similarity\n *\n * @param {number[]} a - First vector\n * @param {number[]} b - Second vector\n * @returns {number} Cosine distance\n * @throws {Error} If vectors have different dimensions\n */\nexport function cosineDistance(a, b) {\n  if (a.length !== b.length) {\n    throw new Error(`Dimension mismatch: ${a.length} vs ${b.length}`);\n  }\n\n  let dotProduct = 0;\n  let normA = 0;\n  let normB = 0;\n\n  for (let i = 0; i < a.length; i++) {\n    dotProduct += a[i] * b[i];\n    normA += a[i] * a[i];\n    normB += b[i] * b[i];\n  }\n\n  const denominator = Math.sqrt(normA) * Math.sqrt(normB);\n\n  // Handle zero vectors\n  if (denominator === 0) {\n    return a.every(v => v === 0) && b.every(v => v === 0) ? 0 : 1;\n  }\n\n  const similarity = dotProduct / denominator;\n\n  // Convert similarity [-1, 1] to distance [0, 2]\n  return 1 - similarity;\n}\n\n/**\n * Calculate euclidean (L2) distance between two vectors\n *\n * Range: [0, ∞)\n * Best for: Geometric proximity, continuous data\n *\n * @param {number[]} a - First vector\n * @param {number[]} b - Second vector\n * @returns {number} Euclidean distance\n * @throws {Error} If vectors have different dimensions\n */\nexport function euclideanDistance(a, b) {\n  if (a.length !== b.length) {\n    throw new Error(`Dimension mismatch: ${a.length} vs ${b.length}`);\n  }\n\n  let sum = 0;\n  for (let i = 0; i < a.length; i++) {\n    const diff = a[i] - b[i];\n    sum += diff * diff;\n  }\n\n  return Math.sqrt(sum);\n}\n\n/**\n * Calculate manhattan (L1) distance between two vectors\n *\n * Range: [0, ∞)\n * Best for: Grid-based movement, faster computation\n *\n * @param {number[]} a - First vector\n * @param {number[]} b - Second vector\n * @returns {number} Manhattan distance\n * @throws {Error} If vectors have different dimensions\n */\nexport function manhattanDistance(a, b) {\n  if (a.length !== b.length) {\n    throw new Error(`Dimension mismatch: ${a.length} vs ${b.length}`);\n  }\n\n  let sum = 0;\n  for (let i = 0; i < a.length; i++) {\n    sum += Math.abs(a[i] - b[i]);\n  }\n\n  return sum;\n}\n\n/**\n * Calculate dot product of two vectors\n *\n * Higher values indicate more similarity (for normalized vectors)\n *\n * @param {number[]} a - First vector\n * @param {number[]} b - Second vector\n * @returns {number} Dot product\n * @throws {Error} If vectors have different dimensions\n */\nexport function dotProduct(a, b) {\n  if (a.length !== b.length) {\n    throw new Error(`Dimension mismatch: ${a.length} vs ${b.length}`);\n  }\n\n  let sum = 0;\n  for (let i = 0; i < a.length; i++) {\n    sum += a[i] * b[i];\n  }\n\n  return sum;\n}\n\n/**\n * Normalize a vector to unit length (L2 normalization)\n *\n * Converts vector to unit vector pointing in same direction.\n * Useful for cosine similarity calculations.\n *\n * @param {number[]} vector - Vector to normalize\n * @returns {number[]} Normalized vector\n */\nexport function normalize(vector) {\n  const magnitude = Math.sqrt(\n    vector.reduce((sum, val) => sum + val * val, 0)\n  );\n\n  // Handle zero vector\n  if (magnitude === 0) {\n    return vector.slice(); // Return copy of zero vector\n  }\n\n  return vector.map(val => val / magnitude);\n}\n\n/**\n * Calculate the magnitude (length) of a vector\n *\n * @param {number[]} vector - Input vector\n * @returns {number} Magnitude\n */\nexport function magnitude(vector) {\n  return Math.sqrt(\n    vector.reduce((sum, val) => sum + val * val, 0)\n  );\n}\n\n/**\n * Check if two vectors are equal within a tolerance\n *\n * @param {number[]} a - First vector\n * @param {number[]} b - Second vector\n * @param {number} epsilon - Tolerance for floating point comparison\n * @returns {boolean} True if vectors are equal within tolerance\n */\nexport function vectorsEqual(a, b, epsilon = 1e-10) {\n  if (a.length !== b.length) {\n    return false;\n  }\n\n  for (let i = 0; i < a.length; i++) {\n    if (Math.abs(a[i] - b[i]) > epsilon) {\n      return false;\n    }\n  }\n\n  return true;\n}\n","/**\n * K-Means Clustering Implementation\n *\n * Provides k-means clustering with k-means++ initialization\n * and comprehensive optimal K analysis using multiple metrics.\n */\n\nimport { euclideanDistance } from './distances.js';\n\n/**\n * K-means clustering algorithm\n *\n * @param {number[][]} vectors - Array of vectors to cluster\n * @param {number} k - Number of clusters\n * @param {Object} options - Configuration options\n * @param {number} options.maxIterations - Maximum iterations (default: 100)\n * @param {number} options.tolerance - Convergence tolerance (default: 0.0001)\n * @param {Function} options.distanceFn - Distance function (default: euclideanDistance)\n * @param {number|null} options.seed - Random seed for reproducibility (default: null)\n * @param {Function} options.onIteration - Callback for each iteration (iteration, inertia, converged) (default: null)\n * @returns {Object} Clustering results\n * @throws {Error} If invalid parameters\n */\nexport function kmeans(vectors, k, options = {}) {\n  const {\n    maxIterations = 100,\n    tolerance = 0.0001,\n    distanceFn = euclideanDistance,\n    seed = null,\n    onIteration = null\n  } = options;\n\n  if (vectors.length === 0) {\n    throw new Error('Cannot cluster empty vector array');\n  }\n\n  if (k < 1) {\n    throw new Error(`k must be at least 1, got ${k}`);\n  }\n\n  if (k > vectors.length) {\n    throw new Error(`k (${k}) cannot be greater than number of vectors (${vectors.length})`);\n  }\n\n  const dimensions = vectors[0].length;\n\n  // Validate all vectors have same dimensions\n  for (let i = 1; i < vectors.length; i++) {\n    if (vectors[i].length !== dimensions) {\n      throw new Error(`All vectors must have same dimensions. Expected ${dimensions}, got ${vectors[i].length} at index ${i}`);\n    }\n  }\n\n  // Initialize centroids using k-means++\n  const centroids = initializeCentroidsKMeansPlusPlus(vectors, k, distanceFn, seed);\n\n  let assignments = new Array(vectors.length);\n  let iterations = 0;\n  let converged = false;\n  let previousInertia = Infinity;\n\n  while (!converged && iterations < maxIterations) {\n    // Assign each vector to nearest centroid\n    const newAssignments = vectors.map(vector => {\n      let minDist = Infinity;\n      let nearestCluster = 0;\n\n      for (let i = 0; i < k; i++) {\n        const dist = distanceFn(vector, centroids[i]);\n        if (dist < minDist) {\n          minDist = dist;\n          nearestCluster = i;\n        }\n      }\n\n      return nearestCluster;\n    });\n\n    // Calculate inertia (sum of squared distances to centroids)\n    let inertia = 0;\n    vectors.forEach((vector, i) => {\n      const dist = distanceFn(vector, centroids[newAssignments[i]]);\n      inertia += dist * dist;\n    });\n\n    // Check for convergence\n    const inertiaChange = Math.abs(previousInertia - inertia);\n    converged = inertiaChange < tolerance;\n\n    assignments = newAssignments;\n    previousInertia = inertia;\n\n    // Call onIteration callback if provided\n    if (onIteration) {\n      onIteration(iterations + 1, inertia, converged);\n    }\n\n    if (!converged) {\n      // Recalculate centroids\n      const clusterSums = Array(k).fill(null).map(() => new Array(dimensions).fill(0));\n      const clusterCounts = new Array(k).fill(0);\n\n      vectors.forEach((vector, i) => {\n        const cluster = assignments[i];\n        clusterCounts[cluster]++;\n        vector.forEach((val, j) => {\n          clusterSums[cluster][j] += val;\n        });\n      });\n\n      // Update centroids\n      for (let i = 0; i < k; i++) {\n        if (clusterCounts[i] > 0) {\n          centroids[i] = clusterSums[i].map(sum => sum / clusterCounts[i]);\n        }\n        // If cluster is empty, reinitialize to a random vector\n        else {\n          const randomIdx = Math.floor(Math.random() * vectors.length);\n          centroids[i] = [...vectors[randomIdx]];\n        }\n      }\n    }\n\n    iterations++;\n  }\n\n  // Final inertia calculation\n  let inertia = 0;\n  vectors.forEach((vector, i) => {\n    const dist = distanceFn(vector, centroids[assignments[i]]);\n    inertia += dist * dist;\n  });\n\n  return {\n    centroids,\n    assignments,\n    iterations,\n    converged,\n    inertia\n  };\n}\n\n/**\n * Initialize centroids using k-means++ algorithm\n *\n * K-means++ provides better initialization than random selection,\n * leading to faster convergence and better final clustering.\n *\n * @param {number[][]} vectors - Input vectors\n * @param {number} k - Number of centroids\n * @param {Function} distanceFn - Distance function\n * @param {number|null} seed - Random seed\n * @returns {number[][]} Initial centroids\n */\nfunction initializeCentroidsKMeansPlusPlus(vectors, k, distanceFn, seed) {\n  const centroids = [];\n  const n = vectors.length;\n\n  // Choose first centroid randomly\n  const firstIndex = seed !== null ? seed % n : Math.floor(Math.random() * n);\n  centroids.push([...vectors[firstIndex]]);\n\n  // Choose remaining centroids\n  for (let i = 1; i < k; i++) {\n    // Calculate distance to nearest existing centroid\n    const distances = vectors.map(vector => {\n      return Math.min(...centroids.map(c => distanceFn(vector, c)));\n    });\n\n    // Square distances for probability distribution\n    const squaredDistances = distances.map(d => d * d);\n    const totalSquared = squaredDistances.reduce((a, b) => a + b, 0);\n\n    if (totalSquared === 0) {\n      // All remaining points are identical to existing centroids\n      // Choose randomly\n      const randomIdx = Math.floor(Math.random() * n);\n      centroids.push([...vectors[randomIdx]]);\n      continue;\n    }\n\n    // Choose next centroid with probability proportional to squared distance\n    let threshold = Math.random() * totalSquared;\n    let cumulativeSum = 0;\n\n    for (let j = 0; j < n; j++) {\n      cumulativeSum += squaredDistances[j];\n      if (cumulativeSum >= threshold) {\n        centroids.push([...vectors[j]]);\n        break;\n      }\n    }\n  }\n\n  return centroids;\n}\n\n/**\n * Find optimal K using multiple evaluation metrics\n *\n * Analyzes clustering quality across a range of K values using:\n * - Elbow method (inertia)\n * - Silhouette score\n * - Davies-Bouldin index\n * - Calinski-Harabasz index\n * - Gap statistic\n * - Clustering stability\n *\n * @param {number[][]} vectors - Vectors to analyze\n * @param {Object} options - Configuration options\n * @param {number} options.minK - Minimum K to test (default: 2)\n * @param {number} options.maxK - Maximum K to test (default: sqrt(n/2))\n * @param {Function} options.distanceFn - Distance function (default: euclideanDistance)\n * @param {number} options.nReferences - Number of reference datasets for Gap statistic (default: 10)\n * @param {number} options.stabilityRuns - Number of runs for stability analysis (default: 5)\n * @returns {Promise<Object>} Analysis results with recommendations\n */\nexport async function findOptimalK(vectors, options = {}) {\n  const {\n    minK = 2,\n    maxK = Math.min(10, Math.floor(Math.sqrt(vectors.length / 2))),\n    distanceFn = euclideanDistance,\n    nReferences = 10,\n    stabilityRuns = 5,\n    ...kmeansOptions\n  } = options;\n\n  // Dynamic import to avoid circular dependency\n  const metricsModule = await import('./metrics.js');\n  const {\n    silhouetteScore,\n    daviesBouldinIndex,\n    calinskiHarabaszIndex,\n    gapStatistic,\n    clusteringStability\n  } = metricsModule;\n\n  const results = [];\n\n  for (let k = minK; k <= maxK; k++) {\n    // Run k-means\n    const kmeansResult = kmeans(vectors, k, { ...kmeansOptions, distanceFn });\n\n    // Calculate all metrics\n    const silhouette = silhouetteScore(\n      vectors,\n      kmeansResult.assignments,\n      kmeansResult.centroids,\n      distanceFn\n    );\n\n    const daviesBouldin = daviesBouldinIndex(\n      vectors,\n      kmeansResult.assignments,\n      kmeansResult.centroids,\n      distanceFn\n    );\n\n    const calinskiHarabasz = calinskiHarabaszIndex(\n      vectors,\n      kmeansResult.assignments,\n      kmeansResult.centroids,\n      distanceFn\n    );\n\n    const gap = await gapStatistic(\n      vectors,\n      kmeansResult.assignments,\n      kmeansResult.centroids,\n      distanceFn,\n      nReferences\n    );\n\n    const stability = clusteringStability(\n      vectors,\n      k,\n      { ...kmeansOptions, distanceFn, nRuns: stabilityRuns }\n    );\n\n    results.push({\n      k,\n      inertia: kmeansResult.inertia,\n      silhouette,\n      daviesBouldin,\n      calinskiHarabasz,\n      gap: gap.gap,\n      gapSk: gap.sk,\n      stability: stability.stability,\n      cvInertia: stability.cvInertia,\n      iterations: kmeansResult.iterations,\n      converged: kmeansResult.converged\n    });\n  }\n\n  // Calculate elbow point\n  const elbowK = findElbowPoint(results.map(r => r.inertia));\n\n  // Find best K by each metric\n  const recommendations = {\n    elbow: minK + elbowK,\n    silhouette: results.reduce((best, curr) =>\n      curr.silhouette > best.silhouette ? curr : best\n    ).k,\n    daviesBouldin: results.reduce((best, curr) =>\n      curr.daviesBouldin < best.daviesBouldin ? curr : best\n    ).k,\n    calinskiHarabasz: results.reduce((best, curr) =>\n      curr.calinskiHarabasz > best.calinskiHarabasz ? curr : best\n    ).k,\n    gap: results.reduce((best, curr) =>\n      curr.gap > best.gap ? curr : best\n    ).k,\n    stability: results.reduce((best, curr) =>\n      curr.stability > best.stability ? curr : best\n    ).k\n  };\n\n  // Calculate consensus (most common recommendation)\n  const votes = Object.values(recommendations);\n  const consensus = votes.reduce((acc, k) => {\n    acc[k] = (acc[k] || 0) + 1;\n    return acc;\n  }, {});\n\n  const consensusK = parseInt(\n    Object.entries(consensus).reduce((a, b) => b[1] > a[1] ? b : a)[0]\n  );\n\n  return {\n    results,\n    recommendations,\n    consensus: consensusK,\n    summary: {\n      analysisRange: `${minK}-${maxK}`,\n      totalVectors: vectors.length,\n      dimensions: vectors[0].length,\n      recommendation: consensusK,\n      confidence: consensus[consensusK] / votes.length\n    }\n  };\n}\n\n/**\n * Find elbow point using method of maximum curvature\n *\n * @param {number[]} inertias - Array of inertia values\n * @returns {number} Index of elbow point\n */\nfunction findElbowPoint(inertias) {\n  const n = inertias.length;\n  if (n < 3) return 0;\n\n  let maxCurvature = -Infinity;\n  let elbowIndex = 0;\n\n  for (let i = 1; i < n - 1; i++) {\n    // Calculate second derivative (curvature approximation)\n    const curvature = inertias[i - 1] - 2 * inertias[i] + inertias[i + 1];\n\n    if (curvature > maxCurvature) {\n      maxCurvature = curvature;\n      elbowIndex = i;\n    }\n  }\n\n  return elbowIndex;\n}\n","/**\n * Vector Plugin Error Class\n */\n\nimport { PluginError } from '../../errors.js';\n\n/**\n * VectorError class for vector-related errors\n *\n * @extends PluginError\n */\nexport class VectorError extends PluginError {\n  constructor(message, details = {}) {\n    super(message, {\n      pluginName: 'VectorPlugin',\n      ...details,\n      description: details.description || `\nVector Plugin Error\n\nOperation: ${details.operation || 'unknown'}\n\nCommon causes:\n1. Vector dimension mismatch between vectors\n2. Invalid distance metric specified (must be: cosine, euclidean, manhattan)\n3. Empty vector array provided for clustering\n4. k value larger than number of available vectors\n5. Vector field not found or invalid in resource\n6. Large vectors without proper behavior (use 'body-overflow' or 'body-only')\n\nAvailable distance metrics:\n- cosine: Best for normalized vectors, semantic similarity. Range: [0, 2]\n- euclidean: Standard L2 distance, geometric proximity. Range: [0, ∞)\n- manhattan: L1 distance, faster computation. Range: [0, ∞)\n\nStorage considerations:\n- Vectors > 250 dimensions may exceed S3 metadata limit (2KB)\n- Use behavior: 'body-overflow' or 'body-only' for large vectors\n- OpenAI ada-002 (1536 dims): ~10KB, requires body storage\n- Sentence Transformers (384 dims): ~2.7KB, requires body storage\n      `.trim()\n    });\n  }\n}\n","/**\n * Vector Plugin\n *\n * Provides vector storage, similarity search, and clustering capabilities.\n * Supports multiple distance metrics and automatic K determination.\n *\n * Features:\n * - Vector similarity search (KNN)\n * - K-means clustering\n * - Multiple distance metrics (cosine, euclidean, manhattan)\n * - Optimal K analysis with 5 evaluation metrics\n * - Automatic storage validation for large vectors\n */\n\nimport { Plugin } from './plugin.class.js';\nimport { cosineDistance, euclideanDistance, manhattanDistance, dotProduct, normalize } from './vector/distances.js';\nimport { kmeans, findOptimalK } from './vector/kmeans.js';\nimport { VectorError } from './vector/vector-error.js';\n\nexport class VectorPlugin extends Plugin {\n  constructor(options = {}) {\n    super(options);\n\n    this.config = {\n      dimensions: 1536, // Default to OpenAI text-embedding-3-small/3-large\n      distanceMetric: 'cosine', // Default metric\n      storageThreshold: 1500, // Bytes - warn if vectors exceed this\n      autoFixBehavior: false, // Automatically set body-overflow\n      autoDetectVectorField: true, // Auto-detect embedding:XXX fields\n      emitEvents: true, // Emit events for monitoring\n      verboseEvents: false, // Emit detailed progress events\n      eventThrottle: 100, // Throttle progress events (ms)\n      ...options\n    };\n\n    this.distanceFunctions = {\n      cosine: cosineDistance,\n      euclidean: euclideanDistance,\n      manhattan: manhattanDistance\n    };\n\n    // Cache for auto-detected vector fields per resource\n    this._vectorFieldCache = new Map();\n\n    // Throttle state for progress events\n    this._throttleState = new Map();\n  }\n\n  async onInstall() {\n    this.emit('installed', { plugin: 'VectorPlugin' });\n\n    // Validate vector storage for all resources\n    this.validateVectorStorage();\n\n    // Add vector methods to all resources\n    this.installResourceMethods();\n  }\n\n  async onStart() {\n    this.emit('started', { plugin: 'VectorPlugin' });\n  }\n\n  async onStop() {\n    this.emit('stopped', { plugin: 'VectorPlugin' });\n  }\n\n  async onUninstall(options) {\n    // Remove vector methods from resources\n    for (const resource of Object.values(this.database.resources)) {\n      // Remove technical methods\n      delete resource.vectorSearch;\n      delete resource.cluster;\n      delete resource.vectorDistance;\n\n      // Remove intuitive aliases\n      delete resource.similarTo;\n      delete resource.findSimilar;\n      delete resource.distance;\n    }\n\n    this.emit('uninstalled', { plugin: 'VectorPlugin' });\n  }\n\n  /**\n   * Validate vector storage configuration for all resources\n   *\n   * Detects large vector fields and warns if proper behavior is not set.\n   * Can optionally auto-fix by setting body-overflow behavior.\n   */\n  validateVectorStorage() {\n    for (const resource of Object.values(this.database.resources)) {\n      const vectorFields = this.findVectorFields(resource.schema.attributes);\n\n      if (vectorFields.length === 0) continue;\n\n      const totalVectorSize = vectorFields.reduce((sum, f) => sum + f.estimatedBytes, 0);\n\n      // If exceeds threshold AND doesn't have correct behavior\n      if (totalVectorSize > this.config.storageThreshold) {\n        const hasCorrectBehavior = ['body-overflow', 'body-only'].includes(resource.behavior);\n\n        if (!hasCorrectBehavior) {\n          const warning = {\n            resource: resource.name,\n            vectorFields: vectorFields.map(f => ({\n              field: f.name,\n              dimensions: f.length,\n              estimatedBytes: f.estimatedBytes\n            })),\n            totalEstimatedBytes: totalVectorSize,\n            metadataLimit: 2047,\n            currentBehavior: resource.behavior || 'default',\n            recommendation: 'body-overflow'\n          };\n\n          this.emit('vector:storage-warning', warning);\n\n          // Auto-fix if configured\n          if (this.config.autoFixBehavior) {\n            resource.behavior = 'body-overflow';\n            this.emit('vector:behavior-fixed', {\n              resource: resource.name,\n              newBehavior: 'body-overflow'\n            });\n          } else {\n            // Just warn\n            console.warn(`⚠️  VectorPlugin: Resource '${resource.name}' has large vector fields (${totalVectorSize} bytes estimated)`);\n            console.warn(`   Current behavior: '${resource.behavior || 'default'}'`);\n            console.warn(`   Recommendation: Add behavior: 'body-overflow' or 'body-only' to resource configuration`);\n            console.warn(`   Large vectors will exceed S3 metadata limit (2047 bytes) and cause errors.`);\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * Auto-detect vector field from resource schema\n   *\n   * Looks for fields with type 'embedding:XXX' pattern.\n   * Caches result per resource for performance.\n   *\n   * @param {Resource} resource - Resource instance\n   * @returns {string|null} Detected vector field name or null\n   */\n  detectVectorField(resource) {\n    // Check cache first\n    if (this._vectorFieldCache.has(resource.name)) {\n      return this._vectorFieldCache.get(resource.name);\n    }\n\n    // Search for embedding:XXX fields\n    const vectorField = this._findEmbeddingField(resource.schema.attributes);\n\n    // Cache the result\n    this._vectorFieldCache.set(resource.name, vectorField);\n\n    // Emit event if field detected\n    if (vectorField && this.config.emitEvents) {\n      this.emit('vector:field-detected', {\n        resource: resource.name,\n        vectorField,\n        timestamp: Date.now()\n      });\n    }\n\n    return vectorField;\n  }\n\n  /**\n   * Recursively find embedding:XXX field in attributes\n   *\n   * @param {Object} attributes - Resource attributes\n   * @param {string} path - Current path (for nested objects)\n   * @returns {string|null} Field path or null\n   */\n  _findEmbeddingField(attributes, path = '') {\n    for (const [key, attr] of Object.entries(attributes)) {\n      const fullPath = path ? `${path}.${key}` : key;\n\n      // Check for embedding:XXX shorthand\n      if (typeof attr === 'string' && attr.startsWith('embedding:')) {\n        return fullPath;\n      }\n\n      // Check for expanded embedding definition\n      if (attr.type === 'array' && attr.items === 'number' && attr.length) {\n        return fullPath;\n      }\n\n      // Check nested objects\n      if (attr.type === 'object' && attr.props) {\n        const nested = this._findEmbeddingField(attr.props, fullPath);\n        if (nested) return nested;\n      }\n    }\n\n    return null;\n  }\n\n  /**\n   * Emit event with throttling support\n   *\n   * @param {string} eventName - Event name\n   * @param {Object} data - Event data\n   * @param {string} throttleKey - Unique key for throttling (optional)\n   */\n  _emitEvent(eventName, data, throttleKey = null) {\n    if (!this.config.emitEvents) return;\n\n    // If throttleKey provided, check throttle state\n    if (throttleKey) {\n      const now = Date.now();\n      const lastEmit = this._throttleState.get(throttleKey);\n\n      if (lastEmit && (now - lastEmit) < this.config.eventThrottle) {\n        return; // Skip emission\n      }\n\n      this._throttleState.set(throttleKey, now);\n    }\n\n    this.emit(eventName, data);\n  }\n\n  /**\n   * Find vector fields in resource attributes\n   *\n   * @param {Object} attributes - Resource attributes\n   * @param {string} path - Current path (for nested objects)\n   * @returns {Array} Array of vector field info\n   */\n  findVectorFields(attributes, path = '') {\n    const vectors = [];\n\n    for (const [key, attr] of Object.entries(attributes)) {\n      const fullPath = path ? `${path}.${key}` : key;\n\n      // Check if it's a vector field (array of numbers with length)\n      if (attr.type === 'array' && attr.items === 'number' && attr.length) {\n        vectors.push({\n          name: fullPath,\n          length: attr.length,\n          estimatedBytes: this.estimateVectorBytes(attr.length)\n        });\n      }\n\n      // Check nested objects\n      if (attr.type === 'object' && attr.props) {\n        vectors.push(...this.findVectorFields(attr.props, fullPath));\n      }\n    }\n\n    return vectors;\n  }\n\n  /**\n   * Estimate bytes required to store a vector in JSON format\n   *\n   * Conservative estimate: ~7 bytes per number + array overhead\n   *\n   * @param {number} dimensions - Number of dimensions\n   * @returns {number} Estimated bytes\n   */\n  estimateVectorBytes(dimensions) {\n    // Each float: ~6-8 bytes in JSON (e.g., \"0.1234\")\n    // Array overhead: brackets, commas\n    return dimensions * 7 + 50;\n  }\n\n  /**\n   * Install vector methods on all resources\n   */\n  installResourceMethods() {\n    for (const resource of Object.values(this.database.resources)) {\n      // Core methods\n      const searchMethod = this.createVectorSearchMethod(resource);\n      const clusterMethod = this.createClusteringMethod(resource);\n      const distanceMethod = this.createDistanceMethod();\n\n      // Add technical methods (original names for compatibility)\n      resource.vectorSearch = searchMethod;\n      resource.cluster = clusterMethod;\n      resource.vectorDistance = distanceMethod;\n\n      // Add intuitive aliases for better DX\n      resource.similarTo = searchMethod;      // More natural: \"find products similar to X\"\n      resource.findSimilar = searchMethod;    // Descriptive alternative\n      resource.distance = distanceMethod;     // Simpler than vectorDistance\n    }\n  }\n\n  /**\n   * Create vector search method for a resource\n   *\n   * Performs K-nearest neighbors search to find similar vectors.\n   *\n   * @param {Resource} resource - Resource instance\n   * @returns {Function} Vector search method\n   */\n  createVectorSearchMethod(resource) {\n    return async (queryVector, options = {}) => {\n      const startTime = Date.now();\n\n      // Auto-detect vectorField if not provided\n      let vectorField = options.vectorField;\n      if (!vectorField && this.config.autoDetectVectorField) {\n        vectorField = this.detectVectorField(resource);\n        if (!vectorField) {\n          vectorField = 'vector'; // Fallback to default\n        }\n      } else if (!vectorField) {\n        vectorField = 'vector'; // Fallback to default\n      }\n\n      const {\n        limit = 10,\n        distanceMetric = this.config.distanceMetric,\n        threshold = null,\n        partition = null\n      } = options;\n\n      const distanceFn = this.distanceFunctions[distanceMetric];\n      if (!distanceFn) {\n        const error = new VectorError(`Invalid distance metric: ${distanceMetric}`, {\n          operation: 'vectorSearch',\n          availableMetrics: Object.keys(this.distanceFunctions),\n          providedMetric: distanceMetric\n        });\n\n        this._emitEvent('vector:search-error', {\n          resource: resource.name,\n          error: error.message,\n          timestamp: Date.now()\n        });\n\n        throw error;\n      }\n\n      // Emit start event\n      this._emitEvent('vector:search-start', {\n        resource: resource.name,\n        vectorField,\n        limit,\n        distanceMetric,\n        partition,\n        threshold,\n        queryDimensions: queryVector.length,\n        timestamp: startTime\n      });\n\n      try {\n        // Get all records (with optional partition filter)\n        let allRecords;\n        if (partition) {\n          this._emitEvent('vector:partition-filter', {\n            resource: resource.name,\n            partition,\n            timestamp: Date.now()\n          });\n          allRecords = await resource.list({ partition, partitionValues: partition });\n        } else {\n          allRecords = await resource.getAll();\n        }\n\n        const totalRecords = allRecords.length;\n        let processedRecords = 0;\n        let dimensionMismatches = 0;\n\n        // Calculate distances\n        const results = allRecords\n          .filter(record => record[vectorField] && Array.isArray(record[vectorField]))\n          .map((record, index) => {\n            try {\n              const distance = distanceFn(queryVector, record[vectorField]);\n              processedRecords++;\n\n              // Emit progress event (throttled)\n              if (this.config.verboseEvents && processedRecords % 100 === 0) {\n                this._emitEvent('vector:search-progress', {\n                  resource: resource.name,\n                  processed: processedRecords,\n                  total: totalRecords,\n                  progress: (processedRecords / totalRecords) * 100,\n                  timestamp: Date.now()\n                }, `search-${resource.name}`);\n              }\n\n              return { record, distance };\n            } catch (err) {\n              // Skip records with dimension mismatch\n              dimensionMismatches++;\n\n              if (this.config.verboseEvents) {\n                this._emitEvent('vector:dimension-mismatch', {\n                  resource: resource.name,\n                  recordIndex: index,\n                  expected: queryVector.length,\n                  got: record[vectorField]?.length,\n                  timestamp: Date.now()\n                });\n              }\n\n              return null;\n            }\n          })\n          .filter(result => result !== null)\n          .filter(result => threshold === null || result.distance <= threshold)\n          .sort((a, b) => a.distance - b.distance)\n          .slice(0, limit);\n\n        const duration = Date.now() - startTime;\n        const throughput = totalRecords / (duration / 1000);\n\n        // Emit complete event\n        this._emitEvent('vector:search-complete', {\n          resource: resource.name,\n          vectorField,\n          resultsCount: results.length,\n          totalRecords,\n          processedRecords,\n          dimensionMismatches,\n          duration,\n          throughput: throughput.toFixed(2),\n          timestamp: Date.now()\n        });\n\n        // Emit performance metrics\n        if (this.config.verboseEvents) {\n          this._emitEvent('vector:performance', {\n            operation: 'search',\n            resource: resource.name,\n            duration,\n            throughput: throughput.toFixed(2),\n            recordsPerSecond: (processedRecords / (duration / 1000)).toFixed(2),\n            timestamp: Date.now()\n          });\n        }\n\n        return results;\n      } catch (error) {\n        this._emitEvent('vector:search-error', {\n          resource: resource.name,\n          error: error.message,\n          stack: error.stack,\n          timestamp: Date.now()\n        });\n        throw error;\n      }\n    };\n  }\n\n  /**\n   * Create clustering method for a resource\n   *\n   * Performs k-means clustering on resource vectors.\n   *\n   * @param {Resource} resource - Resource instance\n   * @returns {Function} Clustering method\n   */\n  createClusteringMethod(resource) {\n    return async (options = {}) => {\n      const startTime = Date.now();\n\n      // Auto-detect vectorField if not provided\n      let vectorField = options.vectorField;\n      if (!vectorField && this.config.autoDetectVectorField) {\n        vectorField = this.detectVectorField(resource);\n        if (!vectorField) {\n          vectorField = 'vector'; // Fallback to default\n        }\n      } else if (!vectorField) {\n        vectorField = 'vector'; // Fallback to default\n      }\n\n      const {\n        k = 5,\n        distanceMetric = this.config.distanceMetric,\n        partition = null,\n        ...kmeansOptions\n      } = options;\n\n      const distanceFn = this.distanceFunctions[distanceMetric];\n      if (!distanceFn) {\n        const error = new VectorError(`Invalid distance metric: ${distanceMetric}`, {\n          operation: 'cluster',\n          availableMetrics: Object.keys(this.distanceFunctions),\n          providedMetric: distanceMetric\n        });\n\n        this._emitEvent('vector:cluster-error', {\n          resource: resource.name,\n          error: error.message,\n          timestamp: Date.now()\n        });\n\n        throw error;\n      }\n\n      // Emit start event\n      this._emitEvent('vector:cluster-start', {\n        resource: resource.name,\n        vectorField,\n        k,\n        distanceMetric,\n        partition,\n        maxIterations: kmeansOptions.maxIterations || 100,\n        timestamp: startTime\n      });\n\n      try {\n        // Get all records (with optional partition filter)\n        let allRecords;\n        if (partition) {\n          this._emitEvent('vector:partition-filter', {\n            resource: resource.name,\n            partition,\n            timestamp: Date.now()\n          });\n          allRecords = await resource.list({ partition, partitionValues: partition });\n        } else {\n          allRecords = await resource.getAll();\n        }\n\n        // Extract vectors\n        const recordsWithVectors = allRecords.filter(\n          record => record[vectorField] && Array.isArray(record[vectorField])\n        );\n\n        if (recordsWithVectors.length === 0) {\n          const error = new VectorError('No vectors found in resource', {\n            operation: 'cluster',\n            resourceName: resource.name,\n            vectorField\n          });\n\n          this._emitEvent('vector:empty-dataset', {\n            resource: resource.name,\n            vectorField,\n            totalRecords: allRecords.length,\n            timestamp: Date.now()\n          });\n\n          throw error;\n        }\n\n        const vectors = recordsWithVectors.map(record => record[vectorField]);\n\n        // Run k-means with progress callback\n        const result = kmeans(vectors, k, {\n          ...kmeansOptions,\n          distanceFn,\n          onIteration: this.config.verboseEvents ? (iteration, inertia, converged) => {\n            this._emitEvent('vector:cluster-iteration', {\n              resource: resource.name,\n              k,\n              iteration,\n              inertia,\n              converged,\n              timestamp: Date.now()\n            }, `cluster-${resource.name}`);\n          } : undefined\n        });\n\n        // Emit convergence event\n        if (result.converged) {\n          this._emitEvent('vector:cluster-converged', {\n            resource: resource.name,\n            k,\n            iterations: result.iterations,\n            inertia: result.inertia,\n            timestamp: Date.now()\n          });\n        }\n\n        // Map results back to records\n        const clusters = Array(k).fill(null).map(() => []);\n        recordsWithVectors.forEach((record, i) => {\n          const clusterIndex = result.assignments[i];\n          clusters[clusterIndex].push(record);\n        });\n\n        const duration = Date.now() - startTime;\n        const clusterSizes = clusters.map(c => c.length);\n\n        // Emit complete event\n        this._emitEvent('vector:cluster-complete', {\n          resource: resource.name,\n          vectorField,\n          k,\n          vectorCount: vectors.length,\n          iterations: result.iterations,\n          converged: result.converged,\n          inertia: result.inertia,\n          clusterSizes,\n          duration,\n          timestamp: Date.now()\n        });\n\n        // Emit performance metrics\n        if (this.config.verboseEvents) {\n          this._emitEvent('vector:performance', {\n            operation: 'clustering',\n            resource: resource.name,\n            k,\n            duration,\n            iterationsPerSecond: (result.iterations / (duration / 1000)).toFixed(2),\n            vectorsPerSecond: (vectors.length / (duration / 1000)).toFixed(2),\n            timestamp: Date.now()\n          });\n        }\n\n        return {\n          clusters,\n          centroids: result.centroids,\n          inertia: result.inertia,\n          iterations: result.iterations,\n          converged: result.converged\n        };\n      } catch (error) {\n        this._emitEvent('vector:cluster-error', {\n          resource: resource.name,\n          error: error.message,\n          stack: error.stack,\n          timestamp: Date.now()\n        });\n        throw error;\n      }\n    };\n  }\n\n  /**\n   * Create distance calculation method\n   *\n   * @returns {Function} Distance method\n   */\n  createDistanceMethod() {\n    return (vector1, vector2, metric = this.config.distanceMetric) => {\n      const distanceFn = this.distanceFunctions[metric];\n      if (!distanceFn) {\n        throw new VectorError(`Invalid distance metric: ${metric}`, {\n          operation: 'vectorDistance',\n          availableMetrics: Object.keys(this.distanceFunctions),\n          providedMetric: metric\n        });\n      }\n      return distanceFn(vector1, vector2);\n    };\n  }\n\n  /**\n   * Static utility: Normalize vector\n   *\n   * @param {number[]} vector - Input vector\n   * @returns {number[]} Normalized vector\n   */\n  static normalize(vector) {\n    return normalize(vector);\n  }\n\n  /**\n   * Static utility: Calculate dot product\n   *\n   * @param {number[]} vector1 - First vector\n   * @param {number[]} vector2 - Second vector\n   * @returns {number} Dot product\n   */\n  static dotProduct(vector1, vector2) {\n    return dotProduct(vector1, vector2);\n  }\n\n  /**\n   * Static utility: Find optimal K for clustering\n   *\n   * Analyzes clustering quality across a range of K values using\n   * multiple evaluation metrics.\n   *\n   * @param {number[][]} vectors - Vectors to analyze\n   * @param {Object} options - Configuration options\n   * @returns {Promise<Object>} Analysis results with recommendations\n   */\n  static async findOptimalK(vectors, options) {\n    return findOptimalK(vectors, options);\n  }\n}\n\nexport default VectorPlugin;\n","/**\n * TypeScript Definition Generator\n *\n * Generates .d.ts files from s3db.js resource schemas for type safety and autocomplete.\n *\n * Usage:\n *   import { generateTypes } from 's3db.js/typescript-generator';\n *   await generateTypes(database, { outputPath: './types/database.d.ts' });\n *\n * Features:\n * - Auto-generates TypeScript interfaces from resource schemas\n * - Type-safe property access (db.resources.users)\n * - Autocomplete for resource methods\n * - Detects typos at compile time (user.emai → error!)\n */\n\nimport { writeFile, mkdir } from 'fs/promises';\nimport { dirname } from 'path';\n\n/**\n * Map s3db.js field types to TypeScript types\n * @param {string} fieldType - s3db.js field type\n * @returns {string} TypeScript type\n */\nfunction mapFieldTypeToTypeScript(fieldType) {\n  // Extract base type from validation rules (e.g., \"string|required\" → \"string\")\n  const baseType = fieldType.split('|')[0].trim();\n\n  const typeMap = {\n    'string': 'string',\n    'number': 'number',\n    'integer': 'number',\n    'boolean': 'boolean',\n    'array': 'any[]',\n    'object': 'Record<string, any>',\n    'json': 'Record<string, any>',\n    'secret': 'string',\n    'email': 'string',\n    'url': 'string',\n    'date': 'string', // ISO date string\n    'datetime': 'string', // ISO datetime string\n    'ip4': 'string',\n    'ip6': 'string',\n  };\n\n  // Handle embedding:N notation\n  if (baseType.startsWith('embedding:')) {\n    const dimensions = parseInt(baseType.split(':')[1]);\n    return `number[] /* ${dimensions} dimensions */`;\n  }\n\n  return typeMap[baseType] || 'any';\n}\n\n/**\n * Check if field is required based on validation rules\n * @param {string} fieldDef - Field definition\n * @returns {boolean} True if required\n */\nfunction isFieldRequired(fieldDef) {\n  if (typeof fieldDef === 'string') {\n    return fieldDef.includes('|required');\n  }\n  if (typeof fieldDef === 'object' && fieldDef.required) {\n    return true;\n  }\n  return false;\n}\n\n/**\n * Generate TypeScript interface for a resource\n * @param {string} resourceName - Resource name\n * @param {Object} attributes - Resource attributes\n * @param {boolean} timestamps - Whether timestamps are enabled\n * @returns {string} TypeScript interface definition\n */\nfunction generateResourceInterface(resourceName, attributes, timestamps = false) {\n  const interfaceName = toPascalCase(resourceName);\n  const lines = [];\n\n  lines.push(`export interface ${interfaceName} {`);\n\n  // Add id field (always present)\n  lines.push(`  /** Resource ID (auto-generated) */`);\n  lines.push(`  id: string;`);\n  lines.push('');\n\n  // Add user-defined attributes\n  for (const [fieldName, fieldDef] of Object.entries(attributes)) {\n    const required = isFieldRequired(fieldDef);\n    const optional = required ? '' : '?';\n\n    // Extract type\n    let tsType;\n    if (typeof fieldDef === 'string') {\n      tsType = mapFieldTypeToTypeScript(fieldDef);\n    } else if (typeof fieldDef === 'object' && fieldDef.type) {\n      tsType = mapFieldTypeToTypeScript(fieldDef.type);\n\n      // Handle nested objects\n      if (fieldDef.type === 'object' && fieldDef.props) {\n        tsType = '{\\n';\n        for (const [propName, propDef] of Object.entries(fieldDef.props)) {\n          const propType = typeof propDef === 'string'\n            ? mapFieldTypeToTypeScript(propDef)\n            : mapFieldTypeToTypeScript(propDef.type);\n          const propRequired = isFieldRequired(propDef);\n          tsType += `    ${propName}${propRequired ? '' : '?'}: ${propType};\\n`;\n        }\n        tsType += '  }';\n      }\n\n      // Handle arrays with typed items\n      if (fieldDef.type === 'array' && fieldDef.items) {\n        const itemType = mapFieldTypeToTypeScript(fieldDef.items);\n        tsType = `Array<${itemType}>`;\n      }\n    } else {\n      tsType = 'any';\n    }\n\n    // Add JSDoc comment if description exists\n    if (fieldDef.description) {\n      lines.push(`  /** ${fieldDef.description} */`);\n    }\n\n    lines.push(`  ${fieldName}${optional}: ${tsType};`);\n  }\n\n  // Add timestamp fields if enabled\n  if (timestamps) {\n    lines.push('');\n    lines.push(`  /** Creation timestamp (ISO 8601) */`);\n    lines.push(`  createdAt: string;`);\n    lines.push(`  /** Last update timestamp (ISO 8601) */`);\n    lines.push(`  updatedAt: string;`);\n  }\n\n  lines.push('}');\n  lines.push('');\n\n  return lines.join('\\n');\n}\n\n/**\n * Convert string to PascalCase\n * @param {string} str - String to convert\n * @returns {string} PascalCase string\n */\nfunction toPascalCase(str) {\n  return str\n    .split(/[_-]/)\n    .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n    .join('');\n}\n\n/**\n * Generate TypeScript definitions for all resources\n * @param {Database} database - s3db.js Database instance\n * @param {Object} options - Generation options\n * @param {string} options.outputPath - Output file path (default: ./types/database.d.ts)\n * @param {string} options.moduleName - Module name for import (default: s3db.js)\n * @param {boolean} options.includeResource - Include Resource class methods (default: true)\n * @returns {Promise<string>} Generated TypeScript definitions\n */\nexport async function generateTypes(database, options = {}) {\n  const {\n    outputPath = './types/database.d.ts',\n    moduleName = 's3db.js',\n    includeResource = true\n  } = options;\n\n  const lines = [];\n\n  // File header\n  lines.push('/**');\n  lines.push(' * Auto-generated TypeScript definitions for s3db.js resources');\n  lines.push(' * Generated at: ' + new Date().toISOString());\n  lines.push(' * DO NOT EDIT - This file is auto-generated');\n  lines.push(' */');\n  lines.push('');\n\n  // Import base types from s3db.js\n  if (includeResource) {\n    lines.push(`import { Resource, Database } from '${moduleName}';`);\n    lines.push('');\n  }\n\n  // Generate interfaces for each resource\n  const resourceInterfaces = [];\n\n  for (const [name, resource] of Object.entries(database.resources)) {\n    const attributes = resource.config?.attributes || resource.attributes || {};\n    const timestamps = resource.config?.timestamps || false;\n\n    const interfaceDef = generateResourceInterface(name, attributes, timestamps);\n    lines.push(interfaceDef);\n\n    resourceInterfaces.push({\n      name,\n      interfaceName: toPascalCase(name),\n      resource\n    });\n  }\n\n  // Generate ResourceMap interface for db.resources\n  lines.push('/**');\n  lines.push(' * Typed resource map for property access');\n  lines.push(' * @example');\n  lines.push(' * const users = db.resources.users; // Type-safe!');\n  lines.push(' * const user = await users.get(\"id\"); // Autocomplete works!');\n  lines.push(' */');\n  lines.push('export interface ResourceMap {');\n\n  for (const { name, interfaceName } of resourceInterfaces) {\n    lines.push(`  /** ${interfaceName} resource */`);\n    if (includeResource) {\n      lines.push(`  ${name}: Resource<${interfaceName}>;`);\n    } else {\n      lines.push(`  ${name}: any;`);\n    }\n  }\n\n  lines.push('}');\n  lines.push('');\n\n  // Generate Database extension with typed resources property\n  if (includeResource) {\n    lines.push('/**');\n    lines.push(' * Extended Database class with typed resources');\n    lines.push(' */');\n    lines.push('declare module \\'s3db.js\\' {');\n    lines.push('  interface Database {');\n    lines.push('    resources: ResourceMap;');\n    lines.push('  }');\n    lines.push('');\n    lines.push('  interface Resource<T = any> {');\n    lines.push('    get(id: string): Promise<T>;');\n    lines.push('    getOrNull(id: string): Promise<T | null>;');\n    lines.push('    getOrThrow(id: string): Promise<T>;');\n    lines.push('    insert(data: Partial<T>): Promise<T>;');\n    lines.push('    update(id: string, data: Partial<T>): Promise<T>;');\n    lines.push('    patch(id: string, data: Partial<T>): Promise<T>;');\n    lines.push('    replace(id: string, data: Partial<T>): Promise<T>;');\n    lines.push('    delete(id: string): Promise<void>;');\n    lines.push('    list(options?: any): Promise<T[]>;');\n    lines.push('    query(filters: Partial<T>, options?: any): Promise<T[]>;');\n    lines.push('    validate(data: Partial<T>, options?: any): Promise<{ valid: boolean; errors: any[]; data: T | null }>;');\n    lines.push('  }');\n    lines.push('}');\n  }\n\n  const content = lines.join('\\n');\n\n  // Write to file if outputPath provided\n  if (outputPath) {\n    await mkdir(dirname(outputPath), { recursive: true });\n    await writeFile(outputPath, content, 'utf-8');\n  }\n\n  return content;\n}\n\n/**\n * Generate types and log to console\n * @param {Database} database - s3db.js Database instance\n * @param {Object} options - Generation options\n */\nexport async function printTypes(database, options = {}) {\n  const types = await generateTypes(database, { ...options, outputPath: null });\n  console.log(types);\n  return types;\n}\n\nexport default { generateTypes, printTypes };\n","/**\n * Factory - Test Data Factory Pattern for s3db.js\n *\n * Simplifies test data creation with:\n * - Automatic field generation\n * - Sequence support\n * - Relationships\n * - Traits/states\n * - Batch creation\n *\n * @example\n * const UserFactory = Factory.define('users', {\n *   email: ({ seq }) => `user${seq}@example.com`,\n *   name: 'Test User',\n *   isActive: true\n * });\n *\n * const user = await UserFactory.create();\n * const users = await UserFactory.createMany(10);\n */\n\nexport class Factory {\n  /**\n   * Global sequence counter\n   * @private\n   */\n  static _sequences = new Map();\n\n  /**\n   * Registered factories\n   * @private\n   */\n  static _factories = new Map();\n\n  /**\n   * Database instance (set globally)\n   * @private\n   */\n  static _database = null;\n\n  /**\n   * Create a new factory definition\n   * @param {string} resourceName - Resource name\n   * @param {Object|Function} definition - Field definitions or function\n   * @param {Object} options - Factory options\n   * @returns {Factory} Factory instance\n   */\n  static define(resourceName, definition, options = {}) {\n    const factory = new Factory(resourceName, definition, options);\n    Factory._factories.set(resourceName, factory);\n    return factory;\n  }\n\n  /**\n   * Set global database instance\n   * @param {Database} database - s3db.js Database instance\n   */\n  static setDatabase(database) {\n    Factory._database = database;\n  }\n\n  /**\n   * Get factory by resource name\n   * @param {string} resourceName - Resource name\n   * @returns {Factory} Factory instance\n   */\n  static get(resourceName) {\n    return Factory._factories.get(resourceName);\n  }\n\n  /**\n   * Reset all sequences\n   */\n  static resetSequences() {\n    Factory._sequences.clear();\n  }\n\n  /**\n   * Reset all factories\n   */\n  static reset() {\n    Factory._sequences.clear();\n    Factory._factories.clear();\n    Factory._database = null;\n  }\n\n  /**\n   * Constructor\n   * @param {string} resourceName - Resource name\n   * @param {Object|Function} definition - Field definitions\n   * @param {Object} options - Factory options\n   */\n  constructor(resourceName, definition, options = {}) {\n    this.resourceName = resourceName;\n    this.definition = definition;\n    this.options = options;\n    this.traits = new Map();\n    this.afterCreateCallbacks = [];\n    this.beforeCreateCallbacks = [];\n  }\n\n  /**\n   * Get next sequence number\n   * @param {string} name - Sequence name (default: factory name)\n   * @returns {number} Next sequence number\n   */\n  sequence(name = this.resourceName) {\n    const current = Factory._sequences.get(name) || 0;\n    const next = current + 1;\n    Factory._sequences.set(name, next);\n    return next;\n  }\n\n  /**\n   * Define a trait (state variation)\n   * @param {string} name - Trait name\n   * @param {Object|Function} attributes - Trait attributes\n   * @returns {Factory} This factory (for chaining)\n   */\n  trait(name, attributes) {\n    this.traits.set(name, attributes);\n    return this;\n  }\n\n  /**\n   * Register after create callback\n   * @param {Function} callback - Callback function\n   * @returns {Factory} This factory (for chaining)\n   */\n  afterCreate(callback) {\n    this.afterCreateCallbacks.push(callback);\n    return this;\n  }\n\n  /**\n   * Register before create callback\n   * @param {Function} callback - Callback function\n   * @returns {Factory} This factory (for chaining)\n   */\n  beforeCreate(callback) {\n    this.beforeCreateCallbacks.push(callback);\n    return this;\n  }\n\n  /**\n   * Build attributes without creating in database\n   * @param {Object} overrides - Override attributes\n   * @param {Object} options - Build options\n   * @returns {Promise<Object>} Built attributes\n   */\n  async build(overrides = {}, options = {}) {\n    const { traits = [] } = options;\n    const seq = this.sequence();\n\n    // Base attributes\n    let attributes = typeof this.definition === 'function'\n      ? await this.definition({ seq, factory: this })\n      : { ...this.definition };\n\n    // Apply traits\n    for (const traitName of traits) {\n      const trait = this.traits.get(traitName);\n      if (!trait) {\n        throw new Error(`Trait '${traitName}' not found in factory '${this.resourceName}'`);\n      }\n\n      const traitAttrs = typeof trait === 'function'\n        ? await trait({ seq, factory: this })\n        : trait;\n\n      attributes = { ...attributes, ...traitAttrs };\n    }\n\n    // Apply overrides\n    attributes = { ...attributes, ...overrides };\n\n    // Resolve functions\n    for (const [key, value] of Object.entries(attributes)) {\n      if (typeof value === 'function') {\n        attributes[key] = await value({ seq, factory: this });\n      }\n    }\n\n    return attributes;\n  }\n\n  /**\n   * Create resource in database\n   * @param {Object} overrides - Override attributes\n   * @param {Object} options - Create options\n   * @returns {Promise<Object>} Created resource\n   */\n  async create(overrides = {}, options = {}) {\n    const { database = Factory._database } = options;\n\n    if (!database) {\n      throw new Error('Database not set. Use Factory.setDatabase(db) or pass database option');\n    }\n\n    // Build attributes\n    let attributes = await this.build(overrides, options);\n\n    // Before create callbacks\n    for (const callback of this.beforeCreateCallbacks) {\n      attributes = await callback(attributes) || attributes;\n    }\n\n    // Get resource\n    const resource = database.resources[this.resourceName];\n    if (!resource) {\n      throw new Error(`Resource '${this.resourceName}' not found in database`);\n    }\n\n    // Create in database\n    let created = await resource.insert(attributes);\n\n    // After create callbacks\n    for (const callback of this.afterCreateCallbacks) {\n      created = await callback(created, { database }) || created;\n    }\n\n    return created;\n  }\n\n  /**\n   * Create multiple resources\n   * @param {number} count - Number of resources to create\n   * @param {Object} overrides - Override attributes\n   * @param {Object} options - Create options\n   * @returns {Promise<Object[]>} Created resources\n   */\n  async createMany(count, overrides = {}, options = {}) {\n    const resources = [];\n\n    for (let i = 0; i < count; i++) {\n      const resource = await this.create(overrides, options);\n      resources.push(resource);\n    }\n\n    return resources;\n  }\n\n  /**\n   * Build multiple resources without creating\n   * @param {number} count - Number of resources to build\n   * @param {Object} overrides - Override attributes\n   * @param {Object} options - Build options\n   * @returns {Promise<Object[]>} Built resources\n   */\n  async buildMany(count, overrides = {}, options = {}) {\n    const resources = [];\n\n    for (let i = 0; i < count; i++) {\n      const resource = await this.build(overrides, options);\n      resources.push(resource);\n    }\n\n    return resources;\n  }\n\n  /**\n   * Create with specific traits\n   * @param {string|string[]} traits - Trait name(s)\n   * @param {Object} overrides - Override attributes\n   * @param {Object} options - Create options\n   * @returns {Promise<Object>} Created resource\n   */\n  async createWithTraits(traits, overrides = {}, options = {}) {\n    const traitArray = Array.isArray(traits) ? traits : [traits];\n    return this.create(overrides, { ...options, traits: traitArray });\n  }\n\n  /**\n   * Build with specific traits\n   * @param {string|string[]} traits - Trait name(s)\n   * @param {Object} overrides - Override attributes\n   * @param {Object} options - Build options\n   * @returns {Promise<Object>} Built resource\n   */\n  async buildWithTraits(traits, overrides = {}, options = {}) {\n    const traitArray = Array.isArray(traits) ? traits : [traits];\n    return this.build(overrides, { ...options, traits: traitArray });\n  }\n}\n\nexport default Factory;\n","/**\n * Seeder - Database Seeding for Tests\n *\n * Provides utilities for seeding test databases with factories.\n *\n * @example\n * const seeder = new Seeder(database);\n *\n * await seeder.seed({\n *   users: 10,\n *   posts: 50,\n *   comments: 100\n * });\n *\n * await seeder.truncate(['users', 'posts']);\n */\n\nimport { Factory } from './factory.class.js';\n\nexport class Seeder {\n  /**\n   * Constructor\n   * @param {Database} database - s3db.js Database instance\n   * @param {Object} options - Seeder options\n   */\n  constructor(database, options = {}) {\n    this.database = database;\n    this.options = options;\n    this.verbose = options.verbose !== false;\n  }\n\n  /**\n   * Log message (if verbose)\n   * @param {string} message - Message to log\n   * @private\n   */\n  log(message) {\n    if (this.verbose) {\n      console.log(`[Seeder] ${message}`);\n    }\n  }\n\n  /**\n   * Seed resources using factories\n   * @param {Object} specs - Seed specifications { resourceName: count }\n   * @returns {Promise<Object>} Created resources by resource name\n   *\n   * @example\n   * const created = await seeder.seed({\n   *   users: 10,\n   *   posts: 50\n   * });\n   */\n  async seed(specs) {\n    const created = {};\n\n    for (const [resourceName, count] of Object.entries(specs)) {\n      this.log(`Seeding ${count} ${resourceName}...`);\n\n      const factory = Factory.get(resourceName);\n      if (!factory) {\n        throw new Error(`Factory for '${resourceName}' not found. Define it with Factory.define()`);\n      }\n\n      created[resourceName] = await factory.createMany(count, {}, { database: this.database });\n\n      this.log(`✅ Created ${count} ${resourceName}`);\n    }\n\n    return created;\n  }\n\n  /**\n   * Seed with custom callback\n   * @param {Function} callback - Seeding callback\n   * @returns {Promise<any>} Result of callback\n   *\n   * @example\n   * await seeder.call(async (db) => {\n   *   const user = await UserFactory.create();\n   *   const posts = await PostFactory.createMany(5, { userId: user.id });\n   *   return { user, posts };\n   * });\n   */\n  async call(callback) {\n    this.log('Running custom seeder...');\n    const result = await callback(this.database);\n    this.log('✅ Custom seeder completed');\n    return result;\n  }\n\n  /**\n   * Truncate resources (delete all data)\n   * @param {string[]} resourceNames - Resource names to truncate\n   * @returns {Promise<void>}\n   *\n   * @example\n   * await seeder.truncate(['users', 'posts']);\n   */\n  async truncate(resourceNames) {\n    for (const resourceName of resourceNames) {\n      this.log(`Truncating ${resourceName}...`);\n\n      const resource = this.database.resources[resourceName];\n      if (!resource) {\n        this.log(`⚠️  Resource '${resourceName}' not found, skipping`);\n        continue;\n      }\n\n      // List all IDs\n      const ids = await resource.listIds();\n\n      // Delete all\n      if (ids.length > 0) {\n        await resource.deleteMany(ids);\n        this.log(`✅ Deleted ${ids.length} ${resourceName}`);\n      } else {\n        this.log(`✅ ${resourceName} already empty`);\n      }\n    }\n  }\n\n  /**\n   * Truncate all resources\n   * @returns {Promise<void>}\n   */\n  async truncateAll() {\n    const resourceNames = Object.keys(this.database.resources);\n    await this.truncate(resourceNames);\n  }\n\n  /**\n   * Run multiple seeders in order\n   * @param {Function[]} seeders - Array of seeder functions\n   * @returns {Promise<Object[]>} Results of each seeder\n   *\n   * @example\n   * await seeder.run([\n   *   async (db) => await UserFactory.createMany(10),\n   *   async (db) => await PostFactory.createMany(50)\n   * ]);\n   */\n  async run(seeders) {\n    const results = [];\n\n    for (const seederFn of seeders) {\n      this.log(`Running seeder ${seederFn.name || 'anonymous'}...`);\n      const result = await seederFn(this.database);\n      results.push(result);\n      this.log(`✅ Completed ${seederFn.name || 'anonymous'}`);\n    }\n\n    return results;\n  }\n\n  /**\n   * Seed and return specific resources\n   * @param {Object} specs - Seed specifications\n   * @returns {Promise<Object>} Created resources\n   *\n   * @example\n   * const { users, posts } = await seeder.seedAndReturn({\n   *   users: 5,\n   *   posts: 10\n   * });\n   */\n  async seedAndReturn(specs) {\n    return await this.seed(specs);\n  }\n\n  /**\n   * Reset database (truncate all and reset sequences)\n   * @returns {Promise<void>}\n   */\n  async reset() {\n    this.log('Resetting database...');\n    await this.truncateAll();\n    Factory.resetSequences();\n    this.log('✅ Database reset complete');\n  }\n}\n\nexport default Seeder;\n","/**\n * Prometheus Formatter - Format s3db.js metrics to Prometheus text-based format\n *\n * Generates metrics in Prometheus exposition format:\n * https://prometheus.io/docs/instrumenting/exposition_formats/\n */\n\n/**\n * Sanitize label value for Prometheus\n * - Replace invalid characters with underscores\n * - Escape special characters\n * @param {string} value - Label value\n * @returns {string} Sanitized value\n */\nfunction sanitizeLabel(value) {\n  if (typeof value !== 'string') {\n    value = String(value);\n  }\n\n  // Escape backslashes and quotes\n  return value\n    .replace(/\\\\/g, '\\\\\\\\')\n    .replace(/\"/g, '\\\\\"')\n    .replace(/\\n/g, '\\\\n');\n}\n\n/**\n * Sanitize metric name for Prometheus\n * - Only alphanumeric and underscores allowed\n * - Must not start with digit\n * @param {string} name - Metric name\n * @returns {string} Sanitized name\n */\nfunction sanitizeMetricName(name) {\n  // Replace invalid characters with underscores\n  let sanitized = name.replace(/[^a-zA-Z0-9_]/g, '_');\n\n  // Ensure doesn't start with digit\n  if (/^\\d/.test(sanitized)) {\n    sanitized = '_' + sanitized;\n  }\n\n  return sanitized;\n}\n\n/**\n * Format labels for Prometheus metric line\n * @param {Object} labels - Label key-value pairs\n * @returns {string} Formatted labels string\n */\nfunction formatLabels(labels) {\n  if (!labels || Object.keys(labels).length === 0) {\n    return '';\n  }\n\n  const labelPairs = Object.entries(labels)\n    .map(([key, value]) => `${key}=\"${sanitizeLabel(value)}\"`)\n    .join(',');\n\n  return `{${labelPairs}}`;\n}\n\n/**\n * Format a single Prometheus metric\n * @param {string} name - Metric name\n * @param {string} type - Metric type (counter, gauge, histogram, summary)\n * @param {string} help - Help text\n * @param {Array<{labels: Object, value: number}>} values - Metric values with labels\n * @returns {string} Formatted metric lines\n */\nfunction formatMetric(name, type, help, values) {\n  const lines = [];\n\n  // HELP line\n  lines.push(`# HELP ${name} ${help}`);\n\n  // TYPE line\n  lines.push(`# TYPE ${name} ${type}`);\n\n  // Value lines\n  for (const { labels, value } of values) {\n    const labelsStr = formatLabels(labels);\n    lines.push(`${name}${labelsStr} ${value}`);\n  }\n\n  return lines.join('\\n');\n}\n\n/**\n * Format all metrics from MetricsPlugin to Prometheus format\n * @param {MetricsPlugin} metricsPlugin - Instance of MetricsPlugin\n * @returns {string} Complete Prometheus metrics text\n */\nexport function formatPrometheusMetrics(metricsPlugin) {\n  const lines = [];\n  const metrics = metricsPlugin.metrics;\n\n  // 1. Operations Total (counter)\n  const operationsTotalValues = [];\n\n  // Global operations\n  for (const [operation, data] of Object.entries(metrics.operations)) {\n    if (data.count > 0) {\n      operationsTotalValues.push({\n        labels: { operation, resource: '_global' },\n        value: data.count\n      });\n    }\n  }\n\n  // Resource-specific operations\n  for (const [resourceName, operations] of Object.entries(metrics.resources)) {\n    for (const [operation, data] of Object.entries(operations)) {\n      if (data.count > 0) {\n        operationsTotalValues.push({\n          labels: { operation, resource: sanitizeMetricName(resourceName) },\n          value: data.count\n        });\n      }\n    }\n  }\n\n  if (operationsTotalValues.length > 0) {\n    lines.push(formatMetric(\n      's3db_operations_total',\n      'counter',\n      'Total number of operations by type and resource',\n      operationsTotalValues\n    ));\n    lines.push('');\n  }\n\n  // 2. Operation Duration (gauge - average)\n  const durationValues = [];\n\n  // Global operations\n  for (const [operation, data] of Object.entries(metrics.operations)) {\n    if (data.count > 0) {\n      const avgSeconds = (data.totalTime / data.count) / 1000; // Convert ms to seconds\n      durationValues.push({\n        labels: { operation, resource: '_global' },\n        value: avgSeconds.toFixed(6)\n      });\n    }\n  }\n\n  // Resource-specific operations\n  for (const [resourceName, operations] of Object.entries(metrics.resources)) {\n    for (const [operation, data] of Object.entries(operations)) {\n      if (data.count > 0) {\n        const avgSeconds = (data.totalTime / data.count) / 1000; // Convert ms to seconds\n        durationValues.push({\n          labels: { operation, resource: sanitizeMetricName(resourceName) },\n          value: avgSeconds.toFixed(6)\n        });\n      }\n    }\n  }\n\n  if (durationValues.length > 0) {\n    lines.push(formatMetric(\n      's3db_operation_duration_seconds',\n      'gauge',\n      'Average operation duration in seconds',\n      durationValues\n    ));\n    lines.push('');\n  }\n\n  // 3. Operation Errors Total (counter)\n  const errorsValues = [];\n\n  // Global errors\n  for (const [operation, data] of Object.entries(metrics.operations)) {\n    if (data.errors > 0) {\n      errorsValues.push({\n        labels: { operation, resource: '_global' },\n        value: data.errors\n      });\n    }\n  }\n\n  // Resource-specific errors\n  for (const [resourceName, operations] of Object.entries(metrics.resources)) {\n    for (const [operation, data] of Object.entries(operations)) {\n      if (data.errors > 0) {\n        errorsValues.push({\n          labels: { operation, resource: sanitizeMetricName(resourceName) },\n          value: data.errors\n        });\n      }\n    }\n  }\n\n  if (errorsValues.length > 0) {\n    lines.push(formatMetric(\n      's3db_operation_errors_total',\n      'counter',\n      'Total number of operation errors',\n      errorsValues\n    ));\n    lines.push('');\n  }\n\n  // 4. Uptime (gauge)\n  const startTime = new Date(metrics.startTime);\n  const uptimeSeconds = (Date.now() - startTime.getTime()) / 1000;\n\n  lines.push(formatMetric(\n    's3db_uptime_seconds',\n    'gauge',\n    'Process uptime in seconds',\n    [{ labels: {}, value: uptimeSeconds.toFixed(2) }]\n  ));\n  lines.push('');\n\n  // 5. Resources Total (gauge)\n  const resourcesCount = Object.keys(metrics.resources).length;\n\n  lines.push(formatMetric(\n    's3db_resources_total',\n    'gauge',\n    'Total number of tracked resources',\n    [{ labels: {}, value: resourcesCount }]\n  ));\n  lines.push('');\n\n  // 6. Build Info (gauge - always 1)\n  const nodeVersion = process.version || 'unknown';\n  const s3dbVersion = '1.0.0'; // TODO: Get from package.json\n\n  lines.push(formatMetric(\n    's3db_info',\n    'gauge',\n    'Build and runtime information',\n    [{\n      labels: {\n        version: s3dbVersion,\n        node_version: nodeVersion\n      },\n      value: 1\n    }]\n  ));\n\n  // Join all lines with newline and ensure ends with newline\n  return lines.join('\\n') + '\\n';\n}\n\nexport default {\n  formatPrometheusMetrics,\n  formatMetric,\n  sanitizeLabel,\n  sanitizeMetricName,\n  formatLabels\n};\n","/**\n * Clustering Evaluation Metrics\n *\n * Provides multiple metrics for evaluating clustering quality\n * and determining optimal number of clusters (K).\n */\n\nimport { euclideanDistance } from './distances.js';\nimport { kmeans } from './kmeans.js';\n\n/**\n * Calculate Silhouette Score for clustering quality\n *\n * Measures how similar each point is to its own cluster compared to other clusters.\n *\n * Range: [-1, 1]\n * - Close to 1: Well clustered\n * - Close to 0: On border between clusters\n * - Negative: Likely in wrong cluster\n *\n * @param {number[][]} vectors - Input vectors\n * @param {number[]} assignments - Cluster assignments\n * @param {number[][]} centroids - Cluster centroids\n * @param {Function} distanceFn - Distance function\n * @returns {number} Average silhouette score\n */\nexport function silhouetteScore(vectors, assignments, centroids, distanceFn = euclideanDistance) {\n  const k = centroids.length;\n  const n = vectors.length;\n\n  // Group vectors by cluster\n  const clusters = Array(k).fill(null).map(() => []);\n  vectors.forEach((vector, i) => {\n    clusters[assignments[i]].push(i);\n  });\n\n  let totalScore = 0;\n  let validPoints = 0;\n\n  // Handle case where all points are in different clusters\n  if (clusters.every(c => c.length <= 1)) {\n    return 0;\n  }\n\n  for (let i = 0; i < n; i++) {\n    const clusterIdx = assignments[i];\n    const cluster = clusters[clusterIdx];\n\n    // Skip singleton clusters\n    if (cluster.length === 1) continue;\n\n    // a(i): Average distance to points in same cluster\n    let a = 0;\n    for (const j of cluster) {\n      if (i !== j) {\n        a += distanceFn(vectors[i], vectors[j]);\n      }\n    }\n    a /= (cluster.length - 1);\n\n    // b(i): Minimum average distance to points in other clusters\n    let b = Infinity;\n    for (let otherCluster = 0; otherCluster < k; otherCluster++) {\n      if (otherCluster === clusterIdx) continue;\n\n      const otherPoints = clusters[otherCluster];\n      if (otherPoints.length === 0) continue;\n\n      let avgDist = 0;\n      for (const j of otherPoints) {\n        avgDist += distanceFn(vectors[i], vectors[j]);\n      }\n      avgDist /= otherPoints.length;\n\n      b = Math.min(b, avgDist);\n    }\n\n    // If no other clusters exist (k=1), skip this point\n    if (b === Infinity) continue;\n\n    // Silhouette coefficient for point i\n    const maxAB = Math.max(a, b);\n    const s = maxAB === 0 ? 0 : (b - a) / maxAB;\n    totalScore += s;\n    validPoints++;\n  }\n\n  return validPoints > 0 ? totalScore / validPoints : 0;\n}\n\n/**\n * Calculate Davies-Bouldin Index\n *\n * Measures average similarity between each cluster and its most similar cluster.\n * Lower is better (minimum 0).\n *\n * @param {number[][]} vectors - Input vectors\n * @param {number[]} assignments - Cluster assignments\n * @param {number[][]} centroids - Cluster centroids\n * @param {Function} distanceFn - Distance function\n * @returns {number} Davies-Bouldin index\n */\nexport function daviesBouldinIndex(vectors, assignments, centroids, distanceFn = euclideanDistance) {\n  const k = centroids.length;\n\n  // Calculate average distance from points to their centroid (cluster scatter)\n  const scatters = new Array(k).fill(0);\n  const clusterCounts = new Array(k).fill(0);\n\n  vectors.forEach((vector, i) => {\n    const cluster = assignments[i];\n    scatters[cluster] += distanceFn(vector, centroids[cluster]);\n    clusterCounts[cluster]++;\n  });\n\n  for (let i = 0; i < k; i++) {\n    if (clusterCounts[i] > 0) {\n      scatters[i] /= clusterCounts[i];\n    }\n  }\n\n  // Calculate Davies-Bouldin index\n  let dbIndex = 0;\n  let validClusters = 0;\n\n  for (let i = 0; i < k; i++) {\n    if (clusterCounts[i] === 0) continue;\n\n    let maxRatio = 0;\n    for (let j = 0; j < k; j++) {\n      if (i === j || clusterCounts[j] === 0) continue;\n\n      const centroidDist = distanceFn(centroids[i], centroids[j]);\n      if (centroidDist === 0) continue;\n\n      const ratio = (scatters[i] + scatters[j]) / centroidDist;\n      maxRatio = Math.max(maxRatio, ratio);\n    }\n\n    dbIndex += maxRatio;\n    validClusters++;\n  }\n\n  return validClusters > 0 ? dbIndex / validClusters : 0;\n}\n\n/**\n * Calculate Calinski-Harabasz Index (Variance Ratio Criterion)\n *\n * Ratio of between-cluster dispersion to within-cluster dispersion.\n * Higher is better.\n *\n * @param {number[][]} vectors - Input vectors\n * @param {number[]} assignments - Cluster assignments\n * @param {number[][]} centroids - Cluster centroids\n * @param {Function} distanceFn - Distance function\n * @returns {number} Calinski-Harabasz index\n */\nexport function calinskiHarabaszIndex(vectors, assignments, centroids, distanceFn = euclideanDistance) {\n  const n = vectors.length;\n  const k = centroids.length;\n\n  if (k === 1 || k === n) return 0;\n\n  // Calculate overall centroid\n  const dimensions = vectors[0].length;\n  const overallCentroid = new Array(dimensions).fill(0);\n\n  vectors.forEach(vector => {\n    vector.forEach((val, dim) => {\n      overallCentroid[dim] += val;\n    });\n  });\n\n  overallCentroid.forEach((val, dim, arr) => {\n    arr[dim] = val / n;\n  });\n\n  // Calculate between-cluster dispersion (BGSS)\n  const clusterCounts = new Array(k).fill(0);\n  vectors.forEach((vector, i) => {\n    clusterCounts[assignments[i]]++;\n  });\n\n  let bgss = 0;\n  for (let i = 0; i < k; i++) {\n    if (clusterCounts[i] === 0) continue;\n    const dist = distanceFn(centroids[i], overallCentroid);\n    bgss += clusterCounts[i] * dist * dist;\n  }\n\n  // Calculate within-cluster dispersion (WCSS)\n  let wcss = 0;\n  vectors.forEach((vector, i) => {\n    const cluster = assignments[i];\n    const dist = distanceFn(vector, centroids[cluster]);\n    wcss += dist * dist;\n  });\n\n  if (wcss === 0) return 0;\n\n  // Calinski-Harabasz index\n  return (bgss / (k - 1)) / (wcss / (n - k));\n}\n\n/**\n * Calculate Gap Statistic\n *\n * Compares clustering to random uniform distribution.\n * Higher gap indicates better clustering.\n *\n * @param {number[][]} vectors - Input vectors\n * @param {number[]} assignments - Cluster assignments\n * @param {number[][]} centroids - Cluster centroids\n * @param {Function} distanceFn - Distance function\n * @param {number} nReferences - Number of reference datasets\n * @returns {Promise<Object>} Gap statistic results\n */\nexport async function gapStatistic(vectors, assignments, centroids, distanceFn = euclideanDistance, nReferences = 10) {\n  const n = vectors.length;\n  const k = centroids.length;\n  const dimensions = vectors[0].length;\n\n  // Calculate within-cluster dispersion for actual data\n  let wk = 0;\n  vectors.forEach((vector, i) => {\n    const dist = distanceFn(vector, centroids[assignments[i]]);\n    wk += dist * dist;\n  });\n  wk = Math.log(wk + 1e-10); // Add small value to avoid log(0)\n\n  // Generate reference datasets and calculate their dispersions\n  const referenceWks = [];\n\n  // Find min/max for each dimension to create uniform distribution\n  const mins = new Array(dimensions).fill(Infinity);\n  const maxs = new Array(dimensions).fill(-Infinity);\n\n  vectors.forEach(vector => {\n    vector.forEach((val, dim) => {\n      mins[dim] = Math.min(mins[dim], val);\n      maxs[dim] = Math.max(maxs[dim], val);\n    });\n  });\n\n  // Generate reference datasets\n  for (let ref = 0; ref < nReferences; ref++) {\n    const refVectors = [];\n\n    for (let i = 0; i < n; i++) {\n      const refVector = new Array(dimensions);\n      for (let dim = 0; dim < dimensions; dim++) {\n        refVector[dim] = mins[dim] + Math.random() * (maxs[dim] - mins[dim]);\n      }\n      refVectors.push(refVector);\n    }\n\n    // Cluster reference data\n    const refResult = kmeans(refVectors, k, { maxIterations: 50, distanceFn });\n\n    let refWk = 0;\n    refVectors.forEach((vector, i) => {\n      const dist = distanceFn(vector, refResult.centroids[refResult.assignments[i]]);\n      refWk += dist * dist;\n    });\n    referenceWks.push(Math.log(refWk + 1e-10));\n  }\n\n  // Calculate gap statistic\n  const expectedWk = referenceWks.reduce((a, b) => a + b, 0) / nReferences;\n  const gap = expectedWk - wk;\n\n  // Calculate standard deviation\n  const sdk = Math.sqrt(\n    referenceWks.reduce((sum, wk) => sum + Math.pow(wk - expectedWk, 2), 0) / nReferences\n  );\n  const sk = sdk * Math.sqrt(1 + 1 / nReferences);\n\n  return { gap, sk, expectedWk, actualWk: wk };\n}\n\n/**\n * Analyze clustering stability across multiple runs\n *\n * Higher stability (lower variance) indicates better K.\n *\n * @param {number[][]} vectors - Input vectors\n * @param {number} k - Number of clusters\n * @param {Object} options - Configuration options\n * @returns {Object} Stability metrics\n */\nexport function clusteringStability(vectors, k, options = {}) {\n  const {\n    nRuns = 10,\n    distanceFn = euclideanDistance,\n    ...kmeansOptions\n  } = options;\n\n  const inertias = [];\n  const allAssignments = [];\n\n  // Run k-means multiple times with different initializations\n  for (let run = 0; run < nRuns; run++) {\n    const result = kmeans(vectors, k, {\n      ...kmeansOptions,\n      distanceFn,\n      seed: run // Different seed for each run\n    });\n\n    inertias.push(result.inertia);\n    allAssignments.push(result.assignments);\n  }\n\n  // Calculate pairwise assignment similarity\n  const assignmentSimilarities = [];\n  for (let i = 0; i < nRuns - 1; i++) {\n    for (let j = i + 1; j < nRuns; j++) {\n      const similarity = calculateAssignmentSimilarity(allAssignments[i], allAssignments[j]);\n      assignmentSimilarities.push(similarity);\n    }\n  }\n\n  // Calculate statistics\n  const avgInertia = inertias.reduce((a, b) => a + b, 0) / nRuns;\n  const stdInertia = Math.sqrt(\n    inertias.reduce((sum, val) => sum + Math.pow(val - avgInertia, 2), 0) / nRuns\n  );\n\n  const avgSimilarity = assignmentSimilarities.length > 0\n    ? assignmentSimilarities.reduce((a, b) => a + b, 0) / assignmentSimilarities.length\n    : 1;\n\n  return {\n    avgInertia,\n    stdInertia,\n    cvInertia: avgInertia !== 0 ? stdInertia / avgInertia : 0, // Coefficient of variation\n    avgSimilarity,\n    stability: avgSimilarity // Higher is more stable\n  };\n}\n\n/**\n * Calculate similarity between two assignment arrays\n *\n * Returns value between 0 and 1 indicating how often\n * pairs of points are assigned to same cluster in both assignments.\n *\n * @param {number[]} assignments1 - First assignment array\n * @param {number[]} assignments2 - Second assignment array\n * @returns {number} Similarity score [0, 1]\n */\nfunction calculateAssignmentSimilarity(assignments1, assignments2) {\n  const n = assignments1.length;\n  let matches = 0;\n\n  // Count how many pairs of points are clustered together in both assignments\n  for (let i = 0; i < n; i++) {\n    for (let j = i + 1; j < n; j++) {\n      const sameCluster1 = assignments1[i] === assignments1[j];\n      const sameCluster2 = assignments2[i] === assignments2[j];\n      if (sameCluster1 === sameCluster2) {\n        matches++;\n      }\n    }\n  }\n\n  const totalPairs = (n * (n - 1)) / 2;\n  return totalPairs > 0 ? matches / totalPairs : 1;\n}\n"],"names":["crypto","result","ok","err","wrapper","error","formatError","formatter.list","response","formatter.notFound","formatter.success","formatter.created","formatter.noContent","version","config","formatter.payloadTooLarge","formatter.error","path","os","rmdir","fieldPlugin","recordOk","recordErr","record","currentValue","totalCount","junctionResource","table","errors","key","HttpAgent","HttpsAgent","keys","toBase62","fromBase62","handleInsert","handleUpdate","handleUpsert","handleGet","defaultIdGenerator","id","content","filtered","normalizeResourceName","next","regExpEscape","qmark","star","defaultPlatform","EventEmitter","rps","readdirCB","readdir","normalize","dotProduct","magnitude","inertia","wk"],"mappings":"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","x_google_ignoreList":[97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114]}